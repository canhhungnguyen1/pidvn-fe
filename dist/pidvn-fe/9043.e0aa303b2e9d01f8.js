"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[9043],{9043:(Qe,z,l)=>{l.r(z),l.d(z,{PihInventoryModule:()=>Ie});var _=l(60177),p=l(89417),D=l(33514),y=l(12673),I=l(85724),B=l(9637),F=l(87018),b=l(50513),S=l(58960),C=l(97529),T=l(72544),f=l(21011),m=l(43053),j=l(72874),E=l(33190),A=l(1997),O=l(97685),u=l(23359),R=l(9541),k=l(82358),g=l(46661),t=l(54438);let $=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-pih-inv-menu"]],decls:8,vars:1,consts:[["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","12","nzMd","12","nzLg","6"],["routerLink","/admin/pih/pih-inventory/request",1,"item","wip-ivt"],["src","./../../../../../../assets/images/warehouse.png","alt",""]],template:function(o,n){1&o&&(t.j41(0,"div",0)(1,"div",1)(2,"div",2),t.nrm(3,"img",3),t.j41(4,"h6"),t.EFF(5,"Ki\u1ec3m k\xea"),t.k0s(),t.j41(6,"h4"),t.EFF(7,"Inventory"),t.k0s()()()()),2&o&&t.Y8G("nzGutter",8)},dependencies:[g.Wk,C.Uq,C.e],styles:[".item[_ngcontent-%COMP%]{text-align:center;border:1px solid #ccc;padding:15px 10px}.item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#fff}.item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:15px;font-size:18px;color:#fff;font-weight:700}.wip-ivt[_ngcontent-%COMP%]{background:#9f756f}"]})}return i})();var J=l(86372),w=l(45794),M=l(37736),P=l(45312),U=l(21626);let N=(()=>{class i{constructor(e){this.httpClient=e,this.baseUrl=P.c.baseUrl}getInventoryArea(){return this.httpClient.get(`${this.baseUrl}/PIH/Inventory/InventoryArea`)}getInventoryRequests(){return this.httpClient.get(`${this.baseUrl}/PIH/Inventory/Requests`)}getInventoryRequestById(e){return this.httpClient.get(`${this.baseUrl}/PIH/Inventory/Request/${e}`)}createInventoryRequest(e){return this.httpClient.post(`${this.baseUrl}/PIH/Inventory/Request`,e)}saveListInventoryData(e,o,n,a){return this.httpClient.post(`${this.baseUrl}/PIH/Inventory/SaveListInventoryData?requestId=${o}&inventoryArea=${n}&goodsType=${a}`,e)}saveInventoryData(e){return this.httpClient.post(`${this.baseUrl}/PIH/Inventory/InventoryData`,e)}getInventoryData(e){return this.httpClient.get(`${this.baseUrl}/PIH/Inventory/InventoryData?requestId=${e}`)}scanLabel(e){return this.httpClient.get(`${this.baseUrl}/PIH/Inventory/ScanLabel?lotNo=${e}`)}balance(e,o){return this.httpClient.get(`${this.baseUrl}/PIH/Inventory/Balance?requestId=${e}&inventoryArea=${o}`)}getRawMaterialInventoryData(e){return this.httpClient.get(`${this.baseUrl}/PIH/Inventory/RawMaterialInventoryData?requestId=${e}`)}downloadTemplateUploadRawMaterialInventory(){return this.httpClient.post(`${this.baseUrl}/PIH/Inventory/DownloadTemplateUploadRawMaterialInventory`,{},{responseType:"blob"})}static#t=this.\u0275fac=function(o){return new(o||i)(t.KVO(U.Qq))};static#e=this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var q=l(27380),d=l(31837),G=l(16389),L=l(25930);const Y=()=>[10,25,50,100],H=()=>[""];function X(i,c){if(1&i){const e=t.RV6();t.j41(0,"div",23)(1,"a",24),t.bIt("click",function(){const n=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.redirectDetail(n))}),t.EFF(2,"Chi ti\u1ebft"),t.k0s()()}}function Q(i,c){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"nz-table",25,1)(3,"tbody")(4,"tr")(5,"td")(6,"label"),t.EFF(7,"Phi\u1ebfu ki\u1ec3m k\xea"),t.k0s()(),t.j41(8,"td"),t.EFF(9),t.k0s()(),t.j41(10,"tr")(11,"td")(12,"label"),t.EFF(13,"Ng\u01b0\u1eddi t\u1ea1o"),t.k0s()(),t.j41(14,"td"),t.EFF(15),t.k0s()(),t.j41(16,"tr")(17,"td")(18,"label"),t.EFF(19,"Lo\u1ea1i ki\u1ec3m k\xea"),t.k0s(),t.j41(20,"span",26),t.EFF(21,"*"),t.k0s()(),t.j41(22,"td")(23,"nz-radio-group",27),t.mxI("ngModelChange",function(n){t.eBV(e);const a=t.XpG();return t.DH7(a.inventoryType,n)||(a.inventoryType=n),t.Njj(n)}),t.j41(24,"label",28),t.EFF(25,"Tu\u1ea7n"),t.k0s(),t.j41(26,"label",29),t.EFF(27,"Th\xe1ng"),t.k0s()()()(),t.j41(28,"tr")(29,"td")(30,"label"),t.EFF(31,"Ng\xe0y ch\u1ed1t ki\u1ec3m k\xea"),t.k0s(),t.j41(32,"span",26),t.EFF(33,"*"),t.k0s()(),t.j41(34,"td")(35,"nz-date-picker",30),t.mxI("ngModelChange",function(n){t.eBV(e);const a=t.XpG();return t.DH7(a.inventoryCloseDate,n)||(a.inventoryCloseDate=n),t.Njj(n)}),t.k0s()()(),t.j41(36,"tr")(37,"td")(38,"label"),t.EFF(39,"Ng\xe0y t\xednh data l\xfd thuy\u1ebft"),t.k0s()(),t.j41(40,"td")(41,"nz-date-picker",31),t.mxI("ngModelChange",function(n){t.eBV(e);const a=t.XpG();return t.DH7(a.calculateTheoryDataDate,n)||(a.calculateTheoryDataDate=n),t.Njj(n)}),t.k0s()()(),t.j41(42,"tr")(43,"td")(44,"label"),t.EFF(45,"Ghi ch\xfa"),t.k0s()(),t.j41(46,"td")(47,"textarea",32),t.mxI("ngModelChange",function(n){t.eBV(e);const a=t.XpG();return t.DH7(a.remark,n)||(a.remark=n),t.Njj(n)}),t.k0s()()()()(),t.bVm()}if(2&i){const e=t.XpG();t.R7$(),t.Y8G("nzData",t.lJ4(10,H))("nzSize","small"),t.R7$(8),t.JRh(e.ivtReq),t.R7$(6),t.Lme("",e.jwt.FullName," - ",e.jwt.Username,""),t.R7$(8),t.R50("ngModel",e.inventoryType),t.R7$(12),t.Y8G("nzDisabledDate",e.disabledDate),t.R50("ngModel",e.inventoryCloseDate),t.R7$(6),t.R50("ngModel",e.calculateTheoryDataDate),t.R7$(6),t.R50("ngModel",e.remark)}}function W(i,c){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"button",33),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.closeCreateRequestInventoryModal())}),t.EFF(2," H\u1ee7y "),t.k0s(),t.j41(3,"button",34),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.createInventoryRequest())}),t.EFF(4," T\u1ea1o "),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(3),t.Y8G("nzLoading",e.isLoading)}}let K=(()=>{class i{constructor(e,o,n,a){this.toastr=e,this.jwtHelperSvc=o,this.pihInventorySvc=n,this.router=a,this.userLogin={username:"",fullName:""},this.isOpenCreateRequestInventoryModal=!1,this.isLoading=!1,this.today=new Date,this.disabledDate=s=>(0,J.A)(s,this.today)<0}ngOnInit(){this.jwt=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()),this.getInventoryRequests()}openCreateRequestInventoryModal(){console.log(this.jwt.Username);let e=(new Date).toJSON().slice(0,10).replace(/-/g,"");this.ivtReq=`IVT-${e}`,this.isOpenCreateRequestInventoryModal=!0}closeCreateRequestInventoryModal(){this.isOpenCreateRequestInventoryModal=!1,this.remark=null}createInventoryRequest(){let e={reqNo:this.ivtReq,createdBy:this.jwt.Username,remark:this.remark,calculateTheoryDataDate:this.calculateTheoryDataDate,inventoryCloseDate:this.inventoryCloseDate,inventoryType:this.inventoryType},o=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).FullName.split(" ").reverse()[0];e.inventoryType&&e.inventoryCloseDate?(this.isLoading=!0,this.pihInventorySvc.createInventoryRequest(e).subscribe(n=>{this.isOpenCreateRequestInventoryModal=!1,this.isLoading=!1,this.getInventoryRequests()},n=>{this.isLoading=!1})):this.toastr.warning("C\u1ea7n nh\u1eadp c\xe1c tr\u01b0\u1eddng b\u1eaft bu\u1ed9c nh\xe9",`B\u1ea1n ${o} \u01a1i!`)}getInventoryRequests(){this.pihInventorySvc.getInventoryRequests().subscribe(e=>{this.inventoryRequests=e})}redirectDetail(e){console.log(e.data),this.router.navigate(["admin/pih/pih-inventory/request",`${e.data.id}`],{queryParams:{reqNo:e.data.reqNo}})}static#t=this.\u0275fac=function(o){return new(o||i)(t.rXU(w.tw),t.rXU(M.X7),t.rXU(N),t.rXU(g.Ix))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-pih-inv-request"]],decls:24,vars:23,consts:[["columnChooser",""],["ivtCreateTable",""],["keyExpr","id",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"enabled","mode","title"],["location","before"],["icon","plus","type","default","text","T\u1ea1o phi\u1ebfu ki\u1ec3m k\xea",3,"onClick"],["name","columnChooserButton","location","after"],[3,"pageSize"],[3,"visible"],["dataField","reqNo","caption","Request No"],["dataField","date","dataType","date","caption","Ng\xe0y ki\u1ec3m k\xea","format","yyyy-MM-dd"],["dataField","calculateTheoryDataDate","dataType","date","format","yyyy-MM-dd HH:mm:ss","caption","Ng\xe0y t\xednh data l\xfd thuy\u1ebft",3,"visible"],["dataField","inventoryCloseDate","dataType","date","format","yyyy-MM-dd","caption","Ng\xe0y ch\u1ed1t ki\u1ec3m k\xea",3,"visible"],["dataField","inventoryType","caption","Type"],["dataField","createdBy","caption","Ng\u01b0\u1eddi t\u1ea1o (ID)",3,"visible"],["dataField","createdByName","caption","Ng\u01b0\u1eddi t\u1ea1o",3,"visible"],["dataField","remark","caption","Ghi ch\xfa"],["caption","Action","cellTemplate","actionTemplate","alignment","center","fixedPosition","left",3,"fixed"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],[3,"showPageSizeSelector","allowedPageSizes"],["nzTitle","T\u1ea1o phi\u1ebfu ki\u1ec3m k\xea",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],[2,"text-align","center"],[2,"color","blue",3,"click"],["id","ivtCreateTable","nzBordered","","nzFrontPagination","false",3,"nzData","nzSize"],[2,"color","red"],[3,"ngModelChange","ngModel"],["nz-radio","","nzValue","week"],["nz-radio","","nzValue","month"],[2,"width","100%",3,"ngModelChange","nzDisabledDate","ngModel"],["nzShowTime","","nzFormat","yyyy-MM-dd HH:mm:ss",2,"width","100%",3,"ngModelChange","ngModel"],["rows","2","nz-input","",3,"ngModelChange","ngModel"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click","nzLoading"]],template:function(o,n){if(1&o){const a=t.RV6();t.j41(0,"dx-data-grid",2),t.nrm(1,"dxo-column-chooser",3,0),t.j41(3,"dxo-toolbar")(4,"dxi-item",4)(5,"dx-button",5),t.bIt("onClick",function(){return t.eBV(a),t.Njj(n.openCreateRequestInventoryModal())}),t.k0s()(),t.nrm(6,"dxi-item",6),t.k0s(),t.nrm(7,"dxo-paging",7)(8,"dxo-filter-row",8)(9,"dxi-column",9)(10,"dxi-column",10)(11,"dxi-column",11)(12,"dxi-column",12)(13,"dxi-column",13)(14,"dxi-column",14)(15,"dxi-column",15)(16,"dxi-column",16),t.j41(17,"dxi-column",17),t.DNE(18,X,3,0,"div",18),t.k0s(),t.nrm(19,"dxo-paging",7)(20,"dxo-pager",19),t.k0s(),t.j41(21,"nz-modal",20),t.mxI("nzVisibleChange",function(r){return t.eBV(a),t.DH7(n.isOpenCreateRequestInventoryModal,r)||(n.isOpenCreateRequestInventoryModal=r),t.Njj(r)}),t.DNE(22,Q,48,11,"ng-container",21)(23,W,5,1,"div",22),t.k0s()}2&o&&(t.Y8G("dataSource",n.inventoryRequests)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),t.R7$(),t.Y8G("enabled",!0)("mode","select")("title","C\u1ed9t hi\u1ec3n th\u1ecb"),t.R7$(6),t.Y8G("pageSize",10),t.R7$(),t.Y8G("visible",!0),t.R7$(3),t.Y8G("visible",!1),t.R7$(),t.Y8G("visible",!1),t.R7$(2),t.Y8G("visible",!1),t.R7$(),t.Y8G("visible",!0),t.R7$(2),t.Y8G("fixed",!0),t.R7$(),t.Y8G("dxTemplateOf","actionTemplate"),t.R7$(),t.Y8G("pageSize",10),t.R7$(),t.Y8G("showPageSizeSelector",!0)("allowedPageSizes",t.lJ4(22,Y)),t.R7$(),t.R50("nzVisible",n.isOpenCreateRequestInventoryModal))},dependencies:[D.e,q.eC,y.s,d.i2Q,d.nj_,d.CVf,d.FTx,d.sVQ,d.PVd,d.KOr,b.aO,G.c,L.p,m.F2,m.Oj,m.A9,u.CP,u.SO,u.aj,u.kt,f.Sy,p.me,p.BC,p.vS,S.SN,E.lx,E.i3],styles:["#ivtCreateTable[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}"]})}return i})();var Z=l(71451),tt=l(92887),et=l(2578);const nt=["labelIpt"],ot=["importQtyIpt"],at=["labelTable"],v=()=>[""],V=()=>[10,25,50,100],it=()=>({id:"CX",name:"H\xe0ng ch\u1edd xu\u1ea5t"}),lt=()=>({id:"CXN",name:"H\xe0ng ch\u1edd x\xe1c nh\u1eadn"}),rt=()=>({id:"CST",name:"H\xe0ng ch\u1edd sorting"}),st=()=>({id:"CST",name:"H\xe0ng WH tr\u1ea3 v\u1ec1"}),ct=()=>({id:"NG",name:"H\xe0ng NG"}),dt=()=>({id:"RM",name:"NVL th\xf4"}),ut=()=>({id:"TC",name:"NVL th\xf4 - t\xe1i ch\u1ebf"}),ht=()=>({id:"PIH_WH",name:"NVL OK"}),pt=()=>({id:"PIH_WH_SP",name:"NVL ch\u1edd x\u1eed l\xfd"}),mt=(i,c,e,o,n,a,s,r,h)=>[i,c,e,o,n,a,s,r,h],gt=()=>({id:"01",name:"01"}),vt=()=>({id:"02",name:"02"}),_t=()=>({id:"03",name:"03"}),yt=()=>({id:"04",name:"04"}),It=()=>({id:"05",name:"05"}),bt=()=>({id:"06",name:"06"}),Ct=()=>({id:"07",name:"07"}),ft=()=>({id:"08",name:"08"}),Et=()=>({id:"09",name:"09"}),Rt=()=>({id:"10",name:"10"}),xt=()=>({id:"11",name:"11"}),zt=()=>({id:"12",name:"12"}),Dt=()=>({id:"13",name:"13"}),Ft=()=>({id:"14",name:"14"}),St=()=>({id:"15",name:"15"}),Tt=()=>({id:"16",name:"16"}),jt=()=>({id:"17",name:"17"}),kt=()=>({id:"18",name:"18"}),wt=()=>({id:"19",name:"19"}),Mt=()=>({id:"20",name:"20"}),Pt=()=>({id:"21",name:"21"}),Nt=()=>({id:"22",name:"22"}),qt=()=>({id:"23",name:"23"}),Gt=()=>({id:"24",name:"24"}),Lt=()=>({id:"25",name:"25"}),Vt=()=>({id:"26",name:"26"}),Bt=()=>({id:"27",name:"27"}),At=()=>({id:"28",name:"28"}),Ot=()=>({id:"29",name:"29"}),$t=()=>({id:"30",name:"30"}),Jt=()=>({id:"31",name:"31"}),Ut=()=>({id:"32",name:"32"}),Yt=()=>({id:"33",name:"33"}),Ht=()=>({id:"34",name:"34"}),Xt=()=>({id:"35",name:"35"}),Qt=()=>({id:"36",name:"36"}),Wt=()=>({id:"37",name:"37"}),Kt=()=>({id:"38",name:"38"}),Zt=()=>({id:"39",name:"39"}),te=()=>({id:"40",name:"40"}),ee=(i,c,e,o,n,a,s,r,h,x,be,Ce,fe,Ee,Re,xe,ze,De,Fe,Se,Te,je,ke,we,Me,Pe,Ne,qe,Ge,Le,Ve,Be,Ae,Oe,$e,Je,Ue,Ye,He,Xe)=>[i,c,e,o,n,a,s,r,h,x,be,Ce,fe,Ee,Re,xe,ze,De,Fe,Se,Te,je,ke,we,Me,Pe,Ne,qe,Ge,Le,Ve,Be,Ae,Oe,$e,Je,Ue,Ye,He,Xe],ne=()=>({y:"240px"}),oe=()=>({authorization:"authorization-text"}),ae=()=>({showPreviewIcon:!1,showRemoveIcon:!1,showDownloadIcon:!1});function ie(i,c){if(1&i){const e=t.RV6();t.j41(0,"div",46)(1,"a",47),t.bIt("click",function(){const n=t.eBV(e).$implicit,a=t.XpG();return t.Njj(a.openEditQtyModal(n))}),t.EFF(2,"S\u1eeda"),t.k0s()()}}function le(i,c){if(1&i&&(t.j41(0,"tbody")(1,"tr")(2,"td",63)(3,"div",64)(4,"span"),t.EFF(5),t.k0s()()()()()),2&i){const e=t.XpG(2);t.R7$(5),t.JRh(e.errMsg)}}function re(i,c){if(1&i){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"label"),t.EFF(3),t.k0s()(),t.j41(4,"td")(5,"label"),t.EFF(6),t.k0s()(),t.j41(7,"td",65)(8,"div",66),t.bIt("click",function(){const n=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.startEdit(n))}),t.EFF(9),t.nI1(10,"number"),t.k0s(),t.j41(11,"input",67,3),t.mxI("ngModelChange",function(n){const a=t.eBV(e).$implicit;return t.DH7(a.qty,n)||(a.qty=n),t.Njj(n)}),t.bIt("blur",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.stopEdit())}),t.k0s()(),t.j41(13,"td",68),t.bIt("nzOnConfirm",function(){const n=t.eBV(e).$implicit,a=t.XpG(2);return t.Njj(a.deleteLabelScanned(n))}),t.j41(14,"a",69),t.EFF(15,"X\xf3a"),t.k0s()()()}if(2&i){const e=c.$implicit,o=t.XpG(2);t.R7$(3),t.JRh(e.partNo),t.R7$(3),t.JRh(e.lotNo),t.R7$(2),t.Y8G("hidden",o.lotNoEdit===e.lotNo),t.R7$(),t.SpI(" ",t.i5U(10,6,e.qty,"1.0-3")," "),t.R7$(2),t.Y8G("hidden",o.lotNoEdit!==e.lotNo),t.R50("ngModel",e.qty)}}function se(i,c){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"nz-table",48)(2,"thead")(3,"tr")(4,"th")(5,"dx-select-box",49),t.mxI("valueChange",function(n){t.eBV(e);const a=t.XpG();return t.DH7(a.inventoryArea,n)||(a.inventoryArea=n),t.Njj(n)}),t.bIt("ngModelChange",function(n){t.eBV(e);const a=t.XpG();return t.Njj(a.onChangeArea(n))}),t.k0s()(),t.j41(6,"th")(7,"dx-select-box",50),t.mxI("valueChange",function(n){t.eBV(e);const a=t.XpG();return t.DH7(a.goodsType,n)||(a.goodsType=n),t.Njj(n)}),t.bIt("onValueChanged",function(n){t.eBV(e);const a=t.XpG();return t.Njj(a.onChangeGoodsType(n))}),t.k0s()(),t.j41(8,"th")(9,"dx-select-box",51),t.mxI("valueChange",function(n){t.eBV(e);const a=t.XpG();return t.DH7(a.materialTruck,n)||(a.materialTruck=n),t.Njj(n)}),t.bIt("onValueChanged",function(n){t.eBV(e);const a=t.XpG();return t.Njj(a.onChangeMaterialTruck(n))}),t.k0s()(),t.j41(10,"th")(11,"input",52,1),t.bIt("keydown.enter",function(n){t.eBV(e);const a=t.XpG();return t.Njj(a.scanLabel(n))})("click",function(){t.eBV(e);const n=t.sdS(12);return t.Njj(n.select())}),t.k0s()()()(),t.DNE(13,le,6,1,"tbody",53),t.k0s(),t.j41(14,"div",54)(15,"div",55)(16,"label",56),t.EFF(17,"S\u1ed1 box \u0111\xe3 scan: "),t.j41(18,"span",57),t.EFF(19),t.k0s(),t.EFF(20," (boxes)"),t.k0s(),t.j41(21,"label",58),t.EFF(22,"Qty : "),t.j41(23,"span",57),t.EFF(24),t.nI1(25,"number"),t.k0s()()()(),t.j41(26,"nz-table",59,2)(28,"thead")(29,"tr")(30,"th",60),t.EFF(31,"Part No"),t.k0s(),t.j41(32,"th"),t.EFF(33,"LotNo / Outer Lot"),t.k0s(),t.j41(34,"th",60),t.EFF(35,"Qty (T\u1ed3n)"),t.k0s(),t.j41(36,"th",61),t.EFF(37,"Action"),t.k0s()()(),t.j41(38,"tbody"),t.DNE(39,re,16,9,"tr",62),t.k0s()(),t.bVm()}if(2&i){const e=t.sdS(27),o=t.XpG();t.R7$(),t.Y8G("nzData",t.lJ4(22,v)),t.R7$(4),t.Y8G("searchEnabled",!0)("labelMode","static")("dataSource",o.inventoryAreaList),t.R50("value",o.inventoryArea),t.R7$(2),t.Y8G("searchEnabled",!0)("labelMode","static")("dataSource",t.zJS(32,mt,[t.lJ4(23,it),t.lJ4(24,lt),t.lJ4(25,rt),t.lJ4(26,st),t.lJ4(27,ct),t.lJ4(28,dt),t.lJ4(29,ut),t.lJ4(30,ht),t.lJ4(31,pt)])),t.R50("value",o.goodsType),t.R7$(2),t.Y8G("searchEnabled",!0)("labelMode","static")("dataSource",t.zJS(82,ee,[t.lJ4(42,gt),t.lJ4(43,vt),t.lJ4(44,_t),t.lJ4(45,yt),t.lJ4(46,It),t.lJ4(47,bt),t.lJ4(48,Ct),t.lJ4(49,ft),t.lJ4(50,Et),t.lJ4(51,Rt),t.lJ4(52,xt),t.lJ4(53,zt),t.lJ4(54,Dt),t.lJ4(55,Ft),t.lJ4(56,St),t.lJ4(57,Tt),t.lJ4(58,jt),t.lJ4(59,kt),t.lJ4(60,wt),t.lJ4(61,Mt),t.lJ4(62,Pt),t.lJ4(63,Nt),t.lJ4(64,qt),t.lJ4(65,Gt),t.lJ4(66,Lt),t.lJ4(67,Vt),t.lJ4(68,Bt),t.lJ4(69,At),t.lJ4(70,Ot),t.lJ4(71,$t),t.lJ4(72,Jt),t.lJ4(73,Ut),t.lJ4(74,Yt),t.lJ4(75,Ht),t.lJ4(76,Xt),t.lJ4(77,Qt),t.lJ4(78,Wt),t.lJ4(79,Kt),t.lJ4(80,Zt),t.lJ4(81,te)])),t.R50("value",o.materialTruck),t.R7$(4),t.Y8G("ngIf",o.errMsg),t.R7$(6),t.JRh(o.listLotsScanned.length),t.R7$(5),t.JRh(t.i5U(25,19,o.totalQtyScanned,"1.0-3")),t.R7$(2),t.Y8G("nzData",o.listLotsScanned)("nzScroll",t.lJ4(123,ne)),t.R7$(13),t.Y8G("ngForOf",e.data)}}function ce(i,c){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"button",70),t.bIt("nzOnConfirm",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.closeScanInventoryModal())}),t.EFF(2," \u0110\xf3ng "),t.k0s(),t.j41(3,"button",71),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.saveListInventoryData())}),t.EFF(4," L\u01b0u d\u1eef li\u1ec7u "),t.k0s()()}if(2&i){const e=t.XpG();t.R7$(3),t.Y8G("nzLoading",e.isLoadingSaveInventoryData)}}function de(i,c){if(1&i&&(t.j41(0,"li")(1,"span",74),t.EFF(2),t.k0s()()),2&i){const e=c.$implicit;t.R7$(2),t.JRh(e.lotNo)}}function ue(i,c){if(1&i&&(t.j41(0,"li")(1,"span",75),t.EFF(2),t.k0s()()),2&i){const e=c.$implicit;t.R7$(2),t.JRh(e.lotNo)}}function he(i,c){if(1&i&&(t.qex(0),t.j41(1,"nz-table",72)(2,"thead")(3,"tr")(4,"th",73),t.EFF(5,"C\xe1c box l\u01b0u th\xe0nh c\xf4ng"),t.k0s(),t.j41(6,"th",73),t.EFF(7,"C\xe1c box duplicate"),t.k0s()()(),t.j41(8,"tbody")(9,"tr")(10,"td")(11,"ul"),t.DNE(12,de,3,1,"li",62),t.k0s()(),t.j41(13,"td")(14,"ul"),t.DNE(15,ue,3,1,"li",62),t.k0s()()()()(),t.bVm()),2&i){const e=t.XpG();t.R7$(),t.Y8G("nzSize","small")("nzData",t.lJ4(4,v)),t.R7$(11),t.Y8G("ngForOf",null==e.resultSaveInventoryData?null:e.resultSaveInventoryData.resultOK),t.R7$(3),t.Y8G("ngForOf",null==e.resultSaveInventoryData?null:e.resultSaveInventoryData.resultNG)}}function pe(i,c){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"nz-table",48)(2,"tbody")(3,"tr")(4,"td"),t.EFF(5,"Part No"),t.k0s(),t.j41(6,"td"),t.EFF(7),t.k0s()(),t.j41(8,"tr")(9,"td"),t.EFF(10,"Lot No"),t.k0s(),t.j41(11,"td"),t.EFF(12),t.k0s()(),t.j41(13,"tr")(14,"td"),t.EFF(15,"Qty"),t.k0s(),t.j41(16,"td")(17,"input",76),t.mxI("ngModelChange",function(n){t.eBV(e);const a=t.XpG();return t.DH7(a.lotSelected.qty,n)||(a.lotSelected.qty=n),t.Njj(n)}),t.k0s()()()()(),t.bVm()}if(2&i){const e=t.XpG();t.R7$(),t.Y8G("nzData",t.lJ4(4,v)),t.R7$(6),t.JRh(e.lotSelected.partNo),t.R7$(5),t.JRh(e.lotSelected.lotNo),t.R7$(5),t.R50("ngModel",e.lotSelected.qty)}}function me(i,c){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"button",77),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.isOpenEditQtyModal=!1)}),t.EFF(2," \u0110\xf3ng "),t.k0s(),t.j41(3,"button",8),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.saveEditQty())}),t.EFF(4,"L\u01b0u"),t.k0s()()}}function ge(i,c){if(1&i){const e=t.RV6();t.qex(0),t.j41(1,"nz-table",78,0)(3,"thead")(4,"tr")(5,"th")(6,"nz-upload",79)(7,"button",80),t.nrm(8,"span",81),t.EFF(9," Upload d\u1eef li\u1ec7u ki\u1ec3m k\xea NVL th\xf4 "),t.k0s()()(),t.j41(10,"th")(11,"button",8),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.downloadTemplateUploadRawMaterialInventory())}),t.EFF(12," Download Template "),t.k0s()()()()(),t.bVm()}if(2&i){const e=t.XpG();t.R7$(),t.Y8G("nzData",t.lJ4(4,v)),t.R7$(5),t.Y8G("nzAction",e.apiUploadExcelRawMaterialInventory)("nzHeaders",t.lJ4(5,oe))("nzShowUploadList",t.lJ4(6,ae))}}function ve(i,c){if(1&i){const e=t.RV6();t.j41(0,"div")(1,"button",77),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.isOpenRawMaterialInventoryModal=!1)}),t.EFF(2," \u0110\xf3ng "),t.k0s()()}}const _e=[{path:"menu",component:$},{path:"request",component:K},{path:"request/:id",component:(()=>{class i{constructor(e,o,n,a){this.toastr=e,this.activatedRoute=o,this.pihInventorySvc=n,this.jwtHelperSvc=a,this.baseUrl=P.c.baseUrl,this.isOpenScanInventoryModal=!1,this.isOpenResultSaveInventoryModal=!1,this.mapLotsScanned=new Map,this.listLotsScanned=new Array,this.totalQtyScanned=0,this.lotNoEdit=null,this.isLoadingSaveInventoryData=!1,this.isOpenRawMaterialInventoryModal=!1,this.isLoadingGetRawMaterialInventory=!1,this.isOpenEditQtyModal=!1,this.inventoryAreaBalanceSrch=[]}ngOnInit(){this.userLoginName=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).FullName.split(" ").reverse()[0],this.requestId=Number(this.activatedRoute.snapshot.params.id),this.requestNo=this.activatedRoute.snapshot.queryParamMap.get("reqNo"),this.getInventoryData(this.requestId),this.getInventoryArea(),this.getInventoryRequestById(this.requestId),this.apiUploadExcelRawMaterialInventory=`${this.baseUrl}/PIH/Inventory/UploadRawMaterialInventoryData?requestId=${this.requestId}`}ngAfterViewInit(){}getInventoryRequestById(e){this.pihInventorySvc.getInventoryRequestById(e).subscribe(o=>{this.inventoryRequestInfo=o,console.log("inventoryRequestInfo: ",this.inventoryRequestInfo)})}getInventoryArea(){this.pihInventorySvc.getInventoryArea().subscribe(e=>{this.inventoryAreaList=e})}getInventoryData(e){this.pihInventorySvc.getInventoryData(e).subscribe(o=>{this.inventoryData=o,this.inventoryDataPivot={fields:[{caption:"Classified",dataField:"classified",area:"row",expanded:!0},{caption:"Part Number",dataField:"partNo",area:"row",width:150,expanded:!0},{caption:"Lot No",dataField:"lotNo",area:"row",width:250,expanded:!0},{caption:"Qty",dataField:"qty",dataType:"number",area:"data",summaryType:"sum",format:{type:"fixedPoint",precision:2}}],store:o}})}onExportClient(e,o){const n=new tt.Workbook,a=n.addWorksheet("Main sheet");(0,Z.V)({component:e.component,worksheet:a}).then(function(){n.xlsx.writeBuffer().then(function(s){et(new Blob([s],{type:"application/octet-stream"}),`${o}.xlsx`)})})}openScanInventoryModal(){new Date(this.inventoryRequestInfo.inventoryCloseDate).getDay(),(new Date).getDay(),this.inventoryArea=null,this.isOpenScanInventoryModal=!0,setTimeout(()=>{this.labelIpt.nativeElement.focus()},500)}saveListInventoryData(){this.listLotsScanned.length<=0?this.toastr.warning("C\u1ea7n scan tem QR code","Warning"):(console.log("this.listLotsScanned: ",this.listLotsScanned),this.isLoadingSaveInventoryData=!0,this.pihInventorySvc.saveListInventoryData(this.listLotsScanned,this.requestId,this.inventoryArea,this.goodsType).subscribe(e=>{this.toastr.success("\u0110\xe3 l\u01b0u","Response"),this.resultSaveInventoryData=e,this.isOpenScanInventoryModal=!1,this.isLoadingSaveInventoryData=!1,this.isOpenResultSaveInventoryModal=!0,this.mapLotsScanned=new Map,this.listLotsScanned=new Array,this.inventoryArea=null,this.goodsType=null,this.materialTruck=null,this.getInventoryData(this.requestId)}))}onChangeArea(e){this.labelIpt.nativeElement.select()}onChangeGoodsType(e){console.log("onChangeGoodsType: ",e),this.labelIpt.nativeElement.select()}onChangeMaterialTruck(e){console.log("onChangeMaterialTruck: ",e),this.labelIpt.nativeElement.select()}scanLabel(e){if(!this.inventoryArea)return this.toastr.warning("C\u1ea7n ch\u1ecdn khu v\u1ef1c ki\u1ec3m k\xea ",`${this.userLoginName} \u01a1i !`),void this.labelIpt.nativeElement.select();if(!this.goodsType)return this.toastr.warning("C\u1ea7n ch\u1ecdn lo\u1ea1i h\xe0ng ",`${this.userLoginName} \u01a1i !`),void this.labelIpt.nativeElement.select();this.labelIpt.nativeElement.select();let o=e.target.value.split(";"),n="",a=0,s="";if(e.target.value.includes(";")){if("B"===o[0]){console.log("data[0]: ",o[0]),n=o[1],a=o[3],s=o[4];let r={lotNo:s.toUpperCase(),partNo:n.toUpperCase(),qty:a,date:new Date,requestId:this.requestId,inventoryArea:this.inventoryArea,outerLotNo:s.toUpperCase(),goodsType:this.goodsType,materialTruck:this.materialTruck};return this.mapLotsScanned.set(s,r),this.listLotsScanned=Array.from(this.mapLotsScanned.values()),void(this.totalQtyScanned=this.sumQtyScanned(this.listLotsScanned))}if("B"!==o[0]){console.log("data[0]: ",o[0]),n=o[0],a=o[2],s=o[3];let r={lotNo:s.toUpperCase(),partNo:n.toUpperCase(),qty:a,date:new Date,requestId:this.requestId,inventoryArea:this.inventoryArea,goodsType:this.goodsType,materialTruck:this.materialTruck};return void this.pihInventorySvc.scanLabel(r.lotNo).subscribe(h=>{this.mapLotsScanned.set(s,r),this.listLotsScanned=Array.from(this.mapLotsScanned.values()),this.totalQtyScanned=this.sumQtyScanned(this.listLotsScanned),this.errMsg=null,setTimeout(()=>{this.scrollToBottom()},0)},h=>{this.errMsg=h})}}else s=e.target.value.substring(1),this.pihInventorySvc.scanLabel(s).subscribe(r=>{let h=Object.assign(r);this.mapLotsScanned.set(s,{lotNo:s,partNo:h.model,qty:h.qty,date:new Date,requestId:this.requestId,inventoryArea:this.inventoryArea,goodsType:this.goodsType,materialTruck:this.materialTruck}),this.listLotsScanned=Array.from(this.mapLotsScanned.values()).reverse(),this.totalQtyScanned=this.sumQtyScanned(this.listLotsScanned)})}sumQtyScanned(e){return e.reduce((o,n)=>o+Number(n.qty),0)}resetScanLabel(){this.listLotsScanned=new Array,this.mapLotsScanned=new Map,this.totalQtyScanned=0,this.errMsg=null,this.materialTruck=null,this.goodsType=null,this.inventoryArea=null}scrollToBottom(){try{const e=this.labelTable.nativeElement.querySelector(".ant-table-body");e.scrollTop=e.scrollHeight}catch(e){console.error("Error scrolling to bottom of table",e)}}startEdit(e){setTimeout(()=>{this.importQtyIpt.nativeElement.select()},400),this.lotNoEdit=e.lotNo}stopEdit(){this.lotNoEdit=null,this.importQtyIpt.nativeElement.select()}deleteLabelScanned(e){this.mapLotsScanned.delete(e.lotNo),this.listLotsScanned=Array.from(this.mapLotsScanned.values()).reverse()}closeScanInventoryModal(){this.isOpenScanInventoryModal=!1,this.resetScanLabel()}openEditQtyModal(e){this.lotSelected=e.data,this.isOpenEditQtyModal=!0}saveEditQty(){this.isOpenEditQtyModal=!1,this.pihInventorySvc.saveInventoryData(this.lotSelected).subscribe(e=>{this.getInventoryData(this.requestId)})}getBalance(){console.log("inventoryAreaBanlanceSrch: ",this.inventoryAreaBalanceSrch);let n=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).FullName.split(" ").reverse()[0];this.balanceGrid?.instance.beginCustomLoading(`B\u1ea1n ${n} \u01a1i \u0111\u1ee3i t\xfd nh\xe9!`),this.pihInventorySvc.balance(this.requestId,this.inventoryAreaBalanceSrch).subscribe(a=>{this.balanceData=a})}onRowPrepared(e){"data"===e.rowType&&0!==e.data.balance&&(e.rowElement.style.backgroundColor="red",e.rowElement.classList.add("my-class"),e.rowElement.className=e.rowElement.className.replace("dx-row-alt",""))}openRawMaterialInventoryModal(){this.isOpenRawMaterialInventoryModal=!0}downloadTemplateUploadRawMaterialInventory(){this.pihInventorySvc.downloadTemplateUploadRawMaterialInventory().subscribe(e=>{console.log(e);const o=new Blob([e],{}),n=window.URL.createObjectURL(o),a=document.createElement("a");a.href=n,a.download="TemplateRawMaterialInventoryData.xlsx",a.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(n),a.remove()},100)})}getRawMaterialInventoryData(){this.isLoadingGetRawMaterialInventory=!0,this.pihInventorySvc.getRawMaterialInventoryData(this.requestId).subscribe(e=>{this.rawMaterialInventory=e,this.isLoadingGetRawMaterialInventory=!1},e=>{this.isLoadingGetRawMaterialInventory=!1})}onCellInventoryData(e){"header"===e.rowType&&(e.cellElement.style.backgroundColor="#000080",e.cellElement.style.color="#ffffff",e.cellElement.style.fontWeight="bold")}static#t=this.\u0275fac=function(o){return new(o||i)(t.rXU(w.tw),t.rXU(g.nX),t.rXU(N),t.rXU(M.X7))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-pih-inv-req-detail"]],viewQuery:function(o,n){if(1&o&&(t.GBs(nt,5),t.GBs(ot,5),t.GBs(y.s,5),t.GBs(at,5,t.aKT)),2&o){let a;t.mGM(a=t.lsd())&&(n.labelIpt=a.first),t.mGM(a=t.lsd())&&(n.importQtyIpt=a.first),t.mGM(a=t.lsd())&&(n.balanceGrid=a.first),t.mGM(a=t.lsd())&&(n.labelTable=a.first)}},decls:65,vars:49,consts:[["basicTable",""],["labelIpt",""],["labelTable",""],["importQtyIpt",""],["nzFrontPagination","false","nzBordered","","nzSize","small",3,"nzData"],[2,"font-weight","bold"],[2,"font-weight","bold","color","green"],[2,"text-align","right"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","qrcode"],[2,"margin-top","-25px",3,"nzSelectedIndex"],["nzTitle","D\u1eef li\u1ec7u ki\u1ec3m k\xea"],["keyExpr","id",3,"onExporting","onCellPrepared","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"visible"],[3,"enabled"],["location","before"],["name","exportButton"],["dataField","partNo","caption","Part No"],["dataField","lotNo","caption","Lot No"],["dataField","qty","caption","Qty","format","#,##0.0"],["dataField","classified","caption","Classified"],["dataField","goodsType","caption","Lo\u1ea1i h\xe0ng"],["dataField","inventoryArea","caption","Khu v\u1ef1c ki\u1ec3m k\xea"],["dataField","materialTruck","caption","Xe h\xe0ng"],["dataField","createdAt","caption","Date","dataType","date","format","yyyy-MM-dd HH:mm:ss"],["column","qty","summaryType","sum","valueFormat","#,##0"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],["nzTitle","Classified"],[3,"allowSortingBySummary","allowSorting","allowFiltering","allowExpandAll","showBorders","dataSource"],[3,"allowSearch"],["nzTitle","Summary"],["keyExpr","id",3,"onExporting","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],["dataField","partNo","caption","Part No",3,"groupIndex"],["dataField","qty","caption","Qty","dataType","number","format","#,##0.0"],["caption","Action","cellTemplate","actionTemplate","fixedPosition","right",3,"fixed"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],["column","partNo","summaryType","count","displayFormat","{0} boxes"],["column","qty","summaryType","sum","displayFormat","Total: {0}","valueFormat","#,##0",3,"showInGroupFooter","alignByColumn"],["summaryItem","count"],["nzTitle","D\u1eef li\u1ec7u scan ki\u1ec3m k\xea","nzWidth","750px",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["nzTitle","K\u1ebft qu\u1ea3 l\u01b0u ki\u1ec3m k\xea","nzWidth","750px",3,"nzVisibleChange","nzOnCancel","nzOnOk","nzVisible"],["nzTitle","Th\xf4ng tin Lot","nzWidth","550px",3,"nzVisibleChange","nzVisible"],["nzTitle","Upload d\u1eef ki\u1ec7u ki\u1ec3m k\xea NVL th\xf4","nzWidth","750px",3,"nzVisibleChange","nzVisible"],[2,"text-align","center"],[2,"color","blue",3,"click"],["nzFrontPagination","false","nzBordered","","nzSize","small",2,"margin-top","-15px",3,"nzData"],["label","Ch\u1ecdn khu v\u1ef1c","labelLocation","left","showColonAfterLabel","true","displayExpr","name","valueExpr","id",3,"valueChange","ngModelChange","searchEnabled","labelMode","dataSource","value"],["label","Lo\u1ea1i h\xe0ng","labelLocation","left","showColonAfterLabel","true","displayExpr","name","valueExpr","id",3,"valueChange","onValueChanged","searchEnabled","labelMode","dataSource","value"],["label","Xe h\xe0ng","labelLocation","left","showColonAfterLabel","true","displayExpr","name","valueExpr","id",3,"valueChange","onValueChanged","searchEnabled","labelMode","dataSource","value"],["id","labelIpt","nz-input","","placeholder","Scan tem NVL","autocomplete","off","autofocus","true",2,"margin-bottom","-20px",3,"keydown.enter","click"],[4,"ngIf"],[2,"margin-top","-20px"],[2,"clear","both"],[2,"float","left"],[2,"font-weight","bold","color","darkslategrey"],[2,"float","right"],["nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData","nzScroll"],["nzWidth","150px"],["nzWidth","100px"],[4,"ngFor","ngForOf"],["colspan","4"],["id","error-msg"],[1,"editable-row",2,"text-align","right"],[1,"editable-cell",3,"click","hidden"],["type","number","nz-input","",3,"ngModelChange","blur","hidden","ngModel"],["nz-popconfirm","","nzPopconfirmTitle","C\xf3 ch\u1eafc ch\u1eafn x\xf3a kh\xf4ng ?","nzPopconfirmPlacement","top",2,"text-align","center",3,"nzOnConfirm"],[2,"color","red","font-weight","bold"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","N\u1ebfu \u0111\xf3ng s\u1ebd x\xf3a to\xe0n b\u1ed9 d\u1eef li\u1ec7u \u0111\xe3 scan","nzType","default",3,"nzOnConfirm"],["nz-button","","nzType","primary",3,"click","nzLoading"],["id","result-save-inventory","nzFrontPagination","false","nzBordered","",3,"nzSize","nzData"],["width","50%"],[2,"font-weight","bold","background","#e8f2db","color","green"],[2,"font-weight","bold","background","#fce1e1","color","red"],["nz-input","","type","number",3,"ngModelChange","ngModel"],["nz-button","","nzType","default",3,"click"],["nzFrontPagination","false","nzBordered","",3,"nzData"],[3,"nzAction","nzHeaders","nzShowUploadList"],["nz-button",""],["nz-icon","","nzType","upload"]],template:function(o,n){if(1&o){const a=t.RV6();t.j41(0,"nz-table",4,0)(2,"thead")(3,"tr")(4,"th")(5,"label",5),t.EFF(6,"M\xe3 ki\u1ec3m k\xea:"),t.k0s(),t.j41(7,"label",6),t.EFF(8),t.k0s()(),t.j41(9,"th",7)(10,"button",8),t.bIt("click",function(){return t.eBV(a),t.Njj(n.openScanInventoryModal())}),t.nrm(11,"span",9),t.EFF(12," Scan ki\u1ec3m k\xea "),t.k0s()()()()(),t.j41(13,"nz-tabset",10)(14,"nz-tab",11)(15,"dx-data-grid",12),t.bIt("onExporting",function(r){return t.eBV(a),t.Njj(n.onExportClient(r,"Data"))})("onCellPrepared",function(r){return t.eBV(a),t.Njj(n.onCellInventoryData(r))}),t.nrm(16,"dxo-header-filter",13)(17,"dxo-filter-row",13)(18,"dxo-export",14),t.j41(19,"dxo-toolbar"),t.nrm(20,"dxi-item",15)(21,"dxi-item",16),t.k0s(),t.nrm(22,"dxi-column",17)(23,"dxi-column",18)(24,"dxi-column",19)(25,"dxi-column",20)(26,"dxi-column",21)(27,"dxi-column",22)(28,"dxi-column",23)(29,"dxi-column",24),t.j41(30,"dxo-summary"),t.nrm(31,"dxi-total-item",25),t.k0s(),t.nrm(32,"dxo-paging",26)(33,"dxo-pager",27),t.k0s()(),t.j41(34,"nz-tab",28)(35,"dx-pivot-grid",29),t.nrm(36,"dxo-field-chooser",30)(37,"dxo-export",14),t.k0s()(),t.j41(38,"nz-tab",31)(39,"dx-data-grid",32),t.bIt("onExporting",function(r){return t.eBV(a),t.Njj(n.onExportClient(r,"Summary"))}),t.nrm(40,"dxo-export",14)(41,"dxo-paging",26)(42,"dxo-filter-row",13)(43,"dxi-column",33)(44,"dxi-column",18)(45,"dxi-column",34),t.j41(46,"dxi-column",35),t.DNE(47,ie,3,0,"div",36),t.k0s(),t.j41(48,"dxo-summary"),t.nrm(49,"dxi-group-item",37)(50,"dxi-group-item",38),t.k0s(),t.nrm(51,"dxi-sort-by-group-summary-info",39)(52,"dxo-paging",26)(53,"dxo-pager",27),t.k0s()()(),t.j41(54,"nz-modal",40),t.mxI("nzVisibleChange",function(r){return t.eBV(a),t.DH7(n.isOpenScanInventoryModal,r)||(n.isOpenScanInventoryModal=r),t.Njj(r)}),t.DNE(55,se,40,124,"ng-container",41)(56,ce,5,1,"div",42),t.k0s(),t.j41(57,"nz-modal",43),t.mxI("nzVisibleChange",function(r){return t.eBV(a),t.DH7(n.isOpenResultSaveInventoryModal,r)||(n.isOpenResultSaveInventoryModal=r),t.Njj(r)}),t.bIt("nzOnCancel",function(){return t.eBV(a),t.Njj(n.isOpenResultSaveInventoryModal=!1)})("nzOnOk",function(){return t.eBV(a),t.Njj(n.isOpenResultSaveInventoryModal=!1)}),t.DNE(58,he,16,5,"ng-container",41),t.k0s(),t.j41(59,"nz-modal",44),t.mxI("nzVisibleChange",function(r){return t.eBV(a),t.DH7(n.isOpenEditQtyModal,r)||(n.isOpenEditQtyModal=r),t.Njj(r)}),t.DNE(60,pe,18,5,"ng-container",41)(61,me,5,0,"div",42),t.k0s(),t.j41(62,"nz-modal",45),t.mxI("nzVisibleChange",function(r){return t.eBV(a),t.DH7(n.isOpenRawMaterialInventoryModal,r)||(n.isOpenRawMaterialInventoryModal=r),t.Njj(r)}),t.DNE(63,ge,13,7,"ng-container",41)(64,ve,3,0,"div",42),t.k0s()}2&o&&(t.Y8G("nzData",t.lJ4(46,v)),t.R7$(8),t.SpI(" ",n.requestNo," "),t.R7$(5),t.Y8G("nzSelectedIndex",0),t.R7$(2),t.Y8G("dataSource",n.inventoryData)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),t.R7$(),t.Y8G("visible",!0),t.R7$(),t.Y8G("visible",!0),t.R7$(),t.Y8G("enabled",!0),t.R7$(14),t.Y8G("pageSize",10),t.R7$(),t.Y8G("showPageSizeSelector",!0)("allowedPageSizes",t.lJ4(47,V)),t.R7$(2),t.Y8G("allowSortingBySummary",!0)("allowSorting",!0)("allowFiltering",!0)("allowExpandAll",!1)("showBorders",!0)("dataSource",n.inventoryDataPivot),t.R7$(),t.Y8G("allowSearch",!0),t.R7$(),t.Y8G("enabled",!0),t.R7$(2),t.Y8G("dataSource",n.inventoryDataPivot)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),t.R7$(),t.Y8G("enabled",!0),t.R7$(),t.Y8G("pageSize",15),t.R7$(),t.Y8G("visible",!0),t.R7$(),t.Y8G("groupIndex",0),t.R7$(3),t.Y8G("fixed",!0),t.R7$(),t.Y8G("dxTemplateOf","actionTemplate"),t.R7$(3),t.Y8G("showInGroupFooter",!1)("alignByColumn",!0),t.R7$(2),t.Y8G("pageSize",10),t.R7$(),t.Y8G("showPageSizeSelector",!0)("allowedPageSizes",t.lJ4(48,V)),t.R7$(),t.R50("nzVisible",n.isOpenScanInventoryModal),t.R7$(3),t.R50("nzVisible",n.isOpenResultSaveInventoryModal),t.R7$(2),t.R50("nzVisible",n.isOpenEditQtyModal),t.R7$(3),t.R50("nzVisible",n.isOpenRawMaterialInventoryModal))},dependencies:[_.Sq,_.bT,q.eC,y.s,d.nj_,d.gtJ,d.CVf,d.ZJU,d.FTx,d.sVQ,d.PVd,d.x$q,d.XvM,d.ryC,d.CWS,d.KOr,b.aO,G.c,L.p,T.Dn,m.F2,m.Oj,m.A9,u.CP,u.SO,u._4,u.IL,u.aj,u.kt,f.Sy,p.me,p.Q0,p.BC,p.vS,R.JZ,R.rE,j.PV,I.M,d.GD2,k.$W,F.l,_.QX],styles:[".dx-datagrid-rowsview[_ngcontent-%COMP%]   .dx-selection.dx-row[_ngcontent-%COMP%]:not(.dx-row-focused):not(.dx-row-removed) > td[_ngcontent-%COMP%]{background-color:red;color:unset}#result-save-inventory[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{vertical-align:top}#error-msg[_ngcontent-%COMP%]{border:3px solid rgb(255,0,0);font-weight:700;width:100%;color:red;padding:5px}#error-msg[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}"]})}return i})()}];let ye=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.$C({type:i});static#n=this.\u0275inj=t.G2t({imports:[g.iI.forChild(_e),g.iI]})}return i})(),Ie=(()=>{class i{static#t=this.\u0275fac=function(o){return new(o||i)};static#e=this.\u0275mod=t.$C({type:i});static#n=this.\u0275inj=t.G2t({imports:[_.MD,ye,C.f3,D.L,y.N,b.Zw,T.Y3,m.U6,u.$G,f.j,p.YN,R.hM,j.g9,I.t,I.t,B.X,A.DH,S.LE,E.Sw,k.SE,O.pc,F.S]})}return i})()}}]);