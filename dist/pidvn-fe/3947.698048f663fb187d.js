"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[3947],{33947:(ze,w,l)=>{l.r(w),l.d(w,{QaEquipmentMngModule:()=>Ce});var m=l(60177),q=l(45398),z=l(38296),S=l(24053),F=l(27380),M=l(33514),h=l(50513),b=l(74696),j=l(72544),u=l(43053),T=l(82358),N=l(3104),f=l(46661),D=l(45312),e=l(54438),O=l(21626);let k=(()=>{class i{constructor(t){this.httpClient=t,this.baseUrl=D.c.baseUrl}downloadTemplateCreateLabel(){return this.httpClient.post(`${this.baseUrl}/Qa/EquipmentMng/TemplateCreateLabel`,{},{responseType:"blob"})}getQaDocDevices(t){return this.httpClient.get(`${this.baseUrl}/Qa/EquipmentMng/QaDocDevices/${t}`)}getDocTypeDevices(){return this.httpClient.get(`${this.baseUrl}/Entity/QaDocTypeDevices`)}getQaDevices(){return this.httpClient.get(`${this.baseUrl}/Entity/QaDevices`)}getQaDeviceById(t){return this.httpClient.get(`${this.baseUrl}/Entity/QaDevices/${t}`)}getByDeviceNo(t){return this.httpClient.get(`${this.baseUrl}/Entity/QaDevices/GetByDeviceNo?deviceNo=${t}`)}previewFile(t){return this.httpClient.post(`${this.baseUrl}/Qa/EquipmentMng/Preview`,t,{responseType:"arraybuffer"})}downloadDocument(t){return this.httpClient.post(`${this.baseUrl}/Qa/EquipmentMng/Download`,t,{responseType:"blob"})}getDeviceInfo(t){return this.httpClient.get(`${this.baseUrl}/Qa/EquipmentMng/DeviceInfo?controlNo=${t}`)}printLabel(t,o){return this.httpClient.post(`${this.baseUrl}/Qa/EquipmentMng/PrintLabel?userId=${o}`,t)}deleteQaDocDevice(t){return this.httpClient.delete(`${this.baseUrl}/Qa/EquipmentMng/QaDocDevices?docDeviceId=${t}`)}saveDeviceInfo(t){return this.httpClient.post(`${this.baseUrl}/Qa/EquipmentMng/SaveDeviceInfo`,t)}static#e=this.\u0275fac=function(o){return new(o||i)(e.KVO(O.Qq))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var y=l(37736),_=l(97529),R=l(16389),x=l(25930),r=l(23359);function U(i,c){if(1&i){const t=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.printLabel())}),e.nrm(1,"span",11),e.EFF(2," In tem "),e.k0s()}2&i&&e.Y8G("nzType","primary")("useExistingCss",!0)}function Q(i,c){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"nz-upload",12),e.bIt("nzChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onUploadDataLabel(n))}),e.j41(2,"button",13),e.nrm(3,"span",14),e.EFF(4," Click to Upload "),e.k0s()(),e.bVm()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("nzAction",t.uploadFileApi)}}function $(i,c){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"button",15),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.handleCancel())}),e.EFF(2,"\u0110\xf3ng"),e.k0s()()}}function G(i,c){if(1&i&&(e.j41(0,"table",16)(1,"thead")(2,"th",17)(3,"div"),e.EFF(4),e.k0s()()(),e.j41(5,"tbody")(6,"tr")(7,"td")(8,"span",18),e.EFF(9,"ID: "),e.k0s(),e.j41(10,"span",19),e.EFF(11),e.k0s()(),e.j41(12,"td",20)(13,"span",18),e.EFF(14,"By:"),e.k0s(),e.j41(15,"span",19),e.EFF(16),e.k0s()()(),e.j41(17,"tr")(18,"td",18)(19,"span",18),e.EFF(20,"Date: "),e.k0s(),e.j41(21,"span",19),e.EFF(22),e.nI1(23,"date"),e.k0s()(),e.j41(24,"td",21),e.nrm(25,"qrcode",22),e.k0s()(),e.j41(26,"tr")(27,"td",18)(28,"span",18),e.EFF(29,"Due: "),e.k0s(),e.j41(30,"span",19),e.EFF(31),e.nI1(32,"date"),e.k0s()()()()()),2&i){const t=c.$implicit;e.R7$(3),e.HbH("PIDVN"===t.by?"header-verification":"header-standard-measuring"),e.R7$(),e.SpI(" ","PIDVN"===t.by?"VERIFICATION":"STANDARD EQUIPMENT"," "),e.R7$(7),e.JRh(t.idNo),e.R7$(5),e.JRh(t.by),e.R7$(6),e.JRh(e.i5U(23,15,t.date,"dd-MMM-yyyy")),e.R7$(3),e.Y8G("qrdata",t.idNo)("allowEmptyString",!0)("cssClass","center")("elementType","img")("errorCorrectionLevel","Q")("margin",1)("scale",1)("width",20),e.R7$(6),e.JRh(e.i5U(32,18,t.due,"dd-MMM-yyyy"))}}let B=(()=>{class i{constructor(t,o){this.qaEquipmentMngSvc=t,this.jwtHelperSvc=o,this.isOpenUploadDataLabel=!1,this.baseUrl=D.c.baseUrl,this.uploadFileApi=""}ngOnInit(){}openUploadDataLabelModal(){this.isOpenUploadDataLabel=!0,this.uploadFileApi=`${this.baseUrl}/Qa/EquipmentMng/CreateLabel`}handleCancel(){this.isOpenUploadDataLabel=!1}onUploadDataLabel(t){console.log("Data in tem",t),this.labels=t.file.response}printLabel(){let t=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).UserId;this.qaEquipmentMngSvc.printLabel(this.labels,t).subscribe(o=>{console.log("Labels: ",o)})}downloadTemplateCreateLabel(){this.qaEquipmentMngSvc.downloadTemplateCreateLabel().subscribe(t=>{console.log(t);const o=new Blob([t],{}),n=window.URL.createObjectURL(o),a=document.createElement("a");a.href=n,a.download="Template_EquipmentLabelData.xlsx",a.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(n),a.remove()},100)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(k),e.rXU(y.X7))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-qa-equipment-label-create"]],decls:16,vars:6,consts:[["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzMd","12","nzLg","12"],["nz-button","","printSectionId","printLabel","ngxPrint","","style","background: green",3,"nzType","useExistingCss","click",4,"ngIf"],["nz-button","",2,"margin-left","5px",3,"click","nzType"],["nz-icon","","nzType","cloud-download"],["nzTitle","Upload d\u1eef li\u1ec7u t\u1ea1o tem",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["id","printLabel"],["class","calibration-label","style","width: 3.2cm",4,"ngFor","ngForOf"],["nz-button","","printSectionId","printLabel","ngxPrint","",2,"background","green",3,"click","nzType","useExistingCss"],["nz-icon","","nzType","printer"],[3,"nzChange","nzAction"],["nz-button",""],["nz-icon","","nzType","upload"],["nz-button","","nzType","default",3,"click"],[1,"calibration-label",2,"width","3.2cm"],["colSpan","5"],[1,"title"],[1,"value"],[2,"border-left","1px solid #ccc","width","20%"],["rowspan","2",1,"value",2,"border-top","1px solid #ccc","border-left","1px solid #ccc","text-align","center"],[3,"qrdata","allowEmptyString","cssClass","elementType","errorCorrectionLevel","margin","scale","width"]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,U,3,2,"button",2),e.j41(3,"button",3),e.bIt("click",function(){return n.openUploadDataLabelModal()}),e.j41(4,"span"),e.EFF(5,"Upload d\u1eef li\u1ec7u tem"),e.k0s()(),e.j41(6,"button",3),e.bIt("click",function(){return n.downloadTemplateCreateLabel()}),e.nrm(7,"span",4),e.EFF(8," Download template "),e.k0s()(),e.nrm(9,"div",1),e.k0s(),e.j41(10,"nz-modal",5),e.mxI("nzVisibleChange",function(d){return e.DH7(n.isOpenUploadDataLabel,d)||(n.isOpenUploadDataLabel=d),d}),e.DNE(11,Q,5,1,"ng-container",6)(12,$,3,0,"div",7),e.k0s(),e.nrm(13,"hr"),e.j41(14,"div",8),e.DNE(15,G,33,21,"table",9),e.k0s()),2&o&&(e.Y8G("nzGutter",8),e.R7$(2),e.Y8G("ngIf",n.labels),e.R7$(),e.Y8G("nzType","primary"),e.R7$(3),e.Y8G("nzType","default"),e.R7$(4),e.R50("nzVisible",n.isOpenUploadDataLabel),e.R7$(5),e.Y8G("ngForOf",n.labels))},dependencies:[m.Sq,m.bT,_.Uq,_.e,q.c,N.G,T.$W,u.F2,u.Oj,u.A9,h.aO,R.c,x.p,j.Dn,r.SO,r._4,r.IL,r.aj,r.kt,m.vh],styles:[".calibration-label[_ngcontent-%COMP%]{border:1px solid black;border-collapse:collapse;font-size:7px;float:left;margin:2px;width:150px}.calibration-label[_ngcontent-%COMP%]   .header-verification[_ngcontent-%COMP%]{background:red;color:#fff;-webkit-print-color-adjust:exact;print-color-adjust:exact}.calibration-label[_ngcontent-%COMP%]   .header-standard-measuring[_ngcontent-%COMP%]{background:#00f;color:#fff;-webkit-print-color-adjust:exact;print-color-adjust:exact}.calibration-label[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#00f;font-style:italic}"]})}return i})(),V=(()=>{class i{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-qa-equipment-menu"]],decls:22,vars:1,consts:[["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","12","nzMd","12","nzLg","6"],["routerLink","/admin/qa/qa-equipment-mng/create-label",1,"item","qa-card"],["src","./../../../../../../assets/images/printer.png","alt",""],["routerLink","/admin/qa/qa-equipment-mng/devices",1,"item","data"],["src","./../../../../../../assets/images/traceability.png","alt",""],["routerLink","/admin/qa/qa-equipment-mng/data",1,"item","add"],["src",".//../../../../../assets/images/add-item.png","alt",""]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"img",3),e.j41(4,"h6"),e.EFF(5,"T\u1ea1o tem hi\u1ec7u chu\u1ea9n"),e.k0s(),e.j41(6,"h4"),e.EFF(7,"Create Label"),e.k0s()()(),e.j41(8,"div",1)(9,"div",4),e.nrm(10,"img",5),e.j41(11,"h6"),e.EFF(12,"T\xecm ki\u1ebfm thi\u1ebft b\u1ecb"),e.k0s(),e.j41(13,"h4"),e.EFF(14,"Devices"),e.k0s()()(),e.j41(15,"div",1)(16,"div",6),e.nrm(17,"img",7),e.j41(18,"h6"),e.EFF(19,"Qu\u1ea3n l\xfd thi\u1ebft b\u1ecb"),e.k0s(),e.j41(20,"h4"),e.EFF(21,"Devices Manager"),e.k0s()()()()),2&o&&e.Y8G("nzGutter",8)},dependencies:[f.Wk,_.Uq,_.e],styles:[".item[_ngcontent-%COMP%]{text-align:center;border:1px solid #ccc;padding:15px 10px}.item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#fff}.item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:15px;font-size:18px;color:#fff;font-weight:700}.add[_ngcontent-%COMP%]{background:#e07e37;cursor:pointer}.qa-card[_ngcontent-%COMP%]{background:#63d171;cursor:pointer}.data[_ngcontent-%COMP%]{background:#3498db;cursor:pointer}"]})}return i})();var g=l(89417),p=l(31837),E=l(9541),v=l(1997),C=l(21011),L=l(72874);const A=["qrIpt"],I=()=>[""],P=()=>({authorization:"authorization-text"}),X=()=>({showPreviewIcon:!1,showRemoveIcon:!1,showDownloadIcon:!1});function Y(i,c){if(1&i){const t=e.RV6();e.j41(0,"span",13),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSearch())}),e.k0s()}}function H(i,c){if(1&i){const t=e.RV6();e.j41(0,"a",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,a=e.XpG(2);return e.Njj(a.previewFile(n))}),e.EFF(1," Preview "),e.k0s()}}function J(i,c){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"a",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.downloadDocument(n))}),e.EFF(2,"T\u1ea3i xu\u1ed1ng"),e.k0s(),e.EFF(3," | "),e.DNE(4,H,2,0,"a",28),e.EFF(5," | "),e.j41(6,"a",29),e.bIt("nzOnConfirm",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG(2);return e.Njj(a.deleteFile(n))}),e.EFF(7," X\xf3a "),e.k0s()()}if(2&i){const t=e.XpG().$implicit;e.R7$(4),e.Y8G("ngIf","application/pdf"===t.data.fileFormat)}}function W(i,c){1&i&&(e.j41(0,"div")(1,"a",31),e.EFF(2,"File \u0111\xe3 b\u1ecb x\xf3a"),e.k0s()())}function K(i,c){if(1&i&&(e.j41(0,"div"),e.DNE(1,J,8,1,"div",9)(2,W,3,0,"div",9),e.k0s()),2&i){const t=c.$implicit;e.R7$(),e.Y8G("ngIf",1!==t.data.isDelete),e.R7$(),e.Y8G("ngIf",1==t.data.isDelete)}}function Z(i,c){if(1&i){const t=e.RV6();e.j41(0,"nz-tabset")(1,"nz-tab",14)(2,"nz-table",15)(3,"tbody")(4,"tr")(5,"td")(6,"label"),e.EFF(7,"Control No"),e.k0s()(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td")(11,"label"),e.EFF(12,"Name"),e.k0s()(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td")(16,"label"),e.EFF(17,"Serial No"),e.k0s()(),e.j41(18,"td"),e.EFF(19),e.k0s()(),e.j41(20,"tr")(21,"td")(22,"label"),e.EFF(23,"Type No"),e.k0s()(),e.j41(24,"td"),e.EFF(25),e.k0s(),e.j41(26,"td")(27,"label"),e.EFF(28,"Manufacturer"),e.k0s()(),e.j41(29,"td"),e.EFF(30),e.k0s(),e.j41(31,"td")(32,"label"),e.EFF(33,"Measuring's Range"),e.k0s()(),e.j41(34,"td"),e.EFF(35),e.k0s()(),e.j41(36,"tr")(37,"td")(38,"label"),e.EFF(39,"Location"),e.k0s()(),e.j41(40,"td"),e.EFF(41),e.k0s(),e.j41(42,"td")(43,"label"),e.EFF(44,"Date"),e.k0s()(),e.j41(45,"td"),e.EFF(46),e.nI1(47,"date"),e.k0s(),e.j41(48,"td")(49,"label"),e.EFF(50,"Due"),e.k0s()(),e.j41(51,"td"),e.EFF(52),e.nI1(53,"date"),e.k0s()(),e.j41(54,"tr")(55,"td")(56,"label"),e.EFF(57,"Calibration By"),e.k0s()(),e.j41(58,"td"),e.EFF(59),e.k0s()()()()(),e.j41(60,"nz-tab",16)(61,"dx-data-grid",17),e.bIt("onRowPrepared",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onRowPrepared(n))}),e.nrm(62,"dxo-filter-row",18),e.j41(63,"dxo-toolbar")(64,"dxi-item",19)(65,"dx-button",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openUploadModal())}),e.k0s()()(),e.nrm(66,"dxo-column-fixing",21)(67,"dxi-column",22)(68,"dxi-column",23)(69,"dxi-column",24),e.j41(70,"dxi-column",25),e.DNE(71,K,3,2,"div",26),e.k0s()()()()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("nzData",e.lJ4(27,I)),e.R7$(7),e.JRh(t.deviceInfo.info.controlNo),e.R7$(5),e.JRh(t.deviceInfo.info.equipmentName),e.R7$(5),e.JRh(t.deviceInfo.info.serialNo),e.R7$(6),e.JRh(t.deviceInfo.info.typeNo),e.R7$(5),e.JRh(t.deviceInfo.info.manufacturer),e.R7$(5),e.JRh(t.deviceInfo.info.rangeOfMeasuring),e.R7$(6),e.JRh(t.deviceInfo.info.distributionLocation),e.R7$(5),e.JRh(e.i5U(47,21,t.deviceInfo.info.date,"dd-MMM-yyyy")),e.R7$(6),e.JRh(e.i5U(53,24,t.deviceInfo.info.due,"dd-MMM-yyyy")),e.R7$(7),e.JRh(t.deviceInfo.info.calibrationUnit),e.R7$(2),e.Y8G("dataSource",t.deviceInfo.documents)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(4),e.Y8G("enabled",!0),e.R7$(5),e.Y8G("dxTemplateOf","actionTemplate")}}function ee(i,c){if(1&i&&e.nrm(0,"nz-option",39),2&i){const t=c.$implicit;e.Y8G("nzValue",t.id)("nzLabel",t.name)}}function te(i,c){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"nz-table",32)(2,"tbody")(3,"tr")(4,"td",33)(5,"label"),e.EFF(6,"Lo\u1ea1i t\xe0i li\u1ec7u"),e.k0s()(),e.j41(7,"td")(8,"nz-select",34),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.fileTypeSelected,n)||(a.fileTypeSelected=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onChangeFileType(n))}),e.DNE(9,ee,1,2,"nz-option",35),e.k0s()()(),e.j41(10,"tr")(11,"td")(12,"label"),e.EFF(13,"File upload"),e.k0s()(),e.j41(14,"td")(15,"nz-upload",36)(16,"button",37),e.nrm(17,"span",38),e.EFF(18," Ch\u1ecdn file upload l\xean h\u1ec7 th\u1ed1ng "),e.k0s()()()()()(),e.bVm()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(7,I)),e.R7$(7),e.R50("ngModel",t.fileTypeSelected),e.R7$(),e.Y8G("ngForOf",t.fileTypes),e.R7$(6),e.Y8G("nzAction",t.fileUploadApi)("nzHeaders",e.lJ4(8,P))("nzDisabled",!t.fileTypeSelected)("nzShowUploadList",e.lJ4(9,X))}}function ne(i,c){if(1&i){const t=e.RV6();e.j41(0,"button",40),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeUploadModal())}),e.EFF(1," \u0110\xf3ng "),e.k0s()}}let ie=(()=>{class i{constructor(t,o,n){this.qaEquipmentMngSvc=t,this.router=o,this.jwtHelperSvc=n,this.baseUrl=D.c.baseUrl,this.docs=[],this.fileTypeSelected=1,this.isOpenUploadModal=!1}ngOnInit(){this.user=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).Username,this.getDocTypeDevices()}scanLabel(t){this.qaEquipmentMngSvc.getDeviceInfo(t.target.value).subscribe(o=>{this.deviceInfo=o,this.qrIpt.nativeElement.select(),this.fileUploadApi=`${this.baseUrl}/Qa/EquipmentMng/Upload?controlNo=${this.deviceInfo?.info.controlNo}&deviceId=${this.deviceInfo?.info.id}&fileType=${this.fileTypeSelected}&createdBy=${this.user}`})}onSearch(){this.scanLabel({target:{value:this.deviceSearch}})}openUploadModal(){this.isOpenUploadModal=!0}previewFile(t){let o={...t.data,deviceNo:this.deviceInfo.controlNo};this.qaEquipmentMngSvc.previewFile(o).subscribe(n=>{let a=new Blob([n],{type:"application/pdf"});var d=URL.createObjectURL(a);window.open(d)})}downloadDocument(t){let o={...t.data,deviceNo:this.deviceInfo.controlNo};this.qaEquipmentMngSvc.downloadDocument(o).subscribe(n=>{console.log(n);const a=new Blob([n],{}),d=window.URL.createObjectURL(a),s=document.createElement("a");s.href=d,s.download=`${o.fileName}`,s.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(d),s.remove()},100)})}onChangeFileType(t){this.fileUploadApi=`${this.baseUrl}/Qa/EquipmentMng/Upload?controlNo=${this.deviceInfo?.info.controlNo}&deviceId=${this.deviceInfo?.info.id}&fileType=${this.fileTypeSelected}&createdBy=${this.user}`,console.log("this.fileUploadApi: ",this.fileUploadApi)}closeUploadModal(){this.isOpenUploadModal=!1,this.fileUploadApi="",this.scanLabel({target:{value:this.deviceInfo?.info.controlNo}})}getDocTypeDevices(){this.qaEquipmentMngSvc.getDocTypeDevices().subscribe(t=>{this.fileTypes=t})}deleteFile(t){console.log("deleteFile: ",t.data),this.qaEquipmentMngSvc.deleteQaDocDevice(t.data.id).subscribe(o=>{this.scanLabel({target:{value:this.deviceInfo?.info.controlNo}})})}onRowPrepared(t){console.log("onRowPrepared: ",t),"data"===t.rowType&&1===t.data.isDelete&&(t.rowElement.style.backgroundColor="#ccc",t.rowElement.style.color="#939393",t.rowElement.classList.add("my-class"),t.rowElement.className=t.rowElement.className.replace("dx-row-alt",""))}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(k),e.rXU(f.Ix),e.rXU(y.X7))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-qa-equipment-list"]],viewQuery:function(o,n){if(1&o&&e.GBs(A,5),2&o){let a;e.mGM(a=e.lsd())&&(n.qrIpt=a.first)}},decls:20,vars:6,consts:[["qrIpt",""],["suffixIconSearch",""],["nzHeader","Scan tem thi\u1ebft b\u1ecb",3,"nzActive"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","12"],["id","scanTbl"],[2,"font-weight","bold"],[3,"nzSuffix"],["nz-input","","placeholder","Scan m\xe3 QR code","autocomplete","off",3,"keydown.enter","click","ngModelChange","ngModel"],[4,"ngIf"],["nzTitle","Upload file l\xean h\u1ec7 th\u1ed1ng",3,"nzVisible"],[4,"nzModalContent"],[3,"nzModalFooter"],["nz-icon","","nzType","search",3,"click"],["nzTitle","Th\xf4ng tin"],["id","infoTable","nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData"],["nzTitle","Report"],["keyExpr","id",2,"margin-top","15px",3,"onRowPrepared","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"visible"],["location","before"],["stylingMode","outlined","type","success","icon","plus","text","Th\xeam m\u1edbi",3,"click"],[3,"enabled"],["dataField","fileName","caption","T\xean"],["dataField","fileTypeName","caption","Lo\u1ea1i t\xe0i li\u1ec7u"],["dataField","createdByName","caption","Ng\u01b0\u1eddi upload"],["caption","Action","cellTemplate","actionTemplate"],[4,"dxTemplate","dxTemplateOf"],[3,"click"],["style","color: green",3,"click",4,"ngIf"],["nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a ?","nzPopconfirmPlacement","topRight",2,"color","red",3,"nzOnConfirm"],[2,"color","green",3,"click"],[2,"color","#939393"],["id","upload-tbl","nzBordered","","nzFrontPagination","false","nzSize","small",3,"nzData"],["width","30%"],["nzPlaceHolder","Ch\u1ecdn lo\u1ea1i t\xe0i li\u1ec7u",2,"width","100%",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzAction","nzHeaders","nzDisabled","nzShowUploadList"],["nz-button",""],["nz-icon","","nzType","upload"],[3,"nzValue","nzLabel"],["nz-button","","nzType","default",3,"click"]],template:function(o,n){if(1&o){const a=e.RV6();e.j41(0,"nz-collapse")(1,"nz-collapse-panel",2)(2,"div",3)(3,"div",4)(4,"table",5)(5,"tbody")(6,"tr")(7,"td")(8,"label",6),e.EFF(9,"M\xe3 QR code"),e.k0s()(),e.j41(10,"td")(11,"nz-input-group",7)(12,"input",8,0),e.bIt("keydown.enter",function(s){return e.eBV(a),e.Njj(n.scanLabel(s))})("click",function(){e.eBV(a);const s=e.sdS(13);return e.Njj(s.select())}),e.mxI("ngModelChange",function(s){return e.eBV(a),e.DH7(n.deviceSearch,s)||(n.deviceSearch=s),e.Njj(s)}),e.k0s()(),e.DNE(14,Y,1,0,"ng-template",null,1,e.C5r),e.k0s()()()()()()()(),e.DNE(16,Z,72,28,"nz-tabset",9),e.j41(17,"nz-modal",10),e.DNE(18,te,19,10,"ng-container",11)(19,ne,2,0,"ng-template",12),e.k0s()}if(2&o){const a=e.sdS(15);e.R7$(),e.Y8G("nzActive",!0),e.R7$(),e.Y8G("nzGutter",24),e.R7$(9),e.Y8G("nzSuffix",a),e.R7$(),e.R50("ngModel",n.deviceSearch),e.R7$(4),e.Y8G("ngIf",null==n.deviceInfo?null:n.deviceInfo.info),e.R7$(),e.Y8G("nzVisible",n.isOpenUploadModal)}},dependencies:[m.Sq,m.bT,g.me,g.BC,g.vS,_.Uq,_.e,z.s,p.Omo,p.nj_,p.CVf,p.FTx,p.KOr,F.eC,M.e,T.$W,u.F2,u.Oj,u.A9,h.aO,R.c,x.p,j.Dn,b.Vz,b.pc,r.CP,r.SO,r.aj,r.kt,E.JZ,E.rE,v.ld,v.WI,C.Sy,C.tg,C.vN,L.PV,m.vh],styles:[".dx-datagrid-rowsview[_ngcontent-%COMP%]   .dx-selection.dx-row[_ngcontent-%COMP%]:not(.dx-row-focused):not(.dx-row-removed) > td[_ngcontent-%COMP%]{background-color:#ccc;color:red}#scanTbl[_ngcontent-%COMP%]{width:100%}#scanTbl[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;border-collapse:collapse;padding:5px}#scanTbl[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#2d2dda}#scanTbl[_ngcontent-%COMP%]   #evaluate[_ngcontent-%COMP%]{text-align:center;font-weight:700}#infoTable[_ngcontent-%COMP%]{width:100%}#infoTable[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#2d2dda}#infoTable[_ngcontent-%COMP%]   #evaluate[_ngcontent-%COMP%]{text-align:center;font-weight:700}"]})}return i})();const oe=()=>[""],ae=()=>({authorization:"authorization-text"}),le=()=>({showPreviewIcon:!1,showRemoveIcon:!1,showDownloadIcon:!1});function ce(i,c){if(1&i){const t=e.RV6();e.j41(0,"a",20),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,a=e.XpG();return e.Njj(a.previewFile(n))}),e.EFF(1," | Preview "),e.k0s()}}function se(i,c){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"a",18),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.downloadDocument(n))}),e.EFF(2,"T\u1ea3i xu\u1ed1ng"),e.k0s(),e.DNE(3,ce,2,0,"a",19),e.k0s()}if(2&i){const t=c.$implicit;e.R7$(3),e.Y8G("ngIf","application/pdf"===t.data.fileFormat)}}function de(i,c){if(1&i&&e.nrm(0,"nz-option",28),2&i){const t=c.$implicit;e.Y8G("nzValue",t.id)("nzLabel",t.name)}}function re(i,c){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"nz-table",21)(2,"tbody")(3,"tr")(4,"td",22)(5,"label"),e.EFF(6,"Lo\u1ea1i t\xe0i li\u1ec7u"),e.k0s()(),e.j41(7,"td")(8,"nz-select",23),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.fileTypeSelected,n)||(a.fileTypeSelected=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onChangeFileType(n))}),e.DNE(9,de,1,2,"nz-option",24),e.k0s()()(),e.j41(10,"tr")(11,"td")(12,"label"),e.EFF(13,"File upload"),e.k0s()(),e.j41(14,"td")(15,"nz-upload",25),e.bIt("nzChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.nzChangeUpload(n))}),e.j41(16,"button",26),e.nrm(17,"span",27),e.EFF(18," Ch\u1ecdn file upload l\xean h\u1ec7 th\u1ed1ng "),e.k0s()()()()()(),e.bVm()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(7,oe)),e.R7$(7),e.R50("ngModel",t.fileTypeSelected),e.R7$(),e.Y8G("ngForOf",t.fileTypes),e.R7$(6),e.Y8G("nzAction",t.fileUploadApi)("nzHeaders",e.lJ4(8,ae))("nzDisabled",!t.fileTypeSelected)("nzShowUploadList",e.lJ4(9,le))}}function pe(i,c){if(1&i){const t=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeUploadModal())}),e.EFF(1," \u0110\xf3ng "),e.k0s()}}let ue=(()=>{class i{constructor(t,o,n){this.qaEquipmentMngSvc=t,this.activatedRoute=o,this.jwtHelperSvc=n,this.baseUrl=D.c.baseUrl,this.isOpenUploadModal=!1,this.docs=[]}ngOnInit(){this.user=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;let t=this.activatedRoute.snapshot.paramMap.get("deviceId");this.getDeviceById(t),this.getDocTypeDevices(),this.getQaDocDevices(t)}getDeviceById(t){this.qaEquipmentMngSvc.getQaDeviceById(t).subscribe(o=>{this.device=o})}getQaDocDevices(t){this.qaEquipmentMngSvc.getQaDocDevices(t).subscribe(o=>{this.docs=o.reverse(),console.log("getQaDocDevices: ",o)})}getDocTypeDevices(){this.qaEquipmentMngSvc.getDocTypeDevices().subscribe(t=>{this.fileTypes=t})}nzChangeUpload(t){}openUploadModal(){this.isOpenUploadModal=!0}closeUploadModal(){this.isOpenUploadModal=!1,this.fileUploadApi="",this.fileTypeSelected=null,this.getQaDocDevices(this.device.id)}onChangeFileType(t){this.fileUploadApi=`${this.baseUrl}/Qa/EquipmentMng/Upload?controlNo=${this.device?.controlNo}&deviceId=${this.device?.id}&fileType=${this.fileTypeSelected}&createdBy=${this.user}`}downloadDocument(t){let o={...t.data,deviceNo:this.device.deviceNo};this.qaEquipmentMngSvc.downloadDocument(o).subscribe(n=>{console.log(n);const a=new Blob([n],{}),d=window.URL.createObjectURL(a),s=document.createElement("a");s.href=d,s.download=`${o.fileName}`,s.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(d),s.remove()},100)})}previewFile(t){let o={...t.data,deviceNo:this.device.deviceNo};this.qaEquipmentMngSvc.previewFile(o).subscribe(n=>{let a=new Blob([n],{type:"application/pdf"});var d=URL.createObjectURL(a);window.open(d)})}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(k),e.rXU(f.nX),e.rXU(y.X7))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-qa-equipment-detail"]],decls:54,vars:18,consts:[["nzTitle","Th\xf4ng tin thi\u1ebft b\u1ecb"],["nzHeader","Th\xf4ng tin thi\u1ebft b\u1ecb",3,"nzActive"],["id","infoTable","nzBordered","","nzSize","small"],["nzTitle","T\xe0i li\u1ec7u li\xean quan"],["keyExpr","id",2,"margin-top","15px",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"visible"],["location","before"],["stylingMode","outlined","type","success","icon","plus","text","Th\xeam m\u1edbi",3,"click"],[3,"enabled"],["dataField","fileName","caption","T\xean"],["dataField","fileTypeName","caption","Lo\u1ea1i t\xe0i li\u1ec7u"],["dataField","createdByName","caption","Ng\u01b0\u1eddi upload"],["dataField","createdAt","dataType","date","caption","Th\u1eddi gian","format","yyyy-MM-dd HH:mm"],["caption","Action","cellTemplate","actionTemplate"],[4,"dxTemplate","dxTemplateOf"],["nzTitle","Upload file l\xean h\u1ec7 th\u1ed1ng",3,"nzVisible"],[4,"nzModalContent"],[3,"nzModalFooter"],[3,"click"],["style","color: green",3,"click",4,"ngIf"],[2,"color","green",3,"click"],["id","upload-tbl","nzBordered","","nzFrontPagination","false","nzSize","small",3,"nzData"],["width","30%"],["nzPlaceHolder","Ch\u1ecdn lo\u1ea1i t\xe0i li\u1ec7u",2,"width","100%",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzChange","nzAction","nzHeaders","nzDisabled","nzShowUploadList"],["nz-button",""],["nz-icon","","nzType","upload"],[3,"nzValue","nzLabel"],["nz-button","","nzType","default",3,"click"]],template:function(o,n){1&o&&(e.j41(0,"nz-tabset")(1,"nz-tab",0)(2,"nz-collapse")(3,"nz-collapse-panel",1)(4,"table",2)(5,"tbody")(6,"tr")(7,"td")(8,"label"),e.EFF(9,"Control No"),e.k0s()(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td")(13,"label"),e.EFF(14,"Name"),e.k0s()(),e.j41(15,"td"),e.EFF(16),e.k0s(),e.j41(17,"td")(18,"label"),e.EFF(19,"Serial No"),e.k0s()(),e.j41(20,"td"),e.EFF(21),e.k0s()(),e.j41(22,"tr")(23,"td")(24,"label"),e.EFF(25,"Type No"),e.k0s()(),e.j41(26,"td"),e.EFF(27),e.k0s(),e.j41(28,"td")(29,"label"),e.EFF(30,"Manufacturer"),e.k0s()(),e.j41(31,"td"),e.EFF(32),e.k0s(),e.j41(33,"td")(34,"label"),e.EFF(35,"Measuring's Range"),e.k0s()(),e.j41(36,"td"),e.EFF(37),e.k0s()()()()()()(),e.j41(38,"nz-tab",3)(39,"dx-data-grid",4),e.nrm(40,"dxo-filter-row",5),e.j41(41,"dxo-toolbar")(42,"dxi-item",6)(43,"dx-button",7),e.bIt("click",function(){return n.openUploadModal()}),e.k0s()()(),e.nrm(44,"dxo-column-fixing",8)(45,"dxi-column",9)(46,"dxi-column",10)(47,"dxi-column",11)(48,"dxi-column",12),e.j41(49,"dxi-column",13),e.DNE(50,se,4,1,"div",14),e.k0s()()()(),e.j41(51,"nz-modal",15),e.DNE(52,re,19,10,"ng-container",16)(53,pe,2,0,"ng-template",17),e.k0s()),2&o&&(e.R7$(3),e.Y8G("nzActive",!0),e.R7$(8),e.JRh(null==n.device?null:n.device.controlNo),e.R7$(5),e.JRh(null==n.device?null:n.device.equipmentName),e.R7$(5),e.JRh(null==n.device?null:n.device.serialNo),e.R7$(6),e.JRh(null==n.device?null:n.device.typeNo),e.R7$(5),e.JRh(null==n.device?null:n.device.manufacturer),e.R7$(5),e.JRh(null==n.device?null:n.device.rangeOfMeasuring),e.R7$(2),e.Y8G("dataSource",n.docs)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(4),e.Y8G("enabled",!0),e.R7$(6),e.Y8G("dxTemplateOf","actionTemplate"),e.R7$(),e.Y8G("nzVisible",n.isOpenUploadModal))},dependencies:[m.Sq,m.bT,g.BC,g.vS,z.s,p.Omo,p.nj_,p.CVf,p.FTx,p.KOr,F.eC,M.e,T.$W,u.F2,u.Oj,u.A9,h.aO,R.c,x.p,j.Dn,b.Vz,b.pc,r.CP,r.SO,r.aj,r.kt,E.JZ,E.rE,v.ld,v.WI],styles:["#infoTable[_ngcontent-%COMP%]{width:100%}#infoTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;border-collapse:collapse;padding:5px}#infoTable[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#2d2dda}#infoTable[_ngcontent-%COMP%]   #evaluate[_ngcontent-%COMP%]{text-align:center;font-weight:700}"]})}return i})();var me=l(45794);function ge(i,c){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"a",21),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.openEditDeviceModal(n))}),e.EFF(2,"Edit"),e.k0s()()}}function _e(i,c){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"table",22)(2,"tbody")(3,"tr")(4,"td")(5,"label"),e.EFF(6,"Control No"),e.k0s()(),e.j41(7,"td")(8,"input",23),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.deviceSelected.controlNo,n)||(a.deviceSelected.controlNo=n),e.Njj(n)}),e.k0s()(),e.j41(9,"td")(10,"label"),e.EFF(11,"Equipment name"),e.k0s()(),e.j41(12,"td")(13,"input",24),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.deviceSelected.equipmentName,n)||(a.deviceSelected.equipmentName=n),e.Njj(n)}),e.k0s()()(),e.j41(14,"tr")(15,"td")(16,"label"),e.EFF(17,"Serial No"),e.k0s()(),e.j41(18,"td")(19,"input",25),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.deviceSelected.serialNo,n)||(a.deviceSelected.serialNo=n),e.Njj(n)}),e.k0s()(),e.j41(20,"td")(21,"label"),e.EFF(22,"Type No"),e.k0s()(),e.j41(23,"td")(24,"input",26),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.deviceSelected.typeNo,n)||(a.deviceSelected.typeNo=n),e.Njj(n)}),e.k0s()()(),e.j41(25,"tr")(26,"td")(27,"label"),e.EFF(28,"Manufacturer"),e.k0s()(),e.j41(29,"td")(30,"input",27),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.deviceSelected.manufacturer,n)||(a.deviceSelected.manufacturer=n),e.Njj(n)}),e.k0s()(),e.j41(31,"td")(32,"label"),e.EFF(33,"Location"),e.k0s()(),e.j41(34,"td")(35,"input",28),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.deviceSelected.distributionLocation,n)||(a.deviceSelected.distributionLocation=n),e.Njj(n)}),e.k0s()()(),e.j41(36,"tr")(37,"td")(38,"label"),e.EFF(39,"Range Of Measuring"),e.k0s()(),e.j41(40,"td",29)(41,"textarea",30),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.deviceSelected.rangeOfMeasuring,n)||(a.deviceSelected.rangeOfMeasuring=n),e.Njj(n)}),e.k0s()()()()(),e.bVm()}if(2&i){const t=e.XpG();e.R7$(8),e.R50("ngModel",t.deviceSelected.controlNo),e.R7$(5),e.R50("ngModel",t.deviceSelected.equipmentName),e.R7$(6),e.R50("ngModel",t.deviceSelected.serialNo),e.R7$(5),e.R50("ngModel",t.deviceSelected.typeNo),e.R7$(6),e.R50("ngModel",t.deviceSelected.manufacturer),e.R7$(5),e.R50("ngModel",t.deviceSelected.distributionLocation),e.R7$(6),e.R50("ngModel",t.deviceSelected.rangeOfMeasuring)}}function he(i,c){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"button",31),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.handleCancel())}),e.EFF(2,"H\u1ee7y"),e.k0s(),e.j41(3,"button",32),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.handleOk())}),e.EFF(4,"L\u01b0u"),e.k0s()()}}const be=[{path:"menu",component:V},{path:"create-label",component:B},{path:"devices",component:ie},{path:"devices/:deviceId",component:ue},{path:"data",component:(()=>{class i{constructor(t,o,n){this.qaEquipmentMngSvc=t,this.jwtHelperSvc=o,this.toastr=n,this.isOpenEditDeviceModal=!1,this.deviceSelected={controlNo:null,equipmentName:null,serialNo:null,typeNo:null,manufacturer:null,distributionLocation:null,rangeOfMeasuring:null,createdAt:null,updatedAt:null}}ngOnInit(){this.getQaDevices()}getQaDevices(){this.qaEquipmentMngSvc.getQaDevices().subscribe(t=>{this.devices=t.reverse()})}openEditDeviceModal(t){if(!t)return this.modalTitle="Th\xeam thi\u1ebft b\u1ecb",void(this.isOpenEditDeviceModal=!0);this.deviceSelected={...t.data},this.modalTitle="S\u1eeda th\xf4ng tin thi\u1ebft b\u1ecb",this.isOpenEditDeviceModal=!0,console.log(this.deviceSelected)}handleCancel(){this.deviceSelected={controlNo:null,equipmentName:null,serialNo:null,typeNo:null,manufacturer:null,distributionLocation:null,rangeOfMeasuring:null,createdAt:null,updatedAt:null},this.isOpenEditDeviceModal=!1}handleOk(){this.qaEquipmentMngSvc.saveDeviceInfo(this.deviceSelected).subscribe(t=>{this.deviceSelected={controlNo:null,equipmentName:null,serialNo:null,typeNo:null,manufacturer:null,distributionLocation:null,rangeOfMeasuring:null,createdAt:null,updatedAt:null},this.getQaDevices(),this.toastr.success("OK","Success"),this.isOpenEditDeviceModal=!1})}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(k),e.rXU(y.X7),e.rXU(me.tw))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-qa-equipment-data"]],decls:23,vars:16,consts:[["columnChooser",""],["keyExpr","id",2,"margin-top","15px",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"enabled"],[3,"enabled","mode"],["location","before"],["stylingMode","contained","type","default","icon","plus","text","Th\xeam m\u1edbi",3,"click"],["name","exportButton"],["name","columnChooserButton"],[3,"visible"],["dataField","controlNo","caption","Control No"],["dataField","equipmentName","caption","Equipment Name"],["dataField","serialNo","caption","Serial No"],["dataField","typeNo","caption","Type No"],["dataField","manufacturer","caption","Manufacturer"],["dataField","rangeOfMeasuring","caption","Range Of Measuring"],["dataField","distributionLocation","caption","Distribution Location"],["fixedPosition","right","caption","Action","cellTemplate","actionTemplate",3,"fixed"],[4,"dxTemplate","dxTemplateOf"],["nzWidth","900px",3,"nzVisibleChange","nzVisible","nzTitle"],[4,"nzModalContent"],[4,"nzModalFooter"],[3,"click"],["id","deviceInfoTbl"],["nz-input","","placeholder","Control No",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Equipment name",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Serial No",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Type No",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Manufacturer",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Location",3,"ngModelChange","ngModel"],["colspan","3"],["rows","2","nz-input","",3,"ngModelChange","ngModel"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(o,n){if(1&o){const a=e.RV6();e.j41(0,"dx-data-grid",1),e.nrm(1,"dxo-column-fixing",2)(2,"dxo-export",2)(3,"dxo-column-chooser",3,0),e.j41(5,"dxo-toolbar")(6,"dxi-item",4)(7,"dx-button",5),e.bIt("click",function(){return e.eBV(a),e.Njj(n.openEditDeviceModal(null))}),e.k0s()(),e.nrm(8,"dxi-item",6)(9,"dxi-item",7),e.k0s(),e.nrm(10,"dxo-filter-row",8)(11,"dxi-column",9)(12,"dxi-column",10)(13,"dxi-column",11)(14,"dxi-column",12)(15,"dxi-column",13)(16,"dxi-column",14)(17,"dxi-column",15),e.j41(18,"dxi-column",16),e.DNE(19,ge,3,0,"div",17),e.k0s()(),e.j41(20,"nz-modal",18),e.mxI("nzVisibleChange",function(s){return e.eBV(a),e.DH7(n.isOpenEditDeviceModal,s)||(n.isOpenEditDeviceModal=s),e.Njj(s)}),e.DNE(21,_e,42,7,"ng-container",19)(22,he,5,0,"div",20),e.k0s()}2&o&&(e.Y8G("dataSource",n.devices)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("enabled",!0)("mode","select"),e.R7$(7),e.Y8G("visible",!0),e.R7$(8),e.Y8G("fixed",!0),e.R7$(),e.Y8G("dxTemplateOf","actionTemplate"),e.R7$(),e.R50("nzVisible",n.isOpenEditDeviceModal),e.Y8G("nzTitle",n.modalTitle))},dependencies:[g.me,g.BC,g.vS,z.s,p.i2Q,p.Omo,p.nj_,p.CVf,p.ZJU,p.FTx,p.KOr,F.eC,M.e,u.F2,u.Oj,u.A9,h.aO,R.c,x.p,r.SO,r.aj,r.kt,C.Sy],styles:["#deviceInfoTbl[_ngcontent-%COMP%]{width:100%}#deviceInfoTbl[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;border-collapse:collapse;padding:5px}#deviceInfoTbl[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#2d2dda}"]})}return i})()}];let fe=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({imports:[f.iI.forChild(be),f.iI,_.f3]})}return i})();var Ee=l(38927),ve=l(53606);let Ce=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({imports:[m.MD,g.YN,fe,q.f,z.N,S.T,F.xZ,M.L,N.j,T.SE,u.U6,h.Zw,j.Y3,b.GB,r.$G,E.hM,v.DH,C.j,L.g9,Ee.PQ,ve.t]})}return i})()}}]);