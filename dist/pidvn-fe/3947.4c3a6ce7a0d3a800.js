"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[3947],{33947:(ee,$,c)=>{c.r($),c.d($,{QaEquipmentMngModule:()=>be});var h=c(60177),U=c(45398),F=c(38296),A=c(24053),o=c(27380),y=c(33514),E=c(50513),O=c(74696),w=c(72544),z=c(43053),I=c(82358),q=c(3104),T=c(46661),k=c(45312),e=c(54438),D=c(21626);let j=(()=>{class i{constructor(n){this.httpClient=n,this.baseUrl=k.c.baseUrl}downloadTemplateCreateLabel(){return this.httpClient.post(`${this.baseUrl}/Qa/EquipmentMng/TemplateCreateLabel`,{},{responseType:"blob"})}getQaDocDevices(n){return this.httpClient.get(`${this.baseUrl}/Qa/EquipmentMng/QaDocDevices/${n}`)}getDocTypeDevices(){return this.httpClient.get(`${this.baseUrl}/Entity/QaDocTypeDevices`)}getQaDevices(){return this.httpClient.get(`${this.baseUrl}/Entity/QaDevices`)}getQaDeviceById(n){return this.httpClient.get(`${this.baseUrl}/Entity/QaDevices/${n}`)}getByDeviceNo(n){return this.httpClient.get(`${this.baseUrl}/Entity/QaDevices/GetByDeviceNo?deviceNo=${n}`)}previewFile(n){return this.httpClient.post(`${this.baseUrl}/Qa/EquipmentMng/Preview`,n,{responseType:"arraybuffer"})}downloadDocument(n){return this.httpClient.post(`${this.baseUrl}/Qa/EquipmentMng/Download`,n,{responseType:"blob"})}getDeviceInfo(n){return this.httpClient.get(`${this.baseUrl}/Qa/EquipmentMng/DeviceInfo?controlNo=${n}`)}printLabel(n,a){return this.httpClient.post(`${this.baseUrl}/Qa/EquipmentMng/PrintLabel?userId=${a}`,n)}deleteQaDocDevice(n){return this.httpClient.delete(`${this.baseUrl}/Qa/EquipmentMng/QaDocDevices?docDeviceId=${n}`)}saveDeviceInfo(n){return this.httpClient.post(`${this.baseUrl}/Qa/EquipmentMng/SaveDeviceInfo`,n)}static#e=this.\u0275fac=function(a){return new(a||i)(e.KVO(D.Qq))};static#n=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var x=c(37736),b=c(97529),L=c(16389),B=c(25930),_=c(23359);function Y(i,u){if(1&i){const n=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.printLabel())}),e.nrm(1,"span",11),e.EFF(2," In tem "),e.k0s()}2&i&&e.Y8G("nzType","primary")("useExistingCss",!0)}function H(i,u){if(1&i){const n=e.RV6();e.qex(0),e.j41(1,"nz-upload",12),e.bIt("nzChange",function(t){e.eBV(n);const l=e.XpG();return e.Njj(l.onUploadDataLabel(t))}),e.j41(2,"button",13),e.nrm(3,"span",14),e.EFF(4," Click to Upload "),e.k0s()(),e.bVm()}if(2&i){const n=e.XpG();e.R7$(),e.Y8G("nzAction",n.uploadFileApi)}}function W(i,u){if(1&i){const n=e.RV6();e.j41(0,"div")(1,"button",15),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.handleCancel())}),e.EFF(2,"\u0110\xf3ng"),e.k0s()()}}function J(i,u){if(1&i&&(e.j41(0,"table",16)(1,"thead")(2,"th",17)(3,"div"),e.EFF(4),e.k0s()()(),e.j41(5,"tbody")(6,"tr")(7,"td")(8,"span",18),e.EFF(9,"ID: "),e.k0s(),e.j41(10,"span",19),e.EFF(11),e.k0s()(),e.j41(12,"td",20)(13,"span",18),e.EFF(14,"By:"),e.k0s(),e.j41(15,"span",19),e.EFF(16),e.k0s()()(),e.j41(17,"tr")(18,"td",18)(19,"span",18),e.EFF(20,"Date: "),e.k0s(),e.j41(21,"span",19),e.EFF(22),e.nI1(23,"date"),e.k0s()(),e.j41(24,"td",21),e.nrm(25,"qrcode",22),e.k0s()(),e.j41(26,"tr")(27,"td",18)(28,"span",18),e.EFF(29,"Due: "),e.k0s(),e.j41(30,"span",19),e.EFF(31),e.nI1(32,"date"),e.k0s()()()()()),2&i){const n=u.$implicit;e.R7$(3),e.HbH("PIDVN"===n.by?"header-verification":"header-standard-measuring"),e.R7$(),e.SpI(" ","PIDVN"===n.by?"VERIFICATION":"STANDARD EQUIPMENT"," "),e.R7$(7),e.JRh(n.idNo),e.R7$(5),e.JRh(n.by),e.R7$(6),e.JRh(e.i5U(23,15,n.date,"dd-MMM-yyyy")),e.R7$(3),e.Y8G("qrdata",n.idNo)("allowEmptyString",!0)("cssClass","center")("elementType","img")("errorCorrectionLevel","Q")("margin",1)("scale",1)("width",20),e.R7$(6),e.JRh(e.i5U(32,18,n.due,"dd-MMM-yyyy"))}}let K=(()=>{class i{constructor(n,a){this.qaEquipmentMngSvc=n,this.jwtHelperSvc=a,this.isOpenUploadDataLabel=!1,this.baseUrl=k.c.baseUrl,this.uploadFileApi=""}ngOnInit(){}openUploadDataLabelModal(){this.isOpenUploadDataLabel=!0,this.uploadFileApi=`${this.baseUrl}/Qa/EquipmentMng/CreateLabel`}handleCancel(){this.isOpenUploadDataLabel=!1}onUploadDataLabel(n){console.log("Data in tem",n),this.labels=n.file.response}printLabel(){let n=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).UserId;this.qaEquipmentMngSvc.printLabel(this.labels,n).subscribe(a=>{console.log("Labels: ",a)})}downloadTemplateCreateLabel(){this.qaEquipmentMngSvc.downloadTemplateCreateLabel().subscribe(n=>{console.log(n);const a=new Blob([n],{}),t=window.URL.createObjectURL(a),l=document.createElement("a");l.href=t,l.download="Template_EquipmentLabelData.xlsx",l.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(t),l.remove()},100)})}static#e=this.\u0275fac=function(a){return new(a||i)(e.rXU(j),e.rXU(x.X7))};static#n=this.\u0275cmp=e.VBU({type:i,selectors:[["app-qa-equipment-label-create"]],decls:16,vars:6,consts:[["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzMd","12","nzLg","12"],["nz-button","","printSectionId","printLabel","ngxPrint","","style","background: green",3,"nzType","useExistingCss","click",4,"ngIf"],["nz-button","",2,"margin-left","5px",3,"click","nzType"],["nz-icon","","nzType","cloud-download"],["nzTitle","Upload d\u1eef li\u1ec7u t\u1ea1o tem",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["id","printLabel"],["class","calibration-label","style","width: 3.2cm",4,"ngFor","ngForOf"],["nz-button","","printSectionId","printLabel","ngxPrint","",2,"background","green",3,"click","nzType","useExistingCss"],["nz-icon","","nzType","printer"],[3,"nzChange","nzAction"],["nz-button",""],["nz-icon","","nzType","upload"],["nz-button","","nzType","default",3,"click"],[1,"calibration-label",2,"width","3.2cm"],["colSpan","5"],[1,"title"],[1,"value"],[2,"border-left","1px solid #ccc","width","20%"],["rowspan","2",1,"value",2,"border-top","1px solid #ccc","border-left","1px solid #ccc","text-align","center"],[3,"qrdata","allowEmptyString","cssClass","elementType","errorCorrectionLevel","margin","scale","width"]],template:function(a,t){1&a&&(e.j41(0,"div",0)(1,"div",1),e.DNE(2,Y,3,2,"button",2),e.j41(3,"button",3),e.bIt("click",function(){return t.openUploadDataLabelModal()}),e.j41(4,"span"),e.EFF(5,"Upload d\u1eef li\u1ec7u tem"),e.k0s()(),e.j41(6,"button",3),e.bIt("click",function(){return t.downloadTemplateCreateLabel()}),e.nrm(7,"span",4),e.EFF(8," Download template "),e.k0s()(),e.nrm(9,"div",1),e.k0s(),e.j41(10,"nz-modal",5),e.mxI("nzVisibleChange",function(f){return e.DH7(t.isOpenUploadDataLabel,f)||(t.isOpenUploadDataLabel=f),f}),e.DNE(11,H,5,1,"ng-container",6)(12,W,3,0,"div",7),e.k0s(),e.nrm(13,"hr"),e.j41(14,"div",8),e.DNE(15,J,33,21,"table",9),e.k0s()),2&a&&(e.Y8G("nzGutter",8),e.R7$(2),e.Y8G("ngIf",t.labels),e.R7$(),e.Y8G("nzType","primary"),e.R7$(3),e.Y8G("nzType","default"),e.R7$(4),e.R50("nzVisible",t.isOpenUploadDataLabel),e.R7$(5),e.Y8G("ngForOf",t.labels))},dependencies:[h.Sq,h.bT,b.Uq,b.e,U.c,q.G,I.$W,z.F2,z.Oj,z.A9,E.aO,L.c,B.p,w.Dn,_.SO,_._4,_.IL,_.aj,_.kt,h.vh],styles:[".calibration-label[_ngcontent-%COMP%]{border:1px solid black;border-collapse:collapse;font-size:7px;float:left;margin:2px;width:150px}.calibration-label[_ngcontent-%COMP%]   .header-verification[_ngcontent-%COMP%]{background:red;color:#fff;-webkit-print-color-adjust:exact;print-color-adjust:exact}.calibration-label[_ngcontent-%COMP%]   .header-standard-measuring[_ngcontent-%COMP%]{background:#00f;color:#fff;-webkit-print-color-adjust:exact;print-color-adjust:exact}.calibration-label[_ngcontent-%COMP%]   .value[_ngcontent-%COMP%]{color:#00f;font-style:italic}"]})}return i})(),Z=(()=>{class i{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(a){return new(a||i)};static#n=this.\u0275cmp=e.VBU({type:i,selectors:[["app-qa-equipment-menu"]],decls:22,vars:1,consts:[["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","12","nzMd","12","nzLg","6"],["routerLink","/admin/qa/qa-equipment-mng/create-label",1,"item","qa-card"],["src","./../../../../../../assets/images/printer.png","alt",""],["routerLink","/admin/qa/qa-equipment-mng/devices",1,"item","data"],["src","./../../../../../../assets/images/traceability.png","alt",""],["routerLink","/admin/qa/qa-equipment-mng/data",1,"item","add"],["src",".//../../../../../assets/images/add-item.png","alt",""]],template:function(a,t){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"img",3),e.j41(4,"h6"),e.EFF(5,"T\u1ea1o tem hi\u1ec7u chu\u1ea9n"),e.k0s(),e.j41(6,"h4"),e.EFF(7,"Create Label"),e.k0s()()(),e.j41(8,"div",1)(9,"div",4),e.nrm(10,"img",5),e.j41(11,"h6"),e.EFF(12,"T\xecm ki\u1ebfm thi\u1ebft b\u1ecb"),e.k0s(),e.j41(13,"h4"),e.EFF(14,"Devices"),e.k0s()()(),e.j41(15,"div",1)(16,"div",6),e.nrm(17,"img",7),e.j41(18,"h6"),e.EFF(19,"Qu\u1ea3n l\xfd thi\u1ebft b\u1ecb"),e.k0s(),e.j41(20,"h4"),e.EFF(21,"Devices Manager"),e.k0s()()()()),2&a&&e.Y8G("nzGutter",8)},dependencies:[T.Wk,b.Uq,b.e],styles:[".item[_ngcontent-%COMP%]{text-align:center;border:1px solid #ccc;padding:15px 10px}.item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#fff}.item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:15px;font-size:18px;color:#fff;font-weight:700}.add[_ngcontent-%COMP%]{background:#e07e37;cursor:pointer}.qa-card[_ngcontent-%COMP%]{background:#63d171;cursor:pointer}.data[_ngcontent-%COMP%]{background:#3498db;cursor:pointer}"]})}return i})();var C=c(89417),g=c(31837),R=c(9541),N=c(1997),P=c(21011),G=c(72874);const V=["qrIpt"],X=()=>[""],s=()=>({authorization:"authorization-text"}),M=()=>({showPreviewIcon:!1,showRemoveIcon:!1,showDownloadIcon:!1});function r(i,u){if(1&i){const n=e.RV6();e.j41(0,"span",13),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onSearch())}),e.k0s()}}function d(i,u){if(1&i){const n=e.RV6();e.j41(0,"a",30),e.bIt("click",function(){e.eBV(n);const t=e.XpG(2).$implicit,l=e.XpG(2);return e.Njj(l.previewFile(t))}),e.EFF(1," Preview "),e.k0s()}}function p(i,u){if(1&i){const n=e.RV6();e.j41(0,"div")(1,"a",27),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,l=e.XpG(2);return e.Njj(l.downloadDocument(t))}),e.EFF(2,"T\u1ea3i xu\u1ed1ng"),e.k0s(),e.EFF(3," | "),e.DNE(4,d,2,0,"a",28),e.EFF(5," | "),e.j41(6,"a",29),e.bIt("nzOnConfirm",function(){e.eBV(n);const t=e.XpG().$implicit,l=e.XpG(2);return e.Njj(l.deleteFile(t))}),e.EFF(7," X\xf3a "),e.k0s()()}if(2&i){const n=e.XpG().$implicit;e.R7$(4),e.Y8G("ngIf","application/pdf"===n.data.fileFormat)}}function v(i,u){1&i&&(e.j41(0,"div")(1,"a",31),e.EFF(2,"File \u0111\xe3 b\u1ecb x\xf3a"),e.k0s()())}function S(i,u){if(1&i&&(e.j41(0,"div"),e.DNE(1,p,8,1,"div",9)(2,v,3,0,"div",9),e.k0s()),2&i){const n=u.$implicit;e.R7$(),e.Y8G("ngIf",1!==n.data.isDelete),e.R7$(),e.Y8G("ngIf",1==n.data.isDelete)}}function Q(i,u){if(1&i){const n=e.RV6();e.j41(0,"nz-tabset")(1,"nz-tab",14)(2,"nz-table",15)(3,"tbody")(4,"tr")(5,"td")(6,"label"),e.EFF(7,"Control No"),e.k0s()(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td")(11,"label"),e.EFF(12,"Name"),e.k0s()(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td")(16,"label"),e.EFF(17,"Serial No"),e.k0s()(),e.j41(18,"td"),e.EFF(19),e.k0s()(),e.j41(20,"tr")(21,"td")(22,"label"),e.EFF(23,"Type No"),e.k0s()(),e.j41(24,"td"),e.EFF(25),e.k0s(),e.j41(26,"td")(27,"label"),e.EFF(28,"Manufacturer"),e.k0s()(),e.j41(29,"td"),e.EFF(30),e.k0s(),e.j41(31,"td")(32,"label"),e.EFF(33,"Measuring's Range"),e.k0s()(),e.j41(34,"td"),e.EFF(35),e.k0s()(),e.j41(36,"tr")(37,"td")(38,"label"),e.EFF(39,"Location"),e.k0s()(),e.j41(40,"td"),e.EFF(41),e.k0s(),e.j41(42,"td")(43,"label"),e.EFF(44,"Date"),e.k0s()(),e.j41(45,"td"),e.EFF(46),e.nI1(47,"date"),e.k0s(),e.j41(48,"td")(49,"label"),e.EFF(50,"Due"),e.k0s()(),e.j41(51,"td"),e.EFF(52),e.nI1(53,"date"),e.k0s()(),e.j41(54,"tr")(55,"td")(56,"label"),e.EFF(57,"Calibration By"),e.k0s()(),e.j41(58,"td"),e.EFF(59),e.k0s()()()()(),e.j41(60,"nz-tab",16)(61,"dx-data-grid",17),e.bIt("onRowPrepared",function(t){e.eBV(n);const l=e.XpG();return e.Njj(l.onRowPrepared(t))}),e.nrm(62,"dxo-filter-row",18),e.j41(63,"dxo-toolbar")(64,"dxi-item",19)(65,"dx-button",20),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.openUploadModal())}),e.k0s()()(),e.nrm(66,"dxo-column-fixing",21)(67,"dxi-column",22)(68,"dxi-column",23)(69,"dxi-column",24),e.j41(70,"dxi-column",25),e.DNE(71,S,3,2,"div",26),e.k0s()()()()}if(2&i){const n=e.XpG();e.R7$(2),e.Y8G("nzData",e.lJ4(27,X)),e.R7$(7),e.JRh(n.deviceInfo.info.controlNo),e.R7$(5),e.JRh(n.deviceInfo.info.equipmentName),e.R7$(5),e.JRh(n.deviceInfo.info.serialNo),e.R7$(6),e.JRh(n.deviceInfo.info.typeNo),e.R7$(5),e.JRh(n.deviceInfo.info.manufacturer),e.R7$(5),e.JRh(n.deviceInfo.info.rangeOfMeasuring),e.R7$(6),e.JRh(n.deviceInfo.info.distributionLocation),e.R7$(5),e.JRh(e.i5U(47,21,n.deviceInfo.info.date,"dd-MMM-yyyy")),e.R7$(6),e.JRh(e.i5U(53,24,n.deviceInfo.info.due,"dd-MMM-yyyy")),e.R7$(7),e.JRh(n.deviceInfo.info.calibrationUnit),e.R7$(2),e.Y8G("dataSource",n.deviceInfo.documents)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(4),e.Y8G("enabled",!0),e.R7$(5),e.Y8G("dxTemplateOf","actionTemplate")}}function ne(i,u){if(1&i&&e.nrm(0,"nz-option",39),2&i){const n=u.$implicit;e.Y8G("nzValue",n.id)("nzLabel",n.name)}}function te(i,u){if(1&i){const n=e.RV6();e.qex(0),e.j41(1,"nz-table",32)(2,"tbody")(3,"tr")(4,"td",33)(5,"label"),e.EFF(6,"Lo\u1ea1i t\xe0i li\u1ec7u"),e.k0s()(),e.j41(7,"td")(8,"nz-select",34),e.mxI("ngModelChange",function(t){e.eBV(n);const l=e.XpG();return e.DH7(l.fileTypeSelected,t)||(l.fileTypeSelected=t),e.Njj(t)}),e.bIt("ngModelChange",function(t){e.eBV(n);const l=e.XpG();return e.Njj(l.onChangeFileType(t))}),e.DNE(9,ne,1,2,"nz-option",35),e.k0s()()(),e.j41(10,"tr")(11,"td")(12,"label"),e.EFF(13,"File upload"),e.k0s()(),e.j41(14,"td")(15,"nz-upload",36)(16,"button",37),e.nrm(17,"span",38),e.EFF(18," Ch\u1ecdn file upload l\xean h\u1ec7 th\u1ed1ng "),e.k0s()()()()()(),e.bVm()}if(2&i){const n=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(7,X)),e.R7$(7),e.R50("ngModel",n.fileTypeSelected),e.R7$(),e.Y8G("ngForOf",n.fileTypes),e.R7$(6),e.Y8G("nzAction",n.fileUploadApi)("nzHeaders",e.lJ4(8,s))("nzDisabled",!n.fileTypeSelected)("nzShowUploadList",e.lJ4(9,M))}}function oe(i,u){if(1&i){const n=e.RV6();e.j41(0,"button",40),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.closeUploadModal())}),e.EFF(1," \u0110\xf3ng "),e.k0s()}}let ie=(()=>{class i{constructor(n,a,t){this.qaEquipmentMngSvc=n,this.router=a,this.jwtHelperSvc=t,this.baseUrl=k.c.baseUrl,this.docs=[],this.fileTypeSelected=1,this.isOpenUploadModal=!1}ngOnInit(){this.user=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).Username,this.getDocTypeDevices()}scanLabel(n){this.qaEquipmentMngSvc.getDeviceInfo(n.target.value).subscribe(a=>{this.deviceInfo=a,this.qrIpt.nativeElement.select(),this.fileUploadApi=`${this.baseUrl}/Qa/EquipmentMng/Upload?controlNo=${this.deviceInfo?.info.controlNo}&deviceId=${this.deviceInfo?.info.id}&fileType=${this.fileTypeSelected}&createdBy=${this.user}`})}onSearch(){this.scanLabel({target:{value:this.deviceSearch}})}openUploadModal(){this.isOpenUploadModal=!0}previewFile(n){let a={...n.data,deviceNo:this.deviceInfo.controlNo};this.qaEquipmentMngSvc.previewFile(a).subscribe(t=>{let l=new Blob([t],{type:"application/pdf"});var f=URL.createObjectURL(l);window.open(f)})}downloadDocument(n){let a={...n.data,deviceNo:this.deviceInfo.controlNo};this.qaEquipmentMngSvc.downloadDocument(a).subscribe(t=>{console.log(t);const l=new Blob([t],{}),f=window.URL.createObjectURL(l),m=document.createElement("a");m.href=f,m.download=`${a.fileName}`,m.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(f),m.remove()},100)})}onChangeFileType(n){this.fileUploadApi=`${this.baseUrl}/Qa/EquipmentMng/Upload?controlNo=${this.deviceInfo?.info.controlNo}&deviceId=${this.deviceInfo?.info.id}&fileType=${this.fileTypeSelected}&createdBy=${this.user}`,console.log("this.fileUploadApi: ",this.fileUploadApi)}closeUploadModal(){this.isOpenUploadModal=!1,this.fileUploadApi="",this.scanLabel({target:{value:this.deviceInfo?.info.controlNo}})}getDocTypeDevices(){this.qaEquipmentMngSvc.getDocTypeDevices().subscribe(n=>{this.fileTypes=n})}deleteFile(n){console.log("deleteFile: ",n.data),this.qaEquipmentMngSvc.deleteQaDocDevice(n.data.id).subscribe(a=>{this.scanLabel({target:{value:this.deviceInfo?.info.controlNo}})})}onRowPrepared(n){console.log("onRowPrepared: ",n),"data"===n.rowType&&1===n.data.isDelete&&(n.rowElement.style.backgroundColor="#ccc",n.rowElement.style.color="#939393",n.rowElement.classList.add("my-class"),n.rowElement.className=n.rowElement.className.replace("dx-row-alt",""))}static#e=this.\u0275fac=function(a){return new(a||i)(e.rXU(j),e.rXU(T.Ix),e.rXU(x.X7))};static#n=this.\u0275cmp=e.VBU({type:i,selectors:[["app-qa-equipment-list"]],viewQuery:function(a,t){if(1&a&&e.GBs(V,5),2&a){let l;e.mGM(l=e.lsd())&&(t.qrIpt=l.first)}},decls:20,vars:6,consts:[["qrIpt",""],["suffixIconSearch",""],["nzHeader","Scan tem thi\u1ebft b\u1ecb",3,"nzActive"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","12"],["id","scanTbl"],[2,"font-weight","bold"],[3,"nzSuffix"],["nz-input","","placeholder","Scan m\xe3 QR code","autocomplete","off",3,"keydown.enter","click","ngModelChange","ngModel"],[4,"ngIf"],["nzTitle","Upload file l\xean h\u1ec7 th\u1ed1ng",3,"nzVisible"],[4,"nzModalContent"],[3,"nzModalFooter"],["nz-icon","","nzType","search",3,"click"],["nzTitle","Th\xf4ng tin"],["id","infoTable","nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData"],["nzTitle","Report"],["keyExpr","id",2,"margin-top","15px",3,"onRowPrepared","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"visible"],["location","before"],["stylingMode","outlined","type","success","icon","plus","text","Th\xeam m\u1edbi",3,"click"],[3,"enabled"],["dataField","fileName","caption","T\xean"],["dataField","fileTypeName","caption","Lo\u1ea1i t\xe0i li\u1ec7u"],["dataField","createdByName","caption","Ng\u01b0\u1eddi upload"],["caption","Action","cellTemplate","actionTemplate"],[4,"dxTemplate","dxTemplateOf"],[3,"click"],["style","color: green",3,"click",4,"ngIf"],["nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a ?","nzPopconfirmPlacement","topRight",2,"color","red",3,"nzOnConfirm"],[2,"color","green",3,"click"],[2,"color","#939393"],["id","upload-tbl","nzBordered","","nzFrontPagination","false","nzSize","small",3,"nzData"],["width","30%"],["nzPlaceHolder","Ch\u1ecdn lo\u1ea1i t\xe0i li\u1ec7u",2,"width","100%",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzAction","nzHeaders","nzDisabled","nzShowUploadList"],["nz-button",""],["nz-icon","","nzType","upload"],[3,"nzValue","nzLabel"],["nz-button","","nzType","default",3,"click"]],template:function(a,t){if(1&a){const l=e.RV6();e.j41(0,"nz-collapse")(1,"nz-collapse-panel",2)(2,"div",3)(3,"div",4)(4,"table",5)(5,"tbody")(6,"tr")(7,"td")(8,"label",6),e.EFF(9,"M\xe3 QR code"),e.k0s()(),e.j41(10,"td")(11,"nz-input-group",7)(12,"input",8,0),e.bIt("keydown.enter",function(m){return e.eBV(l),e.Njj(t.scanLabel(m))})("click",function(){e.eBV(l);const m=e.sdS(13);return e.Njj(m.select())}),e.mxI("ngModelChange",function(m){return e.eBV(l),e.DH7(t.deviceSearch,m)||(t.deviceSearch=m),e.Njj(m)}),e.k0s()(),e.DNE(14,r,1,0,"ng-template",null,1,e.C5r),e.k0s()()()()()()()(),e.DNE(16,Q,72,28,"nz-tabset",9),e.j41(17,"nz-modal",10),e.DNE(18,te,19,10,"ng-container",11)(19,oe,2,0,"ng-template",12),e.k0s()}if(2&a){const l=e.sdS(15);e.R7$(),e.Y8G("nzActive",!0),e.R7$(),e.Y8G("nzGutter",24),e.R7$(9),e.Y8G("nzSuffix",l),e.R7$(),e.R50("ngModel",t.deviceSearch),e.R7$(4),e.Y8G("ngIf",null==t.deviceInfo?null:t.deviceInfo.info),e.R7$(),e.Y8G("nzVisible",t.isOpenUploadModal)}},dependencies:[h.Sq,h.bT,C.me,C.BC,C.vS,b.Uq,b.e,F.s,g.Omo,g.nj_,g.CVf,g.FTx,g.KOr,o.eC,y.e,I.$W,z.F2,z.Oj,z.A9,E.aO,L.c,B.p,w.Dn,O.Vz,O.pc,_.CP,_.SO,_.aj,_.kt,R.JZ,R.rE,N.ld,N.WI,P.Sy,P.tg,P.vN,G.PV,h.vh],styles:[".dx-datagrid-rowsview[_ngcontent-%COMP%]   .dx-selection.dx-row[_ngcontent-%COMP%]:not(.dx-row-focused):not(.dx-row-removed) > td[_ngcontent-%COMP%]{background-color:#ccc;color:red}#scanTbl[_ngcontent-%COMP%]{width:100%}#scanTbl[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;border-collapse:collapse;padding:5px}#scanTbl[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#2d2dda}#scanTbl[_ngcontent-%COMP%]   #evaluate[_ngcontent-%COMP%]{text-align:center;font-weight:700}#infoTable[_ngcontent-%COMP%]{width:100%}#infoTable[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#2d2dda}#infoTable[_ngcontent-%COMP%]   #evaluate[_ngcontent-%COMP%]{text-align:center;font-weight:700}"]})}return i})();const ae=()=>[""],le=()=>({authorization:"authorization-text"}),ce=()=>({showPreviewIcon:!1,showRemoveIcon:!1,showDownloadIcon:!1});function re(i,u){if(1&i){const n=e.RV6();e.j41(0,"a",20),e.bIt("click",function(){e.eBV(n);const t=e.XpG().$implicit,l=e.XpG();return e.Njj(l.previewFile(t))}),e.EFF(1," | Preview "),e.k0s()}}function se(i,u){if(1&i){const n=e.RV6();e.j41(0,"div")(1,"a",18),e.bIt("click",function(){const t=e.eBV(n).$implicit,l=e.XpG();return e.Njj(l.downloadDocument(t))}),e.EFF(2,"T\u1ea3i xu\u1ed1ng"),e.k0s(),e.DNE(3,re,2,0,"a",19),e.k0s()}if(2&i){const n=u.$implicit;e.R7$(3),e.Y8G("ngIf","application/pdf"===n.data.fileFormat)}}function de(i,u){if(1&i&&e.nrm(0,"nz-option",28),2&i){const n=u.$implicit;e.Y8G("nzValue",n.id)("nzLabel",n.name)}}function pe(i,u){if(1&i){const n=e.RV6();e.qex(0),e.j41(1,"nz-table",21)(2,"tbody")(3,"tr")(4,"td",22)(5,"label"),e.EFF(6,"Lo\u1ea1i t\xe0i li\u1ec7u"),e.k0s()(),e.j41(7,"td")(8,"nz-select",23),e.mxI("ngModelChange",function(t){e.eBV(n);const l=e.XpG();return e.DH7(l.fileTypeSelected,t)||(l.fileTypeSelected=t),e.Njj(t)}),e.bIt("ngModelChange",function(t){e.eBV(n);const l=e.XpG();return e.Njj(l.onChangeFileType(t))}),e.DNE(9,de,1,2,"nz-option",24),e.k0s()()(),e.j41(10,"tr")(11,"td")(12,"label"),e.EFF(13,"File upload"),e.k0s()(),e.j41(14,"td")(15,"nz-upload",25),e.bIt("nzChange",function(t){e.eBV(n);const l=e.XpG();return e.Njj(l.nzChangeUpload(t))}),e.j41(16,"button",26),e.nrm(17,"span",27),e.EFF(18," Ch\u1ecdn file upload l\xean h\u1ec7 th\u1ed1ng "),e.k0s()()()()()(),e.bVm()}if(2&i){const n=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(7,ae)),e.R7$(7),e.R50("ngModel",n.fileTypeSelected),e.R7$(),e.Y8G("ngForOf",n.fileTypes),e.R7$(6),e.Y8G("nzAction",n.fileUploadApi)("nzHeaders",e.lJ4(8,le))("nzDisabled",!n.fileTypeSelected)("nzShowUploadList",e.lJ4(9,ce))}}function ue(i,u){if(1&i){const n=e.RV6();e.j41(0,"button",29),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.closeUploadModal())}),e.EFF(1," \u0110\xf3ng "),e.k0s()}}let me=(()=>{class i{constructor(n,a,t){this.qaEquipmentMngSvc=n,this.activatedRoute=a,this.jwtHelperSvc=t,this.baseUrl=k.c.baseUrl,this.isOpenUploadModal=!1,this.docs=[]}ngOnInit(){this.user=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;let n=this.activatedRoute.snapshot.paramMap.get("deviceId");this.getDeviceById(n),this.getDocTypeDevices(),this.getQaDocDevices(n)}getDeviceById(n){this.qaEquipmentMngSvc.getQaDeviceById(n).subscribe(a=>{this.device=a})}getQaDocDevices(n){this.qaEquipmentMngSvc.getQaDocDevices(n).subscribe(a=>{this.docs=a.reverse(),console.log("getQaDocDevices: ",a)})}getDocTypeDevices(){this.qaEquipmentMngSvc.getDocTypeDevices().subscribe(n=>{this.fileTypes=n})}nzChangeUpload(n){}openUploadModal(){this.isOpenUploadModal=!0}closeUploadModal(){this.isOpenUploadModal=!1,this.fileUploadApi="",this.fileTypeSelected=null,this.getQaDocDevices(this.device.id)}onChangeFileType(n){this.fileUploadApi=`${this.baseUrl}/Qa/EquipmentMng/Upload?controlNo=${this.device?.controlNo}&deviceId=${this.device?.id}&fileType=${this.fileTypeSelected}&createdBy=${this.user}`}downloadDocument(n){let a={...n.data,deviceNo:this.device.deviceNo};this.qaEquipmentMngSvc.downloadDocument(a).subscribe(t=>{console.log(t);const l=new Blob([t],{}),f=window.URL.createObjectURL(l),m=document.createElement("a");m.href=f,m.download=`${a.fileName}`,m.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(f),m.remove()},100)})}previewFile(n){let a={...n.data,deviceNo:this.device.deviceNo};this.qaEquipmentMngSvc.previewFile(a).subscribe(t=>{let l=new Blob([t],{type:"application/pdf"});var f=URL.createObjectURL(l);window.open(f)})}static#e=this.\u0275fac=function(a){return new(a||i)(e.rXU(j),e.rXU(T.nX),e.rXU(x.X7))};static#n=this.\u0275cmp=e.VBU({type:i,selectors:[["app-qa-equipment-detail"]],decls:54,vars:18,consts:[["nzTitle","Th\xf4ng tin thi\u1ebft b\u1ecb"],["nzHeader","Th\xf4ng tin thi\u1ebft b\u1ecb",3,"nzActive"],["id","infoTable","nzBordered","","nzSize","small"],["nzTitle","T\xe0i li\u1ec7u li\xean quan"],["keyExpr","id",2,"margin-top","15px",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"visible"],["location","before"],["stylingMode","outlined","type","success","icon","plus","text","Th\xeam m\u1edbi",3,"click"],[3,"enabled"],["dataField","fileName","caption","T\xean"],["dataField","fileTypeName","caption","Lo\u1ea1i t\xe0i li\u1ec7u"],["dataField","createdByName","caption","Ng\u01b0\u1eddi upload"],["dataField","createdAt","dataType","date","caption","Th\u1eddi gian","format","yyyy-MM-dd HH:mm"],["caption","Action","cellTemplate","actionTemplate"],[4,"dxTemplate","dxTemplateOf"],["nzTitle","Upload file l\xean h\u1ec7 th\u1ed1ng",3,"nzVisible"],[4,"nzModalContent"],[3,"nzModalFooter"],[3,"click"],["style","color: green",3,"click",4,"ngIf"],[2,"color","green",3,"click"],["id","upload-tbl","nzBordered","","nzFrontPagination","false","nzSize","small",3,"nzData"],["width","30%"],["nzPlaceHolder","Ch\u1ecdn lo\u1ea1i t\xe0i li\u1ec7u",2,"width","100%",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzChange","nzAction","nzHeaders","nzDisabled","nzShowUploadList"],["nz-button",""],["nz-icon","","nzType","upload"],[3,"nzValue","nzLabel"],["nz-button","","nzType","default",3,"click"]],template:function(a,t){1&a&&(e.j41(0,"nz-tabset")(1,"nz-tab",0)(2,"nz-collapse")(3,"nz-collapse-panel",1)(4,"table",2)(5,"tbody")(6,"tr")(7,"td")(8,"label"),e.EFF(9,"Control No"),e.k0s()(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td")(13,"label"),e.EFF(14,"Name"),e.k0s()(),e.j41(15,"td"),e.EFF(16),e.k0s(),e.j41(17,"td")(18,"label"),e.EFF(19,"Serial No"),e.k0s()(),e.j41(20,"td"),e.EFF(21),e.k0s()(),e.j41(22,"tr")(23,"td")(24,"label"),e.EFF(25,"Type No"),e.k0s()(),e.j41(26,"td"),e.EFF(27),e.k0s(),e.j41(28,"td")(29,"label"),e.EFF(30,"Manufacturer"),e.k0s()(),e.j41(31,"td"),e.EFF(32),e.k0s(),e.j41(33,"td")(34,"label"),e.EFF(35,"Measuring's Range"),e.k0s()(),e.j41(36,"td"),e.EFF(37),e.k0s()()()()()()(),e.j41(38,"nz-tab",3)(39,"dx-data-grid",4),e.nrm(40,"dxo-filter-row",5),e.j41(41,"dxo-toolbar")(42,"dxi-item",6)(43,"dx-button",7),e.bIt("click",function(){return t.openUploadModal()}),e.k0s()()(),e.nrm(44,"dxo-column-fixing",8)(45,"dxi-column",9)(46,"dxi-column",10)(47,"dxi-column",11)(48,"dxi-column",12),e.j41(49,"dxi-column",13),e.DNE(50,se,4,1,"div",14),e.k0s()()()(),e.j41(51,"nz-modal",15),e.DNE(52,pe,19,10,"ng-container",16)(53,ue,2,0,"ng-template",17),e.k0s()),2&a&&(e.R7$(3),e.Y8G("nzActive",!0),e.R7$(8),e.JRh(null==t.device?null:t.device.controlNo),e.R7$(5),e.JRh(null==t.device?null:t.device.equipmentName),e.R7$(5),e.JRh(null==t.device?null:t.device.serialNo),e.R7$(6),e.JRh(null==t.device?null:t.device.typeNo),e.R7$(5),e.JRh(null==t.device?null:t.device.manufacturer),e.R7$(5),e.JRh(null==t.device?null:t.device.rangeOfMeasuring),e.R7$(2),e.Y8G("dataSource",t.docs)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(4),e.Y8G("enabled",!0),e.R7$(6),e.Y8G("dxTemplateOf","actionTemplate"),e.R7$(),e.Y8G("nzVisible",t.isOpenUploadModal))},dependencies:[h.Sq,h.bT,C.BC,C.vS,F.s,g.Omo,g.nj_,g.CVf,g.FTx,g.KOr,o.eC,y.e,I.$W,z.F2,z.Oj,z.A9,E.aO,L.c,B.p,w.Dn,O.Vz,O.pc,_.CP,_.SO,_.aj,_.kt,R.JZ,R.rE,N.ld,N.WI],styles:["#infoTable[_ngcontent-%COMP%]{width:100%}#infoTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;border-collapse:collapse;padding:5px}#infoTable[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#2d2dda}#infoTable[_ngcontent-%COMP%]   #evaluate[_ngcontent-%COMP%]{text-align:center;font-weight:700}"]})}return i})();var _e=c(45794);function ge(i,u){if(1&i){const n=e.RV6();e.j41(0,"div")(1,"a",21),e.bIt("click",function(){const t=e.eBV(n).$implicit,l=e.XpG();return e.Njj(l.openEditDeviceModal(t))}),e.EFF(2,"Edit"),e.k0s()()}}function fe(i,u){if(1&i){const n=e.RV6();e.qex(0),e.j41(1,"table",22)(2,"tbody")(3,"tr")(4,"td")(5,"label"),e.EFF(6,"Control No"),e.k0s()(),e.j41(7,"td")(8,"input",23),e.mxI("ngModelChange",function(t){e.eBV(n);const l=e.XpG();return e.DH7(l.deviceSelected.controlNo,t)||(l.deviceSelected.controlNo=t),e.Njj(t)}),e.k0s()(),e.j41(9,"td")(10,"label"),e.EFF(11,"Equipment name"),e.k0s()(),e.j41(12,"td")(13,"input",24),e.mxI("ngModelChange",function(t){e.eBV(n);const l=e.XpG();return e.DH7(l.deviceSelected.equipmentName,t)||(l.deviceSelected.equipmentName=t),e.Njj(t)}),e.k0s()()(),e.j41(14,"tr")(15,"td")(16,"label"),e.EFF(17,"Serial No"),e.k0s()(),e.j41(18,"td")(19,"input",25),e.mxI("ngModelChange",function(t){e.eBV(n);const l=e.XpG();return e.DH7(l.deviceSelected.serialNo,t)||(l.deviceSelected.serialNo=t),e.Njj(t)}),e.k0s()(),e.j41(20,"td")(21,"label"),e.EFF(22,"Type No"),e.k0s()(),e.j41(23,"td")(24,"input",26),e.mxI("ngModelChange",function(t){e.eBV(n);const l=e.XpG();return e.DH7(l.deviceSelected.typeNo,t)||(l.deviceSelected.typeNo=t),e.Njj(t)}),e.k0s()()(),e.j41(25,"tr")(26,"td")(27,"label"),e.EFF(28,"Manufacturer"),e.k0s()(),e.j41(29,"td")(30,"input",27),e.mxI("ngModelChange",function(t){e.eBV(n);const l=e.XpG();return e.DH7(l.deviceSelected.manufacturer,t)||(l.deviceSelected.manufacturer=t),e.Njj(t)}),e.k0s()(),e.j41(31,"td")(32,"label"),e.EFF(33,"Location"),e.k0s()(),e.j41(34,"td")(35,"input",28),e.mxI("ngModelChange",function(t){e.eBV(n);const l=e.XpG();return e.DH7(l.deviceSelected.distributionLocation,t)||(l.deviceSelected.distributionLocation=t),e.Njj(t)}),e.k0s()()(),e.j41(36,"tr")(37,"td")(38,"label"),e.EFF(39,"Range Of Measuring"),e.k0s()(),e.j41(40,"td",29)(41,"textarea",30),e.mxI("ngModelChange",function(t){e.eBV(n);const l=e.XpG();return e.DH7(l.deviceSelected.rangeOfMeasuring,t)||(l.deviceSelected.rangeOfMeasuring=t),e.Njj(t)}),e.k0s()()()()(),e.bVm()}if(2&i){const n=e.XpG();e.R7$(8),e.R50("ngModel",n.deviceSelected.controlNo),e.R7$(5),e.R50("ngModel",n.deviceSelected.equipmentName),e.R7$(6),e.R50("ngModel",n.deviceSelected.serialNo),e.R7$(5),e.R50("ngModel",n.deviceSelected.typeNo),e.R7$(6),e.R50("ngModel",n.deviceSelected.manufacturer),e.R7$(5),e.R50("ngModel",n.deviceSelected.distributionLocation),e.R7$(6),e.R50("ngModel",n.deviceSelected.rangeOfMeasuring)}}function he(i,u){if(1&i){const n=e.RV6();e.j41(0,"div")(1,"button",31),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.handleCancel())}),e.EFF(2,"H\u1ee7y"),e.k0s(),e.j41(3,"button",32),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.handleOk())}),e.EFF(4,"L\u01b0u"),e.k0s()()}}const ze=[{path:"menu",component:Z},{path:"create-label",component:K},{path:"devices",component:ie},{path:"devices/:deviceId",component:me},{path:"data",component:(()=>{class i{constructor(n,a,t){this.qaEquipmentMngSvc=n,this.jwtHelperSvc=a,this.toastr=t,this.isOpenEditDeviceModal=!1,this.deviceSelected={controlNo:null,equipmentName:null,serialNo:null,typeNo:null,manufacturer:null,distributionLocation:null,rangeOfMeasuring:null,createdAt:null,updatedAt:null}}ngOnInit(){this.getQaDevices()}getQaDevices(){this.qaEquipmentMngSvc.getQaDevices().subscribe(n=>{this.devices=n.reverse()})}openEditDeviceModal(n){if(!n)return this.modalTitle="Th\xeam thi\u1ebft b\u1ecb",void(this.isOpenEditDeviceModal=!0);this.deviceSelected={...n.data},this.modalTitle="S\u1eeda th\xf4ng tin thi\u1ebft b\u1ecb",this.isOpenEditDeviceModal=!0,console.log(this.deviceSelected)}handleCancel(){this.deviceSelected={controlNo:null,equipmentName:null,serialNo:null,typeNo:null,manufacturer:null,distributionLocation:null,rangeOfMeasuring:null,createdAt:null,updatedAt:null},this.isOpenEditDeviceModal=!1}handleOk(){this.qaEquipmentMngSvc.saveDeviceInfo(this.deviceSelected).subscribe(n=>{this.deviceSelected={controlNo:null,equipmentName:null,serialNo:null,typeNo:null,manufacturer:null,distributionLocation:null,rangeOfMeasuring:null,createdAt:null,updatedAt:null},this.getQaDevices(),this.toastr.success("OK","Success"),this.isOpenEditDeviceModal=!1})}static#e=this.\u0275fac=function(a){return new(a||i)(e.rXU(j),e.rXU(x.X7),e.rXU(_e.tw))};static#n=this.\u0275cmp=e.VBU({type:i,selectors:[["app-qa-equipment-data"]],decls:23,vars:16,consts:[["columnChooser",""],["keyExpr","id",2,"margin-top","15px",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"enabled"],[3,"enabled","mode"],["location","before"],["stylingMode","contained","type","default","icon","plus","text","Th\xeam m\u1edbi",3,"click"],["name","exportButton"],["name","columnChooserButton"],[3,"visible"],["dataField","controlNo","caption","Control No"],["dataField","equipmentName","caption","Equipment Name"],["dataField","serialNo","caption","Serial No"],["dataField","typeNo","caption","Type No"],["dataField","manufacturer","caption","Manufacturer"],["dataField","rangeOfMeasuring","caption","Range Of Measuring"],["dataField","distributionLocation","caption","Distribution Location"],["fixedPosition","right","caption","Action","cellTemplate","actionTemplate",3,"fixed"],[4,"dxTemplate","dxTemplateOf"],["nzWidth","900px",3,"nzVisibleChange","nzVisible","nzTitle"],[4,"nzModalContent"],[4,"nzModalFooter"],[3,"click"],["id","deviceInfoTbl"],["nz-input","","placeholder","Control No",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Equipment name",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Serial No",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Type No",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Manufacturer",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Location",3,"ngModelChange","ngModel"],["colspan","3"],["rows","2","nz-input","",3,"ngModelChange","ngModel"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(a,t){if(1&a){const l=e.RV6();e.j41(0,"dx-data-grid",1),e.nrm(1,"dxo-column-fixing",2)(2,"dxo-export",2)(3,"dxo-column-chooser",3,0),e.j41(5,"dxo-toolbar")(6,"dxi-item",4)(7,"dx-button",5),e.bIt("click",function(){return e.eBV(l),e.Njj(t.openEditDeviceModal(null))}),e.k0s()(),e.nrm(8,"dxi-item",6)(9,"dxi-item",7),e.k0s(),e.nrm(10,"dxo-filter-row",8)(11,"dxi-column",9)(12,"dxi-column",10)(13,"dxi-column",11)(14,"dxi-column",12)(15,"dxi-column",13)(16,"dxi-column",14)(17,"dxi-column",15),e.j41(18,"dxi-column",16),e.DNE(19,ge,3,0,"div",17),e.k0s()(),e.j41(20,"nz-modal",18),e.mxI("nzVisibleChange",function(m){return e.eBV(l),e.DH7(t.isOpenEditDeviceModal,m)||(t.isOpenEditDeviceModal=m),e.Njj(m)}),e.DNE(21,fe,42,7,"ng-container",19)(22,he,5,0,"div",20),e.k0s()}2&a&&(e.Y8G("dataSource",t.devices)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("enabled",!0)("mode","select"),e.R7$(7),e.Y8G("visible",!0),e.R7$(8),e.Y8G("fixed",!0),e.R7$(),e.Y8G("dxTemplateOf","actionTemplate"),e.R7$(),e.R50("nzVisible",t.isOpenEditDeviceModal),e.Y8G("nzTitle",t.modalTitle))},dependencies:[C.me,C.BC,C.vS,F.s,g.i2Q,g.Omo,g.nj_,g.CVf,g.ZJU,g.FTx,g.KOr,o.eC,y.e,z.F2,z.Oj,z.A9,E.aO,L.c,B.p,_.SO,_.aj,_.kt,P.Sy],styles:["#deviceInfoTbl[_ngcontent-%COMP%]{width:100%}#deviceInfoTbl[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;border-collapse:collapse;padding:5px}#deviceInfoTbl[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#2d2dda}"]})}return i})()}];let ve=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#n=this.\u0275mod=e.$C({type:i});static#t=this.\u0275inj=e.G2t({imports:[T.iI.forChild(ze),T.iI,b.f3]})}return i})();var Ce=c(38927),Ee=c(53606);let be=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#n=this.\u0275mod=e.$C({type:i});static#t=this.\u0275inj=e.G2t({imports:[h.MD,C.YN,ve,U.f,F.N,A.T,o.xZ,y.L,q.j,I.SE,z.U6,E.Zw,w.Y3,O.GB,_.$G,R.hM,N.DH,P.j,G.g9,Ce.PQ,Ee.t]})}return i})()},72874:(ee,$,c)=>{c.d($,{PV:()=>G,g9:()=>X});var h=c(15215),U=c(10851),F=c(32753),A=c(60177),o=c(54438),y=c(45286),E=c(7605),O=c(84046),w=c(77312),z=c(50513),I=c(40713),q=c(16042),T=c(26841),k=c(57806),e=c(65463),D=c(70317),j=c(89450),x=c(72544),b=c(35154),L=c(28203),B=c(16389),_=c(25930);const Y=["okBtn"],H=["cancelBtn"];function W(s,M){1&s&&(o.j41(0,"div",6),o.nrm(1,"span",14),o.k0s())}function J(s,M){if(1&s&&(o.qex(0),o.j41(1,"span",16),o.nrm(2,"span",17),o.k0s(),o.bVm()),2&s){const r=M.$implicit;o.R7$(2),o.Y8G("nzType",r||"exclamation-circle")}}function K(s,M){if(1&s&&(o.qex(0),o.DNE(1,J,3,1,"ng-container",10),o.j41(2,"div",15),o.EFF(3),o.k0s(),o.bVm()),2&s){const r=o.XpG(2);o.R7$(),o.Y8G("nzStringTemplateOutlet",r.nzIcon),o.R7$(2),o.JRh(r.nzTitle)}}function Z(s,M){if(1&s&&o.EFF(0),2&s){const r=o.XpG(2);o.SpI(" ",r.nzCancelText," ")}}function C(s,M){1&s&&(o.EFF(0),o.nI1(1,"nzI18n")),2&s&&o.SpI(" ",o.bMT(1,1,"Modal.cancelText")," ")}function g(s,M){if(1&s&&o.EFF(0),2&s){const r=o.XpG(2);o.SpI(" ",r.nzOkText," ")}}function R(s,M){1&s&&(o.EFF(0),o.nI1(1,"nzI18n")),2&s&&o.SpI(" ",o.bMT(1,1,"Modal.okText")," ")}function N(s,M){if(1&s){const r=o.RV6();o.j41(0,"div",4)(1,"div",5),o.DNE(2,W,2,0,"div",6),o.j41(3,"div",7)(4,"div")(5,"div",8)(6,"div",9),o.DNE(7,K,4,2,"ng-container",10),o.k0s(),o.j41(8,"div",11)(9,"button",12,1),o.bIt("click",function(){o.eBV(r);const p=o.XpG();return o.Njj(p.onCancel())}),o.DNE(11,Z,1,1)(12,C,2,3),o.k0s(),o.j41(13,"button",13,2),o.bIt("click",function(){o.eBV(r);const p=o.XpG();return o.Njj(p.onConfirm())}),o.DNE(15,g,1,1)(16,R,2,3),o.k0s()()()()()()()}if(2&s){const r=o.XpG();o.AVh("ant-popover-rtl","rtl"===r.dir),o.Y8G("cdkTrapFocusAutoCapture",null!==r.nzAutoFocus)("ngClass",r._classMap)("ngStyle",r.nzOverlayStyle)("@.disabled",!(null==r.noAnimation||!r.noAnimation.nzNoAnimation))("nzNoAnimation",null==r.noAnimation?null:r.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),o.R7$(2),o.vxM(2,r.nzPopconfirmShowArrow?2:-1),o.R7$(5),o.Y8G("nzStringTemplateOutlet",r.nzTitle),o.R7$(2),o.Y8G("nzSize","small"),o.BMQ("cdkFocusInitial","cancel"===r.nzAutoFocus||null),o.R7$(2),o.vxM(11,r.nzCancelText?11:12),o.R7$(2),o.Y8G("nzSize","small")("nzType","danger"!==r.nzOkType?r.nzOkType:"primary")("nzDanger",r.nzOkDanger||"danger"===r.nzOkType)("nzLoading",r.confirmLoading)("disabled",r.nzOkDisabled),o.BMQ("cdkFocusInitial","ok"===r.nzAutoFocus||null),o.R7$(2),o.vxM(15,r.nzOkText?15:16)}}let G=(()=>{class s extends b.ME{getProxyPropertyMap(){return{nzOkText:["nzOkText",()=>this.nzOkText],nzOkType:["nzOkType",()=>this.nzOkType],nzOkDanger:["nzOkDanger",()=>this.nzOkDanger],nzOkDisabled:["nzOkDisabled",()=>this.nzOkDisabled],nzCancelText:["nzCancelText",()=>this.nzCancelText],nzBeforeConfirm:["nzBeforeConfirm",()=>this.nzBeforeConfirm],nzCondition:["nzCondition",()=>this.nzCondition],nzIcon:["nzIcon",()=>this.nzIcon],nzPopconfirmShowArrow:["nzPopconfirmShowArrow",()=>this.nzPopconfirmShowArrow],nzPopconfirmBackdrop:["nzBackdrop",()=>this.nzPopconfirmBackdrop],nzAutoFocus:["nzAutoFocus",()=>this.nzAutofocus],...super.getProxyPropertyMap()}}constructor(){super(V),this._nzModuleName="popconfirm",this.trigger="click",this.placement="top",this.nzCondition=!1,this.nzPopconfirmShowArrow=!0,this.nzPopconfirmBackdrop=!1,this.nzAutofocus=null,this.visibleChange=new o.bkB,this.nzOnCancel=new o.bkB,this.nzOnConfirm=new o.bkB}createComponent(){super.createComponent(),this.component.nzOnCancel.pipe((0,E.Q)(this.destroy$)).subscribe(()=>{this.nzOnCancel.emit()}),this.component.nzOnConfirm.pipe((0,E.Q)(this.destroy$)).subscribe(()=>{this.nzOnConfirm.emit()})}static#e=this.\u0275fac=function(d){return new(d||s)};static#n=this.\u0275dir=o.FsC({type:s,selectors:[["","nz-popconfirm",""]],hostVars:2,hostBindings:function(d,p){2&d&&o.AVh("ant-popover-open",p.visible)},inputs:{arrowPointAtCenter:[o.Mj6.None,"nzPopconfirmArrowPointAtCenter","arrowPointAtCenter"],title:[o.Mj6.None,"nzPopconfirmTitle","title"],directiveTitle:[o.Mj6.None,"nz-popconfirm","directiveTitle"],trigger:[o.Mj6.None,"nzPopconfirmTrigger","trigger"],placement:[o.Mj6.None,"nzPopconfirmPlacement","placement"],origin:[o.Mj6.None,"nzPopconfirmOrigin","origin"],mouseEnterDelay:[o.Mj6.None,"nzPopconfirmMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:[o.Mj6.None,"nzPopconfirmMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:[o.Mj6.None,"nzPopconfirmOverlayClassName","overlayClassName"],overlayStyle:[o.Mj6.None,"nzPopconfirmOverlayStyle","overlayStyle"],visible:[o.Mj6.None,"nzPopconfirmVisible","visible"],nzOkText:"nzOkText",nzOkType:"nzOkType",nzOkDisabled:"nzOkDisabled",nzOkDanger:"nzOkDanger",nzCancelText:"nzCancelText",nzBeforeConfirm:"nzBeforeConfirm",nzIcon:"nzIcon",nzCondition:"nzCondition",nzPopconfirmShowArrow:"nzPopconfirmShowArrow",nzPopconfirmBackdrop:"nzPopconfirmBackdrop",nzAutofocus:"nzAutofocus"},outputs:{visibleChange:"nzPopconfirmVisibleChange",nzOnCancel:"nzOnCancel",nzOnConfirm:"nzOnConfirm"},exportAs:["nzPopconfirm"],standalone:!0,features:[o.Vt3]})}return(0,h.Cg)([(0,D.H3)()],s.prototype,"arrowPointAtCenter",void 0),(0,h.Cg)([(0,D.H3)()],s.prototype,"nzOkDisabled",void 0),(0,h.Cg)([(0,D.H3)()],s.prototype,"nzOkDanger",void 0),(0,h.Cg)([(0,D.H3)()],s.prototype,"nzCondition",void 0),(0,h.Cg)([(0,D.H3)()],s.prototype,"nzPopconfirmShowArrow",void 0),(0,h.Cg)([(0,q.H4)()],s.prototype,"nzPopconfirmBackdrop",void 0),(0,h.Cg)([(0,q.H4)()],s.prototype,"nzAutofocus",void 0),s})(),V=(()=>{class s extends b.VJ{constructor(r,d,p,v,S){super(r,p,S),this.elementRef=d,this.nzCondition=!1,this.nzPopconfirmShowArrow=!0,this.nzOkType="primary",this.nzOkDanger=!1,this.nzOkDisabled=!1,this.nzAutoFocus=null,this.nzBeforeConfirm=null,this.nzOnCancel=new y.B7,this.nzOnConfirm=new y.B7,this._trigger="click",this.elementFocusedBeforeModalWasOpened=null,this._prefix="ant-popover",this.confirmLoading=!1,this.document=v}ngOnDestroy(){super.ngOnDestroy(),this.nzOnCancel.complete(),this.nzOnConfirm.complete()}show(){this.nzCondition?this.onConfirm():(this.capturePreviouslyFocusedElement(),super.show())}hide(){super.hide(),this.restoreFocus()}handleConfirm(){this.nzOnConfirm.next(),super.hide()}onCancel(){this.nzOnCancel.next(),super.hide()}onConfirm(){if(this.nzBeforeConfirm){const r=(0,D.cG)(this.nzBeforeConfirm()).pipe((0,O.$)());this.confirmLoading=!0,r.pipe((0,w.j)(()=>{this.confirmLoading=!1,this.cdr.markForCheck()}),(0,E.Q)(this.nzVisibleChange),(0,E.Q)(this.destroy$)).subscribe(d=>{d&&this.handleConfirm()})}else this.handleConfirm()}capturePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement)}restoreFocus(){const r=this.elementFocusedBeforeModalWasOpened;if(r&&"function"==typeof r.focus){const d=this.document.activeElement,p=this.elementRef.nativeElement;(!d||d===this.document.body||d===p||p.contains(d))&&r.focus()}}static#e=this.\u0275fac=function(d){return new(d||s)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(L.dS,8),o.rXU(A.qQ,8),o.rXU(T.z,9))};static#n=this.\u0275cmp=o.VBU({type:s,selectors:[["nz-popconfirm"]],viewQuery:function(d,p){if(1&d&&(o.GBs(Y,5,o.aKT),o.GBs(H,5,o.aKT)),2&d){let v;o.mGM(v=o.lsd())&&(p.okBtn=v),o.mGM(v=o.lsd())&&(p.cancelBtn=v)}},exportAs:["nzPopconfirmComponent"],standalone:!0,features:[o.Vt3,o.aNF],decls:2,vars:6,consts:[["overlay","cdkConnectedOverlay"],["cancelBtn",""],["okBtn",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayPush","nzArrowPointAtCenter"],["cdkTrapFocus","",1,"ant-popover",3,"cdkTrapFocusAutoCapture","ngClass","ngStyle","nzNoAnimation"],[1,"ant-popover-content"],[1,"ant-popover-arrow"],[1,"ant-popover-inner"],[1,"ant-popover-inner-content"],[1,"ant-popover-message"],[4,"nzStringTemplateOutlet"],[1,"ant-popover-buttons"],["nz-button","",3,"click","nzSize"],["nz-button","",3,"click","nzSize","nzType","nzDanger","nzLoading","disabled"],[1,"ant-popover-arrow-content"],[1,"ant-popover-message-title"],[1,"ant-popover-message-icon"],["nz-icon","","nzTheme","fill",3,"nzType"]],template:function(d,p){if(1&d){const v=o.RV6();o.DNE(0,N,17,20,"ng-template",3,0,o.C5r),o.bIt("overlayOutsideClick",function(Q){return o.eBV(v),o.Njj(p.onClickOutside(Q))})("detach",function(){return o.eBV(v),o.Njj(p.hide())})("positionChange",function(Q){return o.eBV(v),o.Njj(p.onPositionChange(Q))})}2&d&&o.Y8G("cdkConnectedOverlayHasBackdrop",p.nzBackdrop)("cdkConnectedOverlayOrigin",p.origin)("cdkConnectedOverlayPositions",p._positions)("cdkConnectedOverlayOpen",p._visible)("cdkConnectedOverlayPush",p.cdkConnectedOverlayPush)("nzArrowPointAtCenter",p.nzArrowPointAtCenter)},dependencies:[F.z_,F.WB,e.$_,e.vT,U.Pd,U.kB,A.YU,A.B3,T.z,k.C,k.m,x.Y3,x.Dn,z.Zw,z.aO,B.c,_.p,j.bP,j.Vc],encapsulation:2,data:{animation:[I.uX]},changeDetection:0})}return s})(),X=(()=>{class s{static#e=this.\u0275fac=function(d){return new(d||s)};static#n=this.\u0275mod=o.$C({type:s});static#t=this.\u0275inj=o.G2t({imports:[V]})}return s})()}}]);