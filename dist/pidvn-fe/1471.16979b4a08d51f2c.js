"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[1471],{81471:(nt,B,a)=>{a.r(B),a.d(B,{QaIcpDataModule:()=>xt});var g=a(60177),v=a(89417),I=a(29462),M=a(61397),e=a(95296),G=a(11668),D=a(19152),V=a(87907),w=a(47711),T=a(53281),U=a(41770),b=a(38296),O=a(72898),E=a(87018),P=a(33514),t=a(54438),N=a(89433),_=a(27380),y=a(345);const L=["*"];let $=(()=>{class i extends _.ic{constructor(n,r,o,c,z,u,It){super(n,r,o,c,u,It),this._createEventEmitters([{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{emit:"elementAttrChange"},{emit:"heightChange"},{emit:"widthChange"}]),z.setHost(this)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(n){this._setOption("elementAttr",n)}get height(){return this._getOption("height")}set height(n){this._setOption("height",n)}get width(){return this._getOption("width")}set width(n){this._setOption("width",n)}_createInstance(n,r){return new N.A(n,r)}ngOnDestroy(){this._destroyWidget()}}return i.\u0275fac=function(n){return new(n||i)(t.rXU(t.aKT),t.rXU(t.SKi),t.rXU(_.zF),t.rXU(_.jS),t.rXU(_.fH),t.rXU(y.pJ),t.rXU(t.Agw))},i.\u0275cmp=t.VBU({type:i,selectors:[["dx-validation-group"]],inputs:{elementAttr:"elementAttr",height:"height",width:"width"},outputs:{onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",elementAttrChange:"elementAttrChange",heightChange:"heightChange",widthChange:"widthChange"},features:[t.Jv_([_.zF,_.jS,_.fH]),t.Vt3],ngContentSelectors:L,decls:1,vars:0,template:function(n,r){1&n&&(t.NAR(),t.SdG(0))},encapsulation:2}),i})(),Q=(()=>{class i{}return i.\u0275fac=function(n){return new(n||i)},i.\u0275mod=t.$C({type:i}),i.\u0275inj=t.G2t({imports:[[_.p_,_.xZ],_.xZ]}),i})();var Y=a(74696),R=a(97529),k=a(72544),j=a(1997),A=a(46661);let X=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-qa-icp-data"]],decls:1,vars:0,template:function(r,o){1&r&&t.nrm(0,"router-outlet")},dependencies:[A.n3],encapsulation:2})}return i})();class F{}var W=a(92887),K=a(47848),H=a(2578),J=a(45312),Z=a(21626);let S=(()=>{class i{constructor(n){this.httpClient=n,this.baseUrl=J.c.baseUrl}getModels(){return this.httpClient.get(`${this.baseUrl}/QA/ICP/Models`)}getPsMasters(n){return this.httpClient.get(`${this.baseUrl}/QA/ICP/PsMasters?parentModel=${n}`)}getIcpData(n){return this.httpClient.get(`${this.baseUrl}/QA/ICP/IcpData?parentModel=${n}`)}insertIcpData(n){return this.httpClient.post(`${this.baseUrl}/QA/ICP/IcpData`,n)}updateIcpData(n){return this.httpClient.put(`${this.baseUrl}/QA/ICP/IcpData`,n)}deleteIcpData(n){return this.httpClient.delete(`${this.baseUrl}/QA/ICP/IcpData/${n}`)}previewFile(n){return this.httpClient.post(`${this.baseUrl}/QA/ICP/Preview`,n,{responseType:"arraybuffer"})}downloadFile(n){return this.httpClient.post(`${this.baseUrl}/QA/ICP/Download`,n,{responseType:"blob"})}uploadTestReports(n){const r=new FormData;return n.forEach(o=>{r.append("files",o)}),this.httpClient.post(`${this.baseUrl}/QA/ICP/TestReport`,r)}static#t=this.\u0275fac=function(r){return new(r||i)(t.KVO(Z.Qq))};static#e=this.\u0275prov=t.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var q=a(45794),l=a(31837),h=a(43053),s=a(23359),p=a(50513),d=a(16389),f=a(25930),C=a(66646),x=a(23617),tt=a(72874),et=a(25703);const ot=["validatorGroup"],it=["fileUploader"],at=()=>[10,15,20,50,100],rt=()=>[""],lt=()=>({"aria-label":"Select file"});function st(i,m){if(1&i&&t.nrm(0,"nz-option",40),2&i){const n=m.$implicit;t.Y8G("nzValue",n.name)("nzLabel",n.name)}}function ct(i,m){if(1&i){const n=t.RV6();t.j41(0,"dxi-item",41)(1,"dx-button",42),t.bIt("onClick",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.openIcpModal("insert",null))}),t.k0s()()}}function pt(i,m){if(1&i){const n=t.RV6();t.j41(0,"dxi-item",41)(1,"dx-button",43),t.bIt("onClick",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.opentUploadTestReports())}),t.k0s()()}}function dt(i,m){if(1&i){const n=t.RV6();t.j41(0,"div",44)(1,"a")(2,"span",45),t.bIt("click",function(){const o=t.eBV(n).$implicit,c=t.XpG();return t.Njj(c.previewFile(o))}),t.k0s()()()}}function ut(i,m){if(1&i){const n=t.RV6();t.j41(0,"div",44)(1,"a",46),t.bIt("click",function(){const o=t.eBV(n).$implicit,c=t.XpG();return t.Njj(c.openIcpModal("update",o.data))}),t.EFF(2,"S\u1eeda"),t.k0s(),t.EFF(3," | "),t.j41(4,"a",47),t.bIt("nzOnConfirm",function(){const o=t.eBV(n).$implicit,c=t.XpG();return t.Njj(c.deleteIcpData(o.data))}),t.EFF(5,"X\xf3a"),t.k0s()()}}function mt(i,m){1&i&&(t.j41(0,"nz-spin",48),t.nrm(1,"nz-alert",49),t.k0s())}function _t(i,m){if(1&i&&t.nrm(0,"iframe",50),2&i){const n=t.XpG();t.Y8G("src",n.pdfSrc,t.f$h)}}function ht(i,m){if(1&i){const n=t.RV6();t.j41(0,"a")(1,"span",51),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.downloadFile())}),t.k0s()()}}function ft(i,m){if(1&i){const n=t.RV6();t.qex(0),t.j41(1,"dx-validation-group",null,4)(3,"nz-table",52,5)(5,"tbody")(6,"tr")(7,"td")(8,"dx-select-box",53),t.mxI("valueChange",function(o){t.eBV(n);const c=t.XpG();return t.DH7(c.icpDto.childModel,o)||(c.icpDto.childModel=o),t.Njj(o)}),t.j41(9,"dx-validator"),t.nrm(10,"dxi-validation-rule",54),t.k0s()()()(),t.j41(11,"tr")(12,"td")(13,"dx-text-box",55),t.mxI("valueChange",function(o){t.eBV(n);const c=t.XpG();return t.DH7(c.icpDto.material,o)||(c.icpDto.material=o),t.Njj(o)}),t.j41(14,"dx-validator"),t.nrm(15,"dxi-validation-rule",56),t.k0s()()()(),t.j41(16,"tr")(17,"td")(18,"dx-text-box",57),t.mxI("valueChange",function(o){t.eBV(n);const c=t.XpG();return t.DH7(c.icpDto.supplier,o)||(c.icpDto.supplier=o),t.Njj(o)}),t.j41(19,"dx-validator"),t.nrm(20,"dxi-validation-rule",58),t.k0s()()()(),t.j41(21,"tr")(22,"td")(23,"dx-text-box",59),t.mxI("valueChange",function(o){t.eBV(n);const c=t.XpG();return t.DH7(c.icpDto.testNo,o)||(c.icpDto.testNo=o),t.Njj(o)}),t.j41(24,"dx-validator"),t.nrm(25,"dxi-validation-rule",60),t.k0s()()()(),t.j41(26,"tr")(27,"td")(28,"dx-date-box",61),t.mxI("valueChange",function(o){t.eBV(n);const c=t.XpG();return t.DH7(c.icpDto.expiredDate,o)||(c.icpDto.expiredDate=o),t.Njj(o)}),t.j41(29,"dx-validator"),t.nrm(30,"dxi-validation-rule",62),t.k0s()()()()()()(),t.bVm()}if(2&i){const n=t.XpG();t.R7$(3),t.Y8G("nzData",t.lJ4(15,rt)),t.R7$(5),t.Y8G("labelMode","static")("dataSource",n.psMasters)("searchEnabled",!0)("showClearButton",!0),t.R50("value",n.icpDto.childModel),t.R7$(5),t.Y8G("labelMode","static"),t.R50("value",n.icpDto.material),t.R7$(5),t.Y8G("labelMode","static"),t.R50("value",n.icpDto.supplier),t.R7$(5),t.Y8G("labelMode","static"),t.R50("value",n.icpDto.testNo),t.R7$(5),t.Y8G("labelMode","static")("displayFormat","yyyy-MM-dd"),t.R50("value",n.icpDto.expiredDate)}}function gt(i,m){if(1&i){const n=t.RV6();t.j41(0,"div")(1,"button",63),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.isOpenIcpModal=!1)}),t.EFF(2," Cancel "),t.k0s(),t.j41(3,"button",64),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.onSaveIcpData())}),t.EFF(4," Save "),t.k0s()()}if(2&i){const n=t.XpG();t.R7$(3),t.Y8G("nzLoading",n.isLoading)}}function zt(i,m){1&i&&(t.qex(0),t.nrm(1,"dx-file-uploader",65,6),t.bVm()),2&i&&(t.R7$(),t.Y8G("multiple",!0)("accept",".pdf")("uploadMode","useForm")("inputAttr",t.lJ4(4,lt)))}function Ct(i,m){if(1&i){const n=t.RV6();t.j41(0,"div")(1,"button",64),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.uploadTestReports())}),t.EFF(2," Save "),t.k0s(),t.j41(3,"button",63),t.bIt("click",function(){t.eBV(n);const o=t.XpG();return t.Njj(o.isOpenUploadTestReportModal=!1)}),t.EFF(4," \u0110\xf3ng "),t.k0s()()}if(2&i){const n=t.XpG();t.R7$(),t.Y8G("nzLoading",n.isLoading)}}const vt=[{path:"",component:X,children:[{path:"insert",component:(()=>{class i{constructor(n,r,o){this.qaIcpDataSvc=n,this.sanitizer=r,this.toastr=o,this.icpData=new Array,this.models=new Array,this.psMasters=new Array,this.icpDto=new F,this.isOpenIcpModal=!1,this.isOpenUploadTestReportModal=!1,this.isLoading=!1}ngOnInit(){this.getModels()}getModels(){this.qaIcpDataSvc.getModels().subscribe(n=>{this.models=n.result})}onChangeParentModel(n){let r=n;this.qaIcpDataSvc.getIcpData(r).subscribe(o=>{this.icpData=o.result}),this.qaIcpDataSvc.getPsMasters(r).subscribe(o=>{this.psMasters=o.result})}previewFile(n){this.isLoading=!0,this.icpDto.testNo=n.data.testNo,this.qaIcpDataSvc.previewFile({testNo:n.data.testNo}).subscribe(o=>{let c=new Blob([o],{type:"application/pdf"}),z=window.URL.createObjectURL(c);this.pdfSrc=this.sanitizer.bypassSecurityTrustResourceUrl(z),this.isLoading=!1},o=>{console.log("error: ",o),this.toastr.error(o.result,"Error"),this.isLoading=!1})}downloadFile(){console.log(this.icpDto),this.qaIcpDataSvc.downloadFile(this.icpDto).subscribe(n=>{console.log(n);const r=new Blob([n],{}),o=window.URL.createObjectURL(r),c=document.createElement("a");c.href=o,c.download=`${this.icpDto.testNo}.pdf`,c.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(o),c.remove()},100)})}onExportClient(n){const r=new W.Workbook,o=r.addWorksheet("Main sheet");(0,K.V)({component:n.component,worksheet:o}).then(function(){r.xlsx.writeBuffer().then(function(c){H(new Blob([c],{type:"application/octet-stream"}),"ICP-Data.xlsx")})})}openIcpModal(n,r){"insert"===n?(this.icpDto=new F,this.icpDto.parentModel=this.parentModelSelected):"update"===n&&(this.icpDto=r),console.log(n,this.icpDto),this.isOpenIcpModal=!0}onSaveIcpData(){if(void 0===this.icpDto.id){if(!this.validatorGroup.instance.validate().isValid)return;this.isLoading=!0,this.qaIcpDataSvc.insertIcpData(this.icpDto).subscribe(n=>{this.qaIcpDataSvc.getIcpData(this.parentModelSelected).subscribe(r=>{this.icpData=r.result}),this.isLoading=!1,this.isOpenIcpModal=!1})}else this.icpDto.id&&(this.isLoading=!0,this.qaIcpDataSvc.updateIcpData(this.icpDto).subscribe(n=>{this.qaIcpDataSvc.getIcpData(this.parentModelSelected).subscribe(r=>{this.icpData=r.result}),this.isLoading=!1,this.isOpenIcpModal=!1}))}opentUploadTestReports(){this.isOpenUploadTestReportModal=!0}uploadTestReports(){const n=this.fileUploader.value;0!==n.length?(this.isLoading=!0,this.qaIcpDataSvc.uploadTestReports(n).subscribe(r=>{this.isOpenUploadTestReportModal=!1,this.isLoading=!1,this.toastr.success("Upload th\xe0nh c\xf4ng","Th\xf4ng b\xe1o")},r=>{this.isOpenUploadTestReportModal=!1,this.isLoading=!1})):this.toastr.warning("C\u1ea7n ch\u1ecdn file upload","Warning")}deleteIcpData(n){this.qaIcpDataSvc.deleteIcpData(n.id).subscribe(r=>{this.toastr.success("X\xf3a th\xe0nh c\xf4ng","Th\xf4ng b\xe1o"),this.qaIcpDataSvc.getIcpData(this.parentModelSelected).subscribe(o=>{this.icpData=o.result})})}static#t=this.\u0275fac=function(r){return new(r||i)(t.rXU(S),t.rXU(y.up),t.rXU(q.tw))};static#e=this.\u0275cmp=t.VBU({type:i,selectors:[["app-qa-icp-data-insert"]],viewQuery:function(r,o){if(1&r&&(t.GBs(ot,5),t.GBs(it,5)),2&r){let c;t.mGM(c=t.lsd())&&(o.validatorGroup=c.first),t.mGM(c=t.lsd())&&(o.fileUploader=c.first)}},decls:57,vars:51,consts:[["icpGrid",""],["columnChooser",""],["parentModelSelect",""],["extraTemplate",""],["validatorGroup",""],["basicTable",""],["fileUploader",""],["nz-row","","nzJustify","start",3,"nzGutter"],["nz-col","","nzXs","15","nzSm","15","nzLg","15"],["keyExpr","id",3,"onExporting","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"enabled","mode","title"],[3,"visible"],[3,"enabled"],["location","before"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Ch\u1ecdn Model",2,"width","200px",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["location","after",4,"ngIf"],["name","searchPanel","location","after"],["name","exportButton","location","after"],["name","columnChooserButton","location","after"],["caption","","cellTemplate","fileTemplate"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],["dataField","childModel","caption","Part No",3,"visible","groupIndex"],[3,"allowSelectAll"],["dataField","shortName","caption","Part Name",3,"visible"],["dataField","material","caption","Material",3,"visible"],["dataField","supplier","caption","Supplier",3,"visible"],["dataField","testNo","caption","Test No",3,"visible"],["dataField","expiredDate","caption","Ng\xe0y h\u1ebft h\u1ea1n","dataType","date","format","yyyy-MM-dd",3,"visible"],["caption","Action","cellTemplate","actionTemplate"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],["nz-col","","nzXs","9","nzSm","9","nzLg","9"],[2,"width","100%",3,"nzTitle","nzExtra"],["nzTip","H\u1ec7 th\u1ed1ng \u0111ang t\u1ea3i d\u1eef li\u1ec7u ...",4,"ngIf"],["width","100%","height","600px",3,"src",4,"ngIf"],["nzTitle","L\u01b0u ICP data",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["nzTitle","Upload test report",3,"nzVisibleChange","nzVisible"],[3,"nzValue","nzLabel"],["location","after"],["icon","plus",3,"onClick"],["icon","upload",3,"onClick"],[2,"text-align","center"],["nz-icon","","nzType","eye","nzTheme","outline","alt","Xem tr\u01b0\u1edbc",3,"click"],[3,"click"],["nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n c\xf3 mu\u1ed1n x\xf3a kh\xf4ng?",2,"color","red",3,"nzOnConfirm"],["nzTip","H\u1ec7 th\u1ed1ng \u0111ang t\u1ea3i d\u1eef li\u1ec7u ..."],["nzType","info","nzMessage","T\u1ea3i d\u1eef li\u1ec7u Test report","nzDescription","Hi\u1ec3n th\u1ecb th\xf4ng tin v\u1ec1 Test report"],["width","100%","height","600px",3,"src"],["nz-icon","","nzType","cloud-download","nzTheme","outline",1,"download-report",3,"click"],["nzFrontPagination","false","nzBordered","",3,"nzData"],["label","Part No","labelLocation","left","showColonAfterLabel","true","displayExpr","pncomp","valueExpr","pncomp",3,"valueChange","labelMode","dataSource","searchEnabled","showClearButton","value"],["type","required","message","Part No is required"],["label","Material","labelLocation","left","showColonAfterLabel","true",3,"valueChange","labelMode","value"],["type","required","message","Material is required"],["label","Supplier","labelLocation","left","showColonAfterLabel","true",3,"valueChange","labelMode","value"],["type","required","message","Supplier is required"],["label","Test No","labelLocation","left","showColonAfterLabel","true",3,"valueChange","labelMode","value"],["type","required","message","Test No is required"],["label","Expired Date","labelLocation","left","showColonAfterLabel","true",3,"valueChange","labelMode","displayFormat","value"],["type","required","message","Expired Date is required"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click","nzLoading"],["selectButtonText","Select file","labelText","",3,"multiple","accept","uploadMode","inputAttr"]],template:function(r,o){if(1&r){const c=t.RV6();t.j41(0,"div",7)(1,"div",8)(2,"dx-data-grid",9,0),t.bIt("onExporting",function(u){return t.eBV(c),t.Njj(o.onExportClient(u))}),t.nrm(4,"dxo-column-chooser",10,1)(6,"dxo-search-panel",11)(7,"dxo-load-panel",12)(8,"dxo-export",12),t.j41(9,"dxo-toolbar")(10,"dxi-item",13)(11,"nz-select",14,2),t.mxI("ngModelChange",function(u){return t.eBV(c),t.DH7(o.parentModelSelected,u)||(o.parentModelSelected=u),t.Njj(u)}),t.bIt("ngModelChange",function(u){return t.eBV(c),t.Njj(o.onChangeParentModel(u))}),t.DNE(13,st,1,2,"nz-option",15),t.k0s()(),t.DNE(14,ct,2,0,"dxi-item",16)(15,pt,2,0,"dxi-item",16),t.nrm(16,"dxi-item",17)(17,"dxi-item",18)(18,"dxi-item",19),t.k0s(),t.nrm(19,"dxo-filter-row",11)(20,"dxo-header-filter",11)(21,"dxi-column",20),t.DNE(22,dt,3,0,"div",21),t.j41(23,"dxi-column",22)(24,"dxo-header-filter",23),t.nrm(25,"dxo-search",12),t.k0s()(),t.j41(26,"dxi-column",24)(27,"dxo-header-filter",23),t.nrm(28,"dxo-search",12),t.k0s()(),t.j41(29,"dxi-column",25)(30,"dxo-header-filter",23),t.nrm(31,"dxo-search",12),t.k0s()(),t.j41(32,"dxi-column",26)(33,"dxo-header-filter",23),t.nrm(34,"dxo-search",12),t.k0s()(),t.j41(35,"dxi-column",27)(36,"dxo-header-filter",23),t.nrm(37,"dxo-search",12),t.k0s()(),t.j41(38,"dxi-column",28)(39,"dxo-header-filter",23),t.nrm(40,"dxo-search",12),t.k0s()(),t.nrm(41,"dxi-column",29),t.DNE(42,ut,6,0,"div",21),t.nrm(43,"dxo-paging",30)(44,"dxo-pager",31),t.k0s()(),t.j41(45,"div",32)(46,"nz-card",33),t.DNE(47,mt,2,0,"nz-spin",34)(48,_t,1,1,"iframe",35),t.k0s(),t.DNE(49,ht,2,0,"ng-template",null,3,t.C5r),t.k0s()(),t.j41(51,"nz-modal",36),t.mxI("nzVisibleChange",function(u){return t.eBV(c),t.DH7(o.isOpenIcpModal,u)||(o.isOpenIcpModal=u),t.Njj(u)}),t.DNE(52,ft,31,16,"ng-container",37)(53,gt,5,1,"div",38),t.k0s(),t.j41(54,"nz-modal",39),t.mxI("nzVisibleChange",function(u){return t.eBV(c),t.DH7(o.isOpenUploadTestReportModal,u)||(o.isOpenUploadTestReportModal=u),t.Njj(u)}),t.DNE(55,zt,3,5,"ng-container",37)(56,Ct,5,1,"div",38),t.k0s()}if(2&r){const c=t.sdS(50);t.Y8G("nzGutter",24),t.R7$(2),t.Y8G("dataSource",o.icpData)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!1),t.R7$(2),t.Y8G("enabled",!0)("mode","select")("title","C\u1ed9t hi\u1ec3n th\u1ecb"),t.R7$(2),t.Y8G("visible",!0),t.R7$(),t.Y8G("enabled",!1),t.R7$(),t.Y8G("enabled",!0),t.R7$(3),t.R50("ngModel",o.parentModelSelected),t.R7$(2),t.Y8G("ngForOf",o.models),t.R7$(),t.Y8G("ngIf",o.parentModelSelected),t.R7$(),t.Y8G("ngIf",o.parentModelSelected),t.R7$(4),t.Y8G("visible",!0),t.R7$(),t.Y8G("visible",!0),t.R7$(2),t.Y8G("dxTemplateOf","fileTemplate"),t.R7$(),t.Y8G("visible",!0)("groupIndex",0),t.R7$(),t.Y8G("allowSelectAll",!0),t.R7$(),t.Y8G("enabled",!0),t.R7$(),t.Y8G("visible",!0),t.R7$(),t.Y8G("allowSelectAll",!0),t.R7$(),t.Y8G("enabled",!0),t.R7$(),t.Y8G("visible",!0),t.R7$(),t.Y8G("allowSelectAll",!0),t.R7$(),t.Y8G("enabled",!0),t.R7$(),t.Y8G("visible",!0),t.R7$(),t.Y8G("allowSelectAll",!0),t.R7$(),t.Y8G("enabled",!0),t.R7$(),t.Y8G("visible",!0),t.R7$(),t.Y8G("allowSelectAll",!0),t.R7$(),t.Y8G("enabled",!0),t.R7$(),t.Y8G("visible",!0),t.R7$(),t.Y8G("allowSelectAll",!0),t.R7$(),t.Y8G("enabled",!0),t.R7$(2),t.Y8G("dxTemplateOf","actionTemplate"),t.R7$(),t.Y8G("pageSize",15),t.R7$(),t.Y8G("showPageSizeSelector",!0)("allowedPageSizes",t.lJ4(50,at)),t.R7$(2),t.Y8G("nzTitle","Test Report: "+o.icpDto.testNo)("nzExtra",c),t.R7$(),t.Y8G("ngIf",o.isLoading),t.R7$(),t.Y8G("ngIf",!o.isLoading),t.R7$(3),t.R50("nzVisible",o.isOpenIcpModal),t.R7$(3),t.R50("nzVisible",o.isOpenUploadTestReportModal)}},dependencies:[g.Sq,g.bT,v.BC,v.vS,I.z,_.eC,l.CVf,e.m,l.Inh,l.KOr,T.m,l.i2Q,l.ZWy,l.nj_,l.gtJ,l.FTx,l.xzc,l.sVQ,l.PVd,l.hXY,b.s,l.ZJU,O._,E.l,R.Uq,R.e,k.Dn,j.ld,j.WI,P.e,h.F2,h.Oj,h.A9,s.CP,s.SO,s.aj,s.kt,p.aO,d.c,f.p,C.a,x.Y,$,tt.PV,et.cK],styles:[".download-report[_ngcontent-%COMP%]:hover{cursor:pointer}.download-report[_ngcontent-%COMP%]{font-weight:700;font-size:18px}"]})}return i})()}]}];let Dt=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=t.$C({type:i});static#n=this.\u0275inj=t.G2t({imports:[A.iI.forChild(vt),A.iI]})}return i})(),xt=(()=>{class i{static#t=this.\u0275fac=function(r){return new(r||i)};static#e=this.\u0275mod=t.$C({type:i});static#n=this.\u0275inj=t.G2t({imports:[g.MD,v.YN,Dt,I.W,M.V,e.b,G.F,D.D,V.X,w.p,T.Z,U.t,b.N,O.L,E.S,R.f3,Y.GB,k.Y3,j.DH,P.L,h.U6,s.$G,p.Zw,C.V,x.$,Q,tt.g9,et.Ti]})}return i})()},72874:(nt,B,a)=>{a.d(B,{PV:()=>Z,g9:()=>q});var g=a(15215),v=a(10851),I=a(32753),M=a(60177),e=a(54438),G=a(45286),D=a(7605),V=a(84046),w=a(77312),T=a(50513),U=a(40713),b=a(16042),O=a(26841),E=a(57806),P=a(65463),t=a(70317),N=a(89450),_=a(72544),y=a(35154),L=a(28203),$=a(16389),Q=a(25930);const Y=["okBtn"],R=["cancelBtn"];function k(l,h){1&l&&(e.j41(0,"div",6),e.nrm(1,"span",14),e.k0s())}function j(l,h){if(1&l&&(e.qex(0),e.j41(1,"span",16),e.nrm(2,"span",17),e.k0s(),e.bVm()),2&l){const s=h.$implicit;e.R7$(2),e.Y8G("nzType",s||"exclamation-circle")}}function A(l,h){if(1&l&&(e.qex(0),e.DNE(1,j,3,1,"ng-container",10),e.j41(2,"div",15),e.EFF(3),e.k0s(),e.bVm()),2&l){const s=e.XpG(2);e.R7$(),e.Y8G("nzStringTemplateOutlet",s.nzIcon),e.R7$(2),e.JRh(s.nzTitle)}}function X(l,h){if(1&l&&e.EFF(0),2&l){const s=e.XpG(2);e.SpI(" ",s.nzCancelText," ")}}function F(l,h){1&l&&(e.EFF(0),e.nI1(1,"nzI18n")),2&l&&e.SpI(" ",e.bMT(1,1,"Modal.cancelText")," ")}function W(l,h){if(1&l&&e.EFF(0),2&l){const s=e.XpG(2);e.SpI(" ",s.nzOkText," ")}}function K(l,h){1&l&&(e.EFF(0),e.nI1(1,"nzI18n")),2&l&&e.SpI(" ",e.bMT(1,1,"Modal.okText")," ")}function H(l,h){if(1&l){const s=e.RV6();e.j41(0,"div",4)(1,"div",5),e.DNE(2,k,2,0,"div",6),e.j41(3,"div",7)(4,"div")(5,"div",8)(6,"div",9),e.DNE(7,A,4,2,"ng-container",10),e.k0s(),e.j41(8,"div",11)(9,"button",12,1),e.bIt("click",function(){e.eBV(s);const d=e.XpG();return e.Njj(d.onCancel())}),e.DNE(11,X,1,1)(12,F,2,3),e.k0s(),e.j41(13,"button",13,2),e.bIt("click",function(){e.eBV(s);const d=e.XpG();return e.Njj(d.onConfirm())}),e.DNE(15,W,1,1)(16,K,2,3),e.k0s()()()()()()()}if(2&l){const s=e.XpG();e.AVh("ant-popover-rtl","rtl"===s.dir),e.Y8G("cdkTrapFocusAutoCapture",null!==s.nzAutoFocus)("ngClass",s._classMap)("ngStyle",s.nzOverlayStyle)("@.disabled",!(null==s.noAnimation||!s.noAnimation.nzNoAnimation))("nzNoAnimation",null==s.noAnimation?null:s.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),e.R7$(2),e.vxM(2,s.nzPopconfirmShowArrow?2:-1),e.R7$(5),e.Y8G("nzStringTemplateOutlet",s.nzTitle),e.R7$(2),e.Y8G("nzSize","small"),e.BMQ("cdkFocusInitial","cancel"===s.nzAutoFocus||null),e.R7$(2),e.vxM(11,s.nzCancelText?11:12),e.R7$(2),e.Y8G("nzSize","small")("nzType","danger"!==s.nzOkType?s.nzOkType:"primary")("nzDanger",s.nzOkDanger||"danger"===s.nzOkType)("nzLoading",s.confirmLoading)("disabled",s.nzOkDisabled),e.BMQ("cdkFocusInitial","ok"===s.nzAutoFocus||null),e.R7$(2),e.vxM(15,s.nzOkText?15:16)}}let Z=(()=>{class l extends y.ME{getProxyPropertyMap(){return{nzOkText:["nzOkText",()=>this.nzOkText],nzOkType:["nzOkType",()=>this.nzOkType],nzOkDanger:["nzOkDanger",()=>this.nzOkDanger],nzOkDisabled:["nzOkDisabled",()=>this.nzOkDisabled],nzCancelText:["nzCancelText",()=>this.nzCancelText],nzBeforeConfirm:["nzBeforeConfirm",()=>this.nzBeforeConfirm],nzCondition:["nzCondition",()=>this.nzCondition],nzIcon:["nzIcon",()=>this.nzIcon],nzPopconfirmShowArrow:["nzPopconfirmShowArrow",()=>this.nzPopconfirmShowArrow],nzPopconfirmBackdrop:["nzBackdrop",()=>this.nzPopconfirmBackdrop],nzAutoFocus:["nzAutoFocus",()=>this.nzAutofocus],...super.getProxyPropertyMap()}}constructor(){super(S),this._nzModuleName="popconfirm",this.trigger="click",this.placement="top",this.nzCondition=!1,this.nzPopconfirmShowArrow=!0,this.nzPopconfirmBackdrop=!1,this.nzAutofocus=null,this.visibleChange=new e.bkB,this.nzOnCancel=new e.bkB,this.nzOnConfirm=new e.bkB}createComponent(){super.createComponent(),this.component.nzOnCancel.pipe((0,D.Q)(this.destroy$)).subscribe(()=>{this.nzOnCancel.emit()}),this.component.nzOnConfirm.pipe((0,D.Q)(this.destroy$)).subscribe(()=>{this.nzOnConfirm.emit()})}static#t=this.\u0275fac=function(p){return new(p||l)};static#e=this.\u0275dir=e.FsC({type:l,selectors:[["","nz-popconfirm",""]],hostVars:2,hostBindings:function(p,d){2&p&&e.AVh("ant-popover-open",d.visible)},inputs:{arrowPointAtCenter:[e.Mj6.None,"nzPopconfirmArrowPointAtCenter","arrowPointAtCenter"],title:[e.Mj6.None,"nzPopconfirmTitle","title"],directiveTitle:[e.Mj6.None,"nz-popconfirm","directiveTitle"],trigger:[e.Mj6.None,"nzPopconfirmTrigger","trigger"],placement:[e.Mj6.None,"nzPopconfirmPlacement","placement"],origin:[e.Mj6.None,"nzPopconfirmOrigin","origin"],mouseEnterDelay:[e.Mj6.None,"nzPopconfirmMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:[e.Mj6.None,"nzPopconfirmMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:[e.Mj6.None,"nzPopconfirmOverlayClassName","overlayClassName"],overlayStyle:[e.Mj6.None,"nzPopconfirmOverlayStyle","overlayStyle"],visible:[e.Mj6.None,"nzPopconfirmVisible","visible"],nzOkText:"nzOkText",nzOkType:"nzOkType",nzOkDisabled:"nzOkDisabled",nzOkDanger:"nzOkDanger",nzCancelText:"nzCancelText",nzBeforeConfirm:"nzBeforeConfirm",nzIcon:"nzIcon",nzCondition:"nzCondition",nzPopconfirmShowArrow:"nzPopconfirmShowArrow",nzPopconfirmBackdrop:"nzPopconfirmBackdrop",nzAutofocus:"nzAutofocus"},outputs:{visibleChange:"nzPopconfirmVisibleChange",nzOnCancel:"nzOnCancel",nzOnConfirm:"nzOnConfirm"},exportAs:["nzPopconfirm"],standalone:!0,features:[e.Vt3]})}return(0,g.Cg)([(0,t.H3)()],l.prototype,"arrowPointAtCenter",void 0),(0,g.Cg)([(0,t.H3)()],l.prototype,"nzOkDisabled",void 0),(0,g.Cg)([(0,t.H3)()],l.prototype,"nzOkDanger",void 0),(0,g.Cg)([(0,t.H3)()],l.prototype,"nzCondition",void 0),(0,g.Cg)([(0,t.H3)()],l.prototype,"nzPopconfirmShowArrow",void 0),(0,g.Cg)([(0,b.H4)()],l.prototype,"nzPopconfirmBackdrop",void 0),(0,g.Cg)([(0,b.H4)()],l.prototype,"nzAutofocus",void 0),l})(),S=(()=>{class l extends y.VJ{constructor(s,p,d,f,C){super(s,d,C),this.elementRef=p,this.nzCondition=!1,this.nzPopconfirmShowArrow=!0,this.nzOkType="primary",this.nzOkDanger=!1,this.nzOkDisabled=!1,this.nzAutoFocus=null,this.nzBeforeConfirm=null,this.nzOnCancel=new G.B7,this.nzOnConfirm=new G.B7,this._trigger="click",this.elementFocusedBeforeModalWasOpened=null,this._prefix="ant-popover",this.confirmLoading=!1,this.document=f}ngOnDestroy(){super.ngOnDestroy(),this.nzOnCancel.complete(),this.nzOnConfirm.complete()}show(){this.nzCondition?this.onConfirm():(this.capturePreviouslyFocusedElement(),super.show())}hide(){super.hide(),this.restoreFocus()}handleConfirm(){this.nzOnConfirm.next(),super.hide()}onCancel(){this.nzOnCancel.next(),super.hide()}onConfirm(){if(this.nzBeforeConfirm){const s=(0,t.cG)(this.nzBeforeConfirm()).pipe((0,V.$)());this.confirmLoading=!0,s.pipe((0,w.j)(()=>{this.confirmLoading=!1,this.cdr.markForCheck()}),(0,D.Q)(this.nzVisibleChange),(0,D.Q)(this.destroy$)).subscribe(p=>{p&&this.handleConfirm()})}else this.handleConfirm()}capturePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement)}restoreFocus(){const s=this.elementFocusedBeforeModalWasOpened;if(s&&"function"==typeof s.focus){const p=this.document.activeElement,d=this.elementRef.nativeElement;(!p||p===this.document.body||p===d||d.contains(p))&&s.focus()}}static#t=this.\u0275fac=function(p){return new(p||l)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(L.dS,8),e.rXU(M.qQ,8),e.rXU(O.z,9))};static#e=this.\u0275cmp=e.VBU({type:l,selectors:[["nz-popconfirm"]],viewQuery:function(p,d){if(1&p&&(e.GBs(Y,5,e.aKT),e.GBs(R,5,e.aKT)),2&p){let f;e.mGM(f=e.lsd())&&(d.okBtn=f),e.mGM(f=e.lsd())&&(d.cancelBtn=f)}},exportAs:["nzPopconfirmComponent"],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:6,consts:[["overlay","cdkConnectedOverlay"],["cancelBtn",""],["okBtn",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayPush","nzArrowPointAtCenter"],["cdkTrapFocus","",1,"ant-popover",3,"cdkTrapFocusAutoCapture","ngClass","ngStyle","nzNoAnimation"],[1,"ant-popover-content"],[1,"ant-popover-arrow"],[1,"ant-popover-inner"],[1,"ant-popover-inner-content"],[1,"ant-popover-message"],[4,"nzStringTemplateOutlet"],[1,"ant-popover-buttons"],["nz-button","",3,"click","nzSize"],["nz-button","",3,"click","nzSize","nzType","nzDanger","nzLoading","disabled"],[1,"ant-popover-arrow-content"],[1,"ant-popover-message-title"],[1,"ant-popover-message-icon"],["nz-icon","","nzTheme","fill",3,"nzType"]],template:function(p,d){if(1&p){const f=e.RV6();e.DNE(0,H,17,20,"ng-template",3,0,e.C5r),e.bIt("overlayOutsideClick",function(x){return e.eBV(f),e.Njj(d.onClickOutside(x))})("detach",function(){return e.eBV(f),e.Njj(d.hide())})("positionChange",function(x){return e.eBV(f),e.Njj(d.onPositionChange(x))})}2&p&&e.Y8G("cdkConnectedOverlayHasBackdrop",d.nzBackdrop)("cdkConnectedOverlayOrigin",d.origin)("cdkConnectedOverlayPositions",d._positions)("cdkConnectedOverlayOpen",d._visible)("cdkConnectedOverlayPush",d.cdkConnectedOverlayPush)("nzArrowPointAtCenter",d.nzArrowPointAtCenter)},dependencies:[I.z_,I.WB,P.$_,P.vT,v.Pd,v.kB,M.YU,M.B3,O.z,E.C,E.m,_.Y3,_.Dn,T.Zw,T.aO,$.c,Q.p,N.bP,N.Vc],encapsulation:2,data:{animation:[U.uX]},changeDetection:0})}return l})(),q=(()=>{class l{static#t=this.\u0275fac=function(p){return new(p||l)};static#e=this.\u0275mod=e.$C({type:l});static#n=this.\u0275inj=e.G2t({imports:[S]})}return l})()}}]);