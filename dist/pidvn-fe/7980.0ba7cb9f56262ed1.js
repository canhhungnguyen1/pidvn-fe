"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[7980],{37980:(Y,h,l)=>{l.r(h),l.d(h,{AccountingModule:()=>U});var b=l(60177),m=l(46661),t=l(54438);let x=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#n=this.\u0275cmp=t.VBU({type:a,selectors:[["app-accounting"]],decls:1,vars:0,template:function(o,e){1&o&&t.nrm(0,"router-outlet")},dependencies:[m.n3],encapsulation:2})}return a})();var M=l(45312),j=l(21626);let z=(()=>{class a{constructor(n){this.httpClient=n,this.baseUrl=M.c.baseUrl}getStkPayments(){return this.httpClient.get(`${this.baseUrl}/Accounting/StkPayment/StkPayments`)}createStkPayment(n){return this.httpClient.post(`${this.baseUrl}/Accounting/StkPayment/StkPayment`,n)}updateStkPayment(n){return this.httpClient.put(`${this.baseUrl}/Accounting/StkPayment/StkPayment`,n)}static#t=this.\u0275fac=function(o){return new(o||a)(t.KVO(j.Qq))};static#n=this.\u0275prov=t.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var F=l(45794),T=l(37736),c=l(89417),u=l(31958),y=l(27380),k=l(33514),P=l(38296),s=l(31837),d=l(43053),r=l(23359),C=l(21011),_=l(50513),E=l(16389),v=l(25930),p=l(1997);const R=()=>[10,25,50,100],B=()=>[""];function N(a,f){if(1&a){const n=t.RV6();t.j41(0,"div",26)(1,"a",27),t.bIt("click",function(){const e=t.eBV(n).$implicit,i=t.XpG();return t.Njj(i.openModal(e))}),t.EFF(2,"S\u1eeda"),t.k0s(),t.EFF(3," | "),t.j41(4,"a",28),t.EFF(5," X\xf3a "),t.k0s()()}}function V(a,f){if(1&a){const n=t.RV6();t.qex(0),t.j41(1,"nz-table",29)(2,"thead")(3,"tr")(4,"th")(5,"label"),t.EFF(6,"Code"),t.k0s(),t.j41(7,"span",30),t.EFF(8,"*"),t.k0s()(),t.j41(9,"th")(10,"input",31),t.mxI("ngModelChange",function(e){t.eBV(n);const i=t.XpG();return t.DH7(i.stkPayment.code,e)||(i.stkPayment.code=e),t.Njj(e)}),t.k0s()(),t.j41(11,"th")(12,"label"),t.EFF(13,"Type"),t.k0s()(),t.j41(14,"th")(15,"nz-select",32),t.mxI("ngModelChange",function(e){t.eBV(n);const i=t.XpG();return t.DH7(i.stkPayment.type,e)||(i.stkPayment.type=e),t.Njj(e)}),t.nrm(16,"nz-option",33)(17,"nz-option",34),t.k0s()()(),t.j41(18,"tr")(19,"th")(20,"label"),t.EFF(21,"Name"),t.k0s(),t.j41(22,"span",30),t.EFF(23,"*"),t.k0s()(),t.j41(24,"th")(25,"input",35),t.mxI("ngModelChange",function(e){t.eBV(n);const i=t.XpG();return t.DH7(i.stkPayment.name,e)||(i.stkPayment.name=e),t.Njj(e)}),t.k0s()(),t.j41(26,"th")(27,"label"),t.EFF(28,"Branch Name"),t.k0s()(),t.j41(29,"th")(30,"input",36),t.mxI("ngModelChange",function(e){t.eBV(n);const i=t.XpG();return t.DH7(i.stkPayment.branchName,e)||(i.stkPayment.branchName=e),t.Njj(e)}),t.k0s()()(),t.j41(31,"tr")(32,"th")(33,"label"),t.EFF(34,"Bank"),t.k0s()(),t.j41(35,"th")(36,"input",37),t.mxI("ngModelChange",function(e){t.eBV(n);const i=t.XpG();return t.DH7(i.stkPayment.bank,e)||(i.stkPayment.bank=e),t.Njj(e)}),t.k0s()(),t.j41(37,"th")(38,"label"),t.EFF(39,"STK"),t.k0s()(),t.j41(40,"th")(41,"input",38),t.mxI("ngModelChange",function(e){t.eBV(n);const i=t.XpG();return t.DH7(i.stkPayment.stk,e)||(i.stkPayment.stk=e),t.Njj(e)}),t.k0s()()(),t.j41(42,"tr")(43,"th")(44,"label"),t.EFF(45,"Currency"),t.k0s()(),t.j41(46,"th")(47,"input",39),t.mxI("ngModelChange",function(e){t.eBV(n);const i=t.XpG();return t.DH7(i.stkPayment.currency,e)||(i.stkPayment.currency=e),t.Njj(e)}),t.k0s()(),t.j41(48,"th")(49,"label"),t.EFF(50,"Benific\u1ec9ay"),t.k0s()(),t.j41(51,"th")(52,"input",40),t.mxI("ngModelChange",function(e){t.eBV(n);const i=t.XpG();return t.DH7(i.stkPayment.benificiary,e)||(i.stkPayment.benificiary=e),t.Njj(e)}),t.k0s()()()()(),t.bVm()}if(2&a){const n=t.XpG();t.R7$(),t.Y8G("nzData",t.lJ4(9,B)),t.R7$(9),t.R50("ngModel",n.stkPayment.code),t.R7$(5),t.R50("ngModel",n.stkPayment.type),t.R7$(10),t.R50("ngModel",n.stkPayment.name),t.R7$(5),t.R50("ngModel",n.stkPayment.branchName),t.R7$(6),t.R50("ngModel",n.stkPayment.bank),t.R7$(5),t.R50("ngModel",n.stkPayment.stk),t.R7$(6),t.R50("ngModel",n.stkPayment.currency),t.R7$(5),t.R50("ngModel",n.stkPayment.benificiary)}}function G(a,f){if(1&a){const n=t.RV6();t.j41(0,"button",41),t.bIt("click",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.cancelSave())}),t.EFF(1,"H\u1ee7y"),t.k0s(),t.j41(2,"button",42),t.bIt("click",function(){t.eBV(n);const e=t.XpG();return t.Njj(e.onSave())}),t.EFF(3,"Save"),t.k0s()}}const O=[{path:"",component:x,children:[{path:"stk-payment",component:(()=>{class a{constructor(n,o,e){this.stkPaymentSvc=n,this.toastr=o,this.jwtHelperSvc=e,this.isEditMode=!1}ngOnInit(){this.getStkPayments()}getStkPayments(){this.stkPaymentSvc.getStkPayments().subscribe(n=>{this.stkPayments=n.reverse()})}openModal(n){console.log("aaa: ",n),this.stkPayment={id:n?n.data.id:null,code:n?n.data.code:null,type:n?n.data.type:null,name:n?n.data.name:null,branchName:n?n.data.branchName:null,bank:n?n.data.bank:null,stk:n?n.data.stk:null,currency:n?n.data.currency:null,benificiary:n?n.data.benificiary:null},this.isEditMode=!!n,this.modalTitle=this.isEditMode?"Form ch\u1ec9nh s\u1eeda":"Form t\u1ea1o m\u1edbi",this.isOpenModal=!0}onSave(){console.log("EditMode: ",this.isEditMode),this.isEditMode?this.updateStkPayment({...this.stkPayment}):this.createStkPayment()}cancelSave(){this.isOpenModal=!1}createStkPayment(){this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString());let o={code:this.stkPayment.code,type:this.stkPayment.type,name:this.stkPayment.name,branchName:this.stkPayment.branchName,bank:this.stkPayment.bank,stk:this.stkPayment.stk,currency:this.stkPayment.currency};o.code&&o.name?this.stkPaymentSvc.createStkPayment(o).subscribe(e=>{this.toastr.success("Th\xeam th\xe0nh c\xf4ng","Success"),this.getStkPayments(),this.isOpenModal=!1}):this.toastr.warning("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng c\xe1c tr\u01b0\u1eddng b\u1eaft bu\u1ed9c","Warning")}updateStkPayment(n){n.code&&n.name?this.stkPaymentSvc.updateStkPayment(n).subscribe(o=>{this.toastr.success("Th\xeam th\xe0nh c\xf4ng","Success"),this.getStkPayments(),this.isOpenModal=!1}):this.toastr.warning("Kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng c\xe1c tr\u01b0\u1eddng b\u1eaft bu\u1ed9c","Warning")}static#t=this.\u0275fac=function(o){return new(o||a)(t.rXU(z),t.rXU(F.tw),t.rXU(T.X7))};static#n=this.\u0275cmp=t.VBU({type:a,selectors:[["app-stk-payment"]],decls:33,vars:22,consts:[["columnChooser",""],["id","gridContainer",2,"margin-top","5px",3,"dataSource","remoteOperations","allowColumnReordering","rowAlternationEnabled","allowColumnResizing","columnAutoWidth","showColumnLines","showRowLines","showBorders"],[3,"enabled"],[3,"enabled","mode"],["location","before"],["stylingMode","contained","type","default","icon","plus","text","T\u1ea1o m\u1edbi",3,"onClick"],["name","exportButton"],["name","columnChooserButton"],[3,"visible"],["caption","STT","dataField","id"],["caption","Code","dataField","code"],["caption","Type","dataField","type"],["caption","Name","dataField","name"],["caption","Stk","dataField","stk"],["caption","Currency","dataField","currency"],["caption","Bank","dataField","bank"],["caption","Branch Name","dataField","branchName"],["caption","Benificiary","dataField","benificiary"],["caption","Ng\xe0y t\u1ea1o","dataField","createtime","dataType","date","format","yyyy-MM-dd HH:mm"],["caption","Action","cellTemplate","actionTemplate","fixedPosition","right",3,"fixed"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],["nzWidth","800px",3,"nzVisibleChange","nzOnCancel","nzVisible","nzTitle"],[4,"nzModalContent"],[3,"nzModalFooter"],[2,"text-align","center"],[2,"color","blue",3,"click"],["nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn x\xf3a kh\xf4ng ?",2,"color","red"],["nzSize","small","nzBordered","","nzFrontPagination","false",3,"nzData"],[2,"color","red"],["nz-input","","placeholder","Code",3,"ngModelChange","ngModel"],[2,"width","100%",3,"ngModelChange","ngModel"],["nzValue","pana","nzLabel","pana"],["nzValue","outside","nzLabel","outside"],["nz-input","","placeholder","Name",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Branch Name",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Bank",3,"ngModelChange","ngModel"],["nz-input","","placeholder","STK",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Currency",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Benific\u1ec9ay",3,"ngModelChange","ngModel"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(o,e){if(1&o){const i=t.RV6();t.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),t.EFF(2,"Accounting"),t.k0s(),t.j41(3,"nz-breadcrumb-item"),t.EFF(4,"Account Payment"),t.k0s()(),t.j41(5,"dx-data-grid",1),t.nrm(6,"dxo-column-fixing",2)(7,"dxo-export",2)(8,"dxo-column-chooser",3,0),t.j41(10,"dxo-toolbar")(11,"dxi-item",4)(12,"dx-button",5),t.bIt("onClick",function(){return t.eBV(i),t.Njj(e.openModal(null))}),t.k0s()(),t.nrm(13,"dxi-item",6)(14,"dxi-item",7),t.k0s(),t.nrm(15,"dxo-filter-row",8)(16,"dxi-column",9)(17,"dxi-column",10)(18,"dxi-column",11)(19,"dxi-column",12)(20,"dxi-column",13)(21,"dxi-column",14)(22,"dxi-column",15)(23,"dxi-column",16)(24,"dxi-column",17)(25,"dxi-column",18),t.j41(26,"dxi-column",19),t.DNE(27,N,6,0,"div",20),t.k0s(),t.nrm(28,"dxo-paging",21)(29,"dxo-pager",22),t.k0s(),t.j41(30,"nz-modal",23),t.mxI("nzVisibleChange",function(g){return t.eBV(i),t.DH7(e.isOpenModal,g)||(e.isOpenModal=g),t.Njj(g)}),t.bIt("nzOnCancel",function(){return t.eBV(i),t.Njj(e.cancelSave())}),t.DNE(31,V,53,10,"ng-container",24)(32,G,4,0,"ng-template",25),t.k0s()}2&o&&(t.R7$(5),t.Y8G("dataSource",e.stkPayments)("remoteOperations",!1)("allowColumnReordering",!0)("rowAlternationEnabled",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0),t.R7$(),t.Y8G("enabled",!0),t.R7$(),t.Y8G("enabled",!0),t.R7$(),t.Y8G("enabled",!0)("mode","select"),t.R7$(7),t.Y8G("visible",!0),t.R7$(11),t.Y8G("fixed",!0),t.R7$(),t.Y8G("dxTemplateOf","actionTemplate"),t.R7$(),t.Y8G("pageSize",10),t.R7$(),t.Y8G("showPageSizeSelector",!0)("allowedPageSizes",t.lJ4(21,R)),t.R7$(),t.R50("nzVisible",e.isOpenModal),t.Y8G("nzTitle",e.modalTitle))},dependencies:[c.me,c.BC,c.vS,u.hL,u.K7,y.eC,k.e,P.s,s.i2Q,s.Omo,s.nj_,s.CVf,s.ZJU,s.FTx,s.sVQ,s.PVd,s.KOr,d.F2,d.Oj,d.A9,r.CP,r.SO,r._4,r.IL,r.kt,C.Sy,_.aO,E.c,v.p,p.ld,p.WI],styles:["nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#8a2be2}"]})}return a})()}]}];let A=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#n=this.\u0275mod=t.$C({type:a});static#e=this.\u0275inj=t.G2t({imports:[m.iI.forChild(O),m.iI]})}return a})();var I=l(53606),D=l(24053),X=l(47711),H=l(38927);let U=(()=>{class a{static#t=this.\u0275fac=function(o){return new(o||a)};static#n=this.\u0275mod=t.$C({type:a});static#e=this.\u0275inj=t.G2t({imports:[b.MD,A,c.YN,I.t,u.EJ,D.T,k.L,P.N,X.p,y.xZ,d.U6,r.$G,C.j,H.PQ,_.Zw,p.DH]})}return a})()}}]);