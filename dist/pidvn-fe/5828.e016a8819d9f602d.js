"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[5828],{75828:(Ie,V,s)=>{s.r(V),s.d(V,{QaOqcCheckModule:()=>Ne});var u=s(60177),p=s(89417),O=s(12673),st=s(24053),j=s(27380),y=s(31958),x=s(50513),C=s(74696),Q=s(21011),S=s(33190),w=s(97685),g=s(23359),D=s(9541),z=s(46661),t=s(54438);let rt=(()=>{class n{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-qa-oqc-check"]],decls:1,vars:0,template:function(i,a){1&i&&t.nrm(0,"router-outlet")},dependencies:[z.n3]})}return n})();var ct=s(45312),B=s(24367),dt=s(88190),ut=s(37736),mt=s(33373),pt=s(45794),d=s(31837),P=s(16389),Y=s(25930),R=s(43053),q=s(97529),L=s(82358),k=s(72544),U=s(75699);const gt=["valueIpt"],ht=()=>[""];function _t(n,o){1&n&&(t.j41(0,"td",27)(1,"label",28),t.EFF(2,"Final Result"),t.k0s()())}function ft(n,o){if(1&n&&(t.j41(0,"li"),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&n){const e=o.$implicit;t.R7$(),t.Lme(" ",e.split(":")[0]," : ",t.i5U(2,2,e.split(":")[1],"1.0-3")," ")}}function vt(n,o){if(1&n&&(t.j41(0,"td",29),t.EFF(1),t.k0s()),2&n){const e=t.XpG(2);t.xc7("background","OK"==(null==e.requestInfo?null:e.requestInfo.judgment)?"#1bc742":"red"),t.R7$(),t.SpI(" ",null==e.requestInfo?null:e.requestInfo.judgment," ")}}function zt(n,o){if(1&n){const e=t.RV6();t.j41(0,"table",19)(1,"tbody")(2,"tr")(3,"td")(4,"label"),t.EFF(5,"QA Card"),t.k0s()(),t.j41(6,"td"),t.EFF(7),t.k0s(),t.j41(8,"td")(9,"label"),t.EFF(10,"Total Qty"),t.k0s()(),t.j41(11,"td"),t.EFF(12),t.nI1(13,"number"),t.k0s(),t.DNE(14,_t,3,0,"td",20),t.k0s(),t.j41(15,"tr")(16,"td")(17,"label"),t.EFF(18,"Date Code"),t.k0s()(),t.j41(19,"td")(20,"ul"),t.DNE(21,ft,3,5,"li",21),t.k0s()(),t.j41(22,"td")(23,"label"),t.EFF(24,"Ng\xe0y check"),t.k0s()(),t.j41(25,"td"),t.EFF(26),t.nI1(27,"date"),t.k0s(),t.DNE(28,vt,2,3,"td",22),t.k0s(),t.j41(29,"tr")(30,"td")(31,"label"),t.EFF(32,"Tr\u1ea1ng th\xe1i"),t.k0s()(),t.j41(33,"td")(34,"nz-radio-group",23),t.bIt("ngModelChange",function(a){t.eBV(e);const l=t.XpG();return t.Njj(l.changeRequestStatus(a))}),t.j41(35,"div",24),t.EFF(36,"\u0110ang x\u1eed l\xfd"),t.k0s(),t.j41(37,"div",24),t.EFF(38,"\u0110\xe3 x\u1eed l\xfd"),t.k0s()()(),t.j41(39,"td")(40,"label"),t.EFF(41,"C\u1ea3nh b\xe1o"),t.k0s()(),t.j41(42,"td")(43,"nz-tag",25),t.EFF(44),t.k0s(),t.j41(45,"a",26),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.isOpenSystemValidate=!0)}),t.EFF(46,"Chi ti\u1ebft"),t.k0s()()()()()}if(2&n){const e=t.XpG();t.R7$(7),t.JRh(null==e.requestInfo?null:e.requestInfo.qaCard),t.R7$(5),t.JRh(t.i5U(13,12,null==e.requestInfo?null:e.requestInfo.qty,"1.0-3")),t.R7$(2),t.Y8G("ngIf",null==e.requestInfo?null:e.requestInfo.judgment),t.R7$(7),t.Y8G("ngForOf",null==e.requestInfo?null:e.requestInfo.dateCode.split(";")),t.R7$(5),t.SpI(" ",null==(null==e.requestInfo?null:e.requestInfo.oqcDate)?"NA":t.i5U(27,15,e.requestInfo.oqcDate,"yyyy-MM-dd HH:mm:ss")," "),t.R7$(2),t.Y8G("ngIf",null==e.requestInfo?null:e.requestInfo.judgment),t.R7$(6),t.Y8G("ngModel",e.requestInfo.requestStatusId),t.R7$(),t.Y8G("nzValue",2),t.R7$(2),t.Y8G("nzValue",3),t.R7$(6),t.Y8G("nzColor",(null==e.systemValidateData?null:e.systemValidateData.dateCodeData[0].rate)>20?"#f50":"#87d068"),t.R7$(),t.Lme(" ",(null==e.systemValidateData?null:e.systemValidateData.dateCodeData[0].rate)>20?"NG":"OK"," (Rate: ",null==e.systemValidateData?null:e.systemValidateData.dateCodeData[0].rate,"%) ")}}function Et(n,o){1&n&&(t.j41(0,"div")(1,"button",33),t.EFF(2,"H\u1ee7y"),t.k0s(),t.j41(3,"button",34),t.EFF(4,"L\u01b0u"),t.k0s()())}function Ct(n,o){1&n&&(t.qex(0),t.j41(1,"nz-table",30)(2,"tbody")(3,"tr")(4,"td",28),t.EFF(5,"Nhi\u1ec7t \u0111\u1ed9"),t.k0s(),t.j41(6,"td"),t.nrm(7,"input",31),t.k0s()(),t.j41(8,"tr")(9,"td",28),t.EFF(10,"\u0110\u1ed9 \u1ea9m"),t.k0s(),t.j41(11,"td"),t.nrm(12,"input",32),t.k0s()()()(),t.DNE(13,Et,5,0,"div",18),t.bVm()),2&n&&(t.R7$(),t.Y8G("nzData",t.lJ4(1,ht)))}function qt(n,o){1&n&&t.eu8(0)}function bt(n,o){1&n&&t.eu8(0)}function Ft(n,o){1&n&&t.eu8(0)}function Rt(n,o){1&n&&(t.j41(0,"button",47),t.EFF(1," L\u01b0u "),t.k0s())}function Tt(n,o){1&n&&(t.j41(0,"button",48),t.EFF(1," X\xf3a "),t.k0s())}function Ot(n,o){1&n&&(t.j41(0,"button",49),t.EFF(1," Detail "),t.k0s())}function jt(n,o){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td")(2,"label",36),t.EFF(3),t.k0s()(),t.j41(4,"td")(5,"input",37),t.mxI("ngModelChange",function(a){const l=t.eBV(e).$implicit;return t.DH7(l.numberOfSampling,a)||(l.numberOfSampling=a),t.Njj(a)}),t.k0s()(),t.j41(6,"td")(7,"input",38),t.mxI("ngModelChange",function(a){const l=t.eBV(e).$implicit;return t.DH7(l.rejectNumber,a)||(l.rejectNumber=a),t.Njj(a)}),t.k0s()(),t.j41(8,"td",39)(9,"nz-radio-group",23),t.mxI("ngModelChange",function(a){const l=t.eBV(e).$implicit;return t.DH7(l.value,a)||(l.value=a),t.Njj(a)}),t.j41(10,"label",40),t.EFF(11,"OK"),t.k0s(),t.j41(12,"label",41),t.EFF(13,"NG"),t.k0s(),t.j41(14,"label",42),t.EFF(15,"NA"),t.k0s()()(),t.j41(16,"td")(17,"input",43),t.mxI("ngModelChange",function(a){const l=t.eBV(e).$implicit;return t.DH7(l.remark,a)||(l.remark=a),t.Njj(a)}),t.k0s()(),t.j41(18,"td",27)(19,"nz-space"),t.DNE(20,Rt,2,0,"button",44)(21,Tt,2,0,"button",45)(22,Ot,2,0,"button",46),t.k0s()()()}if(2&n){const e=o.$implicit;t.R7$(3),t.JRh(e.viName),t.R7$(2),t.R50("ngModel",e.numberOfSampling),t.R7$(2),t.R50("ngModel",e.rejectNumber),t.R7$(2),t.R50("ngModel",e.value),t.R7$(8),t.R50("ngModel",e.remark)}}function yt(n,o){if(1&n&&(t.j41(0,"nz-table",35,4)(2,"thead")(3,"tr")(4,"th",27),t.EFF(5,"Check Item"),t.k0s(),t.j41(6,"th",27),t.EFF(7,"Number of sampling"),t.k0s(),t.j41(8,"th",27),t.EFF(9,"Reject number"),t.k0s(),t.j41(10,"th",27),t.EFF(11,"Judgment"),t.k0s(),t.j41(12,"th",27),t.EFF(13,"Remark"),t.k0s(),t.j41(14,"th",27),t.EFF(15,"Action"),t.k0s()()(),t.j41(16,"tbody"),t.DNE(17,jt,23,5,"tr",21),t.k0s()()),2&n){const e=t.sdS(1),i=t.XpG();t.Y8G("nzData",i.oqcMasterData),t.R7$(17),t.Y8G("ngForOf",e.data)}}function xt(n,o){if(1&n){const e=t.RV6();t.j41(0,"a",57),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,l=t.XpG(2);return t.Njj(l.previewFile(a))}),t.EFF(1," | Preview "),t.k0s()}}function St(n,o){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"a",26),t.bIt("click",function(){const a=t.eBV(e).$implicit,l=t.XpG(2);return t.Njj(l.downloadDocument(a))}),t.EFF(2,"T\u1ea3i xu\u1ed1ng"),t.k0s(),t.DNE(3,xt,2,0,"a",56),t.k0s()}if(2&n){const e=o.$implicit;t.R7$(3),t.Y8G("ngIf","application/pdf"===e.data.fileFormat)}}function wt(n,o){if(1&n&&(t.j41(0,"dx-data-grid",50),t.nrm(1,"dxo-filter-row",51)(2,"dxi-column",52)(3,"dxi-column",53),t.j41(4,"dxi-column",54),t.DNE(5,St,4,1,"div",55),t.k0s()()),2&n){const e=t.XpG();t.Y8G("dataSource",e.documents)("remoteOperations",!1)("allowColumnReordering",!0)("rowAlternationEnabled",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("hoverStateEnabled",!1),t.R7$(),t.Y8G("visible",!0),t.R7$(4),t.Y8G("dxTemplateOf","actionTemplate")}}function Dt(n,o){if(1&n){const e=t.RV6();t.j41(0,"tr")(1,"td"),t.nrm(2,"span",63),t.j41(3,"a",26),t.bIt("click",function(){const a=t.eBV(e).$implicit,l=t.XpG(2);return t.Njj(l.fileClick(a))}),t.EFF(4),t.k0s()(),t.j41(5,"td",27),t.EFF(6),t.nI1(7,"date"),t.k0s(),t.j41(8,"td",27),t.EFF(9),t.k0s(),t.j41(10,"td",27)(11,"a",64),t.EFF(12,"X\xf3a"),t.k0s()()()}if(2&n){const e=o.$implicit;t.R7$(4),t.SpI(" ",e.fileName,""),t.R7$(2),t.SpI(" ",t.i5U(7,3,e.createdAt,"yyyy-MM-dd HH:mm")," "),t.R7$(3),t.JRh(e.createdBy)}}function kt(n,o){if(1&n&&(t.qex(0),t.j41(1,"nz-upload",65)(2,"button",66),t.nrm(3,"span",67),t.EFF(4," Click to Upload "),t.k0s()(),t.bVm()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("nzAction",e.uploadFileApi)}}function $t(n,o){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"button",68),t.bIt("click",function(){t.eBV(e);const a=t.XpG(2);return t.Njj(a.closeUploadFileModal())}),t.EFF(2," \u0110\xf3ng "),t.k0s()()}}function Nt(n,o){if(1&n){const e=t.RV6();t.j41(0,"div",58)(1,"div",59)(2,"button",60),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.openUploadFileModal())}),t.EFF(3," Upload d\u1eef li\u1ec7u "),t.k0s(),t.j41(4,"nz-table",61,5)(6,"thead")(7,"tr")(8,"th"),t.EFF(9,"File Name"),t.k0s(),t.j41(10,"th"),t.EFF(11,"Created At"),t.k0s(),t.j41(12,"th"),t.EFF(13,"Upload By"),t.k0s(),t.j41(14,"th"),t.EFF(15,"Action"),t.k0s()()(),t.j41(16,"tbody"),t.DNE(17,Dt,13,6,"tr",21),t.k0s()()(),t.nrm(18,"div",59),t.k0s(),t.j41(19,"nz-modal",62),t.mxI("nzVisibleChange",function(a){t.eBV(e);const l=t.XpG();return t.DH7(l.isShowUploadFileModal,a)||(l.isShowUploadFileModal=a),t.Njj(a)}),t.DNE(20,kt,5,1,"ng-container",11)(21,$t,3,0,"div",18),t.k0s()}if(2&n){const e=t.sdS(5),i=t.XpG();t.Y8G("nzGutter",24),t.R7$(2),t.Y8G("nzType","primary"),t.R7$(2),t.Y8G("nzData",i.oqcDataFiles),t.R7$(13),t.Y8G("ngForOf",e.data),t.R7$(2),t.R50("nzVisible",i.isShowUploadFileModal)}}function It(n,o){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"a",57),t.bIt("click",function(){const a=t.eBV(e).$implicit,l=t.XpG(2);return t.Njj(l.previewDocumentPE(a))}),t.EFF(2,"Xem"),t.k0s()()}}function Mt(n,o){if(1&n&&(t.j41(0,"dx-data-grid",69),t.nrm(1,"dxo-filter-row",51)(2,"dxi-column",70)(3,"dxi-column",71)(4,"dxi-column",72),t.j41(5,"dxi-column",73),t.DNE(6,It,3,0,"div",55),t.k0s()()),2&n){const e=t.XpG();t.Y8G("dataSource",e.documentsPE)("remoteOperations",!1)("allowColumnReordering",!0)("rowAlternationEnabled",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0),t.R7$(),t.Y8G("visible",!0),t.R7$(5),t.Y8G("dxTemplateOf","actionTemplate")}}function Gt(n,o){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.nI1(5,"number"),t.k0s(),t.j41(6,"td"),t.EFF(7),t.nI1(8,"number"),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s()()),2&n){const e=o.$implicit;t.R7$(2),t.JRh(e.dateCode),t.R7$(2),t.JRh(t.i5U(5,4,e.qty,"1.0-3")),t.R7$(3),t.JRh(t.i5U(8,7,e.actualScanQty,"1.0-3")),t.R7$(3),t.SpI(" ",e.dateMarking===e.dateQaCard?e.rate:"NA"," % ")}}function At(n,o){1&n&&(t.j41(0,"tr")(1,"td",81)(2,"nz-tag",82),t.EFF(3," C\u1ea3nh b\xe1o: t\u1ef7 l\u1ec7 gi\u1eefa Qty marking so v\u1edbi Qty scan tr\xean line > 20% => "),t.k0s(),t.j41(4,"nz-tag",25),t.EFF(5,"NG"),t.k0s()()()),2&n&&(t.R7$(2),t.Y8G("nzColor","red")("nzBordered",!1),t.R7$(2),t.Y8G("nzColor","#f50"))}function Vt(n,o){1&n&&(t.j41(0,"nz-tag",82),t.EFF(1,"Kh\xf4ng s\u1eed d\u1ee5ng ho\u1eb7c ch\u01b0a scan NVL"),t.k0s()),2&n&&t.Y8G("nzColor","red")("nzBordered",!1)}function Qt(n,o){if(1&n&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.DNE(4,Vt,2,2,"nz-tag",83),t.EFF(5),t.nI1(6,"number"),t.k0s()()),2&n){const e=o.$implicit;t.R7$(2),t.JRh(e.pncomp),t.R7$(2),t.Y8G("ngIf",!e.qty),t.R7$(),t.SpI(" ",t.i5U(6,3,e.qty,"1.0-3")," ")}}function Bt(n,o){if(1&n&&(t.qex(0),t.j41(1,"div",58)(2,"div",74)(3,"nz-collapse")(4,"nz-collapse-panel",8)(5,"nz-table",75,6)(7,"thead")(8,"tr")(9,"th",76)(10,"nz-tag",25),t.EFF(11),t.k0s()()(),t.j41(12,"tr")(13,"th"),t.EFF(14,"DateCode"),t.k0s(),t.j41(15,"th"),t.EFF(16,"Qty"),t.k0s(),t.j41(17,"th"),t.EFF(18,"Scan Qty"),t.k0s(),t.j41(19,"th"),t.EFF(20,"Rate"),t.k0s()()(),t.j41(21,"tbody"),t.DNE(22,Gt,11,10,"tr",21)(23,At,6,3,"tr",77),t.k0s()()()()(),t.j41(24,"div",78)(25,"nz-collapse")(26,"nz-collapse-panel",8)(27,"nz-table",79,7)(29,"thead")(30,"tr")(31,"th",80)(32,"nz-tag",25),t.EFF(33),t.k0s()()(),t.j41(34,"tr")(35,"th"),t.EFF(36,"PartNo"),t.k0s(),t.j41(37,"th"),t.EFF(38,"Qty"),t.k0s()()(),t.j41(39,"tbody"),t.DNE(40,Qt,7,6,"tr",21),t.k0s()()()()()(),t.bVm()),2&n){const e=t.sdS(6),i=t.sdS(28),a=t.XpG();t.R7$(),t.Y8G("nzGutter",24),t.R7$(3),t.Y8G("nzHeader","Check s\u1ed1 l\u01b0\u1ee3ng")("nzActive",!0),t.R7$(),t.Y8G("nzData",null==a.systemValidateData?null:a.systemValidateData.dateCodeData)("nzPageSize",10),t.R7$(5),t.Y8G("nzColor","purple"),t.R7$(),t.SpI(" QA Card: ",a.qaCard,""),t.R7$(11),t.Y8G("ngForOf",e.data),t.R7$(),t.Y8G("ngIf",e.data[0].rate>20),t.R7$(3),t.Y8G("nzHeader","D\u1eef li\u1ec7u scan tr\xean line")("nzActive",!0),t.R7$(),t.Y8G("nzData",null==a.systemValidateData?null:a.systemValidateData.psMasterData)("nzPageSize",10),t.R7$(5),t.Y8G("nzColor","purple"),t.R7$(),t.SpI("Model: ",a.qaCard.split("*")[0],""),t.R7$(7),t.Y8G("ngForOf",i.data)}}function Pt(n,o){if(1&n){const e=t.RV6();t.j41(0,"div")(1,"button",84),t.bIt("click",function(){t.eBV(e);const a=t.XpG();return t.Njj(a.isOpenSystemValidate=!1)}),t.EFF(2," \u0110\xf3ng "),t.k0s()()}}let Yt=(()=>{class n{constructor(e,i,a,l,c,r){this.qaOqcSvc=e,this.qaOqcDocumentSvc=i,this.activatedRoute=a,this.jwtHelperSvc=l,this.packingOqcRequestSvc=c,this.toastr=r,this.baseUrl=ct.c.baseUrl,this.isOpenModalHandleRequest=!1,this.isShowUploadFileModal=!1,this.uploadFileApi="",this.isOpenSystemValidate=!1,this.jwt=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString())}ngOnInit(){this.reqNo=this.activatedRoute.snapshot.queryParams.reqNo,this.qaCard=this.activatedRoute.snapshot.queryParams.qaCard,this.requestStatus=this.activatedRoute.snapshot.queryParams.requestStatus,this.getRequestInfo({reqNo:this.reqNo}),this.getOqcDataFiles({reqNo:this.reqNo}),this.getDocuments({model:this.qaCard.split("*")[0]}),this.getDocumentsPE(this.qaCard.split("*")[0]),this.systemValidate(this.qaCard)}systemValidate(e){this.qaOqcSvc.systemValidate(e).subscribe(i=>{this.systemValidateData=i})}getOqcMasterData(e,i){this.qaOqcSvc.getOqcMasterData(e,i).subscribe(a=>{this.oqcMasterData=a,console.log(this.oqcMasterData)})}getRequestInfo(e){this.qaOqcSvc.getOqcRequests(e).subscribe(i=>{this.requestInfo=i[0],console.log("requestInfo: ",this.requestInfo)})}nzSelectedIndexChange(e){console.log(e)}openUploadFileModal(){this.isShowUploadFileModal=!0,this.uploadFileApi=`${this.baseUrl}/QA/OqcCheck/UploadFile?createdBy=${this.jwt.Username}&reqNo=${this.reqNo}`}getOqcDataFiles(e){this.qaOqcSvc.getOqcDataFiles(e).subscribe(i=>{this.oqcDataFiles=i,console.log("DATA FILES: ",this.oqcDataFiles)})}closeUploadFileModal(){this.getOqcDataFiles({reqNo:this.reqNo}),this.getRequestInfo({reqNo:this.reqNo}),this.isShowUploadFileModal=!1}fileClick(e){this.qaOqcSvc.downloadOqcDataFile({url:`${e.rootFolder}\\${e.reqNo}\\${e.fileName}`}).subscribe(a=>{console.log(a);const l=new Blob([a],{}),c=window.URL.createObjectURL(l),r=document.createElement("a");r.href=c,r.download=`${e.fileName}`,r.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(c),r.remove()},100)})}getDocuments(e){this.qaOqcDocumentSvc.getDocuments(e).subscribe(i=>{this.documents=i})}getDocumentsPE(e){this.qaOqcDocumentSvc.getDocumentsPE(e).subscribe(i=>{this.documentsPE=i,console.log("documentsPE: ",i)})}previewFile(e){console.log(e),this.qaOqcDocumentSvc.previewFile(e.data).subscribe(i=>{let a=new Blob([i],{type:"application/pdf"});var l=URL.createObjectURL(a);window.open(l)})}previewDocumentPE(e){console.log(e),this.qaOqcDocumentSvc.previewDocumentPE(e.data).subscribe(i=>{let a=new Blob([i],{type:"application/pdf"});var l=URL.createObjectURL(a);window.open(l)})}downloadDocument(e){this.qaOqcDocumentSvc.downloadDocument(e.data).subscribe(i=>{console.log(i);const a=new Blob([i],{}),l=window.URL.createObjectURL(a),c=document.createElement("a");c.href=l,c.download=`${e.data.fileName}`,c.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(l),c.remove()},100)})}changeRequestStatus(e){let i={...this.requestInfo};i.requestStatusId=e,this.packingOqcRequestSvc.updateOqcRequest(i).subscribe(a=>{this.getRequestInfo({reqNo:this.reqNo}),this.toastr.success("C\u1eadp nh\u1eadt th\xe0nh c\xf4ng","Success")})}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(B.T),t.rXU(dt.s),t.rXU(z.nX),t.rXU(ut.X7),t.rXU(mt.B),t.rXU(pt.tw))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-qa-oqc-evaluate"]],viewQuery:function(i,a){if(1&i&&t.GBs(gt,5),2&i){let l;t.mGM(l=t.lsd())&&(a.valueIpt=l.first)}},decls:23,vars:10,consts:[["masterData",""],["document",""],["dataFile",""],["documentPE",""],["masterDataTable",""],["oqcDataFileTable",""],["dateCodeTable",""],["psMasterTable",""],[3,"nzHeader","nzActive"],["id","infoTable",4,"ngIf"],["nzTitle","Nh\u1eadp th\xf4ng tin",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[3,"nzSelectedIndexChange","nzType","nzSelectedIndex"],["nzTitle","D\u1eef li\u1ec7u ki\u1ec3m tra"],[4,"ngTemplateOutlet"],["nzTitle","T\xe0i li\u1ec7u PE ph\xe1t h\xe0nh"],["nzTitle","Document"],["nzTitle","System Validate","nzWidth","80%",3,"nzVisibleChange","nzOnCancel","nzOnOk","nzVisible"],[4,"nzModalFooter"],["id","infoTable"],["style","text-align: center",4,"ngIf"],[4,"ngFor","ngForOf"],["id","evaluate","rowspan","2","style","font-size: 20px",3,"background",4,"ngIf"],[3,"ngModelChange","ngModel"],["nz-radio","",3,"nzValue"],[3,"nzColor"],[3,"click"],[2,"text-align","center"],[2,"font-weight","bold"],["id","evaluate","rowspan","2",2,"font-size","20px"],["nzBordered","","nzFrontPagination","false","nzSize","small",3,"nzData"],["nz-input","","placeholder","Nhi\u1ec7t \u0111\u1ed9"],["nz-input","","placeholder","\u0110\u1ed9 \u1ea9m"],["nz-button","","nzType","default"],["nz-button","","nzType","primary"],["nzSize","small","nzBordered","","nzFrontPagination","false",3,"nzData"],[2,"color","green","font-weight","bold"],["nz-input","","type","number","placeholder","Number of sampling",2,"text-align","center",3,"ngModelChange","ngModel"],["nz-input","","type","number","placeholder","Reject number",2,"text-align","center",3,"ngModelChange","ngModel"],[2,"text-align","center","font-weight","bold"],["nz-radio","","nzValue","OK",2,"color","green"],["nz-radio","","nzValue","NG",2,"color","red"],["nz-radio","","nzValue","NA"],["nz-input","","placeholder","Ghi ch\xfa",3,"ngModelChange","ngModel"],["nz-button","","nzType","primary","nzSize","small",4,"nzSpaceItem"],["nz-button","","nzType","default","nzDanger","","nzSize","small",4,"nzSpaceItem"],["nz-button","","nzType","default","nzSize","small",4,"nzSpaceItem"],["nz-button","","nzType","primary","nzSize","small"],["nz-button","","nzType","default","nzDanger","","nzSize","small"],["nz-button","","nzType","default","nzSize","small"],["id","gridContainer",3,"dataSource","remoteOperations","allowColumnReordering","rowAlternationEnabled","allowColumnResizing","columnAutoWidth","showColumnLines","showRowLines","showBorders","hoverStateEnabled"],[3,"visible"],["caption","T\xean file","dataField","fileName"],["caption","Lo\u1ea1i t\xe0i li\u1ec7u","dataField","documentTypeName"],["caption","Action","cellTemplate","actionTemplate"],[4,"dxTemplate","dxTemplateOf"],["style","color: green",3,"click",4,"ngIf"],[2,"color","green",3,"click"],["nz-row","","nzJustify","start","nzAlign","top",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzLg","12"],["nz-button","",3,"click","nzType"],["nzSize","small","nzBordered","",3,"nzData"],["nzTitle","Upload file",3,"nzVisibleChange","nzVisible"],["nz-icon","","nzType","paper-clip","nzTheme","outline"],[2,"color","red"],[3,"nzAction"],["nz-button",""],["nz-icon","","nzType","upload"],["nz-button","","nzType","primary",3,"click"],["id","gridContainer",3,"dataSource","remoteOperations","allowColumnReordering","rowAlternationEnabled","allowColumnResizing","columnAutoWidth","showColumnLines","showRowLines","showBorders"],["caption","Issue No","dataField","issueNo"],["caption","Doc Group","dataField","docGroupName"],["caption","Name","dataField","title"],["caption","Action","cellTemplate","actionTemplate","alignment","center"],["nz-col","","nzXs","14","nzSm","14","nzLg","14"],["nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData","nzPageSize"],["colspan","4"],[4,"ngIf"],["nz-col","","nzXs","10","nzSm","10","nzLg","10"],["nzBordered","","nzSize","small",3,"nzData","nzPageSize"],["colspan","2"],["colspan","4",2,"color","red"],[3,"nzColor","nzBordered"],[3,"nzColor","nzBordered",4,"ngIf"],["nz-button","","nzType","default",3,"click"]],template:function(i,a){if(1&i){const l=t.RV6();t.j41(0,"nz-collapse")(1,"nz-collapse-panel",8),t.DNE(2,zt,47,18,"table",9),t.j41(3,"nz-modal",10),t.mxI("nzVisibleChange",function(r){return t.eBV(l),t.DH7(a.isOpenModalHandleRequest,r)||(a.isOpenModalHandleRequest=r),t.Njj(r)}),t.DNE(4,Ct,14,2,"ng-container",11),t.k0s()()(),t.j41(5,"nz-tabset",12),t.bIt("nzSelectedIndexChange",function(r){return t.eBV(l),t.Njj(a.nzSelectedIndexChange(r))}),t.j41(6,"nz-tab",13),t.DNE(7,qt,1,0,"ng-container",14),t.k0s(),t.j41(8,"nz-tab",15),t.DNE(9,bt,1,0,"ng-container",14),t.k0s(),t.j41(10,"nz-tab",16),t.DNE(11,Ft,1,0,"ng-container",14),t.k0s()(),t.DNE(12,yt,18,2,"ng-template",null,0,t.C5r)(14,wt,6,12,"ng-template",null,1,t.C5r)(16,Nt,22,5,"ng-template",null,2,t.C5r)(18,Mt,7,11,"ng-template",null,3,t.C5r),t.j41(20,"nz-modal",17),t.mxI("nzVisibleChange",function(r){return t.eBV(l),t.DH7(a.isOpenSystemValidate,r)||(a.isOpenSystemValidate=r),t.Njj(r)}),t.bIt("nzOnCancel",function(){return t.eBV(l),t.Njj(a.isOpenSystemValidate=!1)})("nzOnOk",function(){return t.eBV(l),t.Njj(a.isOpenSystemValidate=!1)}),t.DNE(21,Bt,41,16,"ng-container",11)(22,Pt,3,0,"div",18),t.k0s()}if(2&i){const l=t.sdS(15),c=t.sdS(17),r=t.sdS(19);t.R7$(),t.Y8G("nzHeader","Th\xf4ng tin request: "+a.reqNo)("nzActive",!0),t.R7$(),t.Y8G("ngIf",a.requestInfo),t.R7$(),t.R50("nzVisible",a.isOpenModalHandleRequest),t.R7$(2),t.Y8G("nzType","line")("nzSelectedIndex",1),t.R7$(2),t.Y8G("ngTemplateOutlet",c),t.R7$(2),t.Y8G("ngTemplateOutlet",r),t.R7$(2),t.Y8G("ngTemplateOutlet",l),t.R7$(9),t.R50("nzVisible",a.isOpenSystemValidate)}},dependencies:[u.Sq,u.bT,u.T3,p.me,p.Q0,p.BC,p.vS,O.s,d.nj_,d.FTx,j.eC,C.Vz,C.pc,g.CP,g.SO,g._4,g.IL,g.aj,g.kt,Q.Sy,S.lx,S.i3,D.JZ,D.rE,x.aO,P.c,Y.p,w.U5,w.Dq,R.F2,R.Oj,R.A9,q.Uq,q.e,L.$W,k.Dn,U.s,u.QX,u.vh],styles:["#infoTable[_ngcontent-%COMP%]{width:100%}#infoTable[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;border-collapse:collapse;padding:5px}#infoTable[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#2d2dda}#infoTable[_ngcontent-%COMP%]   #evaluate[_ngcontent-%COMP%]{text-align:center;font-weight:700}#measurementTable1[_ngcontent-%COMP%]{width:100%}#measurementTable1[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;border-collapse:collapse;padding:5px}#measurementTable1[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#2d2dda}#measurementTable1[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%]{width:100%}"]})}return n})();var b=s(24292),X=s(3558),T=s(87951),h=s(72463),H=s(14435),Lt=s(17669),$=s(91269),Ut=s(72535),Xt=s(24159),Ht=s(64905),Wt=s(46022),Jt=s(11299),W=(0,H.zk)(),J="dx-toast",_=J+"-",Zt=_+"wrapper",te=_+"content",ee=_+"message",ne=_+"icon",oe=["info","warning","error","success"],N=[],le={top:{my:"top",at:"top",of:null,offset:"0 0"},bottom:{my:"bottom",at:"bottom",of:null,offset:"0 -20"},center:{my:"center",at:"center",of:null,offset:"0 0"},right:{my:"center right",at:"center right",of:null,offset:"0 0"},left:{my:"center left",at:"center left",of:null,offset:"0 0"}},se={h:0,v:0};(0,Ut.A.add)(function(){$.A.subscribeGlobal(Lt.A.getDocument(),Xt.A.down,function(n){for(var o=N.length-1;o>=0;o--)if(!N[o]._proxiedDocumentDownHandler(n))return})});var K=Wt.A.inherit({_getDefaultOptions:function(){return(0,T.X)(this.callBase(),{message:"",type:"info",displayTime:2e3,position:"bottom center",animation:{show:{type:"fade",duration:400,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},shading:!1,height:"auto",hideTopOverlayHandler:null,preventScrollEvents:!1,closeOnSwipe:!0,closeOnClick:!1})},_defaultOptionsRules:function(){return this.callBase().concat([{device:{platform:"android"},options:{hideOnOutsideClick:!0,width:"auto",position:{at:"bottom left",my:"bottom left",offset:"20 -20"},animation:{show:{type:"slide",duration:200,from:{position:{my:"top",at:"bottom",of:W}}},hide:{type:"slide",duration:200,to:{position:{my:"top",at:"bottom",of:W}}}}}},{device:function(n){return"phone"===n.deviceType&&"android"===n.platform},options:{width:"100vw",position:{at:"bottom center",my:"bottom center",offset:"0 0"}}},{device:function(n){return"phone"===n.deviceType},options:{width:"100vw"}},{device:function(){return(0,Jt.gx)()},options:{minWidth:344,maxWidth:568,displayTime:4e3}}])},_init:function(){this.callBase(),this._posStringToObject()},_renderContentImpl:function(){this.option("message")&&(this._message=(0,b.A)("<div>").addClass(ee).text(this.option("message")).appendTo(this.$content())),this.setAria("role","alert",this._message),oe.includes(this.option("type").toLowerCase())&&this.$content().prepend((0,b.A)("<div>").addClass(ne)),this.callBase()},_render:function(){this.callBase(),this.$element().addClass(J),this.$wrapper().addClass(Zt),this.$content().addClass(_+String(this.option("type")).toLowerCase()),this.$content().addClass(te),this._toggleCloseEvents("Swipe"),this._toggleCloseEvents("Click")},_toggleCloseEvents:function(n){var o="dx"+n.toLowerCase();$.A.off(this.$content(),o),this.option("closeOn"+n)&&$.A.on(this.$content(),o,this.hide.bind(this))},_posStringToObject:function(){if((0,h.Kg)(this.option("position"))){var n=this.option("position").split(" ")[0],o=this.option("position").split(" ")[1];switch(this.option("position",(0,T.X)({boundaryOffset:se},le[n])),o){case"center":case"left":case"right":this.option("position").at+=" "+o,this.option("position").my+=" "+o}}},_show:function(){return this.callBase.apply(this,arguments).always(function(){clearTimeout(this._hideTimeout),this._hideTimeout=setTimeout(this.hide.bind(this),this.option("displayTime"))}.bind(this))},_overlayStack:function(){return N},_zIndexInitValue:function(){return this.callBase()+8e3},_dispose:function(){clearTimeout(this._hideTimeout),this.callBase()},_optionChanged:function(n){switch(n.name){case"type":this.$content().removeClass(_+n.previousValue),this.$content().addClass(_+String(n.value).toLowerCase());break;case"message":this._message&&this._message.text(n.value);break;case"closeOnSwipe":this._toggleCloseEvents("Swipe");break;case"closeOnClick":this._toggleCloseEvents("Click");break;case"displayTime":break;default:this.callBase(n)}}});(0,Ht.A)("dxToast",K);const re=K;var Z=(0,H.zk)(),tt=null,et={},he=(n,o)=>{var{toastWidth:e,toastHeight:i,windowHeight:a,windowWidth:l}=o;switch(n){case"top left":return{top:10,left:10};case"top right":return{top:10,right:10};case"bottom left":return{bottom:10,left:10};case"bottom right":return{bottom:10,right:10};case"top center":return{top:10,left:Math.round(l/2-e/2)};case"left center":return{top:Math.round(a/2-i/2),left:10};case"right center":return{top:Math.round(a/2-i/2),right:10};case"center":return{top:Math.round(a/2-i/2),left:Math.round(l/2-e/2)};default:return{bottom:10,left:Math.round(l/2-e/2)}}},_e=(n,o,e)=>{var i,a,l,c,r,E,F,f,v,m,G,A,{toastWidth:at,toastHeight:ot,windowHeight:it,windowWidth:lt}=e;switch(n.replace(/-push|-stack/g,"")){case"up":return{bottom:null!==(i=o.bottom)&&void 0!==i?i:it-ot-o.top,top:"",left:null!==(a=o.left)&&void 0!==a?a:"",right:null!==(l=o.right)&&void 0!==l?l:""};case"down":return{top:null!==(c=o.top)&&void 0!==c?c:it-ot-o.bottom,bottom:"",left:null!==(r=o.left)&&void 0!==r?r:"",right:null!==(E=o.right)&&void 0!==E?E:""};case"left":return{right:null!==(F=o.right)&&void 0!==F?F:lt-at-o.left,left:"",top:null!==(f=o.top)&&void 0!==f?f:"",bottom:null!==(v=o.bottom)&&void 0!==v?v:""};case"right":return{left:null!==(m=o.left)&&void 0!==m?m:lt-at-o.right,right:"",top:null!==(G=o.top)&&void 0!==G?G:"",bottom:null!==(A=o.bottom)&&void 0!==A?A:""}}};const nt=function ce(n,o,e){var i=(0,h.Qd)(n)?n:{message:n},a=(0,h.Qd)(o)?o:void 0,l=(0,h.Qd)(o)?void 0:o,{onHidden:c}=i;if(null!=a&&a.position){var{position:r}=a,E=a.direction||(n=>(0,h.Kg)(n)&&n.includes("top")?"down-push":"up-push")(r),F=(0,h.Kg)(r)?r:"".concat(r.top,"-").concat(r.left,"-").concat(r.bottom,"-").concat(r.right),{onShowing:f}=i,v=(n=>et[n]||(n=>{var o=(0,b.A)("<div>").appendTo((0,X.Uq)());return et[n]=o,o})(n))(F);((n,o)=>{var e="dx-toast-stack dx-toast-stack-".concat(o,"-direction");n.removeAttr("class").addClass(e)})(v,E),(0,T.X)(i,{container:v,onShowing:function(m){((n,o,e)=>{var{offsetWidth:i,offsetHeight:a}=n.children().first().get(0),l={toastWidth:i,toastHeight:a,windowHeight:Z.innerHeight,windowWidth:Z.innerWidth},c=(0,h.Kg)(e)?he(e,l):e,r=_e(o,c,l);n.css(r)})(v,E,r),f?.(m)}})}(0,T.X)(i,{type:l,displayTime:e,onHidden:function(m){(0,b.A)(m.element).remove(),c?.(m)}}),tt=(0,b.A)("<div>").appendTo((0,X.Uq)()),new re(tt,i).show()};var I=s(1997),M=s(58960);const fe=()=>({id:1,value:"Ch\u1edd x\u1eed l\xfd"}),ve=()=>({id:2,value:"\u0110ang x\u1eed l\xfd"}),ze=()=>({id:3,value:"\u0110\xe3 x\u1eed l\xfd"}),Ee=(n,o,e)=>[n,o,e],Ce=()=>[10,15,20,25,50,100],qe=()=>["/admin/qa/qa-oqc-check/oqc-evaluate"],be=(n,o,e)=>({reqNo:n,qaCard:o,requestStatus:e});function Fe(n,o){if(1&n&&(t.j41(0,"li"),t.EFF(1),t.nI1(2,"number"),t.k0s()),2&n){const e=o.$implicit;t.R7$(),t.Lme(" ",e.split(":")[0]," : ",t.i5U(2,2,e.split(":")[1],"1.0-3")," ")}}function Re(n,o){if(1&n&&(t.j41(0,"div")(1,"ul",41),t.DNE(2,Fe,3,5,"li",42),t.k0s()()),2&n){const e=o.$implicit;t.R7$(2),t.Y8G("ngForOf",e.data.dateCode.split(";"))}}function Te(n,o){if(1&n&&(t.j41(0,"div",43)(1,"span"),t.EFF(2),t.nI1(3,"date"),t.k0s()()),2&n){const e=o.$implicit;t.R7$(2),t.JRh(t.i5U(3,1,e.data.deliveryDate,"yyyy-MM-dd"))}}function Oe(n,o){if(1&n&&(t.j41(0,"div",44)(1,"span"),t.EFF(2),t.k0s()()),2&n){const e=o.$implicit;t.R7$(2),t.JRh(e.data.judgment)}}function je(n,o){1&n&&t.nrm(0,"i",46)}function ye(n,o){if(1&n&&(t.j41(0,"div"),t.DNE(1,je,1,0,"i",45),t.j41(2,"span"),t.EFF(3),t.k0s()()),2&n){const e=o.$implicit;t.R7$(3),t.JRh(e.data.requestStatusName)}}function xe(n,o){if(1&n&&(t.j41(0,"a",50),t.EFF(1," \u0110\xe1nh gi\xe1 "),t.k0s()),2&n){const e=t.XpG().$implicit;t.Y8G("routerLink",t.lJ4(2,qe))("queryParams",t.sMw(3,be,e.data.reqNo,e.data.qaCard,e.data.requestStatusId))}}function Se(n,o){if(1&n){const e=t.RV6();t.j41(0,"button",51),t.bIt("click",function(){t.eBV(e);const a=t.XpG().$implicit,l=t.XpG();return t.Njj(l.handleRequest(a))}),t.EFF(1," Ti\u1ebfp nh\u1eadn "),t.k0s()}}function we(n,o){if(1&n&&(t.j41(0,"div",47),t.DNE(1,xe,2,7,"a",48)(2,Se,2,0,"button",49),t.k0s()),2&n){const e=o.$implicit;t.R7$(),t.Y8G("ngIf",1!=e.data.requestStatusId),t.R7$(),t.Y8G("ngIf",1==e.data.requestStatusId)}}const De=[{path:"",component:rt,children:[{path:"oqc-request",component:(()=>{class n{constructor(e,i){this.router=e,this.qaOqcSvc=i,this.searchParams={requestStatusList:[],requestDateRange:[(new Date).setDate((new Date).getDate()-7),new Date]},this.isAudit=!1,this.status=[{id:1,value:"Ch\u1edd x\u1eed l\xfd"},{id:2,value:"\u0110ang x\u1eed l\xfd"},{id:3,value:"\u0110\xe3 x\u1eed l\xfd"}],this.settingsButtonOptions={text:"Settings",onClick:()=>{nt("Settings option has been clicked!")}},this.printButtonOptions={text:"Print",onClick:()=>{nt("Print option has been clicked!")}}}ngOnInit(){this.getConfigAudit(),this.getOqcRequests(this.searchParams)}getOqcRequests(e){this.qaOqcSvc.getOqcRequests(e).subscribe(i=>{this.oqcRequests=i,console.log("oqcRequests: ",this.oqcRequests)})}handleRequest(e){console.log(e);let a={reqNo:e.data.reqNo,qaCard:e.data.qaCard,requestStatus:e.data.requestStatusId};this.qaOqcSvc.updateOqcRequest({reqNo:e.data.reqNo,requestStatusId:2}).subscribe(l=>{this.router.navigate(["admin/qa/qa-oqc-check/oqc-evaluate"],{queryParams:a})})}onRowPrepared(e){"data"===e.rowType&&"NG"===e.key.judgment&&(e.rowElement.style.backgroundColor="red",e.rowElement.classList.add("my-class"),e.rowElement.className=e.rowElement.className.replace("dx-row-alt",""))}onExportClient(e){}onSearch(){console.log("searchParams: ",this.searchParams),this.qaOqcSvc.getOqcRequests(this.searchParams).subscribe(e=>{this.oqcRequests=e})}changeAuditConfig(e){console.log("changeAuditConfig: ",e);let i=1==e?"TRUE":"FALSE";console.log(i),this.qaOqcSvc.changeConfigAudit(i).subscribe(a=>{this.getOqcRequests(this.searchParams)})}getConfigAudit(){this.qaOqcSvc.getConfigAudit().subscribe(e=>{this.isAudit="TRUE"==e.configValue})}static#t=this.\u0275fac=function(i){return new(i||n)(t.rXU(z.Ix),t.rXU(B.T))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["app-qa-oqc-request"]],decls:66,vars:49,consts:[["columnChooser",""],["nzHeader","T\xecm ki\u1ebfm",3,"nzActive","nzShowArrow"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzLg","5"],["nzXs","24","nzSm","24","nzLg","24"],["nzPlaceHolder","Tr\u1ea1ng th\xe1i","nzAllowClear","","nzMode","multiple",3,"ngModelChange","nzMaxTagCount","ngModel","nzDropdownMatchSelectWidth"],["nzLabel","Ch\u1edd x\u1eed l\xfd",3,"nzValue"],["nzLabel","\u0110ang x\u1eed l\xfd",3,"nzValue"],["nzLabel","\u0110\xe3 x\u1eed l\xfd",3,"nzValue"],["nzFormat","yyyy-MM-dd","nzMode","date",3,"ngModelChange","ngModel"],["nz-button","","nzType","primary",3,"click"],["id","gridContainer",2,"margin-top","5px",3,"onRowPrepared","onExporting","dataSource","remoteOperations","allowColumnReordering","rowAlternationEnabled","allowColumnResizing","columnAutoWidth","showColumnLines","showRowLines","showBorders"],[3,"enabled"],[3,"enabled","mode"],["name","exportButton"],["name","columnChooserButton"],["widget","dxButton","locateInMenu","always",3,"options"],[3,"visible"],["caption","M\xe3 request","dataField","reqNo"],["caption","QA card","dataField","qaCard",3,"visible"],["caption","Model","dataField","model"],["caption","Shift","dataField","shift","alignment","center","width","45"],["caption","Date Code","dataField","dateCode","cellTemplate","dateCodeTemplate"],[4,"dxTemplate","dxTemplateOf"],["caption","Qty","dataField","qty","dataType","number","format","#,##0","width","60"],["caption","Ng\u01b0\u1eddi request","dataField","createdByName",3,"visible"],["caption","Ng\xe0y t\u1ea1o","dataField","createdAt","dataType","date","format","yyyy-MM-dd","alignment","center","width","88",3,"visible"],["caption","Ng\xe0y xu\u1ea5t","dataField","deliveryDate","dataType","date","format","yyyy-MM-dd","alignment","center","cellTemplate","deliveryDateTemplate","width","85"],["style","text-align: center; color: blue",4,"dxTemplate","dxTemplateOf"],["caption","Remark","dataField","remark","width","100"],["fixedPosition","right","caption","Result","dataField","judgment","cellTemplate","judgmentTemplate","width","60",3,"fixed"],["style","text-align: center; font-weight: bold",4,"dxTemplate","dxTemplateOf"],["caption","Status","dataField","requestStatusName","alignment","center"],["displayExpr","value","valueExpr","value",3,"dataSource"],["fixedPosition","right","caption","\u0110\u1ed9 \u01b0u ti\xean","dataField","priorityName","alignment","center","width","85",3,"fixed"],["caption","Action","cellTemplate","actionTemplate","fixedPosition","right",3,"fixed"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],["column","reqNo","summaryType","count"],["column","qty","summaryType","sum","valueFormat","#,##0"],[2,"margin-left","-29px"],[4,"ngFor","ngForOf"],[2,"text-align","center","color","blue"],[2,"text-align","center","font-weight","bold"],["nz-icon","","nzType","caret-up","nzTheme","outline",4,"ngIf"],["nz-icon","","nzType","caret-up","nzTheme","outline"],[2,"text-align","center"],["style","color: green",3,"routerLink","queryParams",4,"ngIf"],["nz-button","","nzType","default",3,"click",4,"ngIf"],[2,"color","green",3,"routerLink","queryParams"],["nz-button","","nzType","default",3,"click"]],template:function(i,a){if(1&i){const l=t.RV6();t.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),t.EFF(2," QA "),t.k0s(),t.j41(3,"nz-breadcrumb-item"),t.EFF(4," OQC"),t.k0s(),t.j41(5,"nz-breadcrumb-item"),t.EFF(6," Request"),t.k0s()(),t.nrm(7,"br"),t.j41(8,"nz-collapse")(9,"nz-collapse-panel",1)(10,"div",2)(11,"div",3)(12,"label",4),t.EFF(13,"Tr\u1ea1ng th\xe1i"),t.k0s(),t.j41(14,"div",4)(15,"nz-select",5),t.mxI("ngModelChange",function(r){return t.eBV(l),t.DH7(a.searchParams.requestStatusList,r)||(a.searchParams.requestStatusList=r),t.Njj(r)}),t.nrm(16,"nz-option",6)(17,"nz-option",7)(18,"nz-option",8),t.k0s()()(),t.j41(19,"div",3)(20,"label",4),t.EFF(21,"Ng\xe0y request"),t.k0s(),t.j41(22,"div",4)(23,"nz-range-picker",9),t.mxI("ngModelChange",function(r){return t.eBV(l),t.DH7(a.searchParams.requestDateRange,r)||(a.searchParams.requestDateRange=r),t.Njj(r)}),t.k0s()()(),t.j41(24,"div",3)(25,"label",4),t.EFF(26,"\xa0"),t.k0s(),t.j41(27,"div",4)(28,"button",10),t.bIt("click",function(){return t.eBV(l),t.Njj(a.onSearch())}),t.EFF(29," Search "),t.k0s()()()()()(),t.j41(30,"dx-data-grid",11),t.bIt("onRowPrepared",function(r){return t.eBV(l),t.Njj(a.onRowPrepared(r))})("onExporting",function(r){return t.eBV(l),t.Njj(a.onExportClient(r))}),t.nrm(31,"dxo-column-fixing",12)(32,"dxo-export",12)(33,"dxo-column-chooser",13,0),t.j41(35,"dxo-toolbar"),t.nrm(36,"dxi-item",14)(37,"dxi-item",15)(38,"dxi-item",16)(39,"dxi-item",16),t.k0s(),t.nrm(40,"dxo-filter-row",17)(41,"dxi-column",18)(42,"dxi-column",19)(43,"dxi-column",20)(44,"dxi-column",21),t.j41(45,"dxi-column",22),t.DNE(46,Re,3,1,"div",23),t.k0s(),t.nrm(47,"dxi-column",24)(48,"dxi-column",25)(49,"dxi-column",26),t.j41(50,"dxi-column",27),t.DNE(51,Te,4,4,"div",28),t.k0s(),t.nrm(52,"dxi-column",29),t.j41(53,"dxi-column",30),t.DNE(54,Oe,3,1,"div",31),t.k0s(),t.j41(55,"dxi-column",32),t.nrm(56,"dxo-lookup",33),t.k0s(),t.j41(57,"dxi-column",34),t.DNE(58,ye,4,1,"div",23),t.k0s(),t.j41(59,"dxi-column",35),t.DNE(60,we,3,2,"div",36),t.k0s(),t.nrm(61,"dxo-paging",37)(62,"dxo-pager",38),t.j41(63,"dxo-summary"),t.nrm(64,"dxi-total-item",39)(65,"dxi-total-item",40),t.k0s()()}2&i&&(t.R7$(9),t.Y8G("nzActive",!0)("nzShowArrow",!0),t.R7$(),t.Y8G("nzGutter",24),t.R7$(5),t.Y8G("nzMaxTagCount",3),t.R50("ngModel",a.searchParams.requestStatusList),t.Y8G("nzDropdownMatchSelectWidth",!1),t.R7$(),t.Y8G("nzValue",1),t.R7$(),t.Y8G("nzValue",2),t.R7$(),t.Y8G("nzValue",3),t.R7$(5),t.R50("ngModel",a.searchParams.requestDateRange),t.R7$(7),t.Y8G("dataSource",a.oqcRequests)("remoteOperations",!1)("allowColumnReordering",!0)("rowAlternationEnabled",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0),t.R7$(),t.Y8G("enabled",!0),t.R7$(),t.Y8G("enabled",!0),t.R7$(),t.Y8G("enabled",!0)("mode","select"),t.R7$(5),t.Y8G("options",a.printButtonOptions),t.R7$(),t.Y8G("options",a.settingsButtonOptions),t.R7$(),t.Y8G("visible",!0),t.R7$(2),t.Y8G("visible",!1),t.R7$(4),t.Y8G("dxTemplateOf","dateCodeTemplate"),t.R7$(2),t.Y8G("visible",!1),t.R7$(),t.Y8G("visible",!1),t.R7$(2),t.Y8G("dxTemplateOf","deliveryDateTemplate"),t.R7$(2),t.Y8G("fixed",!0),t.R7$(),t.Y8G("dxTemplateOf","judgmentTemplate"),t.R7$(2),t.Y8G("dataSource",t.sMw(44,Ee,t.lJ4(41,fe),t.lJ4(42,ve),t.lJ4(43,ze))),t.R7$(),t.Y8G("fixed",!0),t.R7$(),t.Y8G("dxTemplateOf","statusTemplate"),t.R7$(),t.Y8G("fixed",!0),t.R7$(),t.Y8G("dxTemplateOf","actionTemplate"),t.R7$(),t.Y8G("pageSize",20),t.R7$(),t.Y8G("showPageSizeSelector",!0)("allowedPageSizes",t.lJ4(48,Ce)))},dependencies:[u.Sq,u.bT,p.BC,p.vS,z.Wk,O.s,d.i2Q,d.Omo,d.nj_,d.b4U,d.CVf,d.ZJU,d.FTx,d.sVQ,d.PVd,d.XvM,d.CWS,d.KOr,j.eC,y.hL,y.K7,C.Vz,C.pc,x.aO,P.c,Y.p,I.ld,I.WI,q.Uq,q.e,k.Dn,M.SN,M.vw,u.QX,u.vh],styles:[".dx-datagrid-rowsview[_ngcontent-%COMP%]   .dx-selection.dx-row[_ngcontent-%COMP%]:not(.dx-row-focused):not(.dx-row-removed) > td[_ngcontent-%COMP%]{background-color:red;color:unset}nz-collapse[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}nz-collapse[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%]{width:100%}"]})}return n})()},{path:"oqc-evaluate",component:Yt}]}];let ke=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[z.iI.forChild(De),z.iI]})}return n})();var $e=s(17481);let Ne=(()=>{class n{static#t=this.\u0275fac=function(i){return new(i||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[u.MD,p.YN,ke,O.N,st.T,j.xZ,y.EJ,C.GB,g.$G,Q.j,S.Sw,D.hM,x.Zw,w.pc,R.U6,I.DH,q.f3,L.SE,k.Y3,M.LE,$e.$,U.T]})}return n})()}}]);