"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[9553],{29553:(de,X,p)=>{p.r(X),p.d(X,{MeasurementModule:()=>Qs});var m=p(60177),d=p(89417),C=p(12673),V=p(9637),v=p(31958),M=p(50513),I=p(25703),S=p(2986),E=p(74696),k=p(58960),N=p(19448),_=p(97529),j=p(72544),f=p(79116),y=p(21011),b=p(57094),F=p(43053),R=p(72874),T=p(33190),P=p(1997),K=p(61912),c=p(23359),D=p(9541),w=p(75699),se=p(82358),O=p(46661);const B=[{value:"TB1",label:"TB1"},{value:"TB2",label:"TB2"},{value:"TB3",label:"TB3"},{value:"TB4",label:"TB4"},{value:"TB5",label:"TB5"},{value:"TB6",label:"TB6"},{value:"TE1",label:"TE1"},{value:"TE2",label:"TE2"},{value:"TL1",label:"TL1"},{value:"TL2",label:"TL2"}],Q=[{value:"TB",label:"TB",type:"TB"},{value:"TBP",label:"TBP",type:"TB"},{value:"TE",label:"TE",type:"TE"},{value:"TL",label:"TL",type:"TL"}];class Y{}const W=[{value:"A8",label:"Ca A 8 ti\u1ebfng",active:!0},{value:"B8",label:"Ca B 8 ti\u1ebfng",active:!0},{value:"C8",label:"Ca C 8 ti\u1ebfng",active:!0},{value:"A10",label:"Ca A 10 ti\u1ebfng",active:!0},{value:"B10",label:"Ca B 10 ti\u1ebfng",active:!0},{value:"A12",label:"Ca A 12 ti\u1ebfng",active:!0},{value:"B12",label:"Ca B 12 ti\u1ebfng",active:!0},{value:"D",label:"Ng\xe0y",active:!0},{value:"N",label:"\u0110\xeam",active:!0}];var e=p(54438),g=p(45312),$=p(21626);let u=(()=>{class s{constructor(t){this.httpClient=t,this.baseUrl=g.c.baseUrl}getQaCard(){return this.httpClient.get(`${this.baseUrl}/Relay/Measurement/Commons/QaCards`)}getUsers(){return this.httpClient.get(`${this.baseUrl}/Relay/Measurement/Commons/Users`)}getModels(){return this.httpClient.get(`${this.baseUrl}/Relay/Measurement/Commons/Models`)}getReasons(){return this.httpClient.get(`${this.baseUrl}/Relay/Measurement/Commons/Reasons`)}getItems(){return this.httpClient.get(`${this.baseUrl}/Relay/Measurement/Items`)}getItemById(t){return this.httpClient.get(`${this.baseUrl}/Relay/Measurement/Items/${t}`)}getItemImages(t){return this.httpClient.get(`${this.baseUrl}/Relay/Measurement/Images?item=${t}`)}getItemImagesV2(t,a){return this.httpClient.get(`${this.baseUrl}/Relay/Measurement/ImagesV2?item=${t}&modelType=${a}`)}removeImage(t){return this.httpClient.delete(`${this.baseUrl}/Relay/Measurement/DeleteImage?id=${t}`)}getStandard(t,a){return this.httpClient.get(`${this.baseUrl}/Relay/Measurement/Standard?itemId=${t}&modelType=${a}`)}saveMeasureData(t){return this.httpClient.post(`${this.baseUrl}/Relay/Measurement/SaveMeasureData`,t)}getMasterData(t){return this.httpClient.post(`${this.baseUrl}/Relay/Measurement/MasterData`,t)}getDetailData(t){return this.httpClient.post(`${this.baseUrl}/Relay/Measurement/DetailData`,t)}getChildItems(t,a){return this.httpClient.get(`${this.baseUrl}/Relay/Measurement/ChildItems?item=${t}&modelType=${a}`)}approveData(t,a){return this.httpClient.get(`${this.baseUrl}/Relay/Measurement/ApproveData?master=${t}&username=${a}`)}quickApprove(t,a){return this.httpClient.post(`${this.baseUrl}/Relay/Measurement/ApproveData?approver=${a}`,t)}updateDetailData(t){return this.httpClient.post(`${this.baseUrl}/Relay/Measurement/UpdateDetailData`,t)}exportMeasureData(t){return this.httpClient.post(`${this.baseUrl}/Relay/Measurement/ExportData`,t,{responseType:"blob"})}showGuideline(){return this.httpClient.get(`${this.baseUrl}/Relay/Measurement/GuideLines`,{responseType:"arraybuffer"})}static#e=this.\u0275fac=function(a){return new(a||s)(e.KVO($.Qq))};static#t=this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var h=p(16389),z=p(25930);const x=s=>({"text-center":!0,invalid:s});function Z(s,r){if(1&s&&(e.j41(0,"td",6),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&s){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(5,x,t.a1<t.a1Min||t.a1>t.a1Max)),e.R7$(),e.SpI(" ",e.i5U(2,2,t.a1,"1.0-3")," ")}}function Re(s,r){if(1&s&&(e.j41(0,"td",6),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(2,x,"NG"==t.a1)),e.R7$(),e.SpI(" ",t.a1," ")}}function je(s,r){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.DNE(13,Z,3,7,"td",5)(14,Re,2,4,"td",5),e.j41(15,"td",3),e.EFF(16),e.nI1(17,"date"),e.k0s()()),2&s){const t=r.$implicit;e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.master),e.R7$(2),e.JRh(t.modelType),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(),e.Y8G("ngIf",1==t.itemUnit),e.R7$(),e.Y8G("ngIf",2==t.itemUnit),e.R7$(2),e.Lme(" ",e.i5U(17,10,t.createdAt,"yyyy-MM-dd HH:mm:ss")," - (",t.shift,") ")}}let be=(()=>{class s{constructor(t){this.measureService=t}ngOnInit(){console.log(this.item),this.valueNames=this.standard.valueName.split(";")}onExportBtn(){this.searchParams.itemType=this.standard.type,this.searchParams.valueName=this.item.valueName,this.measureService.exportMeasureData(this.searchParams).subscribe(t=>{const a=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(a),i=document.createElement("a");i.href=n,i.download=`${this.item.name}.xlsx`,i.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(n),i.remove()},100)})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-export-type1"]],inputs:{item:"item",detailsData:"detailsData",standard:"standard",searchParams:"searchParams"},decls:24,vars:3,consts:[["detailTable",""],["nz-button","",2,"margin-bottom","10px",3,"click"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination"],[1,"text-center"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"button",1),e.bIt("click",function(){return e.eBV(i),e.Njj(n.onExportBtn())}),e.EFF(1,"Export"),e.k0s(),e.j41(2,"nz-table",2,0)(4,"thead")(5,"tr")(6,"th",3),e.EFF(7,"Line"),e.k0s(),e.j41(8,"th",3),e.EFF(9,"Master"),e.k0s(),e.j41(10,"th",3),e.EFF(11,"Model Type"),e.k0s(),e.j41(12,"th",3),e.EFF(13,"Model"),e.k0s(),e.j41(14,"th",3),e.EFF(15,"L\xfd do"),e.k0s(),e.j41(16,"th",3),e.EFF(17,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(18,"th",3),e.EFF(19,"Gi\xe1 tr\u1ecb"),e.k0s(),e.j41(20,"th",3),e.EFF(21,"Th\u1eddi gian"),e.k0s()()(),e.j41(22,"tbody"),e.DNE(23,je,18,13,"tr",4),e.k0s()()}if(2&a){const i=e.sdS(3);e.R7$(2),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!0),e.R7$(21),e.Y8G("ngForOf",i.data)}},dependencies:[m.YU,m.Sq,m.bT,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,M.aO,h.c,z.p,m.QX,m.vh],styles:["nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}nz-table[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%]{color:red;font-weight:700}nz-table[_ngcontent-%COMP%]   .valid[_ngcontent-%COMP%]{color:green;font-weight:700}"]})}return s})();const ce=s=>({"text-right":!0,invalid:s});function ke(s,r){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td",5),e.EFF(14),e.nI1(15,"number"),e.k0s(),e.j41(16,"td",5),e.EFF(17),e.nI1(18,"number"),e.k0s(),e.j41(19,"td",5),e.EFF(20),e.nI1(21,"number"),e.k0s(),e.j41(22,"td",3),e.EFF(23),e.nI1(24,"date"),e.k0s()()),2&s){const t=r.$implicit;e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.master),e.R7$(2),e.JRh(t.modelType),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(),e.Y8G("ngClass",e.eq3(26,ce,t.c1<t.c1Min||t.c1>t.c1Max)),e.R7$(),e.SpI(" ",e.i5U(15,14,t.c1,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(28,ce,t.c2<t.c2Min||t.c2>t.c2Max)),e.R7$(),e.SpI(" ",e.i5U(18,17,t.c2,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(30,ce,t.c3<t.c3Min||t.c3>t.c3Max)),e.R7$(),e.SpI(" ",e.i5U(21,20,t.c3,"1.3")," "),e.R7$(3),e.Lme(" ",e.i5U(24,23,t.createdAt,"yyyy-MM-dd HH:mm:ss")," - (",t.shift,") ")}}let ve=(()=>{class s{constructor(t){this.measureService=t}ngOnInit(){console.log(this.item),console.log("STANDARD : ",this.standard),this.valueNames=this.standard.valueName.split(";")}onExportBtn(){this.searchParams.itemType=this.standard.type,this.searchParams.valueName=this.standard.valueName,this.measureService.exportMeasureData(this.searchParams).subscribe(t=>{const a=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(a),i=document.createElement("a");i.href=n,i.download=`${this.item.name}.xlsx`,i.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(n),i.remove()},100)})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-export-type3"]],inputs:{item:"item",detailsData:"detailsData",standard:"standard",searchParams:"searchParams"},decls:28,vars:6,consts:[["detailTable",""],["nz-button","",2,"margin-bottom","10px",3,"click"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination"],[1,"text-center"],[4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"button",1),e.bIt("click",function(){return e.eBV(i),e.Njj(n.onExportBtn())}),e.EFF(1,"Export"),e.k0s(),e.j41(2,"nz-table",2,0)(4,"thead")(5,"tr")(6,"th",3),e.EFF(7,"Line"),e.k0s(),e.j41(8,"th",3),e.EFF(9,"Master"),e.k0s(),e.j41(10,"th",3),e.EFF(11,"Model Type"),e.k0s(),e.j41(12,"th",3),e.EFF(13,"Model"),e.k0s(),e.j41(14,"th",3),e.EFF(15,"L\xfd do"),e.k0s(),e.j41(16,"th",3),e.EFF(17,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(18,"th",3),e.EFF(19),e.k0s(),e.j41(20,"th",3),e.EFF(21),e.k0s(),e.j41(22,"th",3),e.EFF(23),e.k0s(),e.j41(24,"th",3),e.EFF(25,"Th\u1eddi gian"),e.k0s()()(),e.j41(26,"tbody"),e.DNE(27,ke,25,32,"tr",4),e.k0s()()}if(2&a){const i=e.sdS(3);e.R7$(2),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!0),e.R7$(17),e.JRh(n.valueNames[0]),e.R7$(2),e.JRh(n.valueNames[1]),e.R7$(2),e.JRh(n.valueNames[2]),e.R7$(4),e.Y8G("ngForOf",i.data)}},dependencies:[m.YU,m.Sq,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,M.aO,h.c,z.p,m.QX,m.vh],styles:["nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}nz-table[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%]{color:red;font-weight:700}nz-table[_ngcontent-%COMP%]   .valid[_ngcontent-%COMP%]{color:green;font-weight:700}"]})}return s})();const _e=s=>({"text-right":!0,invalid:s}),ge=s=>({"text-center":!0,invalid:s});function ye(s,r){if(1&s&&(e.j41(0,"td",6),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&s){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(5,_e,t.b1<t.b1Min||t.b1>t.b1Max)),e.R7$(),e.SpI(" ",e.i5U(2,2,t.b1,"1.0-3")," ")}}function Te(s,r){if(1&s&&(e.j41(0,"td",6),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(2,ge,"NG"==t.b1)),e.R7$(),e.SpI(" ",t.b1," ")}}function De(s,r){if(1&s&&(e.j41(0,"td",6),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&s){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(5,_e,t.b2<t.b2Min||t.b2>t.b2Max)),e.R7$(),e.SpI(" ",e.i5U(2,2,t.b2,"1.0-3")," ")}}function $e(s,r){if(1&s&&(e.j41(0,"td",6),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(2,ge,"NG"==t.b2)),e.R7$(),e.SpI(" ",t.b2," ")}}function Ie(s,r){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.DNE(13,ye,3,7,"td",5)(14,Te,2,4,"td",5)(15,De,3,7,"td",5)(16,$e,2,4,"td",5),e.j41(17,"td",3),e.EFF(18),e.nI1(19,"date"),e.k0s()()),2&s){const t=r.$implicit;e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.master),e.R7$(2),e.JRh(t.modelType),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(),e.Y8G("ngIf",1==t.itemUnit),e.R7$(),e.Y8G("ngIf",2==t.itemUnit),e.R7$(),e.Y8G("ngIf",1==t.itemUnit),e.R7$(),e.Y8G("ngIf",2==t.itemUnit),e.R7$(2),e.Lme(" ",e.i5U(19,12,t.createdAt,"yyyy-MM-dd HH:mm:ss")," - (",t.shift,") ")}}let Ge=(()=>{class s{constructor(t){this.measureService=t}ngOnInit(){console.log(this.item),this.valueNames=this.standard.valueName.split(";")}onExportBtn(){this.searchParams.itemType=this.standard.type,this.searchParams.valueName=this.standard.valueName,this.measureService.exportMeasureData(this.searchParams).subscribe(t=>{const a=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(a),i=document.createElement("a");i.href=n,i.download=`${this.item.name}.xlsx`,i.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(n),i.remove()},100)})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-export-type2"]],inputs:{item:"item",detailsData:"detailsData",standard:"standard",searchParams:"searchParams"},decls:26,vars:5,consts:[["detailTable",""],["nz-button","",2,"margin-bottom","10px",3,"click"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination"],[1,"text-center"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"button",1),e.bIt("click",function(){return e.eBV(i),e.Njj(n.onExportBtn())}),e.EFF(1," Export\n"),e.k0s(),e.j41(2,"nz-table",2,0)(4,"thead")(5,"tr")(6,"th",3),e.EFF(7,"Line"),e.k0s(),e.j41(8,"th",3),e.EFF(9,"Master"),e.k0s(),e.j41(10,"th",3),e.EFF(11,"Model Type"),e.k0s(),e.j41(12,"th",3),e.EFF(13,"Model"),e.k0s(),e.j41(14,"th",3),e.EFF(15,"L\xfd do"),e.k0s(),e.j41(16,"th",3),e.EFF(17,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(18,"th",3),e.EFF(19),e.k0s(),e.j41(20,"th",3),e.EFF(21),e.k0s(),e.j41(22,"th",3),e.EFF(23,"Th\u1eddi gian"),e.k0s()()(),e.j41(24,"tbody"),e.DNE(25,Ie,20,15,"tr",4),e.k0s()()}if(2&a){const i=e.sdS(3);e.R7$(2),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!0),e.R7$(17),e.JRh(n.valueNames[0]),e.R7$(2),e.JRh(n.valueNames[1]),e.R7$(4),e.Y8G("ngForOf",i.data)}},dependencies:[m.YU,m.Sq,m.bT,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,M.aO,h.c,z.p,m.QX,m.vh],styles:["nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}nz-table[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%]{color:red;font-weight:700}nz-table[_ngcontent-%COMP%]   .valid[_ngcontent-%COMP%]{color:green;font-weight:700}"]})}return s})();function Se(s,r){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td"),e.EFF(16),e.k0s(),e.j41(17,"td"),e.EFF(18),e.k0s(),e.j41(19,"td"),e.EFF(20),e.k0s(),e.j41(21,"td",3),e.EFF(22),e.nI1(23,"date"),e.k0s()()),2&s){const t=r.$implicit;e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.master),e.R7$(2),e.JRh(t.modelType),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(2),e.JRh(t.d1),e.R7$(2),e.JRh(t.d2),e.R7$(2),e.JRh(t.d3),e.R7$(2),e.JRh(t.d4),e.R7$(2),e.Lme(" ",e.i5U(23,12,t.createdAt,"yyyy-MM-dd HH:mm:ss")," - (",t.shift,") ")}}let Pe=(()=>{class s{constructor(t){this.measureService=t}ngOnInit(){console.log(this.item),this.valueNames=this.standard.valueName.split(";")}onExportBtn(){this.searchParams.itemType=this.standard.type,this.searchParams.valueName=this.standard.valueName,this.measureService.exportMeasureData(this.searchParams).subscribe(t=>{const a=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(a),i=document.createElement("a");i.href=n,i.download=`${this.item.name}.xlsx`,i.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(n),i.remove()},100)})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-export-type4"]],inputs:{item:"item",detailsData:"detailsData",standard:"standard",searchParams:"searchParams"},decls:30,vars:7,consts:[["detailTable",""],["nz-button","",2,"margin-bottom","10px",3,"click"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination"],[1,"text-center"],[4,"ngFor","ngForOf"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"button",1),e.bIt("click",function(){return e.eBV(i),e.Njj(n.onExportBtn())}),e.EFF(1,"Export"),e.k0s(),e.j41(2,"nz-table",2,0)(4,"thead")(5,"tr")(6,"th",3),e.EFF(7,"Line"),e.k0s(),e.j41(8,"th",3),e.EFF(9,"Master"),e.k0s(),e.j41(10,"th",3),e.EFF(11,"Model Type"),e.k0s(),e.j41(12,"th",3),e.EFF(13,"Model"),e.k0s(),e.j41(14,"th",3),e.EFF(15,"L\xfd do"),e.k0s(),e.j41(16,"th",3),e.EFF(17,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(18,"th",3),e.EFF(19),e.k0s(),e.j41(20,"th",3),e.EFF(21),e.k0s(),e.j41(22,"th",3),e.EFF(23),e.k0s(),e.j41(24,"th",3),e.EFF(25),e.k0s(),e.j41(26,"th",3),e.EFF(27,"Th\u1eddi gian"),e.k0s()()(),e.j41(28,"tbody"),e.DNE(29,Se,24,15,"tr",4),e.k0s()()}if(2&a){const i=e.sdS(3);e.R7$(2),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!0),e.R7$(17),e.JRh(n.valueNames[0]),e.R7$(2),e.JRh(n.valueNames[1]),e.R7$(2),e.JRh(n.valueNames[2]),e.R7$(2),e.JRh(n.valueNames[3]),e.R7$(4),e.Y8G("ngForOf",i.data)}},dependencies:[m.Sq,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,M.aO,h.c,z.p,m.vh],styles:["nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}nz-table[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%]{color:red;font-weight:700}nz-table[_ngcontent-%COMP%]   .valid[_ngcontent-%COMP%]{color:green;font-weight:700}"]})}return s})();function xe(s,r){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td"),e.EFF(16),e.k0s(),e.j41(17,"td"),e.EFF(18),e.k0s(),e.j41(19,"td"),e.EFF(20),e.k0s(),e.j41(21,"td"),e.EFF(22),e.k0s(),e.j41(23,"td",3),e.EFF(24),e.nI1(25,"date"),e.k0s()()),2&s){const t=r.$implicit;e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.master),e.R7$(2),e.JRh(t.modelType),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(2),e.JRh(t.e1),e.R7$(2),e.JRh(t.e2),e.R7$(2),e.JRh(t.e3),e.R7$(2),e.JRh(t.e4),e.R7$(2),e.JRh(t.e4),e.R7$(2),e.Lme(" ",e.i5U(25,13,t.createdAt,"yyyy-MM-dd HH:mm:ss")," - (",t.shift,") ")}}let Ne=(()=>{class s{constructor(t){this.measureService=t}ngOnInit(){console.log(this.item),this.valueNames=this.standard.valueName.split(";")}onExportBtn(){this.searchParams.itemType=this.standard.type,this.searchParams.valueName=this.standard.valueName,this.measureService.exportMeasureData(this.searchParams).subscribe(t=>{const a=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(a),i=document.createElement("a");i.href=n,i.download=`${this.item.name}.xlsx`,i.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(n),i.remove()},100)})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-export-type5"]],inputs:{item:"item",detailsData:"detailsData",standard:"standard",searchParams:"searchParams"},decls:32,vars:8,consts:[["detailTable",""],["nz-button","",2,"margin-bottom","10px",3,"click"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination"],[1,"text-center"],[4,"ngFor","ngForOf"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"button",1),e.bIt("click",function(){return e.eBV(i),e.Njj(n.onExportBtn())}),e.EFF(1," Export\n"),e.k0s(),e.j41(2,"nz-table",2,0)(4,"thead")(5,"tr")(6,"th",3),e.EFF(7,"Line"),e.k0s(),e.j41(8,"th",3),e.EFF(9,"Master"),e.k0s(),e.j41(10,"th",3),e.EFF(11,"Model Type"),e.k0s(),e.j41(12,"th",3),e.EFF(13,"Model"),e.k0s(),e.j41(14,"th",3),e.EFF(15,"L\xfd do"),e.k0s(),e.j41(16,"th",3),e.EFF(17,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(18,"th",3),e.EFF(19),e.k0s(),e.j41(20,"th",3),e.EFF(21),e.k0s(),e.j41(22,"th",3),e.EFF(23),e.k0s(),e.j41(24,"th",3),e.EFF(25),e.k0s(),e.j41(26,"th",3),e.EFF(27),e.k0s(),e.j41(28,"th",3),e.EFF(29,"Th\u1eddi gian"),e.k0s()()(),e.j41(30,"tbody"),e.DNE(31,xe,26,16,"tr",4),e.k0s()()}if(2&a){const i=e.sdS(3);e.R7$(2),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!0),e.R7$(17),e.JRh(n.valueNames[0]),e.R7$(2),e.JRh(n.valueNames[1]),e.R7$(2),e.JRh(n.valueNames[2]),e.R7$(2),e.JRh(n.valueNames[3]),e.R7$(2),e.JRh(n.valueNames[4]),e.R7$(4),e.Y8G("ngForOf",i.data)}},dependencies:[m.Sq,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,M.aO,h.c,z.p,m.vh]})}return s})();function Oe(s,r){if(1&s&&e.nrm(0,"nz-option",18),2&s){const t=r.$implicit;e.Y8G("nzValue",t.value)("nzLabel",t.label)}}function Ae(s,r){if(1&s&&e.nrm(0,"nz-option",18),2&s){const t=r.$implicit;e.Y8G("nzValue",t.value)("nzLabel",t.label)}}function we(s,r){if(1&s&&e.nrm(0,"nz-option",18),2&s){const t=r.$implicit;e.Y8G("nzValue",t.name)("nzLabel",t.name)}}function Ye(s,r){if(1&s&&e.nrm(0,"nz-option",18),2&s){const t=r.$implicit;e.Y8G("nzValue",t.username)("nzLabel",t.name+" - "+t.username)}}function Be(s,r){if(1&s&&e.nrm(0,"nz-option",18),2&s){const t=r.$implicit;e.Y8G("nzValue",t.value)("nzLabel",t.label)}}function Xe(s,r){if(1&s&&e.nrm(0,"nz-option",18),2&s){const t=r.$implicit;e.Y8G("nzValue",t.id)("nzLabel",t.name)}}function Ve(s,r){if(1&s&&e.nrm(0,"app-mea-export-type1",21),2&s){const t=e.XpG(2);e.Y8G("item",t.item)("detailsData",t.detailsData)("standard",t.standard)("searchParams",t.searchParams)}}function Le(s,r){if(1&s&&e.nrm(0,"app-mea-export-type2",21),2&s){const t=e.XpG(2);e.Y8G("item",t.item)("detailsData",t.detailsData)("standard",t.standard)("searchParams",t.searchParams)}}function Je(s,r){if(1&s&&e.nrm(0,"app-mea-export-type3",21),2&s){const t=e.XpG(2);e.Y8G("item",t.item)("detailsData",t.detailsData)("standard",t.standard)("searchParams",t.searchParams)}}function Ue(s,r){if(1&s&&e.nrm(0,"app-mea-export-type4",21),2&s){const t=e.XpG(2);e.Y8G("item",t.item)("detailsData",t.detailsData)("standard",t.standard)("searchParams",t.searchParams)}}function He(s,r){if(1&s&&e.nrm(0,"app-mea-export-type5",21),2&s){const t=e.XpG(2);e.Y8G("item",t.item)("detailsData",t.detailsData)("standard",t.standard)("searchParams",t.searchParams)}}function qe(s,r){if(1&s&&(e.j41(0,"nz-tab",19),e.DNE(1,Ve,1,4,"app-mea-export-type1",20)(2,Le,1,4,"app-mea-export-type2",20)(3,Je,1,4,"app-mea-export-type3",20)(4,Ue,1,4,"app-mea-export-type4",20)(5,He,1,4,"app-mea-export-type5",20),e.k0s()),2&s){const t=e.XpG();e.R7$(),e.Y8G("ngIf",1==t.standard.type),e.R7$(),e.Y8G("ngIf",2==t.standard.type),e.R7$(),e.Y8G("ngIf",3==t.standard.type),e.R7$(),e.Y8G("ngIf",4==t.standard.type),e.R7$(),e.Y8G("ngIf",5==t.standard.type)}}let Ke=(()=>{class s{constructor(t,a){this.activatedRoute=t,this.measureService=a,this.lines=B,this.shifts=W,this.searchParams=new Y,this.date=null}ngOnInit(){this.itemName=this.activatedRoute.snapshot.queryParams.itemName;let t=this.activatedRoute.snapshot.queryParams.item;this.searchParams.item=t,this.getUsers(),this.getModel(),this.getReasons(),this.getItemById(t),this.onSearchBtn()}getUsers(){this.measureService.getUsers().subscribe(t=>{this.users=t})}getModel(){this.measureService.getModels().subscribe(t=>{this.models=t})}getReasons(){this.measureService.getReasons().subscribe(t=>{this.reasons=t})}onChangeLine(t){let a=t.replace(/\d+/g,"");this.modelTypes=Q.filter(n=>n.type==a),this.searchParams.modelType=null,this.standard=null}onChangeModelType(t){this.measureService.getStandard(this.activatedRoute.snapshot.queryParams.item,t).subscribe(n=>{this.standard=n.standard})}onSearchBtn(){this.getDetailData(this.searchParams)}getDetailData(t){this.measureService.getDetailData(t).subscribe(a=>{this.detailsData=a,console.log("AAA; ",this.detailsData)})}getItemById(t){this.measureService.getItemById(t).subscribe(a=>{this.item=a})}onCalendarChange(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}onDateChange(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(O.nX),e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-data-export-measurement"]],decls:63,vars:19,consts:[[3,"nzHeader","nzActive","nzShowArrow"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzLg","6"],["nzXs","24","nzSm","24","nzLg","24"],["nzPlaceHolder","Ch\u1ecdn Line","nzShowSearch","","nzAllowClear","",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzPlaceHolder","Ch\u1ecdn d\xf2ng s\u1ea3n ph\u1ea9m",3,"ngModelChange","ngModel"],["nzPlaceHolder","Ch\u1ecdn Model","nzShowSearch","","nzAllowClear","",3,"ngModelChange","ngModel"],["nzPlaceHolder","Ch\u1ecdn nh\xe2n vi\xean","nzShowSearch","","nzAllowClear","",3,"ngModelChange","ngModel"],["nzPlaceHolder","Ch\u1ecdn ca l\xe0m vi\u1ec7c","nzAllowClear","",3,"ngModelChange","ngModel"],["nzPlaceHolder","Ch\u1ecdn l\xfd do","nzAllowClear","",3,"ngModelChange","ngModel"],["nzFormat","yyyy-MM-dd",3,"ngModelChange","nzOnCalendarChange","ngModel"],["nz-row","","nzJustify","end","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","3","nzSm","3","nzLg","3"],["nz-row","","nzJustify","end","nzAlign","middle"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","search"],["nzTitle","Data",4,"ngIf"],[3,"nzValue","nzLabel"],["nzTitle","Data"],[3,"item","detailsData","standard","searchParams",4,"ngIf"],[3,"item","detailsData","standard","searchParams"]],template:function(a,n){1&a&&(e.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),e.EFF(2," Manufacturing "),e.k0s(),e.j41(3,"nz-breadcrumb-item"),e.EFF(4," Measurement "),e.k0s(),e.j41(5,"nz-breadcrumb-item"),e.EFF(6," H\u1ea1ng m\u1ee5c "),e.k0s(),e.j41(7,"nz-breadcrumb-item"),e.EFF(8," Data export "),e.k0s()(),e.nrm(9,"br"),e.j41(10,"nz-collapse")(11,"nz-collapse-panel",0)(12,"div",1)(13,"div",2)(14,"label",3),e.EFF(15,"Line"),e.k0s(),e.j41(16,"div",3)(17,"nz-select",4),e.bIt("ngModelChange",function(o){return n.onChangeLine(o)}),e.mxI("ngModelChange",function(o){return e.DH7(n.searchParams.line,o)||(n.searchParams.line=o),o}),e.DNE(18,Oe,1,2,"nz-option",5),e.k0s()()(),e.j41(19,"div",2)(20,"label",3),e.EFF(21,"D\xf2ng s\u1ea3n ph\u1ea9m"),e.k0s(),e.j41(22,"div",3)(23,"nz-select",6),e.mxI("ngModelChange",function(o){return e.DH7(n.searchParams.modelType,o)||(n.searchParams.modelType=o),o}),e.bIt("ngModelChange",function(o){return n.onChangeModelType(o)}),e.DNE(24,Ae,1,2,"nz-option",5),e.k0s()()(),e.j41(25,"div",2)(26,"label",3),e.EFF(27,"Model"),e.k0s(),e.j41(28,"div",3)(29,"nz-select",7),e.mxI("ngModelChange",function(o){return e.DH7(n.searchParams.model,o)||(n.searchParams.model=o),o}),e.DNE(30,we,1,2,"nz-option",5),e.k0s()()(),e.j41(31,"div",2)(32,"label",3),e.EFF(33,"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(34,"div",3)(35,"nz-select",8),e.mxI("ngModelChange",function(o){return e.DH7(n.searchParams.user,o)||(n.searchParams.user=o),o}),e.DNE(36,Ye,1,2,"nz-option",5),e.k0s()()(),e.j41(37,"div",2)(38,"label",3),e.EFF(39,"Ca l\xe0m vi\u1ec7c"),e.k0s(),e.j41(40,"div",3)(41,"nz-select",9),e.mxI("ngModelChange",function(o){return e.DH7(n.searchParams.shift,o)||(n.searchParams.shift=o),o}),e.DNE(42,Be,1,2,"nz-option",5),e.k0s()()(),e.j41(43,"div",2)(44,"label",3),e.EFF(45,"L\xfd do"),e.k0s(),e.j41(46,"div",3)(47,"nz-select",10),e.mxI("ngModelChange",function(o){return e.DH7(n.searchParams.reason,o)||(n.searchParams.reason=o),o}),e.DNE(48,Xe,1,2,"nz-option",5),e.k0s()()(),e.j41(49,"div",2)(50,"label",3),e.EFF(51,"Th\u1eddi gian"),e.k0s(),e.j41(52,"div",3)(53,"nz-range-picker",11),e.mxI("ngModelChange",function(o){return e.DH7(n.date,o)||(n.date=o),o}),e.bIt("ngModelChange",function(o){return n.onDateChange(o)})("nzOnCalendarChange",function(o){return n.onCalendarChange(o)}),e.k0s()()()(),e.j41(54,"div",12)(55,"div",13)(56,"div",14)(57,"button",15),e.bIt("click",function(){return n.onSearchBtn()}),e.nrm(58,"i",16),e.EFF(59," Search "),e.k0s()()()()()(),e.nrm(60,"br"),e.j41(61,"nz-tabset"),e.DNE(62,qe,6,5,"nz-tab",17),e.k0s()),2&a&&(e.R7$(11),e.Y8G("nzHeader",n.itemName)("nzActive",!0)("nzShowArrow",!0),e.R7$(),e.Y8G("nzGutter",24),e.R7$(5),e.R50("ngModel",n.searchParams.line),e.R7$(),e.Y8G("ngForOf",n.lines),e.R7$(5),e.R50("ngModel",n.searchParams.modelType),e.R7$(),e.Y8G("ngForOf",n.modelTypes),e.R7$(5),e.R50("ngModel",n.searchParams.model),e.R7$(),e.Y8G("ngForOf",n.models),e.R7$(5),e.R50("ngModel",n.searchParams.user),e.R7$(),e.Y8G("ngForOf",n.users),e.R7$(5),e.R50("ngModel",n.searchParams.shift),e.R7$(),e.Y8G("ngForOf",n.shifts),e.R7$(5),e.R50("ngModel",n.searchParams.reason),e.R7$(),e.Y8G("ngForOf",n.reasons),e.R7$(5),e.R50("ngModel",n.date),e.R7$(),e.Y8G("nzGutter",24),e.R7$(8),e.Y8G("ngIf",n.standard))},dependencies:[m.Sq,m.bT,d.BC,d.vS,v.hL,v.K7,j.Dn,_.Uq,_.e,E.Vz,E.pc,P.ld,P.WI,D.JZ,D.rE,M.aO,h.c,z.p,k.SN,k.vw,be,ve,Ge,Pe,Ne],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-select[_ngcontent-%COMP%], nz-range-picker[_ngcontent-%COMP%]{width:100%;margin-bottom:10px}nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}nz-table[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%]{color:red;font-weight:700}"]})}return s})();const ze=[{value:"A",label:"A",line:"TE2"},{value:"B",label:"B",line:"TE2"},{value:"E",label:"E",line:"TE1"},{value:"F",label:"F",line:"TE1"}];var ie,Qe=new Uint8Array(16);function We(){if(!ie&&!(ie=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||typeof msCrypto<"u"&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return ie(Qe)}const Ze=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var G=[],me=0;me<256;++me)G.push((me+256).toString(16).substr(1));const at=function nt(s){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,t=(G[s[r+0]]+G[s[r+1]]+G[s[r+2]]+G[s[r+3]]+"-"+G[s[r+4]]+G[s[r+5]]+"-"+G[s[r+6]]+G[s[r+7]]+"-"+G[s[r+8]]+G[s[r+9]]+"-"+G[s[r+10]]+G[s[r+11]]+G[s[r+12]]+G[s[r+13]]+G[s[r+14]]+G[s[r+15]]).toLowerCase();if(!function et(s){return"string"==typeof s&&Ze.test(s)}(t))throw TypeError("Stringified UUID is invalid");return t},ee=function st(s,r,t){var a=(s=s||{}).random||(s.rng||We)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,r){t=t||0;for(var n=0;n<16;++n)r[t+n]=a[n];return r}return at(a)};var A=p(45794);const it=["value1Input"],rt=()=>({x:"1200px"}),ot=()=>[""],J=s=>({"text-center":!0,invalid:s});function lt(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",5)(1,"label",30),e.EFF(2,"Gi\xe1 tr\u1ecb"),e.k0s(),e.j41(3,"div",31)(4,"input",32,1),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.value1,n)||(i.value1=n),e.Njj(n)}),e.bIt("keypress",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onKeyPressValue1(n))}),e.k0s()(),e.j41(6,"div",31)(7,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddBtn())}),e.EFF(8," Add "),e.k0s()()()}if(2&s){const t=e.XpG();e.Y8G("nzGutter",24),e.R7$(4),e.R50("ngModel",t.value1)}}function dt(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",5)(1,"label",30),e.EFF(2,"Gi\xe1 tr\u1ecb"),e.k0s(),e.j41(3,"div",34)(4,"nz-radio-group",35),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.value1,n)||(i.value1=n),e.Njj(n)}),e.j41(5,"label",36),e.EFF(6,"OK"),e.k0s(),e.j41(7,"label",37),e.EFF(8,"NG"),e.k0s()()(),e.j41(9,"div",31)(10,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddBtn())}),e.EFF(11," Add "),e.k0s()()()}if(2&s){const t=e.XpG();e.Y8G("nzGutter",24),e.R7$(4),e.R50("ngModel",t.value1)}}function ct(s,r){if(1&s&&(e.j41(0,"td",42),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&s){const t=e.XpG().$implicit,a=e.XpG(2);e.Y8G("ngClass",e.eq3(5,J,t.a1<a.standard.a1Min||t.a1>a.standard.a1Max)),e.R7$(),e.SpI(" ",e.i5U(2,2,t.a1,"1.0-4")," ")}}function mt(s,r){if(1&s&&(e.j41(0,"td",42),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(2,J,"NG"==t.a1)),e.R7$(),e.SpI(" ",t.a1," ")}}function ut(s,r){if(1&s){const t=e.RV6();e.j41(0,"tr")(1,"td",17),e.EFF(2),e.k0s(),e.DNE(3,ct,3,7,"td",40)(4,mt,2,4,"td",40),e.j41(5,"td",41),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.onDeleteValue(n))}),e.EFF(6," X\xf3a "),e.k0s()()}if(2&s){const t=r.index,a=e.XpG(2);e.R7$(2),e.JRh(t+1),e.R7$(),e.Y8G("ngIf",1==a.item.unit),e.R7$(),e.Y8G("ngIf",2==a.item.unit)}}function ht(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",10)(1,"div",38)(2,"nz-table",20,2)(4,"thead")(5,"tr")(6,"th",17),e.EFF(7,"L\u1ea7n \u0111o"),e.k0s(),e.j41(8,"th",17),e.EFF(9),e.k0s(),e.j41(10,"th",17),e.EFF(11,"Action"),e.k0s()()(),e.j41(12,"tbody"),e.DNE(13,ut,7,3,"tr",18),e.k0s()()(),e.j41(14,"div",38)(15,"button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSaveBtn())}),e.EFF(16,"L\u01b0u"),e.k0s()()()}if(2&s){const t=e.sdS(3),a=e.XpG();e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzData",a.insertData)("nzFrontPagination",!1),e.R7$(7),e.JRh(a.valueNames[0]),e.R7$(4),e.Y8G("ngForOf",t.data),e.R7$(2),e.Y8G("nzLoading",a.isLoading)}}function pt(s,r){if(1&s&&(e.j41(0,"td",42),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&s){const t=e.XpG().$implicit,a=e.XpG();e.Y8G("ngClass",e.eq3(5,J,t.a1<a.standard.a1Min||t.a1>a.standard.a1Max)),e.R7$(),e.SpI(" ",e.i5U(2,2,t.a1,"1.0-3")," ")}}function _t(s,r){if(1&s&&(e.j41(0,"td",42),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(2,J,"NG"==t.a1)),e.R7$(),e.SpI(" ",t.a1," ")}}function gt(s,r){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.DNE(15,pt,3,7,"td",40)(16,_t,2,4,"td",40),e.j41(17,"td",17),e.EFF(18),e.nI1(19,"date"),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG();e.R7$(2),e.JRh(t.qaCard),e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.master),e.R7$(2),e.JRh(t.mold),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(),e.Y8G("ngIf",1==a.item.unit),e.R7$(),e.Y8G("ngIf",2==a.item.unit),e.R7$(2),e.Lme(" ",e.i5U(19,11,t.createdAt,"yyyy-MM-dd HH:mm:ss")," - (",t.shift,") ")}}function zt(s,r){if(1&s&&(e.j41(0,"div",43)(1,"nz-card",44),e.nrm(2,"img",22),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG();e.R7$(2),e.Y8G("nzSrc",a.baseUrl+t.imageUrl)}}function Ft(s,r){if(1&s&&(e.j41(0,"td",42),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&s){const t=e.XpG().$implicit,a=e.XpG(2);e.Y8G("ngClass",e.eq3(5,J,t.a1<a.standard.a1Min||t.a1>a.standard.a1Max)),e.R7$(),e.SpI(" ",e.i5U(2,2,t.a1,"1.0-3")," ")}}function Et(s,r){if(1&s&&(e.j41(0,"td",42),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(2,J,"NG"==t.a1)),e.R7$(),e.SpI(" ",t.a1," ")}}function Ct(s,r){if(1&s&&(e.j41(0,"tr")(1,"td",17),e.EFF(2),e.k0s(),e.DNE(3,Ft,3,7,"td",40)(4,Et,2,4,"td",40),e.k0s()),2&s){const t=r.index,a=e.XpG(2);e.R7$(2),e.JRh(t+1),e.R7$(),e.Y8G("ngIf",1==a.item.unit),e.R7$(),e.Y8G("ngIf",2==a.item.unit)}}function Mt(s,r){if(1&s&&(e.qex(0),e.j41(1,"ul",45)(2,"li")(3,"nz-tag",24),e.EFF(4),e.k0s()(),e.j41(5,"li")(6,"nz-tag",24),e.EFF(7),e.k0s()(),e.j41(8,"li")(9,"nz-tag",24),e.EFF(10),e.k0s()(),e.j41(11,"li")(12,"nz-tag",24),e.EFF(13),e.k0s()(),e.j41(14,"li")(15,"nz-tag",24),e.EFF(16),e.k0s()(),e.j41(17,"li")(18,"nz-tag",24),e.EFF(19),e.nI1(20,"date"),e.k0s()()(),e.j41(21,"nz-table",20,3)(23,"thead")(24,"tr")(25,"th",46),e.EFF(26,"STT"),e.k0s(),e.j41(27,"th",17),e.EFF(28),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,Ct,5,3,"tr",18),e.k0s()(),e.bVm()),2&s){const t=e.sdS(22),a=e.XpG();e.R7$(3),e.Y8G("nzColor","red"),e.R7$(),e.SpI("Line: ",a.responseData[0].line,""),e.R7$(2),e.Y8G("nzColor","green"),e.R7$(),e.SpI("Model: ",a.responseData[0].model,""),e.R7$(2),e.Y8G("nzColor","cyan"),e.R7$(),e.SpI("Th\u1ef1c hi\u1ec7n: ",a.responseData[0].user,""),e.R7$(2),e.Y8G("nzColor","blue"),e.R7$(),e.SpI("Ca l\xe0m vi\u1ec7c: ",a.responseData[0].shift,""),e.R7$(2),e.Y8G("nzColor","geekblue"),e.R7$(),e.SpI("L\xfd do: ",a.responseData[0].reasonName,""),e.R7$(2),e.Y8G("nzColor","purple"),e.R7$(),e.SpI("Th\u1eddi gian: ",e.i5U(20,16,a.responseData[0].createdAt,"yyyy-MM-dd HH:mm:ss"),""),e.R7$(2),e.Y8G("nzData",a.responseData)("nzFrontPagination",!1),e.R7$(7),e.JRh(a.valueNames[0]),e.R7$(2),e.Y8G("ngForOf",t.data)}}function ft(s,r){if(1&s){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isShowModal=!1)}),e.EFF(1,"OK"),e.k0s()}}let Rt=(()=>{class s{constructor(t,a){this.toastr=t,this.measureService=a,this.baseUrl=g.c.baseUrl,this.isLoading=!1,this.isShowModal=!1,this.insertData=new Array,this.responseData=new Array}ngOnInit(){this.valueNames=this.standard.valueName.split(";"),this.getDetailData(this.searchParams),console.log("item: ",this.item),console.log("images: ",this.images),console.log("standard : ",this.standard),console.log("valueNames : ",this.valueNames),console.log("searchParams : ",this.searchParams)}ngAfterViewInit(){1==this.item.unit&&this.value1Input.nativeElement.focus()}onKeyPressValue1(t){if(13==t.keyCode){if(null==this.value1||null==this.value1)return void this.toastr.warning(`C\u1ea7n nh\u1eadp: ${this.valueNames[0]} !`);this.onAddBtn()}}onAddBtn(){let t=!(this.searchParams.model&&this.searchParams.user&&this.searchParams.shift&&this.searchParams.reason);if("TE"==this.searchParams.modelType){if(t||!this.searchParams.mold&&![2,17,18,19,16,22,26,27].includes(this.item.id))return void this.toastr.warning("C\u1ea7n nh\u1eadp c\xe1c th\xf4ng tin b\u1eaft bu\u1ed9c")}else if(t)return void this.toastr.warning("C\u1ea7n nh\u1eadp c\xe1c th\xf4ng tin b\u1eaft bu\u1ed9c");if(this.insertData.length==this.standard.measureAmount)return void this.toastr.warning(`\u0110\xe3 \u0111\u1ee7 s\u1ed1 l\u01b0\u1ee3ng \u0111o: ${this.standard.measureAmount}`);if(null==this.value1||null==this.value1)return void this.toastr.warning(`C\u1ea7n nh\u1eadp: ${this.valueNames}`);let n={uuid:ee(),line:this.searchParams.line,modelType:this.searchParams.modelType,item:this.item.id,model:this.searchParams.model,user:this.searchParams.user,shift:this.searchParams.shift,reason:this.searchParams.reason,a1:this.value1,mold:"TE"==this.searchParams.modelType?this.searchParams.mold:null,note:null,qaCard:this.searchParams.qaCard};this.insertData.push(n),this.insertData=[...this.insertData],this.value1=null,1==this.item.unit&&this.value1Input.nativeElement.focus()}onDeleteValue(t){let a=this.insertData.findIndex(n=>n.uuid===t.uuid);-1!=a&&this.insertData.splice(a,1),this.insertData=[...this.insertData]}onSaveBtn(){this.insertData.length<this.standard.measureAmount?this.toastr.warning(`C\u1ea7n \u0111o \u0111\u1ee7 s\u1ed1 l\u01b0\u1ee3ng ti\xeau chu\u1ea9n : ${this.standard.measureAmount}`):(this.note&&this.insertData.forEach(t=>{t.note=this.note}),this.isLoading=!0,this.measureService.saveMeasureData(this.insertData).subscribe(t=>{this.responseData=t,this.insertData=new Array,this.note=null,this.isLoading=!1,this.isShowModal=!0,this.toastr.success("Saved !"),this.getDetailData(this.searchParams)}))}getDetailData(t){t.item=this.item.id,this.measureService.getDetailData(t).subscribe(a=>{this.detailsData=a})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(A.tw),e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-exe-type1"]],viewQuery:function(a,n){if(1&a&&e.GBs(it,5),2&a){let i;e.mGM(i=e.lsd())&&(n.value1Input=i.first)}},inputs:{item:"item",images:"images",standard:"standard",searchParams:"searchParams"},decls:93,vars:36,consts:[["detailTable",""],["value1Input",""],["insertTable",""],["responseTable",""],["nzTitle","\u0110o \u0111\u1ea1c"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["nzHeader","Th\u1ef1c hi\u1ec7n",3,"nzActive","nzShowArrow"],[3,"ngSwitch"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter",4,"ngSwitchCase"],["nz-row","","nzJustify","start","nzAlign","top",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","8"],["nz-input","","placeholder","Nh\u1eadp ghi ch\xfa","nzAutosize","",3,"ngModelChange","ngModel"],["nz-row","","nzJustify","start","nzAlign","top",3,"nzGutter",4,"ngIf"],["nzTitle","D\u1eef li\u1ec7u"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination","nzScroll"],[1,"text-center",2,"width","200px"],[1,"text-center"],[4,"ngFor","ngForOf"],["nzTitle","Ti\xeau chu\u1ea9n"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination"],["rowspan","7",1,"item-img"],["nz-image","",3,"nzSrc"],["width","100px"],[3,"nzColor"],["nzTitle","H\xecnh \u1ea3nh"],["nz-col","","nzXs","24","nzSm","12","nzMd","8","nzLg","6",4,"ngFor","ngForOf"],["nzTitle","D\u1eef li\u1ec7u \u0111o \u0111\u1ea1c",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[3,"nzModalFooter"],["nz-col","","nzXs","2","nzSm","2","nzLg","2"],["nz-col","","nzXs","3","nzSm","3","nzLg","3"],["nz-input","","type","number",3,"ngModelChange","keypress","ngModel"],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzXs","4","nzSm","4","nzLg","4"],[3,"ngModelChange","ngModel"],["nz-radio","","nzValue","OK"],["nz-radio","","nzValue","NG",1,"invalid"],["nz-col","","nzXs","24","nzSm","24","nzLg","12"],["nz-button","","nzType","primary",3,"click","nzLoading"],[3,"ngClass",4,"ngIf"],[1,"text-center",3,"click"],[3,"ngClass"],["nz-col","","nzXs","24","nzSm","12","nzMd","8","nzLg","6"],[1,"item-img"],[1,"info"],[1,"text-center",2,"width","100px"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"nz-tabset")(1,"nz-tab",4)(2,"div",5)(3,"div",6)(4,"nz-collapse")(5,"nz-collapse-panel",7)(6,"container-element",8),e.DNE(7,lt,9,2,"div",9)(8,dt,12,2,"div",9),e.nrm(9,"br"),e.j41(10,"div",10)(11,"div",11)(12,"textarea",12),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.note,l)||(n.note=l),e.Njj(l)}),e.k0s()()()(),e.nrm(13,"br"),e.DNE(14,ht,17,6,"div",13),e.k0s()()()()(),e.j41(15,"nz-tab",14)(16,"nz-table",15,0)(18,"thead")(19,"tr")(20,"th",16),e.EFF(21,"QA Card"),e.k0s(),e.j41(22,"th",17),e.EFF(23,"Line"),e.k0s(),e.j41(24,"th",17),e.EFF(25,"Master"),e.k0s(),e.j41(26,"th",17),e.EFF(27,"Khu\xf4n"),e.k0s(),e.j41(28,"th",17),e.EFF(29,"Model"),e.k0s(),e.j41(30,"th",17),e.EFF(31,"L\xfd do"),e.k0s(),e.j41(32,"th",17),e.EFF(33,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(34,"th",17),e.EFF(35),e.k0s(),e.j41(36,"th",17),e.EFF(37,"Th\u1eddi gian"),e.k0s()()(),e.j41(38,"tbody"),e.DNE(39,gt,20,14,"tr",18),e.k0s()()(),e.j41(40,"nz-tab",19)(41,"nz-table",20)(42,"tbody")(43,"tr")(44,"td",21),e.nrm(45,"img",22),e.k0s(),e.j41(46,"td",23),e.EFF(47,"H\u1ea1ng m\u1ee5c:"),e.k0s(),e.j41(48,"td")(49,"nz-tag",24),e.EFF(50),e.k0s()()(),e.j41(51,"tr")(52,"td"),e.EFF(53,"C\xf4ng \u0111o\u1ea1n:"),e.k0s(),e.j41(54,"td")(55,"nz-tag",24),e.EFF(56),e.k0s()()(),e.j41(57,"tr")(58,"td"),e.EFF(59,"D\u1ee5ng c\u1ee5:"),e.k0s(),e.j41(60,"td")(61,"nz-tag",24),e.EFF(62),e.k0s()()(),e.j41(63,"tr")(64,"td"),e.EFF(65,"M\xe3 d\u1ee5ng c\u1ee5:"),e.k0s(),e.j41(66,"td")(67,"nz-tag",24),e.EFF(68),e.k0s()()(),e.j41(69,"tr")(70,"td"),e.EFF(71,"Ti\xeau chu\u1ea9n:"),e.k0s(),e.j41(72,"td")(73,"nz-tag",24),e.EFF(74),e.k0s()()(),e.j41(75,"tr")(76,"td"),e.EFF(77,"\u0110\u01a1n v\u1ecb \u0111o:"),e.k0s(),e.j41(78,"td")(79,"nz-tag",24),e.EFF(80),e.k0s()()(),e.j41(81,"tr")(82,"td"),e.EFF(83,"C\xf4ng th\u1ee9c:"),e.k0s(),e.j41(84,"td")(85,"nz-tag",24),e.EFF(86),e.k0s()()()()()(),e.j41(87,"nz-tab",25)(88,"nz-image-group",5),e.DNE(89,zt,3,1,"div",26),e.k0s()()(),e.j41(90,"nz-modal",27),e.mxI("nzVisibleChange",function(l){return e.eBV(i),e.DH7(n.isShowModal,l)||(n.isShowModal=l),e.Njj(l)}),e.DNE(91,Mt,31,19,"ng-container",28)(92,ft,2,0,"ng-template",29),e.k0s()}if(2&a){const i=e.sdS(17);e.R7$(2),e.Y8G("nzGutter",24),e.R7$(3),e.Y8G("nzActive",!0)("nzShowArrow",!0),e.R7$(),e.Y8G("ngSwitch",n.item.unit),e.R7$(),e.Y8G("ngSwitchCase",1),e.R7$(),e.Y8G("ngSwitchCase",2),e.R7$(2),e.Y8G("nzGutter",24),e.R7$(2),e.R50("ngModel",n.note),e.R7$(2),e.Y8G("ngIf",n.insertData.length),e.R7$(2),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!0)("nzScroll",e.lJ4(34,rt)),e.R7$(19),e.JRh(n.valueNames[0]),e.R7$(4),e.Y8G("ngForOf",i.data),e.R7$(2),e.Y8G("nzData",e.lJ4(35,ot))("nzFrontPagination",!1),e.R7$(4),e.Y8G("nzSrc",n.baseUrl+(null==n.images[0]?null:n.images[0].imageUrl)),e.R7$(4),e.Y8G("nzColor","red"),e.R7$(),e.JRh(n.item.name),e.R7$(5),e.Y8G("nzColor","green"),e.R7$(),e.JRh(n.standard.process),e.R7$(5),e.Y8G("nzColor","cyan"),e.R7$(),e.JRh(n.standard.tool),e.R7$(5),e.Y8G("nzColor","orange"),e.R7$(),e.JRh(n.standard.toolCode),e.R7$(5),e.Y8G("nzColor","blue"),e.R7$(),e.JRh(n.standard.standard),e.R7$(5),e.Y8G("nzColor","geekblue"),e.R7$(),e.JRh(n.standard.unit),e.R7$(5),e.Y8G("nzColor","purple"),e.R7$(),e.JRh(n.standard.formula),e.R7$(2),e.Y8G("nzGutter",24),e.R7$(),e.Y8G("ngForOf",n.images),e.R7$(),e.R50("nzVisible",n.isShowModal)}},dependencies:[m.YU,m.Sq,m.bT,m.ux,m.e1,d.me,d.Q0,d.BC,d.vS,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,E.Vz,E.pc,D.JZ,D.rE,w.s,y.Sy,y.c9,M.aO,h.c,z.p,F.F2,F.Oj,F.A9,f.r,f.as,T.lx,T.i3,I.cK,m.QX,m.vh],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.invalid[_ngcontent-%COMP%]{color:red;font-weight:700}.item-img[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.item-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;min-height:100px;height:100px}ul.info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:2px}"]})}return s})();const jt=["value1Input"],bt=["value2Input"],kt=()=>({x:"1200px"}),vt=()=>[""],re=s=>({"text-right":!0,invalid:s}),U=s=>({"text-center":!0,invalid:s});function yt(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",6)(1,"div",31)(2,"label",32),e.EFF(3),e.k0s(),e.j41(4,"div",32)(5,"input",33,1),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.value1,n)||(i.value1=n),e.Njj(n)}),e.bIt("keypress",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onKeyPressValue1(n))}),e.k0s()()(),e.j41(7,"div",31)(8,"label",32),e.EFF(9),e.k0s(),e.j41(10,"div",32)(11,"input",33,2),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.value2,n)||(i.value2=n),e.Njj(n)}),e.bIt("keypress",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onKeyPressValue2(n))}),e.k0s()()(),e.j41(13,"div",31)(14,"label",32),e.EFF(15,"\xa0"),e.k0s(),e.j41(16,"div",32)(17,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddBtn())}),e.EFF(18," Add "),e.k0s()()()()}if(2&s){const t=e.XpG();e.Y8G("nzGutter",24),e.R7$(3),e.JRh(t.valueNames[0]),e.R7$(2),e.R50("ngModel",t.value1),e.Y8G("placeholder",t.valueNames[0]),e.R7$(4),e.JRh(t.valueNames[1]),e.R7$(2),e.R50("ngModel",t.value2),e.Y8G("placeholder",t.valueNames[1])}}function Tt(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",6)(1,"div",35)(2,"div",36)(3,"label",37),e.EFF(4),e.k0s(),e.j41(5,"div",38)(6,"nz-radio-group",39),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.value1,n)||(i.value1=n),e.Njj(n)}),e.j41(7,"label",40),e.EFF(8,"OK"),e.k0s(),e.j41(9,"label",41),e.EFF(10,"NG"),e.k0s()()()(),e.j41(11,"div",36)(12,"label",37),e.EFF(13),e.k0s(),e.j41(14,"div",38)(15,"nz-radio-group",39),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.value2,n)||(i.value2=n),e.Njj(n)}),e.j41(16,"label",40),e.EFF(17,"OK"),e.k0s(),e.j41(18,"label",41),e.EFF(19,"NG"),e.k0s()()()()(),e.j41(20,"div",42)(21,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onAddBtn())}),e.EFF(22," Add "),e.k0s()()()}if(2&s){const t=e.XpG();e.Y8G("nzGutter",24),e.R7$(4),e.SpI(" ",t.valueNames[0]," : "),e.R7$(2),e.R50("ngModel",t.value1),e.R7$(7),e.SpI(" ",t.valueNames[1]," : "),e.R7$(2),e.R50("ngModel",t.value2)}}function Dt(s,r){if(1&s&&(e.j41(0,"td",47),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&s){const t=e.XpG().$implicit,a=e.XpG(2);e.Y8G("ngClass",e.eq3(5,re,t.b1<a.standard.b1Min||t.b1>a.standard.b1Max)),e.R7$(),e.SpI(" ",e.i5U(2,2,t.b1,"1.0-3")," ")}}function $t(s,r){if(1&s&&(e.j41(0,"td",47),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(2,U,"NG"==t.b1)),e.R7$(),e.SpI(" ",t.b1," ")}}function It(s,r){if(1&s&&(e.j41(0,"td",47),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&s){const t=e.XpG().$implicit,a=e.XpG(2);e.Y8G("ngClass",e.eq3(5,re,t.b2<a.standard.b2Min||t.b2>a.standard.b2Max)),e.R7$(),e.SpI(" ",e.i5U(2,2,t.b2,"1.0-3")," ")}}function Gt(s,r){if(1&s&&(e.j41(0,"td",47),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(2,U,"NG"==t.b2)),e.R7$(),e.SpI(" ",t.b2," ")}}function St(s,r){if(1&s){const t=e.RV6();e.j41(0,"tr")(1,"td",18),e.EFF(2),e.k0s(),e.DNE(3,Dt,3,7,"td",45)(4,$t,2,4,"td",45)(5,It,3,7,"td",45)(6,Gt,2,4,"td",45),e.j41(7,"td",46),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.onDeleteValue(n))}),e.EFF(8," X\xf3a "),e.k0s()()}if(2&s){const t=r.index,a=e.XpG(2);e.R7$(2),e.JRh(t+1),e.R7$(),e.Y8G("ngIf",1==a.item.unit),e.R7$(),e.Y8G("ngIf",2==a.item.unit),e.R7$(),e.Y8G("ngIf",1==a.item.unit),e.R7$(),e.Y8G("ngIf",2==a.item.unit)}}function Pt(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",11)(1,"div",43)(2,"nz-table",21,3)(4,"thead")(5,"tr")(6,"th",18),e.EFF(7,"L\u1ea7n \u0111o"),e.k0s(),e.j41(8,"th",18),e.EFF(9),e.k0s(),e.j41(10,"th",18),e.EFF(11),e.k0s(),e.j41(12,"th",18),e.EFF(13,"Action"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,St,9,5,"tr",19),e.k0s()()(),e.j41(16,"div",43)(17,"button",44),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSaveBtn())}),e.EFF(18,"L\u01b0u"),e.k0s()()()}if(2&s){const t=e.sdS(3),a=e.XpG();e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzData",a.insertData)("nzFrontPagination",!1),e.R7$(7),e.JRh(a.valueNames[0]),e.R7$(2),e.JRh(a.valueNames[1]),e.R7$(4),e.Y8G("ngForOf",t.data),e.R7$(2),e.Y8G("nzLoading",a.isLoading)}}function xt(s,r){if(1&s&&(e.j41(0,"td",47),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&s){const t=e.XpG().$implicit,a=e.XpG();e.Y8G("ngClass",e.eq3(5,re,t.b1<a.standard.b1Min||t.b1>a.standard.b1Max)),e.R7$(),e.SpI(" ",e.i5U(2,2,t.b1,"1.3")," ")}}function Nt(s,r){if(1&s&&(e.j41(0,"td",47),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(2,U,"NG"==t.b1)),e.R7$(),e.SpI(" ",t.b1," ")}}function Ot(s,r){if(1&s&&(e.j41(0,"td",47),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&s){const t=e.XpG().$implicit,a=e.XpG();e.Y8G("ngClass",e.eq3(5,re,t.b2<a.standard.b2Min||t.b2>a.standard.b2Max)),e.R7$(),e.SpI(" ",e.i5U(2,2,t.b2,"1.3")," ")}}function At(s,r){if(1&s&&(e.j41(0,"td",47),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(2,U,"NG"==t.b2)),e.R7$(),e.SpI(" ",t.b2," ")}}function wt(s,r){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.DNE(15,xt,3,7,"td",45)(16,Nt,2,4,"td",45)(17,Ot,3,7,"td",45)(18,At,2,4,"td",45),e.j41(19,"td",18),e.EFF(20),e.nI1(21,"date"),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG();e.R7$(2),e.JRh(t.qaCard),e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.master),e.R7$(2),e.JRh(t.mold),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(),e.Y8G("ngIf",1==a.item.unit),e.R7$(),e.Y8G("ngIf",2==a.item.unit),e.R7$(),e.Y8G("ngIf",1==a.item.unit),e.R7$(),e.Y8G("ngIf",2==a.item.unit),e.R7$(2),e.Lme(" ",e.i5U(21,13,t.createdAt,"yyyy-MM-dd HH:mm:ss")," - (",t.shift,") ")}}function Yt(s,r){if(1&s&&(e.j41(0,"div",48)(1,"nz-card",49),e.nrm(2,"img",23),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG();e.R7$(2),e.Y8G("nzSrc",a.baseUrl+t.imageUrl)}}function Bt(s,r){if(1&s&&(e.j41(0,"tr")(1,"td",47),e.EFF(2),e.k0s(),e.j41(3,"td",47),e.EFF(4),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(4,U,t.b1<a.standard.b1Min||t.b1>a.standard.b1Max)),e.R7$(),e.SpI(" ",t.b1," "),e.R7$(),e.Y8G("ngClass",e.eq3(6,U,t.b2<a.standard.b2Min||t.b2>a.standard.b2Max)),e.R7$(),e.SpI(" ",t.b2," ")}}function Xt(s,r){if(1&s&&(e.qex(0),e.j41(1,"ul",50)(2,"li")(3,"nz-tag",25),e.EFF(4),e.k0s()(),e.j41(5,"li")(6,"nz-tag",25),e.EFF(7),e.k0s()(),e.j41(8,"li")(9,"nz-tag",25),e.EFF(10),e.k0s()(),e.j41(11,"li")(12,"nz-tag",25),e.EFF(13),e.k0s()(),e.j41(14,"li")(15,"nz-tag",25),e.EFF(16),e.k0s()(),e.j41(17,"li")(18,"nz-tag",25),e.EFF(19),e.nI1(20,"date"),e.k0s()()(),e.j41(21,"nz-table",21,4)(23,"thead")(24,"tr")(25,"th",18),e.EFF(26),e.k0s(),e.j41(27,"th",18),e.EFF(28),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,Bt,5,8,"tr",19),e.k0s()(),e.bVm()),2&s){const t=e.sdS(22),a=e.XpG();e.R7$(3),e.Y8G("nzColor","red"),e.R7$(),e.SpI("Line: ",a.responseData[0].line,""),e.R7$(2),e.Y8G("nzColor","green"),e.R7$(),e.SpI("Model: ",a.responseData[0].model,""),e.R7$(2),e.Y8G("nzColor","cyan"),e.R7$(),e.SpI("Th\u1ef1c hi\u1ec7n: ",a.responseData[0].user,""),e.R7$(2),e.Y8G("nzColor","blue"),e.R7$(),e.SpI("Ca l\xe0m vi\u1ec7c: ",a.responseData[0].shift,""),e.R7$(2),e.Y8G("nzColor","geekblue"),e.R7$(),e.SpI("L\xfd do: ",a.responseData[0].reasonName,""),e.R7$(2),e.Y8G("nzColor","purple"),e.R7$(),e.SpI("Th\u1eddi gian: ",e.i5U(20,17,a.responseData[0].createdAt,"yyyy-MM-dd HH:mm:ss"),""),e.R7$(2),e.Y8G("nzData",a.responseData)("nzFrontPagination",!1),e.R7$(5),e.JRh(a.valueNames[0]),e.R7$(2),e.JRh(a.valueNames[1]),e.R7$(2),e.Y8G("ngForOf",t.data)}}function Vt(s,r){if(1&s){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isShowModal=!1)}),e.EFF(1,"OK"),e.k0s()}}let Lt=(()=>{class s{constructor(t,a){this.toastr=t,this.measureService=a,this.baseUrl=g.c.baseUrl,this.isLoading=!1,this.isShowModal=!1,this.insertData=new Array,this.responseData=new Array}ngOnInit(){this.valueNames=this.standard.valueName.split(";"),this.getDetailData(this.searchParams)}onKeyPressValue1(t){if(13==t.keyCode){if(22!==this.item.id&&(null==this.value1||null==this.value1))return void this.toastr.warning(`C\u1ea7n nh\u1eadp gi\xe1 tr\u1ecb ${this.valueNames[0]} !`);this.value2Input.nativeElement.focus()}}onKeyPressValue2(t){if(13==t.keyCode){if(22!==this.item.id&&(null==this.value2||null==this.value2))return void this.toastr.warning(`C\u1ea7n nh\u1eadp gi\xe1 tr\u1ecb ${this.valueNames[1]} !`);this.onAddBtn()}}onAddBtn(){console.log("AAAAAAAAAA => ",this.searchParams);let t=!(this.searchParams.model&&this.searchParams.user&&this.searchParams.shift&&this.searchParams.reason);if("TE"==this.searchParams.modelType){if(t||!this.searchParams.mold&&![2,17,18,19,16,22,26,27].includes(this.item.id))return void this.toastr.warning("C\u1ea7n nh\u1eadp c\xe1c th\xf4ng tin b\u1eaft bu\u1ed9c")}else if(t)return void this.toastr.warning("C\u1ea7n nh\u1eadp c\xe1c th\xf4ng tin b\u1eaft bu\u1ed9c");if(this.insertData.length==this.standard.measureAmount)return void this.toastr.warning(`\u0110\xe3 \u0111\u1ee7 s\u1ed1 l\u01b0\u1ee3ng \u0111o: ${this.standard.measureAmount}`);if(null==this.value1||null==this.value2)return void this.toastr.warning(`C\u1ea7n nh\u1eadp: ${this.valueNames}`);let n={uuid:ee(),line:this.searchParams.line,modelType:this.searchParams.modelType,item:this.item.id,model:this.searchParams.model,user:this.searchParams.user,shift:this.searchParams.shift,reason:this.searchParams.reason,b1:this.value1,b2:this.value2,mold:"TE"==this.searchParams.modelType?this.searchParams.mold:null,note:null,qaCard:this.searchParams.qaCard};this.insertData.push(n),this.insertData=[...this.insertData],this.value1=null,this.value2=null,1==this.item.unit&&this.value1Input.nativeElement.focus()}onDeleteValue(t){let a=this.insertData.findIndex(n=>n.uuid===t.uuid);-1!=a&&this.insertData.splice(a,1),this.insertData=[...this.insertData]}onSaveBtn(){this.insertData.length<this.standard.measureAmount?this.toastr.warning(`C\u1ea7n \u0111o \u0111\u1ee7 s\u1ed1 l\u01b0\u1ee3ng ti\xeau chu\u1ea9n : ${this.standard.measureAmount}`):(this.note&&this.insertData.forEach(t=>{t.note=this.note}),this.isLoading=!0,this.measureService.saveMeasureData(this.insertData).subscribe(t=>{this.responseData=t,this.resetData(),this.toastr.success("Saved !"),this.getDetailData(this.searchParams)}))}resetData(){this.insertData=new Array,this.value1=null,this.value2=null,this.isLoading=!1,this.isShowModal=!0,this.note=null}getDetailData(t){t.item=this.item.id,this.measureService.getDetailData(t).subscribe(a=>{this.detailsData=a})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(A.tw),e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-exe-type2"]],viewQuery:function(a,n){if(1&a&&(e.GBs(jt,5),e.GBs(bt,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.value1Input=i.first),e.mGM(i=e.lsd())&&(n.value2Input=i.first)}},inputs:{item:"item",images:"images",standard:"standard",searchParams:"searchParams"},decls:95,vars:37,consts:[["detailTable",""],["value1Input",""],["value2Input",""],["insertTable",""],["responseTable",""],["nzTitle","\u0110o \u0111\u1ea1c"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["nzHeader","Th\u1ef1c hi\u1ec7n",3,"nzActive","nzShowArrow"],[3,"ngSwitch"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter",4,"ngSwitchCase"],["nz-row","","nzJustify","start","nzAlign","top",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","8"],["nz-input","","placeholder","Nh\u1eadp ghi ch\xfa","nzAutosize","",3,"ngModelChange","ngModel"],["nz-row","","nzJustify","start","nzAlign","top",3,"nzGutter",4,"ngIf"],["nzTitle","D\u1eef li\u1ec7u"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination","nzScroll"],[1,"text-center",2,"width","200px"],[1,"text-center"],[4,"ngFor","ngForOf"],["nzTitle","Ti\xeau chu\u1ea9n"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination"],["rowspan","7",1,"item-img"],["nz-image","",3,"nzSrc"],["width","100px"],[3,"nzColor"],["nzTitle","H\xecnh \u1ea3nh"],["nz-col","","nzXs","24","nzSm","12","nzMd","8","nzLg","6",4,"ngFor","ngForOf"],["nzTitle","D\u1eef li\u1ec7u \u0111o \u0111\u1ea1c",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[3,"nzModalFooter"],["nz-col","","nzXs","12","nzSm","12","nzMd","8","nzLg","4"],["nzXs","24","nzSm","24","nzLg","24"],["nz-input","","type","number",3,"ngModelChange","keypress","ngModel","placeholder"],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzXs","16","nzSm","16","nzMd","12","nzLg","8"],["nz-row","","nzJustify","start",2,"margin-bottom","10px"],["nz-col","","nzXs","8","nzSm","8","nzLg","8"],["nz-col","","nzXs","16","nzSm","16","nzLg","16"],[3,"ngModelChange","ngModel"],["nz-radio","","nzValue","OK"],["nz-radio","","nzValue","NG",1,"invalid"],["nz-col","","nzXs","8","nzSm","8","nzMd","12","nzLg","12"],["nz-col","","nzXs","24","nzSm","24","nzLg","12"],["nz-button","","nzType","primary",3,"click","nzLoading"],[3,"ngClass",4,"ngIf"],[1,"text-center",3,"click"],[3,"ngClass"],["nz-col","","nzXs","24","nzSm","12","nzMd","8","nzLg","6"],[1,"item-img"],[1,"info"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"nz-tabset")(1,"nz-tab",5)(2,"div",6)(3,"div",7)(4,"nz-collapse")(5,"nz-collapse-panel",8)(6,"container-element",9),e.DNE(7,yt,19,7,"div",10)(8,Tt,23,5,"div",10),e.nrm(9,"br"),e.j41(10,"div",11)(11,"div",12)(12,"textarea",13),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.note,l)||(n.note=l),e.Njj(l)}),e.k0s()()()(),e.nrm(13,"br"),e.DNE(14,Pt,19,7,"div",14),e.k0s()()()()(),e.j41(15,"nz-tab",15)(16,"nz-table",16,0)(18,"thead")(19,"tr")(20,"th",17),e.EFF(21,"QA Card"),e.k0s(),e.j41(22,"th",18),e.EFF(23,"Line"),e.k0s(),e.j41(24,"th",18),e.EFF(25,"Master"),e.k0s(),e.j41(26,"th",18),e.EFF(27,"Khu\xf4n"),e.k0s(),e.j41(28,"th",18),e.EFF(29,"Model"),e.k0s(),e.j41(30,"th",18),e.EFF(31,"L\xfd do"),e.k0s(),e.j41(32,"th",18),e.EFF(33,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(34,"th",18),e.EFF(35),e.k0s(),e.j41(36,"th",18),e.EFF(37),e.k0s(),e.j41(38,"th",18),e.EFF(39,"Th\u1eddi gian"),e.k0s()()(),e.j41(40,"tbody"),e.DNE(41,wt,22,16,"tr",19),e.k0s()()(),e.j41(42,"nz-tab",20)(43,"nz-table",21)(44,"tbody")(45,"tr")(46,"td",22),e.nrm(47,"img",23),e.k0s(),e.j41(48,"td",24),e.EFF(49,"H\u1ea1ng m\u1ee5c:"),e.k0s(),e.j41(50,"td")(51,"nz-tag",25),e.EFF(52),e.k0s()()(),e.j41(53,"tr")(54,"td"),e.EFF(55,"C\xf4ng \u0111o\u1ea1n:"),e.k0s(),e.j41(56,"td")(57,"nz-tag",25),e.EFF(58),e.k0s()()(),e.j41(59,"tr")(60,"td"),e.EFF(61,"D\u1ee5ng c\u1ee5:"),e.k0s(),e.j41(62,"td")(63,"nz-tag",25),e.EFF(64),e.k0s()()(),e.j41(65,"tr")(66,"td"),e.EFF(67,"M\xe3 d\u1ee5ng c\u1ee5:"),e.k0s(),e.j41(68,"td")(69,"nz-tag",25),e.EFF(70),e.k0s()()(),e.j41(71,"tr")(72,"td"),e.EFF(73,"Ti\xeau chu\u1ea9n:"),e.k0s(),e.j41(74,"td")(75,"nz-tag",25),e.EFF(76),e.k0s()()(),e.j41(77,"tr")(78,"td"),e.EFF(79,"\u0110\u01a1n v\u1ecb \u0111o:"),e.k0s(),e.j41(80,"td")(81,"nz-tag",25),e.EFF(82),e.k0s()()(),e.j41(83,"tr")(84,"td"),e.EFF(85,"C\xf4ng th\u1ee9c:"),e.k0s(),e.j41(86,"td")(87,"nz-tag",25),e.EFF(88),e.k0s()()()()()(),e.j41(89,"nz-tab",26)(90,"nz-image-group",6),e.DNE(91,Yt,3,1,"div",27),e.k0s()()(),e.j41(92,"nz-modal",28),e.mxI("nzVisibleChange",function(l){return e.eBV(i),e.DH7(n.isShowModal,l)||(n.isShowModal=l),e.Njj(l)}),e.DNE(93,Xt,31,20,"ng-container",29)(94,Vt,2,0,"ng-template",30),e.k0s()}if(2&a){const i=e.sdS(17);e.R7$(2),e.Y8G("nzGutter",24),e.R7$(3),e.Y8G("nzActive",!0)("nzShowArrow",!0),e.R7$(),e.Y8G("ngSwitch",n.item.unit),e.R7$(),e.Y8G("ngSwitchCase",1),e.R7$(),e.Y8G("ngSwitchCase",2),e.R7$(2),e.Y8G("nzGutter",24),e.R7$(2),e.R50("ngModel",n.note),e.R7$(2),e.Y8G("ngIf",n.insertData.length),e.R7$(2),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!0)("nzScroll",e.lJ4(35,kt)),e.R7$(19),e.JRh(n.valueNames[0]),e.R7$(2),e.JRh(n.valueNames[1]),e.R7$(4),e.Y8G("ngForOf",i.data),e.R7$(2),e.Y8G("nzData",e.lJ4(36,vt))("nzFrontPagination",!1),e.R7$(4),e.Y8G("nzSrc",n.baseUrl+(null==n.images[0]?null:n.images[0].imageUrl)),e.R7$(4),e.Y8G("nzColor","red"),e.R7$(),e.JRh(n.item.name),e.R7$(5),e.Y8G("nzColor","green"),e.R7$(),e.JRh(n.standard.process),e.R7$(5),e.Y8G("nzColor","cyan"),e.R7$(),e.JRh(n.standard.tool),e.R7$(5),e.Y8G("nzColor","orange"),e.R7$(),e.JRh(n.standard.toolCode),e.R7$(5),e.Y8G("nzColor","blue"),e.R7$(),e.JRh(n.standard.standard),e.R7$(5),e.Y8G("nzColor","geekblue"),e.R7$(),e.JRh(n.standard.unit),e.R7$(5),e.Y8G("nzColor","purple"),e.R7$(),e.JRh(n.standard.formula),e.R7$(2),e.Y8G("nzGutter",24),e.R7$(),e.Y8G("ngForOf",n.images),e.R7$(),e.R50("nzVisible",n.isShowModal)}},dependencies:[m.YU,m.Sq,m.bT,m.ux,m.e1,d.me,d.Q0,d.BC,d.vS,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,E.Vz,E.pc,D.JZ,D.rE,w.s,y.Sy,y.c9,M.aO,h.c,z.p,F.F2,F.Oj,F.A9,f.r,f.as,T.lx,T.i3,I.cK,m.QX,m.vh],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.invalid[_ngcontent-%COMP%]{color:red;font-weight:700}.item-img[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.item-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;min-height:100px;height:100px}ul.info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:2px}"]})}return s})();const Jt=["value1Input"],Ut=["value2Input"],Ht=["value3Input"],qt=()=>({x:"1200px"}),Kt=()=>[""],H=s=>({"text-right":!0,invalid:s}),ue=s=>({"text-center":!0,invalid:s});function Qt(s,r){if(1&s){const t=e.RV6();e.j41(0,"tr")(1,"td",22),e.EFF(2),e.k0s(),e.j41(3,"td",37),e.EFF(4),e.k0s(),e.j41(5,"td",37),e.EFF(6),e.k0s(),e.j41(7,"td",37),e.EFF(8),e.k0s(),e.j41(9,"td",38),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.onDeleteValue(n))}),e.EFF(10," X\xf3a "),e.k0s()()}if(2&s){const t=r.$implicit,a=r.index,n=e.XpG(2);e.R7$(2),e.JRh(a+1),e.R7$(),e.Y8G("ngClass",e.eq3(7,H,t.c1<n.standard.c1Min||t.c1>n.standard.c1Max)),e.R7$(),e.SpI(" ",t.c1," "),e.R7$(),e.Y8G("ngClass",e.eq3(9,H,t.c2<n.standard.c2Min||t.c2>n.standard.c2Max)),e.R7$(),e.SpI(" ",t.c2," "),e.R7$(),e.Y8G("ngClass",e.eq3(11,H,t.c3<n.standard.c3Min||t.c3>n.standard.c3Max)),e.R7$(),e.SpI(" ",t.c3," ")}}function Wt(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",15)(1,"div",35)(2,"nz-table",25,4)(4,"thead")(5,"tr")(6,"th",22),e.EFF(7,"L\u1ea7n \u0111o"),e.k0s(),e.j41(8,"th",22),e.EFF(9),e.k0s(),e.j41(10,"th",22),e.EFF(11),e.k0s(),e.j41(12,"th",22),e.EFF(13),e.k0s(),e.j41(14,"th"),e.EFF(15,"Action"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,Qt,11,13,"tr",23),e.k0s()()(),e.j41(18,"div",35)(19,"button",36),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSaveBtn())}),e.EFF(20,"L\u01b0u"),e.k0s()()()}if(2&s){const t=e.sdS(3),a=e.XpG();e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzData",a.insertData)("nzFrontPagination",!1),e.R7$(7),e.JRh(a.valueNames[0]),e.R7$(2),e.JRh(a.valueNames[1]),e.R7$(2),e.JRh(a.valueNames[2]),e.R7$(4),e.Y8G("ngForOf",t.data),e.R7$(2),e.Y8G("nzLoading",a.isLoading)}}function Zt(s,r){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td",37),e.EFF(16),e.nI1(17,"number"),e.k0s(),e.j41(18,"td",37),e.EFF(19),e.nI1(20,"number"),e.k0s(),e.j41(21,"td",37),e.EFF(22),e.nI1(23,"number"),e.k0s(),e.j41(24,"td",22),e.EFF(25),e.nI1(26,"date"),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG();e.R7$(2),e.JRh(t.qaCard),e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.master),e.R7$(2),e.JRh(t.mold),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(),e.Y8G("ngClass",e.eq3(27,H,t.c1<a.standard.c1Min||t.c1>a.standard.c1Max)),e.R7$(),e.SpI(" ",e.i5U(17,15,t.c1,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(29,H,t.c2<a.standard.c2Min||t.c2>a.standard.c2Max)),e.R7$(),e.SpI(" ",e.i5U(20,18,t.c2,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(31,H,t.c3<a.standard.c3Min||t.c3>a.standard.c3Max)),e.R7$(),e.SpI(" ",e.i5U(23,21,t.c3,"1.3")," "),e.R7$(3),e.Lme(" ",e.i5U(26,24,t.createdAt,"yyyy-MM-dd HH:mm:ss")," - (",t.shift,") ")}}function en(s,r){if(1&s&&(e.j41(0,"div",39)(1,"nz-card",40),e.nrm(2,"img",27),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG();e.R7$(2),e.Y8G("nzSrc",a.baseUrl+t.imageUrl)}}function tn(s,r){if(1&s&&(e.j41(0,"tr")(1,"td",37),e.EFF(2),e.k0s(),e.j41(3,"td",37),e.EFF(4),e.k0s(),e.j41(5,"td",37),e.EFF(6),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(6,ue,t.c1<a.standard.c1Min||t.c1>a.standard.c1Max)),e.R7$(),e.SpI(" ",t.c1," "),e.R7$(),e.Y8G("ngClass",e.eq3(8,ue,t.c2<a.standard.c2Min||t.c2>a.standard.c2Max)),e.R7$(),e.SpI(" ",t.c2," "),e.R7$(),e.Y8G("ngClass",e.eq3(10,ue,t.c3<a.standard.c3Min||t.c3>a.standard.c3Max)),e.R7$(),e.SpI(" ",t.c3," ")}}function nn(s,r){if(1&s&&(e.qex(0),e.j41(1,"ul",41)(2,"li")(3,"nz-tag",29),e.EFF(4),e.k0s()(),e.j41(5,"li")(6,"nz-tag",29),e.EFF(7),e.k0s()(),e.j41(8,"li")(9,"nz-tag",29),e.EFF(10),e.k0s()(),e.j41(11,"li")(12,"nz-tag",29),e.EFF(13),e.k0s()(),e.j41(14,"li")(15,"nz-tag",29),e.EFF(16),e.k0s()(),e.j41(17,"li")(18,"nz-tag",29),e.EFF(19),e.nI1(20,"date"),e.k0s()()(),e.j41(21,"nz-table",25,5)(23,"thead")(24,"tr")(25,"th",22),e.EFF(26),e.k0s(),e.j41(27,"th",22),e.EFF(28),e.k0s(),e.j41(29,"th",22),e.EFF(30),e.k0s()()(),e.j41(31,"tbody"),e.DNE(32,tn,7,12,"tr",23),e.k0s()(),e.bVm()),2&s){const t=e.sdS(22),a=e.XpG();e.R7$(3),e.Y8G("nzColor","red"),e.R7$(),e.SpI("Line: ",a.responseData[0].line,""),e.R7$(2),e.Y8G("nzColor","green"),e.R7$(),e.SpI("Model: ",a.responseData[0].model,""),e.R7$(2),e.Y8G("nzColor","cyan"),e.R7$(),e.SpI("Th\u1ef1c hi\u1ec7n: ",a.responseData[0].user,""),e.R7$(2),e.Y8G("nzColor","blue"),e.R7$(),e.SpI("Ca l\xe0m vi\u1ec7c: ",a.responseData[0].shift,""),e.R7$(2),e.Y8G("nzColor","geekblue"),e.R7$(),e.SpI("L\xfd do: ",a.responseData[0].reasonName,""),e.R7$(2),e.Y8G("nzColor","purple"),e.R7$(),e.SpI("Th\u1eddi gian: ",e.i5U(20,18,a.responseData[0].createdAt,"yyyy-MM-dd HH:mm:ss"),""),e.R7$(2),e.Y8G("nzData",a.responseData)("nzFrontPagination",!1),e.R7$(5),e.JRh(a.valueNames[0]),e.R7$(2),e.JRh(a.valueNames[1]),e.R7$(2),e.JRh(a.valueNames[2]),e.R7$(2),e.Y8G("ngForOf",t.data)}}function an(s,r){if(1&s){const t=e.RV6();e.j41(0,"button",14),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isShowModal=!1)}),e.EFF(1,"OK"),e.k0s()}}let sn=(()=>{class s{constructor(t,a){this.toastr=t,this.measureService=a,this.baseUrl=g.c.baseUrl,this.isDisableValue3=!1,this.isLoading=!1,this.isShowModal=!1,this.insertData=new Array,this.responseData=new Array}ngOnInit(){(3==this.item.id||5==this.item.id)&&(this.isDisableValue3=!0),this.valueNames=this.standard.valueName.split(";"),console.log("item: ",this.item),console.log("images: ",this.images),console.log("standard : ",this.standard),console.log("valueNames : ",this.valueNames),console.log("searchParams : ",this.searchParams),this.getDetailData(this.searchParams)}ngAfterViewInit(){this.value1Input.nativeElement.focus()}onKeyPressValue1(t){if(13==t.keyCode){if(null==this.value1||null==this.value1)return void this.toastr.warning(`C\u1ea7n nh\u1eadp gi\xe1 tr\u1ecb ${this.valueNames[0]} !`);this.value2Input.nativeElement.focus()}}onKeyPressValue2(t){if(13==t.keyCode){if(null==this.value2||null==this.value2)return void this.toastr.warning(`C\u1ea7n nh\u1eadp gi\xe1 tr\u1ecb ${this.valueNames[1]} !`);this.isDisableValue3?(3==this.item.id?this.value3=(this.value1-this.value2).toFixed(3):5==this.item.id&&(this.value3=(this.value2-this.value1).toFixed(3)),this.onAddBtn()):this.value3Input.nativeElement.focus()}}onKeyPressValue3(t){if(13==t.keyCode){if(null==this.value3||null==this.value3)return void this.toastr.warning(`C\u1ea7n nh\u1eadp gi\xe1 tr\u1ecb ${this.valueNames[2]} !`);this.onAddBtn()}}onAddBtn(){let t=!(this.searchParams.model&&this.searchParams.user&&this.searchParams.shift&&this.searchParams.reason);if("TE"==this.searchParams.modelType){if(t||!this.searchParams.mold&&![2,17,18,19,16,22,26,27].includes(this.item.id))return void this.toastr.warning("C\u1ea7n nh\u1eadp c\xe1c th\xf4ng tin b\u1eaft bu\u1ed9c")}else if(t)return void this.toastr.warning("C\u1ea7n nh\u1eadp c\xe1c th\xf4ng tin b\u1eaft bu\u1ed9c");if(console.log("S\u1ed1 l\u01b0\u1ee3ng \u0111\xe3 \u0111o: ",this.insertData.length),console.log("S\u1ed1 l\u01b0\u1ee3ng \u0111o ti\xeau chu\u1ea9n: ",this.standard.measureAmount),this.insertData.length==this.standard.measureAmount)return void this.toastr.warning(`\u0110\xe3 \u0111\u1ee7 s\u1ed1 l\u01b0\u1ee3ng \u0111o: ${this.standard.measureAmount}`);if(null==this.value1||null==this.value2||null==this.value3)return void this.toastr.warning(`C\u1ea7n nh\u1eadp: ${this.valueNames}`);let n={uuid:ee(),line:this.searchParams.line,modelType:this.searchParams.modelType,item:this.item.id,model:this.searchParams.model,user:this.searchParams.user,shift:this.searchParams.shift,reason:this.searchParams.reason,c1:this.value1,c2:this.value2,c3:this.value3,mold:"TE"==this.searchParams.modelType?this.searchParams.mold:null,note:null,qaCard:this.searchParams.qaCard};this.insertData.push(n),this.insertData=[...this.insertData],this.value1=null,this.value2=null,this.value3=null,this.value1Input.nativeElement.focus()}onDeleteValue(t){let a=this.insertData.findIndex(n=>n.uuid===t.uuid);-1!=a&&this.insertData.splice(a,1),this.insertData=[...this.insertData]}onSaveBtn(){this.insertData.length<this.standard.measureAmount?this.toastr.warning(`C\u1ea7n \u0111o \u0111\u1ee7 s\u1ed1 l\u01b0\u1ee3ng ti\xeau chu\u1ea9n : ${this.standard.measureAmount}`):(this.note&&this.insertData.forEach(t=>{t.note=this.note}),this.isLoading=!0,this.measureService.saveMeasureData(this.insertData).subscribe(t=>{this.responseData=t,this.insertData=new Array,this.note=null,this.isLoading=!1,this.isShowModal=!0,this.toastr.success("Saved !"),this.getDetailData(this.searchParams)}))}getDetailData(t){t.item=this.item.id,this.measureService.getDetailData(t).subscribe(a=>{this.detailsData=a})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(A.tw),e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-exe-type3"]],viewQuery:function(a,n){if(1&a&&(e.GBs(Jt,5),e.GBs(Ut,5),e.GBs(Ht,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.value1Input=i.first),e.mGM(i=e.lsd())&&(n.value2Input=i.first),e.mGM(i=e.lsd())&&(n.value3Input=i.first)}},inputs:{item:"item",images:"images",standard:"standard",searchParams:"searchParams"},decls:119,vars:46,consts:[["value1Input",""],["value2Input",""],["value3Input",""],["detailTable",""],["insertTable",""],["responseTable",""],["nzTitle","\u0110o \u0111\u1ea1c"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["nzHeader","Th\u1ef1c hi\u1ec7n",3,"nzActive","nzShowArrow"],["nz-col","","nzXs","12","nzSm","12","nzMd","8","nzLg","6"],["nzXs","24","nzSm","24","nzLg","24"],["nz-input","","type","number",3,"ngModelChange","keypress","ngModel","placeholder"],["nz-input","","type","number",3,"ngModelChange","keypress","placeholder","readonly","ngModel"],["nz-button","","nzType","primary",3,"click"],["nz-row","","nzJustify","start","nzAlign","top",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","8"],["nz-input","","placeholder","Nh\u1eadp ghi ch\xfa","nzAutosize","",3,"ngModelChange","ngModel"],["nz-row","","nzJustify","start","nzAlign","top",3,"nzGutter",4,"ngIf"],["nzTitle","D\u1eef li\u1ec7u"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination","nzScroll"],[1,"text-center",2,"width","200px"],[1,"text-center"],[4,"ngFor","ngForOf"],["nzTitle","Ti\xeau chu\u1ea9n"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination"],["rowspan","7",1,"item-img"],["nz-image","",3,"nzSrc"],["width","100px"],[3,"nzColor"],["nzTitle","H\xecnh \u1ea3nh"],["nz-col","","nzXs","24","nzSm","12","nzMd","8","nzLg","6",4,"ngFor","ngForOf"],["nzTitle","D\u1eef li\u1ec7u \u0111o \u0111\u1ea1c",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[3,"nzModalFooter"],["nz-col","","nzXs","24","nzSm","24","nzLg","12"],["nz-button","","nzType","primary",3,"click","nzLoading"],[3,"ngClass"],[1,"text-center",3,"click"],["nz-col","","nzXs","24","nzSm","12","nzMd","8","nzLg","6"],[1,"item-img"],[1,"info"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"nz-tabset")(1,"nz-tab",6)(2,"div",7)(3,"div",8)(4,"nz-collapse")(5,"nz-collapse-panel",9)(6,"div",7)(7,"div",10)(8,"label",11),e.EFF(9),e.k0s(),e.j41(10,"div",11)(11,"input",12,0),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.value1,l)||(n.value1=l),e.Njj(l)}),e.bIt("keypress",function(l){return e.eBV(i),e.Njj(n.onKeyPressValue1(l))}),e.k0s()()(),e.j41(13,"div",10)(14,"label",11),e.EFF(15),e.k0s(),e.j41(16,"div",11)(17,"input",12,1),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.value2,l)||(n.value2=l),e.Njj(l)}),e.bIt("keypress",function(l){return e.eBV(i),e.Njj(n.onKeyPressValue2(l))}),e.k0s()()(),e.j41(19,"div",10)(20,"label",11),e.EFF(21),e.k0s(),e.j41(22,"div",11)(23,"input",13,2),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.value3,l)||(n.value3=l),e.Njj(l)}),e.bIt("keypress",function(l){return e.eBV(i),e.Njj(n.onKeyPressValue3(l))}),e.k0s()()(),e.j41(25,"div",10)(26,"label",11),e.EFF(27,"\xa0"),e.k0s(),e.j41(28,"div",11)(29,"button",14),e.bIt("click",function(){return e.eBV(i),e.Njj(n.onAddBtn())}),e.EFF(30," Add "),e.k0s()()()(),e.nrm(31,"br"),e.j41(32,"div",15)(33,"div",16)(34,"textarea",17),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.note,l)||(n.note=l),e.Njj(l)}),e.k0s()()(),e.nrm(35,"br"),e.DNE(36,Wt,21,8,"div",18),e.k0s()()()()(),e.j41(37,"nz-tab",19)(38,"nz-table",20,3)(40,"thead")(41,"tr")(42,"th",21),e.EFF(43,"QA Card"),e.k0s(),e.j41(44,"th",22),e.EFF(45,"Line"),e.k0s(),e.j41(46,"th",22),e.EFF(47,"Master"),e.k0s(),e.j41(48,"th",22),e.EFF(49,"Khu\xf4n"),e.k0s(),e.j41(50,"th",22),e.EFF(51,"Model"),e.k0s(),e.j41(52,"th",22),e.EFF(53,"L\xfd do"),e.k0s(),e.j41(54,"th",22),e.EFF(55,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(56,"th",22),e.EFF(57),e.k0s(),e.j41(58,"th",22),e.EFF(59),e.k0s(),e.j41(60,"th",22),e.EFF(61),e.k0s(),e.j41(62,"th",22),e.EFF(63,"Th\u1eddi gian"),e.k0s()()(),e.j41(64,"tbody"),e.DNE(65,Zt,27,33,"tr",23),e.k0s()()(),e.j41(66,"nz-tab",24)(67,"nz-table",25)(68,"tbody")(69,"tr")(70,"td",26),e.nrm(71,"img",27),e.k0s(),e.j41(72,"td",28),e.EFF(73,"H\u1ea1ng m\u1ee5c:"),e.k0s(),e.j41(74,"td")(75,"nz-tag",29),e.EFF(76),e.k0s()()(),e.j41(77,"tr")(78,"td"),e.EFF(79,"C\xf4ng \u0111o\u1ea1n:"),e.k0s(),e.j41(80,"td")(81,"nz-tag",29),e.EFF(82),e.k0s()()(),e.j41(83,"tr")(84,"td"),e.EFF(85,"D\u1ee5ng c\u1ee5:"),e.k0s(),e.j41(86,"td")(87,"nz-tag",29),e.EFF(88),e.k0s()()(),e.j41(89,"tr")(90,"td"),e.EFF(91,"M\xe3 d\u1ee5ng c\u1ee5:"),e.k0s(),e.j41(92,"td")(93,"nz-tag",29),e.EFF(94),e.k0s()()(),e.j41(95,"tr")(96,"td"),e.EFF(97,"Ti\xeau chu\u1ea9n:"),e.k0s(),e.j41(98,"td")(99,"nz-tag",29),e.EFF(100),e.k0s()()(),e.j41(101,"tr")(102,"td"),e.EFF(103,"\u0110\u01a1n v\u1ecb \u0111o:"),e.k0s(),e.j41(104,"td")(105,"nz-tag",29),e.EFF(106),e.k0s()()(),e.j41(107,"tr")(108,"td"),e.EFF(109,"C\xf4ng th\u1ee9c:"),e.k0s(),e.j41(110,"td")(111,"nz-tag",29),e.EFF(112),e.k0s()()()()()(),e.j41(113,"nz-tab",30)(114,"nz-image-group",7),e.DNE(115,en,3,1,"div",31),e.k0s()()(),e.j41(116,"nz-modal",32),e.mxI("nzVisibleChange",function(l){return e.eBV(i),e.DH7(n.isShowModal,l)||(n.isShowModal=l),e.Njj(l)}),e.DNE(117,nn,33,21,"ng-container",33)(118,an,2,0,"ng-template",34),e.k0s()}if(2&a){const i=e.sdS(39);e.R7$(2),e.Y8G("nzGutter",24),e.R7$(3),e.Y8G("nzActive",!0)("nzShowArrow",!0),e.R7$(),e.Y8G("nzGutter",24),e.R7$(3),e.JRh(n.valueNames[0]),e.R7$(2),e.R50("ngModel",n.value1),e.Y8G("placeholder",n.valueNames[0]),e.R7$(4),e.JRh(n.valueNames[1]),e.R7$(2),e.R50("ngModel",n.value2),e.Y8G("placeholder",n.valueNames[1]),e.R7$(4),e.JRh(n.valueNames[2]),e.R7$(2),e.Y8G("placeholder",n.valueNames[2])("readonly",n.isDisableValue3),e.R50("ngModel",n.value3),e.R7$(9),e.Y8G("nzGutter",24),e.R7$(2),e.R50("ngModel",n.note),e.R7$(2),e.Y8G("ngIf",n.insertData.length),e.R7$(2),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!0)("nzScroll",e.lJ4(44,qt)),e.R7$(19),e.JRh(n.valueNames[0]),e.R7$(2),e.JRh(n.valueNames[1]),e.R7$(2),e.JRh(n.valueNames[2]),e.R7$(4),e.Y8G("ngForOf",i.data),e.R7$(2),e.Y8G("nzData",e.lJ4(45,Kt))("nzFrontPagination",!1),e.R7$(4),e.Y8G("nzSrc",n.baseUrl+(null==n.images[0]?null:n.images[0].imageUrl)),e.R7$(4),e.Y8G("nzColor","red"),e.R7$(),e.JRh(n.item.name),e.R7$(5),e.Y8G("nzColor","green"),e.R7$(),e.JRh(n.standard.process),e.R7$(5),e.Y8G("nzColor","cyan"),e.R7$(),e.JRh(n.standard.tool),e.R7$(5),e.Y8G("nzColor","orange"),e.R7$(),e.JRh(n.standard.toolCode),e.R7$(5),e.Y8G("nzColor","blue"),e.R7$(),e.JRh(n.standard.standard),e.R7$(5),e.Y8G("nzColor","geekblue"),e.R7$(),e.JRh(n.standard.unit),e.R7$(5),e.Y8G("nzColor","purple"),e.R7$(),e.JRh(n.standard.formula),e.R7$(2),e.Y8G("nzGutter",24),e.R7$(),e.Y8G("ngForOf",n.images),e.R7$(),e.R50("nzVisible",n.isShowModal)}},dependencies:[m.YU,m.Sq,m.bT,d.me,d.Q0,d.BC,d.vS,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,E.Vz,E.pc,D.JZ,D.rE,w.s,y.Sy,y.c9,M.aO,h.c,z.p,F.F2,F.Oj,F.A9,f.r,f.as,I.cK,m.QX,m.vh],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.invalid[_ngcontent-%COMP%]{color:red;font-weight:700}.item-img[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.item-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;min-height:100px;height:100px}ul.info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:2px}"]})}return s})();const rn=s=>({"text-center":!0,invalid:s});function on(s,r){if(1&s){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",13)(4,"nz-radio-group",23),e.mxI("ngModelChange",function(n){const i=e.eBV(t).$implicit;return e.DH7(i.value,n)||(i.value=n),e.Njj(n)}),e.j41(5,"label",24),e.EFF(6,"OK"),e.k0s(),e.j41(7,"label",25),e.EFF(8,"NG"),e.k0s()()()()}if(2&s){const t=r.$implicit;e.R7$(2),e.JRh(t.name),e.R7$(2),e.R50("ngModel",t.value)}}function ln(s,r){if(1&s){const t=e.RV6();e.j41(0,"tr",26),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.showDetailData(n))}),e.j41(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td",13),e.EFF(14),e.nI1(15,"date"),e.k0s()()}if(2&s){const t=r.$implicit;e.R7$(2),e.JRh(t.id),e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(2),e.JRh(t.note),e.R7$(2),e.Lme(" ",e.i5U(15,8,t.createdAt,"yyyy-MM-dd HH:mm:ss")," - (",t.shift,") ")}}function dn(s,r){if(1&s&&(e.j41(0,"div",27)(1,"nz-card",28),e.nrm(2,"img",29),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG();e.R7$(2),e.Y8G("nzSrc",a.baseUrl+t.imageUrl)}}function cn(s,r){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",32),e.EFF(4),e.k0s()()),2&s){const t=r.$implicit;e.R7$(2),e.JRh(t.childItemName),e.R7$(),e.Y8G("ngClass",e.eq3(3,rn,"NG"==t.a1)),e.R7$(),e.SpI(" ",t.a1," ")}}function mn(s,r){if(1&s&&(e.qex(0),e.j41(1,"ul",30)(2,"li")(3,"nz-tag",31),e.EFF(4),e.k0s()(),e.j41(5,"li")(6,"nz-tag",31),e.EFF(7),e.k0s()(),e.j41(8,"li")(9,"nz-tag",31),e.EFF(10),e.k0s()(),e.j41(11,"li")(12,"nz-tag",31),e.EFF(13),e.k0s()(),e.j41(14,"li")(15,"nz-tag",31),e.EFF(16),e.k0s()(),e.j41(17,"li")(18,"nz-tag",31),e.EFF(19),e.nI1(20,"date"),e.k0s()()(),e.j41(21,"nz-table",16,2)(23,"thead")(24,"tr")(25,"th",13),e.EFF(26,"H\u1ea1ng m\u1ee5c"),e.k0s(),e.j41(27,"th",13),e.EFF(28),e.k0s()()(),e.j41(29,"tbody"),e.DNE(30,cn,5,5,"tr",14),e.k0s()(),e.bVm()),2&s){const t=e.sdS(22),a=e.XpG();e.R7$(3),e.Y8G("nzColor","red"),e.R7$(),e.SpI("Line: ",a.responseData[0].line,""),e.R7$(2),e.Y8G("nzColor","green"),e.R7$(),e.SpI("Model: ",a.responseData[0].model,""),e.R7$(2),e.Y8G("nzColor","cyan"),e.R7$(),e.SpI("Th\u1ef1c hi\u1ec7n: ",a.responseData[0].user,""),e.R7$(2),e.Y8G("nzColor","blue"),e.R7$(),e.SpI("Ca l\xe0m vi\u1ec7c: ",a.responseData[0].shift,""),e.R7$(2),e.Y8G("nzColor","geekblue"),e.R7$(),e.SpI("L\xfd do: ",a.responseData[0].reasonName,""),e.R7$(2),e.Y8G("nzColor","purple"),e.R7$(),e.SpI("Th\u1eddi gian: ",e.i5U(20,16,a.responseData[0].createdAt,"yyyy-MM-dd HH:mm:ss"),""),e.R7$(2),e.Y8G("nzData",a.responseData)("nzFrontPagination",!0),e.R7$(7),e.JRh(a.valueNames[0]),e.R7$(2),e.Y8G("ngForOf",t.data)}}function un(s,r){if(1&s){const t=e.RV6();e.j41(0,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isShowModal=!1)}),e.EFF(1,"OK"),e.k0s()}}let hn=(()=>{class s{constructor(t,a){this.toastr=t,this.measureService=a,this.baseUrl=g.c.baseUrl,this.isSaveLoading=!1,this.isChildItemTableLoading=!1,this.isShowModal=!1,this.responseData=new Array}ngOnInit(){this.valueNames=this.standard.valueName.split(";"),this.getMasterData(this.searchParams),this.getChildItems(this.item.id,this.modelType),console.log("HIHIHI: ",this.item),console.log("standard: ",this.standard)}getMasterData(t){this.searchParams.item=this.item.id,this.measureService.getMasterData(t).subscribe(a=>{this.mastersData=a,console.log("Master: ",this.mastersData)})}getChildItems(t,a){this.isChildItemTableLoading=!0,this.measureService.getChildItems(t,a).subscribe(n=>{this.childItems=n,this.isChildItemTableLoading=!1})}onSaveBtn(){if(!(this.searchParams.modelType&&this.searchParams.model&&this.searchParams.user&&this.searchParams.shift&&this.searchParams.reason))return void this.toastr.warning("C\u1ea7n nh\u1eadp c\xe1c th\xf4ng tin b\u1eaft bu\u1ed9c");let t=new Array;this.childItems.forEach(a=>{t.push({line:this.searchParams.line,modelType:this.searchParams.modelType,item:this.item.id,model:this.searchParams.model,user:this.searchParams.user,shift:this.searchParams.shift,reason:this.searchParams.reason,a1:a.value,childItem:a.id,qty:this.standard.measureAmount,note:this.note?this.note:null,qaCard:this.searchParams.qaCard})}),this.isSaveLoading=!0,this.measureService.saveMeasureData(t).subscribe(a=>{this.isSaveLoading=!1,this.responseData=a,this.isShowModal=!0,t=new Array,this.toastr.success("Saved !"),this.qty=null,this.note=null,this.getChildItems(this.item.id,this.modelType),this.getMasterData(this.searchParams)})}showDetailData(t){this.searchParams.master=t.id,this.measureService.getDetailData(this.searchParams).subscribe(a=>{this.responseData=a,this.isShowModal=!0,console.log(this.responseData)})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(A.tw),e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-exe-check-sheet"]],inputs:{item:"item",modelType:"modelType",images:"images",standard:"standard",searchParams:"searchParams"},decls:55,vars:14,consts:[["childItemTable",""],["masterTable",""],["responseTable",""],["nzTitle","H\u1ea1ng m\u1ee5c"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","4","nzSm","4","nzMd","4","nzLg","4"],["type","number","nz-input","","placeholder","S\u1ed1 m\u1eabu ki\u1ec3m tra",3,"ngModelChange","ngModel"],["nz-col","","nzXs","6","nzSm","6","nzMd","6","nzLg","6"],["nz-input","","placeholder","Nh\u1eadp ghi ch\xfa","nzAutosize","",3,"ngModelChange","ngModel"],["nz-col","","nzXs","14","nzSm","14","nzMd","14","nzLg","14"],["nz-row","","nzJustify","end","nzAlign","middle"],["nz-button","","nzType","primary",3,"click","nzLoading"],["nzBordered","",3,"nzData","nzLoading","nzFrontPagination"],[1,"text-center"],[4,"ngFor","ngForOf"],["nzTitle","D\u1eef li\u1ec7u"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination"],[3,"click",4,"ngFor","ngForOf"],["nzTitle","H\xecnh \u1ea3nh"],["nz-col","","nzXs","24","nzSm","12","nzMd","8","nzLg","6",4,"ngFor","ngForOf"],["nzTitle","D\u1eef li\u1ec7u \u0111o \u0111\u1ea1c",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[3,"nzModalFooter"],[3,"ngModelChange","ngModel"],["nz-radio","","nzValue","OK",2,"color","green"],["nz-radio","","nzValue","NG",2,"color","red"],[3,"click"],["nz-col","","nzXs","24","nzSm","12","nzMd","8","nzLg","6"],[1,"item-img"],["nz-image","",3,"nzSrc"],[1,"info"],[3,"nzColor"],[3,"ngClass"],["nz-button","","nzType","primary",3,"click"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"nz-tabset")(1,"nz-tab",3)(2,"div",4)(3,"div",5)(4,"label"),e.EFF(5,"S\u1ed1 l\u01b0\u1ee3ng"),e.k0s(),e.j41(6,"input",6),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.standard.measureAmount,l)||(n.standard.measureAmount=l),e.Njj(l)}),e.k0s()(),e.j41(7,"div",7)(8,"label"),e.EFF(9,"Ghi ch\xfa"),e.k0s(),e.j41(10,"textarea",8),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.note,l)||(n.note=l),e.Njj(l)}),e.k0s()(),e.j41(11,"div",9)(12,"div",10)(13,"label"),e.EFF(14,"\xa0"),e.k0s(),e.j41(15,"button",11),e.bIt("click",function(){return e.eBV(i),e.Njj(n.onSaveBtn())}),e.EFF(16," L\u01b0u "),e.k0s()()()(),e.nrm(17,"br"),e.j41(18,"nz-table",12,0)(20,"thead")(21,"tr")(22,"th",13),e.EFF(23,"H\u1ea1ng m\u1ee5c"),e.k0s(),e.j41(24,"th",13),e.EFF(25,"Action"),e.k0s()()(),e.j41(26,"tbody"),e.DNE(27,on,9,2,"tr",14),e.k0s()()(),e.j41(28,"nz-tab",15)(29,"nz-table",16,1)(31,"thead")(32,"tr")(33,"th",13),e.EFF(34,"Master"),e.k0s(),e.j41(35,"th",13),e.EFF(36,"Line"),e.k0s(),e.j41(37,"th",13),e.EFF(38,"Model"),e.k0s(),e.j41(39,"th",13),e.EFF(40,"L\xfd do"),e.k0s(),e.j41(41,"th",13),e.EFF(42,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(43,"th",13),e.EFF(44,"Ghi ch\xfa"),e.k0s(),e.j41(45,"th",13),e.EFF(46,"Th\u1eddi gian"),e.k0s()()(),e.j41(47,"tbody"),e.DNE(48,ln,16,11,"tr",17),e.k0s()()(),e.j41(49,"nz-tab",18)(50,"nz-image-group",4),e.DNE(51,dn,3,1,"div",19),e.k0s()()(),e.j41(52,"nz-modal",20),e.mxI("nzVisibleChange",function(l){return e.eBV(i),e.DH7(n.isShowModal,l)||(n.isShowModal=l),e.Njj(l)}),e.DNE(53,mn,31,19,"ng-container",21)(54,un,2,0,"ng-template",22),e.k0s()}if(2&a){const i=e.sdS(19),o=e.sdS(30);e.R7$(2),e.Y8G("nzGutter",24),e.R7$(4),e.R50("ngModel",n.standard.measureAmount),e.R7$(4),e.R50("ngModel",n.note),e.R7$(5),e.Y8G("nzLoading",n.isSaveLoading),e.R7$(3),e.Y8G("nzData",n.childItems)("nzLoading",n.isChildItemTableLoading)("nzFrontPagination",!1),e.R7$(9),e.Y8G("ngForOf",i.data),e.R7$(2),e.Y8G("nzData",n.mastersData)("nzFrontPagination",!0),e.R7$(19),e.Y8G("ngForOf",o.data),e.R7$(2),e.Y8G("nzGutter",24),e.R7$(),e.Y8G("ngForOf",n.images),e.R7$(),e.R50("nzVisible",n.isShowModal)}},dependencies:[m.YU,m.Sq,d.me,d.Q0,d.BC,d.vS,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,D.JZ,D.rE,w.s,y.Sy,y.c9,M.aO,h.c,z.p,F.F2,F.Oj,F.A9,f.r,f.as,T.lx,T.i3,I.cK,m.vh],styles:["nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.item-img[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.item-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;min-height:100px;height:100px}.invalid[_ngcontent-%COMP%]{color:red;font-weight:700}label[_ngcontent-%COMP%]{font-weight:700}"]})}return s})();const pn=["value1Input"],_n=["value2Input"],gn=["value3Input"],zn=["value4Input"],Fn=()=>({x:"1200px"}),En=()=>[""],L=s=>({"text-center":!0,invalid:s}),oe=s=>({"text-right":!0,invalid:s});function Cn(s,r){if(1&s){const t=e.RV6();e.j41(0,"tr")(1,"td",24),e.EFF(2),e.k0s(),e.j41(3,"td",39),e.EFF(4),e.k0s(),e.j41(5,"td",39),e.EFF(6),e.k0s(),e.j41(7,"td",39),e.EFF(8),e.k0s(),e.j41(9,"td",39),e.EFF(10),e.k0s(),e.j41(11,"td",40),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.onDeleteValue(n))}),e.EFF(12," X\xf3a "),e.k0s()()}if(2&s){const t=r.$implicit,a=r.index,n=e.XpG(2);e.R7$(2),e.JRh(a+1),e.R7$(),e.Y8G("ngClass",e.eq3(9,L,t.d1<n.standard.d1Min||t.d1>n.standard.d1Max)),e.R7$(),e.SpI(" ",t.d1," "),e.R7$(),e.Y8G("ngClass",e.eq3(11,L,t.d2<n.standard.d2Min||t.d2>n.standard.d2Max)),e.R7$(),e.SpI(" ",t.d2," "),e.R7$(),e.Y8G("ngClass",e.eq3(13,L,t.d3<n.standard.d3Min||t.d3>n.standard.d3Max)),e.R7$(),e.SpI(" ",t.d3," "),e.R7$(),e.Y8G("ngClass",e.eq3(15,L,t.d4<n.standard.d4Min||t.d4>n.standard.d4Max)),e.R7$(),e.SpI(" ",t.d4," ")}}function Mn(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",17)(1,"div",37)(2,"nz-table",27,5)(4,"thead")(5,"tr")(6,"th",24),e.EFF(7,"L\u1ea7n \u0111o"),e.k0s(),e.j41(8,"th",24),e.EFF(9),e.k0s(),e.j41(10,"th",24),e.EFF(11),e.k0s(),e.j41(12,"th",24),e.EFF(13),e.k0s(),e.j41(14,"th",24),e.EFF(15),e.k0s(),e.j41(16,"th"),e.EFF(17,"Action"),e.k0s()()(),e.j41(18,"tbody"),e.DNE(19,Cn,13,17,"tr",25),e.k0s()()(),e.j41(20,"div",37)(21,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSaveBtn())}),e.EFF(22,"L\u01b0u"),e.k0s()()()}if(2&s){const t=e.sdS(3),a=e.XpG();e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzData",a.insertData)("nzFrontPagination",!1),e.R7$(7),e.JRh(a.valueNames[0]),e.R7$(2),e.JRh(a.valueNames[1]),e.R7$(2),e.JRh(a.valueNames[2]),e.R7$(2),e.JRh(a.valueNames[3]),e.R7$(4),e.Y8G("ngForOf",t.data),e.R7$(2),e.Y8G("nzLoading",a.isLoading)}}function fn(s,r){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td",39),e.EFF(16),e.nI1(17,"number"),e.k0s(),e.j41(18,"td",39),e.EFF(19),e.nI1(20,"number"),e.k0s(),e.j41(21,"td",39),e.EFF(22),e.nI1(23,"number"),e.k0s(),e.j41(24,"td",39),e.EFF(25),e.nI1(26,"number"),e.k0s(),e.j41(27,"td",24),e.EFF(28),e.nI1(29,"date"),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG();e.R7$(2),e.JRh(t.qaCard),e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.master),e.R7$(2),e.JRh(t.mold),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(),e.Y8G("ngClass",e.eq3(32,oe,t.d1<a.standard.d1Min||t.d1>a.standard.d1Max)),e.R7$(),e.SpI(" ",e.i5U(17,17,t.d1,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(34,oe,t.d2<a.standard.d2Min||t.d2>a.standard.d2Max)),e.R7$(),e.SpI(" ",e.i5U(20,20,t.d2,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(36,oe,t.d3<a.standard.d3Min||t.d3>a.standard.d3Max)),e.R7$(),e.SpI(" ",e.i5U(23,23,t.d3,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(38,oe,t.d4<a.standard.d4Min||t.d4>a.standard.d4Max)),e.R7$(),e.SpI(" ",e.i5U(26,26,t.d4,"1.3")," "),e.R7$(3),e.Lme(" ",e.i5U(29,29,t.createdAt,"yyyy-MM-dd HH:mm:ss")," - (",t.shift,") ")}}function Rn(s,r){if(1&s&&(e.j41(0,"div",41)(1,"nz-card",42),e.nrm(2,"img",29),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG();e.R7$(2),e.Y8G("nzSrc",a.baseUrl+t.imageUrl)}}function jn(s,r){if(1&s&&(e.j41(0,"tr")(1,"td",39),e.EFF(2),e.k0s(),e.j41(3,"td",39),e.EFF(4),e.k0s(),e.j41(5,"td",39),e.EFF(6),e.k0s(),e.j41(7,"td",39),e.EFF(8),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG(2);e.R7$(),e.Y8G("ngClass",e.eq3(8,L,t.d1<a.standard.d1Min||t.d1>a.standard.d1Max)),e.R7$(),e.SpI(" ",t.d1," "),e.R7$(),e.Y8G("ngClass",e.eq3(10,L,t.d2<a.standard.d2Min||t.d2>a.standard.d2Max)),e.R7$(),e.SpI(" ",t.d2," "),e.R7$(),e.Y8G("ngClass",e.eq3(12,L,t.d3<a.standard.d3Min||t.d3>a.standard.d3Max)),e.R7$(),e.SpI(" ",t.d3," "),e.R7$(),e.Y8G("ngClass",e.eq3(14,L,t.d4<a.standard.d4Min||t.d4>a.standard.d4Max)),e.R7$(),e.SpI(" ",t.d4," ")}}function bn(s,r){if(1&s&&(e.qex(0),e.j41(1,"ul",43)(2,"li")(3,"nz-tag",31),e.EFF(4),e.k0s()(),e.j41(5,"li")(6,"nz-tag",31),e.EFF(7),e.k0s()(),e.j41(8,"li")(9,"nz-tag",31),e.EFF(10),e.k0s()(),e.j41(11,"li")(12,"nz-tag",31),e.EFF(13),e.k0s()(),e.j41(14,"li")(15,"nz-tag",31),e.EFF(16),e.k0s()(),e.j41(17,"li")(18,"nz-tag",31),e.EFF(19),e.nI1(20,"date"),e.k0s()()(),e.j41(21,"nz-table",27,6)(23,"thead")(24,"tr")(25,"th",24),e.EFF(26),e.k0s(),e.j41(27,"th",24),e.EFF(28),e.k0s(),e.j41(29,"th",24),e.EFF(30),e.k0s(),e.j41(31,"th",24),e.EFF(32),e.k0s()()(),e.j41(33,"tbody"),e.DNE(34,jn,9,16,"tr",25),e.k0s()(),e.bVm()),2&s){const t=e.sdS(22),a=e.XpG();e.R7$(3),e.Y8G("nzColor","red"),e.R7$(),e.SpI("Line: ",a.responseData[0].line,""),e.R7$(2),e.Y8G("nzColor","green"),e.R7$(),e.SpI("Model: ",a.responseData[0].model,""),e.R7$(2),e.Y8G("nzColor","cyan"),e.R7$(),e.SpI("Th\u1ef1c hi\u1ec7n: ",a.responseData[0].user,""),e.R7$(2),e.Y8G("nzColor","blue"),e.R7$(),e.SpI("Ca l\xe0m vi\u1ec7c: ",a.responseData[0].shift,""),e.R7$(2),e.Y8G("nzColor","geekblue"),e.R7$(),e.SpI("L\xfd do: ",a.responseData[0].reasonName,""),e.R7$(2),e.Y8G("nzColor","purple"),e.R7$(),e.SpI("Th\u1eddi gian: ",e.i5U(20,19,a.responseData[0].createdAt,"yyyy-MM-dd HH:mm:ss"),""),e.R7$(2),e.Y8G("nzData",a.responseData)("nzFrontPagination",!1),e.R7$(5),e.JRh(a.valueNames[0]),e.R7$(2),e.JRh(a.valueNames[1]),e.R7$(2),e.JRh(a.valueNames[2]),e.R7$(2),e.JRh(a.valueNames[3]),e.R7$(2),e.Y8G("ngForOf",t.data)}}function kn(s,r){if(1&s){const t=e.RV6();e.j41(0,"button",16),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isShowModal=!1)}),e.EFF(1,"OK"),e.k0s()}}let vn=(()=>{class s{constructor(t,a){this.toastr=t,this.measureService=a,this.baseUrl=g.c.baseUrl,this.isLoading=!1,this.isShowModal=!1,this.insertData=new Array,this.responseData=new Array}ngOnInit(){this.valueNames=this.standard.valueName.split(";"),this.getDetailData(this.searchParams)}onKeyPressValue1(t){if(13==t.keyCode){if(null==this.value1||null==this.value1)return void this.toastr.warning(`C\u1ea7n nh\u1eadp gi\xe1 tr\u1ecb ${this.valueNames[0]} !`);this.value2Input.nativeElement.focus()}}onKeyPressValue2(t){if(13==t.keyCode){if(null==this.value2||null==this.value2)return void this.toastr.warning(`C\u1ea7n nh\u1eadp gi\xe1 tr\u1ecb ${this.valueNames[1]} !`);this.value3Input.nativeElement.focus()}}onKeyPressValue3(t){if(13==t.keyCode){if(null==this.value3||null==this.value3)return void this.toastr.warning(`C\u1ea7n nh\u1eadp gi\xe1 tr\u1ecb ${this.valueNames[2]} !`);this.value4Input.nativeElement.focus()}}onKeyPressValue4(t){if(13==t.keyCode){if(null==this.value4||null==this.value4)return void this.toastr.warning(`C\u1ea7n nh\u1eadp gi\xe1 tr\u1ecb ${this.valueNames[0]} !`);this.onAddBtn()}}onAddBtn(){console.log("AAAAAAAAAA => ",this.searchParams);let t=!(this.searchParams.model&&this.searchParams.user&&this.searchParams.shift&&this.searchParams.reason);if("TE"==this.searchParams.modelType){if(t||!this.searchParams.mold&&![2,17,18,19,16,22,26,27].includes(this.item.id))return void this.toastr.warning("C\u1ea7n nh\u1eadp c\xe1c th\xf4ng tin b\u1eaft bu\u1ed9c")}else if(t)return void this.toastr.warning("C\u1ea7n nh\u1eadp c\xe1c th\xf4ng tin b\u1eaft bu\u1ed9c");if(this.insertData.length==this.standard.measureAmount)return void this.toastr.warning(`\u0110\xe3 \u0111\u1ee7 s\u1ed1 l\u01b0\u1ee3ng \u0111o: ${this.standard.measureAmount}`);if(null==this.value1||null==this.value2||null==this.value3||null==this.value4)return void this.toastr.warning(`C\u1ea7n nh\u1eadp: ${this.valueNames}`);let n={uuid:ee(),line:this.searchParams.line,modelType:this.searchParams.modelType,item:this.item.id,model:this.searchParams.model,user:this.searchParams.user,shift:this.searchParams.shift,reason:this.searchParams.reason,d1:this.value1,d2:this.value2,d3:this.value3,d4:this.value4,mold:"TE"==this.searchParams.modelType?this.searchParams.mold:null,qaCard:this.searchParams.qaCard};this.insertData.push(n),this.insertData=[...this.insertData],this.value1=null,this.value2=null,this.value3=null,this.value4=null,this.value1Input.nativeElement.focus()}onDeleteValue(t){let a=this.insertData.findIndex(n=>n.uuid===t.uuid);-1!=a&&this.insertData.splice(a,1),this.insertData=[...this.insertData]}onSaveBtn(){this.insertData.length<this.standard.measureAmount?this.toastr.warning(`C\u1ea7n \u0111o \u0111\u1ee7 s\u1ed1 l\u01b0\u1ee3ng ti\xeau chu\u1ea9n : ${this.standard.measureAmount}`):(this.note&&this.insertData.forEach(t=>{t.note=this.note}),this.isLoading=!0,this.measureService.saveMeasureData(this.insertData).subscribe(t=>{this.responseData=t,this.insertData=new Array,this.note=null,this.value1=null,this.value2=null,this.value3=null,this.value4=null,this.isLoading=!1,this.isShowModal=!0,this.toastr.success("Saved !"),this.getDetailData(this.searchParams)}))}getDetailData(t){t.item=this.item.id,this.measureService.getDetailData(t).subscribe(a=>{this.detailsData=a})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(A.tw),e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-exe-type4"]],viewQuery:function(a,n){if(1&a&&(e.GBs(pn,5),e.GBs(_n,5),e.GBs(gn,5),e.GBs(zn,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.value1Input=i.first),e.mGM(i=e.lsd())&&(n.value2Input=i.first),e.mGM(i=e.lsd())&&(n.value3Input=i.first),e.mGM(i=e.lsd())&&(n.value4Input=i.first)}},inputs:{item:"item",images:"images",standard:"standard",searchParams:"searchParams"},decls:131,vars:51,consts:[["value1Input",""],["value2Input",""],["value3Input",""],["value4Input",""],["detailTable",""],["insertTable",""],["responseTable",""],["nzTitle","\u0110o \u0111\u1ea1c"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["nzHeader","Th\u1ef1c hi\u1ec7n",3,"nzActive","nzShowArrow"],["nz-col","","nzXs","16","nzSm","16","nzMd","16","nzLg","16"],["nz-col","","nzXs","12","nzSm","12","nzMd","6","nzLg","6"],["nzXs","24","nzSm","24","nzLg","24"],["nz-input","","type","number",3,"ngModelChange","keypress","ngModel","placeholder"],["nz-col","","nzXs","8","nzSm","8","nzMd","8","nzLg","8"],["nz-button","","nzType","primary",3,"click"],["nz-row","","nzJustify","start","nzAlign","top",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","8"],["nz-input","","placeholder","Nh\u1eadp ghi ch\xfa","nzAutosize","",3,"ngModelChange","ngModel"],["nz-row","","nzJustify","start","nzAlign","top",3,"nzGutter",4,"ngIf"],["nzTitle","D\u1eef li\u1ec7u"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination","nzScroll"],[1,"text-center",2,"width","200px"],[1,"text-center"],[4,"ngFor","ngForOf"],["nzTitle","Ti\xeau chu\u1ea9n"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination"],["rowspan","7",1,"item-img"],["nz-image","",3,"nzSrc"],["width","100px"],[3,"nzColor"],["nzTitle","H\xecnh \u1ea3nh"],["nz-col","","nzXs","24","nzSm","12","nzMd","8","nzLg","6",4,"ngFor","ngForOf"],["nzTitle","D\u1eef li\u1ec7u \u0111o \u0111\u1ea1c",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[3,"nzModalFooter"],["nz-col","","nzXs","24","nzSm","24","nzLg","12"],["nz-button","","nzType","primary",3,"click","nzLoading"],[3,"ngClass"],[1,"text-center",3,"click"],["nz-col","","nzXs","24","nzSm","12","nzMd","8","nzLg","6"],[1,"item-img"],[1,"info"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"nz-tabset")(1,"nz-tab",7)(2,"div",8)(3,"div",9)(4,"nz-collapse")(5,"nz-collapse-panel",10)(6,"div",8)(7,"div",11)(8,"div",8)(9,"div",12)(10,"label",13),e.EFF(11),e.k0s(),e.j41(12,"div",13)(13,"input",14,0),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.value1,l)||(n.value1=l),e.Njj(l)}),e.bIt("keypress",function(l){return e.eBV(i),e.Njj(n.onKeyPressValue1(l))}),e.k0s()()(),e.j41(15,"div",12)(16,"label",13),e.EFF(17),e.k0s(),e.j41(18,"div",13)(19,"input",14,1),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.value2,l)||(n.value2=l),e.Njj(l)}),e.bIt("keypress",function(l){return e.eBV(i),e.Njj(n.onKeyPressValue2(l))}),e.k0s()()(),e.j41(21,"div",12)(22,"label",13),e.EFF(23),e.k0s(),e.j41(24,"div",13)(25,"input",14,2),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.value3,l)||(n.value3=l),e.Njj(l)}),e.bIt("keypress",function(l){return e.eBV(i),e.Njj(n.onKeyPressValue3(l))}),e.k0s()()(),e.j41(27,"div",12)(28,"label",13),e.EFF(29),e.k0s(),e.j41(30,"div",13)(31,"input",14,3),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.value4,l)||(n.value4=l),e.Njj(l)}),e.bIt("keypress",function(l){return e.eBV(i),e.Njj(n.onKeyPressValue4(l))}),e.k0s()()()()(),e.j41(33,"div",15)(34,"div",8)(35,"div",12)(36,"label",13),e.EFF(37,"\xa0"),e.k0s(),e.j41(38,"div",13)(39,"button",16),e.bIt("click",function(){return e.eBV(i),e.Njj(n.onAddBtn())}),e.EFF(40," Add "),e.k0s()()()()()(),e.nrm(41,"br"),e.j41(42,"div",17)(43,"div",18)(44,"textarea",19),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.note,l)||(n.note=l),e.Njj(l)}),e.k0s()()(),e.nrm(45,"br"),e.DNE(46,Mn,23,9,"div",20),e.k0s()()()()(),e.j41(47,"nz-tab",21)(48,"nz-table",22,4)(50,"thead")(51,"tr")(52,"th",23),e.EFF(53,"QA Card"),e.k0s(),e.j41(54,"th",24),e.EFF(55,"Line"),e.k0s(),e.j41(56,"th",24),e.EFF(57,"Master"),e.k0s(),e.j41(58,"th",24),e.EFF(59,"Khu\xf4n"),e.k0s(),e.j41(60,"th",24),e.EFF(61,"Model"),e.k0s(),e.j41(62,"th",24),e.EFF(63,"L\xfd do"),e.k0s(),e.j41(64,"th",24),e.EFF(65,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(66,"th",24),e.EFF(67),e.k0s(),e.j41(68,"th",24),e.EFF(69),e.k0s(),e.j41(70,"th",24),e.EFF(71),e.k0s(),e.j41(72,"th",24),e.EFF(73),e.k0s(),e.j41(74,"th",24),e.EFF(75,"Th\u1eddi gian"),e.k0s()()(),e.j41(76,"tbody"),e.DNE(77,fn,30,40,"tr",25),e.k0s()()(),e.j41(78,"nz-tab",26)(79,"nz-table",27)(80,"tbody")(81,"tr")(82,"td",28),e.nrm(83,"img",29),e.k0s(),e.j41(84,"td",30),e.EFF(85,"H\u1ea1ng m\u1ee5c:"),e.k0s(),e.j41(86,"td")(87,"nz-tag",31),e.EFF(88),e.k0s()()(),e.j41(89,"tr")(90,"td"),e.EFF(91,"C\xf4ng \u0111o\u1ea1n:"),e.k0s(),e.j41(92,"td")(93,"nz-tag",31),e.EFF(94),e.k0s()()(),e.j41(95,"tr")(96,"td"),e.EFF(97,"D\u1ee5ng c\u1ee5:"),e.k0s(),e.j41(98,"td")(99,"nz-tag",31),e.EFF(100),e.k0s()()(),e.j41(101,"tr")(102,"td"),e.EFF(103,"M\xe3 d\u1ee5ng c\u1ee5:"),e.k0s(),e.j41(104,"td")(105,"nz-tag",31),e.EFF(106),e.k0s()()(),e.j41(107,"tr")(108,"td"),e.EFF(109,"Ti\xeau chu\u1ea9n:"),e.k0s(),e.j41(110,"td")(111,"nz-tag",31),e.EFF(112),e.k0s()()(),e.j41(113,"tr")(114,"td"),e.EFF(115,"\u0110\u01a1n v\u1ecb \u0111o:"),e.k0s(),e.j41(116,"td")(117,"nz-tag",31),e.EFF(118),e.k0s()()(),e.j41(119,"tr")(120,"td"),e.EFF(121,"C\xf4ng th\u1ee9c:"),e.k0s(),e.j41(122,"td")(123,"nz-tag",31),e.EFF(124),e.k0s()()()()()(),e.j41(125,"nz-tab",32)(126,"nz-image-group",8),e.DNE(127,Rn,3,1,"div",33),e.k0s()()(),e.j41(128,"nz-modal",34),e.mxI("nzVisibleChange",function(l){return e.eBV(i),e.DH7(n.isShowModal,l)||(n.isShowModal=l),e.Njj(l)}),e.DNE(129,bn,35,22,"ng-container",35)(130,kn,2,0,"ng-template",36),e.k0s()}if(2&a){const i=e.sdS(49);e.R7$(2),e.Y8G("nzGutter",24),e.R7$(3),e.Y8G("nzActive",!0)("nzShowArrow",!0),e.R7$(),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzGutter",24),e.R7$(3),e.JRh(n.valueNames[0]),e.R7$(2),e.R50("ngModel",n.value1),e.Y8G("placeholder",n.valueNames[0]),e.R7$(4),e.JRh(n.valueNames[1]),e.R7$(2),e.R50("ngModel",n.value2),e.Y8G("placeholder",n.valueNames[1]),e.R7$(4),e.JRh(n.valueNames[2]),e.R7$(2),e.R50("ngModel",n.value3),e.Y8G("placeholder",n.valueNames[2]),e.R7$(4),e.JRh(n.valueNames[3]),e.R7$(2),e.R50("ngModel",n.value4),e.Y8G("placeholder",n.valueNames[3]),e.R7$(3),e.Y8G("nzGutter",24),e.R7$(8),e.Y8G("nzGutter",24),e.R7$(2),e.R50("ngModel",n.note),e.R7$(2),e.Y8G("ngIf",n.insertData.length),e.R7$(2),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!0)("nzScroll",e.lJ4(49,Fn)),e.R7$(19),e.JRh(n.valueNames[0]),e.R7$(2),e.JRh(n.valueNames[1]),e.R7$(2),e.JRh(n.valueNames[2]),e.R7$(2),e.JRh(n.valueNames[3]),e.R7$(4),e.Y8G("ngForOf",i.data),e.R7$(2),e.Y8G("nzData",e.lJ4(50,En))("nzFrontPagination",!1),e.R7$(4),e.Y8G("nzSrc",n.baseUrl+(null==n.images[0]?null:n.images[0].imageUrl)),e.R7$(4),e.Y8G("nzColor","red"),e.R7$(),e.JRh(n.item.name),e.R7$(5),e.Y8G("nzColor","green"),e.R7$(),e.JRh(n.standard.process),e.R7$(5),e.Y8G("nzColor","cyan"),e.R7$(),e.JRh(n.standard.tool),e.R7$(5),e.Y8G("nzColor","orange"),e.R7$(),e.JRh(n.standard.toolCode),e.R7$(5),e.Y8G("nzColor","blue"),e.R7$(),e.JRh(n.standard.standard),e.R7$(5),e.Y8G("nzColor","geekblue"),e.R7$(),e.JRh(n.standard.unit),e.R7$(5),e.Y8G("nzColor","purple"),e.R7$(),e.JRh(n.standard.formula),e.R7$(2),e.Y8G("nzGutter",24),e.R7$(),e.Y8G("ngForOf",n.images),e.R7$(),e.R50("nzVisible",n.isShowModal)}},dependencies:[m.YU,m.Sq,m.bT,d.me,d.Q0,d.BC,d.vS,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,E.Vz,E.pc,D.JZ,D.rE,w.s,y.Sy,y.c9,M.aO,h.c,z.p,F.F2,F.Oj,F.A9,f.r,f.as,I.cK,m.QX,m.vh],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.invalid[_ngcontent-%COMP%]{color:red;font-weight:700}.item-img[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.item-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;min-height:100px;height:100px}ul.info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:2px}"]})}return s})();const yn=["value1Input"],Tn=["value2Input"],Dn=["value3Input"],$n=["value4Input"],In=["value5Input"],Gn=()=>({x:"1200px"}),Sn=()=>[""],te=s=>({"text-center":!0,invalid:s}),ne=s=>({"text-right":!0,invalid:s});function Pn(s,r){if(1&s){const t=e.RV6();e.j41(0,"tr")(1,"td",23),e.EFF(2),e.k0s(),e.j41(3,"td",35),e.EFF(4),e.nI1(5,"number"),e.k0s(),e.j41(6,"td",35),e.EFF(7),e.nI1(8,"number"),e.k0s(),e.j41(9,"td",35),e.EFF(10),e.nI1(11,"number"),e.k0s(),e.j41(12,"td",35),e.EFF(13),e.nI1(14,"number"),e.k0s(),e.j41(15,"td",35),e.EFF(16),e.nI1(17,"number"),e.k0s(),e.j41(18,"td",36),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.onDeleteValue(n))}),e.EFF(19," X\xf3a "),e.k0s()()}if(2&s){const t=r.$implicit,a=r.index,n=e.XpG(2);e.R7$(2),e.JRh(a+1),e.R7$(),e.Y8G("ngClass",e.eq3(26,te,t.e1<n.standard.e1Min||t.e1>n.standard.e1Max)),e.R7$(),e.SpI(" ",e.i5U(5,11,t.e1,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(28,te,t.e2<n.standard.e2Min||t.e2>n.standard.e2Max)),e.R7$(),e.SpI(" ",e.i5U(8,14,t.e2,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(30,te,t.e3<n.standard.e3Min||t.e3>n.standard.e3Max)),e.R7$(),e.SpI(" ",e.i5U(11,17,t.e3,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(32,te,t.e4<n.standard.e4Min||t.e4>n.standard.e4Max)),e.R7$(),e.SpI(" ",e.i5U(14,20,t.e4,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(34,te,t.e5<n.standard.e5Min||t.e5>n.standard.e5Max)),e.R7$(),e.SpI(" ",e.i5U(17,23,t.e5,"1.3")," ")}}function xn(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",16)(1,"div",33)(2,"nz-table",26,6)(4,"thead")(5,"tr")(6,"th",23),e.EFF(7,"L\u1ea7n \u0111o"),e.k0s(),e.j41(8,"th",23),e.EFF(9),e.k0s(),e.j41(10,"th",23),e.EFF(11),e.k0s(),e.j41(12,"th",23),e.EFF(13),e.k0s(),e.j41(14,"th",23),e.EFF(15),e.k0s(),e.j41(16,"th",23),e.EFF(17),e.k0s(),e.j41(18,"th"),e.EFF(19,"Action"),e.k0s()()(),e.j41(20,"tbody"),e.DNE(21,Pn,20,36,"tr",24),e.k0s()()(),e.j41(22,"div",17)(23,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSaveBtn())}),e.EFF(24," L\u01b0u "),e.k0s()()()}if(2&s){const t=e.sdS(3),a=e.XpG();e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzData",a.insertData)("nzFrontPagination",!1),e.R7$(7),e.JRh(a.valueNames[0]),e.R7$(2),e.JRh(a.valueNames[1]),e.R7$(2),e.JRh(a.valueNames[2]),e.R7$(2),e.JRh(a.valueNames[3]),e.R7$(2),e.JRh(a.valueNames[4]),e.R7$(4),e.Y8G("ngForOf",t.data),e.R7$(2),e.Y8G("nzLoading",a.isLoading)}}function Nn(s,r){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td",35),e.EFF(16),e.nI1(17,"number"),e.k0s(),e.j41(18,"td",35),e.EFF(19),e.nI1(20,"number"),e.k0s(),e.j41(21,"td",35),e.EFF(22),e.nI1(23,"number"),e.k0s(),e.j41(24,"td",35),e.EFF(25),e.nI1(26,"number"),e.k0s(),e.j41(27,"td",35),e.EFF(28),e.nI1(29,"number"),e.k0s(),e.j41(30,"td",23),e.EFF(31),e.nI1(32,"date"),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG();e.R7$(2),e.JRh(t.qaCard),e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.master),e.R7$(2),e.JRh(t.mold),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(),e.Y8G("ngClass",e.eq3(37,ne,t.e1<a.standard.e1Min||t.e1>a.standard.e1Max)),e.R7$(),e.SpI(" ",e.i5U(17,19,t.e1,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(39,ne,t.e2<a.standard.e2Min||t.e2>a.standard.e2Max)),e.R7$(),e.SpI(" ",e.i5U(20,22,t.e2,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(41,ne,t.e3<a.standard.e3Min||t.e3>a.standard.e3Max)),e.R7$(),e.SpI(" ",e.i5U(23,25,t.e3,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(43,ne,t.e4<a.standard.e4Min||t.e4>a.standard.e4Max)),e.R7$(),e.SpI(" ",e.i5U(26,28,t.e4,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(45,ne,t.e5<a.standard.e5Min||t.e5>a.standard.e5Max)),e.R7$(),e.SpI(" ",e.i5U(29,31,t.e5,"1.3")," "),e.R7$(3),e.Lme(" ",e.i5U(32,34,t.createdAt,"yyyy-MM-dd HH:mm")," - (",t.shift,") ")}}function On(s,r){if(1&s&&(e.j41(0,"div",37)(1,"nz-card",38),e.nrm(2,"img",28),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG();e.R7$(2),e.Y8G("nzSrc",a.baseUrl+t.imageUrl)}}let An=(()=>{class s{constructor(t,a){this.toastr=t,this.measureService=a,this.baseUrl=g.c.baseUrl,this.isLoading=!1,this.isShowModal=!1,this.insertData=new Array,this.responseData=new Array}ngOnInit(){this.valueNames=this.standard.valueName.split(";"),this.getDetailData(this.searchParams)}onKeyPressValue1(t){if(13==t.keyCode){if(null==this.value1||null==this.value1)return void this.toastr.warning(`C\u1ea7n nh\u1eadp gi\xe1 tr\u1ecb ${this.valueNames[0]} !`);this.value2Input.nativeElement.focus()}}onKeyPressValue2(t){if(13==t.keyCode){if(null==this.value2||null==this.value2)return void this.toastr.warning(`C\u1ea7n nh\u1eadp gi\xe1 tr\u1ecb ${this.valueNames[1]} !`);this.value3Input.nativeElement.focus()}}onKeyPressValue3(t){if(13==t.keyCode){if(null==this.value3||null==this.value3)return void this.toastr.warning(`C\u1ea7n nh\u1eadp gi\xe1 tr\u1ecb ${this.valueNames[2]} !`);this.value4Input.nativeElement.focus()}}onKeyPressValue4(t){if(13==t.keyCode){if(null==this.value4||null==this.value4)return void this.toastr.warning(`C\u1ea7n nh\u1eadp gi\xe1 tr\u1ecb ${this.valueNames[3]} !`);this.value5Input.nativeElement.focus()}}onKeyPressValue5(t){if(13==t.keyCode){if(null==this.value5||null==this.value5)return void this.toastr.warning(`C\u1ea7n nh\u1eadp gi\xe1 tr\u1ecb ${this.valueNames[4]} !`);this.value1Input.nativeElement.focus(),this.onAddBtn()}}onAddBtn(){console.log("onAddBtn: ",this.searchParams);let t=!(this.searchParams.model&&this.searchParams.user&&this.searchParams.shift&&this.searchParams.reason);if("TE"==this.searchParams.modelType){if(t||!this.searchParams.mold&&![2,17,18,19,16,22,26,27].includes(this.item.id))return void this.toastr.warning("C\u1ea7n nh\u1eadp c\xe1c th\xf4ng tin b\u1eaft bu\u1ed9c")}else if(t)return void this.toastr.warning("C\u1ea7n nh\u1eadp c\xe1c th\xf4ng tin b\u1eaft bu\u1ed9c");if(this.insertData.length==this.standard.measureAmount)return void this.toastr.warning(`\u0110\xe3 \u0111\u1ee7 s\u1ed1 l\u01b0\u1ee3ng \u0111o: ${this.standard.measureAmount}`);if(null==this.value1||null==this.value2||null==this.value3||null==this.value4||null==this.value5)return void this.toastr.warning(`C\u1ea7n nh\u1eadp: ${this.valueNames}`);let n={uuid:ee(),line:this.searchParams.line,modelType:this.searchParams.modelType,item:this.item.id,model:this.searchParams.model,user:this.searchParams.user,shift:this.searchParams.shift,reason:this.searchParams.reason,e1:this.value1,e2:this.value2,e3:this.value3,e4:this.value4,e5:this.value5,mold:this.searchParams.mold,note:this.note,qaCard:this.searchParams.qaCard};this.insertData.push(n),this.insertData=[...this.insertData],this.value1=null,this.value2=null,this.value3=null,this.value4=null,this.value5=null,this.value1Input.nativeElement.focus()}onSaveBtn(){this.insertData.length<this.standard.measureAmount?this.toastr.warning(`C\u1ea7n \u0111o \u0111\u1ee7 s\u1ed1 l\u01b0\u1ee3ng ti\xeau chu\u1ea9n : ${this.standard.measureAmount}`):(this.note&&this.insertData.forEach(t=>{t.note=this.note}),this.isLoading=!0,this.measureService.saveMeasureData(this.insertData).subscribe(t=>{this.responseData=t,this.insertData=new Array,this.value1=null,this.value2=null,this.value3=null,this.value4=null,this.value5=null,this.note=null,this.isLoading=!1,this.isShowModal=!0,this.toastr.success("Saved !"),this.getDetailData(this.searchParams)}))}onDeleteValue(t){let a=this.insertData.findIndex(n=>n.uuid===t.uuid);-1!=a&&this.insertData.splice(a,1),this.insertData=[...this.insertData]}getDetailData(t){t.item=this.item.id,this.measureService.getDetailData(t).subscribe(a=>{this.detailsData=a})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(A.tw),e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-exe-type5"]],viewQuery:function(a,n){if(1&a&&(e.GBs(yn,5),e.GBs(Tn,5),e.GBs(Dn,5),e.GBs($n,5),e.GBs(In,5)),2&a){let i;e.mGM(i=e.lsd())&&(n.value1Input=i.first),e.mGM(i=e.lsd())&&(n.value2Input=i.first),e.mGM(i=e.lsd())&&(n.value3Input=i.first),e.mGM(i=e.lsd())&&(n.value4Input=i.first),e.mGM(i=e.lsd())&&(n.value5Input=i.first)}},inputs:{item:"item",images:"images",standard:"standard",searchParams:"searchParams"},decls:134,vars:53,consts:[["value1Input",""],["value2Input",""],["value3Input",""],["value4Input",""],["value5Input",""],["detailTable",""],["insertTable",""],["nzTitle","\u0110o \u0111\u1ea1c"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["nzHeader","Th\u1ef1c hi\u1ec7n",3,"nzActive","nzShowArrow"],["nz-col","","nzXs","16","nzSm","16","nzMd","24","nzLg","24"],["nz-col","","nzXs","12","nzSm","12","nzMd","4","nzLg","4"],["nzXs","24","nzSm","24","nzLg","24"],["nz-input","","type","number",3,"ngModelChange","keypress","ngModel","placeholder"],["nz-button","","nzType","primary",3,"click"],["nz-row","","nzJustify","start","nzAlign","top",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","8"],["nz-input","","placeholder","Nh\u1eadp ghi ch\xfa","nzAutosize","",3,"ngModelChange","ngModel"],["nz-row","","nzJustify","start","nzAlign","top",3,"nzGutter",4,"ngIf"],["nzTitle","D\u1eef li\u1ec7u"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination","nzScroll"],[1,"text-center",2,"width","200px"],[1,"text-center"],[4,"ngFor","ngForOf"],["nzTitle","Ti\xeau chu\u1ea9n"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination"],["rowspan","7",1,"item-img"],["nz-image","",3,"nzSrc"],["width","100px"],[3,"nzColor"],["nzTitle","H\xecnh \u1ea3nh"],["nz-col","","nzXs","24","nzSm","12","nzMd","8","nzLg","6",4,"ngFor","ngForOf"],["nz-col","","nzXs","24","nzSm","24","nzLg","16"],["nz-button","","nzType","primary",3,"click","nzLoading"],[3,"ngClass"],[1,"text-center",3,"click"],["nz-col","","nzXs","24","nzSm","12","nzMd","8","nzLg","6"],[1,"item-img"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"nz-tabset")(1,"nz-tab",7)(2,"div",8)(3,"div",9)(4,"nz-collapse")(5,"nz-collapse-panel",10)(6,"div",8)(7,"div",11)(8,"div",8)(9,"div",12)(10,"label",13),e.EFF(11),e.k0s(),e.j41(12,"div",13)(13,"input",14,0),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.value1,l)||(n.value1=l),e.Njj(l)}),e.bIt("keypress",function(l){return e.eBV(i),e.Njj(n.onKeyPressValue1(l))}),e.k0s()()(),e.j41(15,"div",12)(16,"label",13),e.EFF(17),e.k0s(),e.j41(18,"div",13)(19,"input",14,1),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.value2,l)||(n.value2=l),e.Njj(l)}),e.bIt("keypress",function(l){return e.eBV(i),e.Njj(n.onKeyPressValue2(l))}),e.k0s()()(),e.j41(21,"div",12)(22,"label",13),e.EFF(23),e.k0s(),e.j41(24,"div",13)(25,"input",14,2),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.value3,l)||(n.value3=l),e.Njj(l)}),e.bIt("keypress",function(l){return e.eBV(i),e.Njj(n.onKeyPressValue3(l))}),e.k0s()()(),e.j41(27,"div",12)(28,"label",13),e.EFF(29),e.k0s(),e.j41(30,"div",13)(31,"input",14,3),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.value4,l)||(n.value4=l),e.Njj(l)}),e.bIt("keypress",function(l){return e.eBV(i),e.Njj(n.onKeyPressValue4(l))}),e.k0s()()(),e.j41(33,"div",12)(34,"label",13),e.EFF(35),e.k0s(),e.j41(36,"div",13)(37,"input",14,4),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.value5,l)||(n.value5=l),e.Njj(l)}),e.bIt("keypress",function(l){return e.eBV(i),e.Njj(n.onKeyPressValue5(l))}),e.k0s()()(),e.j41(39,"div",12)(40,"label",13),e.EFF(41,"\xa0"),e.k0s(),e.j41(42,"div",13)(43,"button",15),e.bIt("click",function(){return e.eBV(i),e.Njj(n.onAddBtn())}),e.EFF(44," Add "),e.k0s()()()()()(),e.nrm(45,"br"),e.j41(46,"div",16)(47,"div",17)(48,"textarea",18),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.note,l)||(n.note=l),e.Njj(l)}),e.k0s()()(),e.nrm(49,"br"),e.DNE(50,xn,25,10,"div",19),e.k0s()()()()(),e.j41(51,"nz-tab",20)(52,"nz-table",21,5)(54,"thead")(55,"tr")(56,"th",22),e.EFF(57,"QA Card"),e.k0s(),e.j41(58,"th",23),e.EFF(59,"Line"),e.k0s(),e.j41(60,"th",23),e.EFF(61,"Master"),e.k0s(),e.j41(62,"th",23),e.EFF(63,"Khu\xf4n"),e.k0s(),e.j41(64,"th",23),e.EFF(65,"Model"),e.k0s(),e.j41(66,"th",23),e.EFF(67,"L\xfd do"),e.k0s(),e.j41(68,"th",23),e.EFF(69,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(70,"th",23),e.EFF(71),e.k0s(),e.j41(72,"th",23),e.EFF(73),e.k0s(),e.j41(74,"th",23),e.EFF(75),e.k0s(),e.j41(76,"th",23),e.EFF(77),e.k0s(),e.j41(78,"th",23),e.EFF(79),e.k0s(),e.j41(80,"th",23),e.EFF(81,"Th\u1eddi gian"),e.k0s()()(),e.j41(82,"tbody"),e.DNE(83,Nn,33,47,"tr",24),e.k0s()()(),e.j41(84,"nz-tab",25)(85,"nz-table",26)(86,"tbody")(87,"tr")(88,"td",27),e.nrm(89,"img",28),e.k0s(),e.j41(90,"td",29),e.EFF(91,"H\u1ea1ng m\u1ee5c:"),e.k0s(),e.j41(92,"td")(93,"nz-tag",30),e.EFF(94),e.k0s()()(),e.j41(95,"tr")(96,"td"),e.EFF(97,"C\xf4ng \u0111o\u1ea1n:"),e.k0s(),e.j41(98,"td")(99,"nz-tag",30),e.EFF(100),e.k0s()()(),e.j41(101,"tr")(102,"td"),e.EFF(103,"D\u1ee5ng c\u1ee5:"),e.k0s(),e.j41(104,"td")(105,"nz-tag",30),e.EFF(106),e.k0s()()(),e.j41(107,"tr")(108,"td"),e.EFF(109,"M\xe3 d\u1ee5ng c\u1ee5:"),e.k0s(),e.j41(110,"td")(111,"nz-tag",30),e.EFF(112),e.k0s()()(),e.j41(113,"tr")(114,"td"),e.EFF(115,"Ti\xeau chu\u1ea9n:"),e.k0s(),e.j41(116,"td")(117,"nz-tag",30),e.EFF(118),e.k0s()()(),e.j41(119,"tr")(120,"td"),e.EFF(121,"\u0110\u01a1n v\u1ecb \u0111o:"),e.k0s(),e.j41(122,"td")(123,"nz-tag",30),e.EFF(124),e.k0s()()(),e.j41(125,"tr")(126,"td"),e.EFF(127,"C\xf4ng th\u1ee9c:"),e.k0s(),e.j41(128,"td")(129,"nz-tag",30),e.EFF(130),e.k0s()()()()()(),e.j41(131,"nz-tab",31)(132,"nz-image-group",8),e.DNE(133,On,3,1,"div",32),e.k0s()()()}if(2&a){const i=e.sdS(53);e.R7$(2),e.Y8G("nzGutter",24),e.R7$(3),e.Y8G("nzActive",!0)("nzShowArrow",!0),e.R7$(),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzGutter",24),e.R7$(3),e.JRh(n.valueNames[0]),e.R7$(2),e.R50("ngModel",n.value1),e.Y8G("placeholder",n.valueNames[0]),e.R7$(4),e.JRh(n.valueNames[1]),e.R7$(2),e.R50("ngModel",n.value2),e.Y8G("placeholder",n.valueNames[1]),e.R7$(4),e.JRh(n.valueNames[2]),e.R7$(2),e.R50("ngModel",n.value3),e.Y8G("placeholder",n.valueNames[2]),e.R7$(4),e.JRh(n.valueNames[3]),e.R7$(2),e.R50("ngModel",n.value4),e.Y8G("placeholder",n.valueNames[3]),e.R7$(4),e.JRh(n.valueNames[4]),e.R7$(2),e.R50("ngModel",n.value5),e.Y8G("placeholder",n.valueNames[4]),e.R7$(9),e.Y8G("nzGutter",24),e.R7$(2),e.R50("ngModel",n.note),e.R7$(2),e.Y8G("ngIf",n.insertData.length),e.R7$(2),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!0)("nzScroll",e.lJ4(51,Gn)),e.R7$(19),e.JRh(n.valueNames[0]),e.R7$(2),e.JRh(n.valueNames[1]),e.R7$(2),e.JRh(n.valueNames[2]),e.R7$(2),e.JRh(n.valueNames[3]),e.R7$(2),e.JRh(n.valueNames[4]),e.R7$(4),e.Y8G("ngForOf",i.data),e.R7$(2),e.Y8G("nzData",e.lJ4(52,Sn))("nzFrontPagination",!1),e.R7$(4),e.Y8G("nzSrc",n.baseUrl+(null==n.images[0]?null:n.images[0].imageUrl)),e.R7$(4),e.Y8G("nzColor","red"),e.R7$(),e.JRh(n.item.name),e.R7$(5),e.Y8G("nzColor","green"),e.R7$(),e.JRh(n.standard.process),e.R7$(5),e.Y8G("nzColor","cyan"),e.R7$(),e.JRh(n.standard.tool),e.R7$(5),e.Y8G("nzColor","orange"),e.R7$(),e.JRh(n.standard.toolCode),e.R7$(5),e.Y8G("nzColor","blue"),e.R7$(),e.JRh(n.standard.standard),e.R7$(5),e.Y8G("nzColor","geekblue"),e.R7$(),e.JRh(n.standard.unit),e.R7$(5),e.Y8G("nzColor","purple"),e.R7$(),e.JRh(n.standard.formula),e.R7$(2),e.Y8G("nzGutter",24),e.R7$(),e.Y8G("ngForOf",n.images)}},dependencies:[m.YU,m.Sq,m.bT,d.me,d.Q0,d.BC,d.vS,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,E.Vz,E.pc,D.JZ,D.rE,w.s,y.Sy,y.c9,M.aO,h.c,z.p,f.r,f.as,I.cK,m.QX,m.vh],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.invalid[_ngcontent-%COMP%]{color:red;font-weight:700}.item-img[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.item-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;min-height:100px;height:100px}ul.info[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{padding:2px}"]})}return s})();const wn=()=>({rows:4});function Yn(s,r){if(1&s&&(e.j41(0,"nz-tag",2),e.EFF(1),e.k0s()),2&s){const t=e.XpG();e.Y8G("nzColor","green"),e.R7$(),e.SpI("M\xe3 qu\u1ea3n l\xfd: ",t.standard.mngCode," ")}}function Bn(s,r){if(1&s&&e.nrm(0,"nz-option",16),2&s){const t=r.$implicit;e.Y8G("nzValue",t.qaCard)("nzLabel",t.qaCard)}}function Xn(s,r){if(1&s&&e.nrm(0,"nz-option",17),2&s){const t=r.$implicit;e.Y8G("nzValue",t.value)("nzLabel",t.label)}}function Vn(s,r){if(1&s&&e.nrm(0,"nz-option",17),2&s){const t=r.$implicit;e.Y8G("nzValue",t.value)("nzLabel",t.label)}}function Ln(s,r){if(1&s&&e.nrm(0,"nz-option",17),2&s){const t=r.$implicit;e.Y8G("nzValue",t.value)("nzLabel",t.label)}}function Jn(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",5)(1,"label",6),e.EFF(2,"Khu\xf4n"),e.k0s(),e.j41(3,"div",6)(4,"nz-select",18),e.bIt("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onChangeMold(n))}),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.searchParams.mold,n)||(i.searchParams.mold=n),e.Njj(n)}),e.DNE(5,Ln,1,2,"nz-option",10),e.k0s()()()}if(2&s){const t=e.XpG();e.R7$(4),e.R50("ngModel",t.searchParams.mold),e.R7$(),e.Y8G("ngForOf",t.molds)}}function Un(s,r){if(1&s&&e.nrm(0,"nz-option",17),2&s){const t=r.$implicit;e.Y8G("nzValue",t.name)("nzLabel",t.name)}}function Hn(s,r){if(1&s&&e.nrm(0,"nz-option",17),2&s){const t=r.$implicit;e.Y8G("nzValue",t.username)("nzLabel",t.name+" - "+t.username)}}function qn(s,r){if(1&s&&e.nrm(0,"nz-option",17),2&s){const t=r.$implicit;e.Y8G("nzValue",t.value)("nzLabel",t.label)}}function Kn(s,r){if(1&s&&e.nrm(0,"nz-option",17),2&s){const t=r.$implicit;e.Y8G("nzValue",t.id)("nzLabel",t.name)}}function Qn(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",0)(1,"div",5)(2,"label",6),e.EFF(3,"Model"),e.k0s(),e.j41(4,"div",6)(5,"nz-select",19),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.searchParams.model,n)||(i.searchParams.model=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onChangeModel(n))}),e.DNE(6,Un,1,2,"nz-option",10),e.k0s()()(),e.j41(7,"div",5)(8,"label",6),e.EFF(9,"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(10,"div",6)(11,"nz-select",20),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.searchParams.user,n)||(i.searchParams.user=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onChangeUser(n))}),e.DNE(12,Hn,1,2,"nz-option",10),e.k0s()()(),e.j41(13,"div",5)(14,"label",6),e.EFF(15,"Ca l\xe0m vi\u1ec7c"),e.k0s(),e.j41(16,"div",6)(17,"nz-select",21),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.searchParams.shift,n)||(i.searchParams.shift=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onChangeShift(n))}),e.DNE(18,qn,1,2,"nz-option",10),e.k0s()()(),e.j41(19,"div",5)(20,"label",6),e.EFF(21,"L\xfd do"),e.k0s(),e.j41(22,"div",6)(23,"nz-select",22),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.searchParams.reason,n)||(i.searchParams.reason=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onChangeReason(n))}),e.DNE(24,Kn,1,2,"nz-option",10),e.k0s()()()()}if(2&s){const t=e.XpG();e.Y8G("nzGutter",24),e.R7$(5),e.R50("ngModel",t.searchParams.model),e.R7$(),e.Y8G("ngForOf",t.models),e.R7$(5),e.R50("ngModel",t.searchParams.user),e.R7$(),e.Y8G("ngForOf",t.users),e.R7$(5),e.R50("ngModel",t.searchParams.shift),e.R7$(),e.Y8G("ngForOf",t.shifts),e.R7$(5),e.R50("ngModel",t.searchParams.reason),e.R7$(),e.Y8G("ngForOf",t.reasons)}}function Wn(s,r){1&s&&e.nrm(0,"nz-skeleton",23),2&s&&e.Y8G("nzActive",!0)("nzParagraph",e.lJ4(2,wn))}function Zn(s,r){if(1&s&&e.nrm(0,"app-mea-exe-type1",26),2&s){const t=e.XpG(2);e.Y8G("item",t.item)("images",t.itemImages)("standard",t.standard)("searchParams",t.searchParams)}}function ea(s,r){if(1&s&&e.nrm(0,"app-mea-exe-type2",26),2&s){const t=e.XpG(2);e.Y8G("item",t.item)("images",t.itemImages)("standard",t.standard)("searchParams",t.searchParams)}}function ta(s,r){if(1&s&&e.nrm(0,"app-mea-exe-type3",26),2&s){const t=e.XpG(2);e.Y8G("item",t.item)("images",t.itemImages)("standard",t.standard)("searchParams",t.searchParams)}}function na(s,r){if(1&s&&e.nrm(0,"app-mea-exe-type4",26),2&s){const t=e.XpG(2);e.Y8G("item",t.item)("images",t.itemImages)("standard",t.standard)("searchParams",t.searchParams)}}function aa(s,r){if(1&s&&e.nrm(0,"app-mea-exe-type5",26),2&s){const t=e.XpG(2);e.Y8G("item",t.item)("images",t.itemImages)("standard",t.standard)("searchParams",t.searchParams)}}function sa(s,r){if(1&s&&(e.j41(0,"container-element",24),e.DNE(1,Zn,1,4,"app-mea-exe-type1",25)(2,ea,1,4,"app-mea-exe-type2",25)(3,ta,1,4,"app-mea-exe-type3",25)(4,na,1,4,"app-mea-exe-type4",25)(5,aa,1,4,"app-mea-exe-type5",25),e.k0s()),2&s){const t=e.XpG();e.Y8G("ngSwitch",t.standard.type),e.R7$(),e.Y8G("ngSwitchCase",1),e.R7$(),e.Y8G("ngSwitchCase",2),e.R7$(),e.Y8G("ngSwitchCase",3),e.R7$(),e.Y8G("ngSwitchCase",4),e.R7$(),e.Y8G("ngSwitchCase",5)}}function ia(s,r){if(1&s&&e.nrm(0,"app-mea-exe-check-sheet",27),2&s){const t=e.XpG();e.Y8G("item",t.item)("modelType",t.modelTypeSelected)("images",t.itemImages)("standard",t.standard)("searchParams",t.searchParams)}}let ra=(()=>{class s{constructor(t,a){this.activatedRoute=t,this.measureService=a,this.isShowLoading=!1,this.isShowSearch=!1,this.isShowNormalForm=!1,this.isShowCheckSheetForm=!1,this.lines=B,this.molds=ze,this.shifts=W,this.searchParams=new Y}ngOnInit(){this.itemName=this.activatedRoute.snapshot.queryParams.itemName,this.isCheckMold=![2,17,18,19,16,22,26,27].includes(Number(this.activatedRoute.snapshot.queryParams.item)),this.getQaCard(),this.getUsers(),this.getReasons(),this.getModel(),this.handleSelectBox()}getQaCard(){this.measureService.getQaCard().subscribe(t=>{this.qaCards=t})}getUsers(){this.measureService.getUsers().subscribe(t=>{this.users=t})}getModel(){this.measureService.getModels().subscribe(t=>{this.models=t})}getReasons(){this.measureService.getReasons().subscribe(t=>{this.reasons=t})}onChangeQaCard(t){this.isShowNormalForm=!1,this.isShowCheckSheetForm=!1;let n=t.split("*");this.searchParams.line=n[1],this.searchParams.model=n[0];let i=n[1].replace(/\d+/g,"");this.modelTypes=Q.filter(l=>l.type==i),this.searchParams.modelType=null;let o=[...ze];this.molds=o.filter(l=>l.line==n[1])}onChangeLine(t){}onChangeModelType(t){this.searchParams.mold=null;let a=this.activatedRoute.snapshot.queryParams.item;"CHECK_SHEET"==this.activatedRoute.snapshot.queryParams.form?this.handleCheckSheetForm(a,t):this.handleNormalForm(a,t)}onChangeMold(t){}onChangeModel(t){null!=t?sessionStorage.setItem("mea_modelSelected",t):sessionStorage.removeItem("mea_modelSelected")}onChangeUser(t){null!=t?sessionStorage.setItem("mea_userSelected",t):sessionStorage.removeItem("mea_userSelected")}onChangeShift(t){null!=t?sessionStorage.setItem("mea_shiftSelected",t):sessionStorage.removeItem("mea_shiftSelected")}onChangeReason(t){null!=t?sessionStorage.setItem("mea_reasonSelected",t):sessionStorage.removeItem("mea_reasonSelected")}handleCheckSheetForm(t,a){this.modelTypeSelected=a,this.isShowLoading=!0,this.measureService.getItemById(t).subscribe(n=>{this.item=n,this.isShowLoading=!1,this.isShowSearch=!0,this.measureService.getStandard(t,a).subscribe(i=>{this.standard=i.standard,console.log("Standard: ",this.standard),this.isShowCheckSheetForm=!0})}),this.measureService.getItemImagesV2(t,a).subscribe(n=>{this.itemImages=n})}handleNormalForm(t,a){this.isShowLoading=!0,this.measureService.getStandard(t,a).subscribe(n=>{this.item=n.item,this.standard=n.standard,console.log("Standard: ",this.standard),this.measureService.getItemImagesV2(t,a).subscribe(i=>{this.itemImages=i,this.isShowLoading=!1,this.isShowSearch=!0,this.isShowNormalForm=!0})})}handleSelectBox(){let t=sessionStorage.getItem("mea_modelSelected"),a=sessionStorage.getItem("mea_userSelected"),n=sessionStorage.getItem("mea_shiftSelected"),i=sessionStorage.getItem("mea_reasonSelected");this.searchParams.model=t||null,this.searchParams.user=a||null,this.searchParams.shift=n||null,this.searchParams.reason=i?parseInt(i):null}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(O.nX),e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-execute-item-measurement"]],decls:43,vars:18,consts:[["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],[3,"nzColor"],[3,"nzColor",4,"ngIf"],["nzHeader","Th\xf4ng tin b\u1eaft bu\u1ed9c",3,"nzActive","nzShowArrow"],["nz-col","","nzXs","12","nzSm","12","nzLg","6"],["nzXs","24","nzSm","24","nzLg","24"],["id","qaCard","nzShowSearch","","nzAllowClear","","nzPlaceHolder","Ch\u1ecdn QA Card",3,"ngModelChange","ngModel"],["class","option",3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzPlaceHolder","Ch\u1ecdn Line",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzPlaceHolder","Ch\u1ecdn d\xf2ng s\u1ea3n ph\u1ea9m",3,"ngModelChange","ngModel"],["nz-col","","nzXs","12","nzSm","12","nzLg","6",4,"ngIf"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter",4,"ngIf"],[3,"nzActive","nzParagraph",4,"ngIf"],[3,"ngIf"],[1,"option",3,"nzValue","nzLabel"],[3,"nzValue","nzLabel"],["nzPlaceHolder","Ch\u1ecdn khu\xf4n",3,"ngModelChange","ngModel"],["nzPlaceHolder","Ch\u1ecdn Model","nzShowSearch","","nzAllowClear","",3,"ngModelChange","ngModel"],["nzPlaceHolder","Ch\u1ecdn nh\xe2n vi\xean","nzShowSearch","","nzAllowClear","",3,"ngModelChange","ngModel"],["nzPlaceHolder","Ch\u1ecdn ca l\xe0m vi\u1ec7c","nzAllowClear","",3,"ngModelChange","ngModel"],["nzPlaceHolder","Ch\u1ecdn l\xfd do","nzAllowClear","",3,"ngModelChange","ngModel"],[3,"nzActive","nzParagraph"],[3,"ngSwitch"],[3,"item","images","standard","searchParams",4,"ngSwitchCase"],[3,"item","images","standard","searchParams"],[3,"item","modelType","images","standard","searchParams"]],template:function(a,n){1&a&&(e.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),e.EFF(2," Manufacturing "),e.k0s(),e.j41(3,"nz-breadcrumb-item"),e.EFF(4," Measurement "),e.k0s(),e.j41(5,"nz-breadcrumb-item"),e.EFF(6," H\u1ea1ng m\u1ee5c "),e.k0s(),e.j41(7,"nz-breadcrumb-item"),e.EFF(8," \u0110o \u0111\u1ea1c "),e.k0s()(),e.nrm(9,"br"),e.j41(10,"div",0)(11,"div",1)(12,"nz-tag",2),e.EFF(13),e.k0s(),e.DNE(14,Yn,2,2,"nz-tag",3),e.k0s()(),e.nrm(15,"br"),e.j41(16,"nz-collapse")(17,"nz-collapse-panel",4)(18,"div",0)(19,"div",5)(20,"label",6),e.EFF(21,"QA Card"),e.k0s(),e.j41(22,"div",6)(23,"nz-select",7),e.mxI("ngModelChange",function(o){return e.DH7(n.searchParams.qaCard,o)||(n.searchParams.qaCard=o),o}),e.bIt("ngModelChange",function(o){return n.onChangeQaCard(o)}),e.DNE(24,Bn,1,2,"nz-option",8),e.k0s()()(),e.j41(25,"div",5)(26,"label",6),e.EFF(27,"Line"),e.k0s(),e.j41(28,"div",6)(29,"nz-select",9),e.mxI("ngModelChange",function(o){return e.DH7(n.searchParams.line,o)||(n.searchParams.line=o),o}),e.DNE(30,Xn,1,2,"nz-option",10),e.k0s()()(),e.j41(31,"div",5)(32,"label",6),e.EFF(33,"D\xf2ng s\u1ea3n ph\u1ea9m"),e.k0s(),e.j41(34,"div",6)(35,"nz-select",11),e.bIt("ngModelChange",function(o){return n.onChangeModelType(o)}),e.mxI("ngModelChange",function(o){return e.DH7(n.searchParams.modelType,o)||(n.searchParams.modelType=o),o}),e.DNE(36,Vn,1,2,"nz-option",10),e.k0s()()(),e.DNE(37,Jn,6,2,"div",12),e.k0s(),e.nrm(38,"br"),e.DNE(39,Qn,25,9,"div",13),e.k0s()(),e.DNE(40,Wn,1,3,"nz-skeleton",14)(41,sa,6,6,"ng-template",15)(42,ia,1,5,"ng-template",15)),2&a&&(e.R7$(10),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzColor","blue"),e.R7$(),e.SpI("H\u1ea1ng m\u1ee5c : ",n.itemName," "),e.R7$(),e.Y8G("ngIf",n.standard),e.R7$(3),e.Y8G("nzActive",!0)("nzShowArrow",!0),e.R7$(),e.Y8G("nzGutter",24),e.R7$(5),e.R50("ngModel",n.searchParams.qaCard),e.R7$(),e.Y8G("ngForOf",n.qaCards),e.R7$(5),e.R50("ngModel",n.searchParams.line),e.R7$(),e.Y8G("ngForOf",n.lines),e.R7$(5),e.R50("ngModel",n.searchParams.modelType),e.R7$(),e.Y8G("ngForOf",n.modelTypes),e.R7$(),e.Y8G("ngIf",n.isShowSearch&&"TE"==n.searchParams.modelType&&n.isCheckMold),e.R7$(2),e.Y8G("ngIf",n.isShowSearch),e.R7$(),e.Y8G("ngIf",n.isShowLoading),e.R7$(),e.Y8G("ngIf",n.isShowNormalForm),e.R7$(),e.Y8G("ngIf",n.isShowCheckSheetForm))},dependencies:[m.Sq,m.bT,m.ux,m.e1,d.BC,d.vS,v.hL,v.K7,_.Uq,_.e,E.Vz,E.pc,P.ld,P.WI,w.s,K.Bi,Rt,Lt,sn,hn,vn,An],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-select[_ngcontent-%COMP%]{width:100%}"]})}return s})(),oa=(()=>{class s{constructor(t){this.httpClient=t,this.baseUrl=g.c.baseUrl}AmountByLine(t){return this.httpClient.post(`${this.baseUrl}/Relay/Measurement/Report/AmountByLine`,t)}static#e=this.\u0275fac=function(a){return new(a||s)(e.KVO($.Qq))};static#t=this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();const la=(s,r)=>({"text-center":!0,invalid:s,valid:r});function da(s,r){if(1&s){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",8),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.onClickRow(n))}),e.EFF(4),e.k0s(),e.j41(5,"td",9),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.thongKeSoLuongDoDac(n))}),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td",3),e.EFF(10),e.k0s()()}if(2&s){const t=r.$implicit;e.R7$(2),e.JRh(t.ordinalNumber),e.R7$(2),e.JRh(t.name),e.R7$(),e.Y8G("ngClass",e.l_i(6,la,0==t.times,t.times>0)),e.R7$(),e.SpI(" ",0==t.times?"Ch\u01b0a \u0111o":t.times," "),e.R7$(2),e.JRh(t.unitName),e.R7$(2),e.JRh(t.form)}}function ca(s,r){if(1&s&&(e.j41(0,"tr")(1,"td",12),e.EFF(2),e.k0s(),e.j41(3,"td",3),e.EFF(4),e.k0s(),e.j41(5,"td",3),e.EFF(6),e.k0s(),e.j41(7,"td",3),e.EFF(8),e.k0s(),e.j41(9,"td",3),e.EFF(10),e.k0s(),e.j41(11,"td",3),e.EFF(12),e.k0s(),e.j41(13,"td",3),e.EFF(14),e.k0s(),e.j41(15,"td",3),e.EFF(16),e.k0s(),e.j41(17,"td",3),e.EFF(18),e.k0s(),e.j41(19,"td",3),e.EFF(20),e.k0s(),e.j41(21,"td",3),e.EFF(22),e.k0s()()),2&s){const t=r.$implicit;e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.reason1),e.R7$(2),e.JRh(t.reason2),e.R7$(2),e.JRh(t.reason3),e.R7$(2),e.JRh(t.reason4),e.R7$(2),e.JRh(t.reason5),e.R7$(2),e.JRh(t.reason6),e.R7$(2),e.JRh(t.reason7),e.R7$(2),e.JRh(t.reason8),e.R7$(2),e.JRh(t.reason9),e.R7$(2),e.JRh(t.reason10)}}function ma(s,r){if(1&s&&(e.qex(0),e.j41(1,"h3"),e.EFF(2,"Th\u1ed1ng k\xea s\u1ed1 l\u1ea7n \u0111o theo Line v\xe0 Reason"),e.k0s(),e.j41(3,"nz-table",10,1)(5,"thead")(6,"tr")(7,"th",3),e.EFF(8,"Line"),e.k0s(),e.j41(9,"th",3),e.EFF(10,"\u0110\u1ea7u ca"),e.k0s(),e.j41(11,"th",3),e.EFF(12,"Gi\u1eefa ca"),e.k0s(),e.j41(13,"th",3),e.EFF(14,"S\u1eeda m\xe1y"),e.k0s(),e.j41(15,"th",3),e.EFF(16,"\u0110\u1ed5i Lot"),e.k0s(),e.j41(17,"th",3),e.EFF(18,"B\u1ea5t th\u01b0\u1eddng"),e.k0s(),e.j41(19,"th",3),e.EFF(20,"\u0110o l\u1ea1i"),e.k0s(),e.j41(21,"th",3),e.EFF(22,"\u0110\u1ed5i Model"),e.k0s(),e.j41(23,"th",3),e.EFF(24,"Test"),e.k0s(),e.j41(25,"th",3),e.EFF(26,"Sau ngh\u1ec9 d\xe0i"),e.k0s(),e.j41(27,"th",3),e.EFF(28,"Sau b\u1ea3o d\u01b0\u1ee1ng"),e.k0s()()(),e.j41(29,"tbody",11),e.DNE(30,ca,23,11,"tr",4),e.k0s()(),e.bVm()),2&s){const t=e.sdS(4),a=e.XpG();e.R7$(3),e.Y8G("nzLoading",a.isLoading)("nzData",a.meaReportData)("nzFrontPagination",!1),e.R7$(27),e.Y8G("ngForOf",t.data)}}function ua(s,r){if(1&s){const t=e.RV6();e.j41(0,"div")(1,"button",13),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isShowModal=!1)}),e.EFF(2,"\u0110\xf3ng"),e.k0s()()}}let ha=(()=>{class s{constructor(t,a,n,i){this.router=t,this.activatedRoute=a,this.measureService=n,this.measureReportSvc=i,this.isLoading=!1,this.items=[],this.isShowModal=!1}ngOnInit(){this.getItems()}getItems(){this.isLoading=!0,this.measureService.getItems().subscribe(t=>{this.items=t,this.isLoading=!1})}getMeasurementAmountByLineAndReason(t){this.measureReportSvc.AmountByLine(t).subscribe(a=>{this.meaReportData=a})}onClickRow(t){switch(this.activatedRoute.snapshot.queryParams.type){case"execute":this.router.navigate(["admin/relay/measurement/item-execute"],{queryParams:{item:t.id,itemName:t.name,form:t.form}});break;case"management":this.router.navigate(["admin/relay/measurement/item-management"],{queryParams:{item:t.id,itemName:t.name,form:t.form}});break;case"export":this.router.navigate(["admin/relay/measurement/data-export"],{queryParams:{item:t.id,itemName:t.name,form:t.form}})}}thongKeSoLuongDoDac(t){this.isShowModal=!0,this.modalTitle=t.name,this.getMeasurementAmountByLineAndReason({item:t.id})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(O.Ix),e.rXU(O.nX),e.rXU(u),e.rXU(oa))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-items-measurement"]],decls:29,vars:6,consts:[["itemsTable",""],["reportTable",""],["nzBordered","","nzSize","small",3,"nzLoading","nzData","nzFrontPagination"],[1,"text-center"],[4,"ngFor","ngForOf"],["nzWidth","900px",3,"nzVisibleChange","nzVisible","nzTitle"],[4,"nzModalContent"],[4,"nzModalFooter"],[3,"click"],[3,"click","ngClass"],["id","reportTable","nzBordered","","nzSize","small",3,"nzLoading","nzData","nzFrontPagination"],[2,"font-weight","bold","color","green"],[1,"text-center",2,"color","rgb(0, 153, 255)"],["nz-button","","nzType","primary",3,"click"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),e.EFF(2," Manufacturing "),e.k0s(),e.j41(3,"nz-breadcrumb-item"),e.EFF(4," Measurement "),e.k0s(),e.j41(5,"nz-breadcrumb-item"),e.EFF(6," H\u1ea1ng m\u1ee5c "),e.k0s()(),e.nrm(7,"br"),e.j41(8,"h3"),e.EFF(9,"H\u1ea1ng m\u1ee5c \u0111o \u0111\u1ea1c"),e.k0s(),e.j41(10,"nz-table",2,0)(12,"thead")(13,"tr")(14,"th",3),e.EFF(15,"#"),e.k0s(),e.j41(16,"th",3),e.EFF(17,"H\u1ea1ng m\u1ee5c"),e.k0s(),e.j41(18,"th",3),e.EFF(19,"L\u1ea7n \u0111o / Ng\xe0y"),e.k0s(),e.j41(20,"th",3),e.EFF(21,"\u0110\u01a1n v\u1ecb"),e.k0s(),e.j41(22,"th",3),e.EFF(23,"Type"),e.k0s()()(),e.j41(24,"tbody"),e.DNE(25,da,11,9,"tr",4),e.k0s()(),e.j41(26,"nz-modal",5),e.mxI("nzVisibleChange",function(l){return e.eBV(i),e.DH7(n.isShowModal,l)||(n.isShowModal=l),e.Njj(l)}),e.DNE(27,ma,31,4,"ng-container",6)(28,ua,3,0,"div",7),e.k0s()}if(2&a){const i=e.sdS(11);e.R7$(10),e.Y8G("nzLoading",n.isLoading)("nzData",n.items)("nzFrontPagination",!1),e.R7$(15),e.Y8G("ngForOf",i.data),e.R7$(),e.R50("nzVisible",n.isShowModal),e.Y8G("nzTitle",n.modalTitle)}},dependencies:[m.YU,m.Sq,v.hL,v.K7,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,M.aO,h.c,z.p,F.F2,F.Oj,F.A9],styles:["nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}nz-table[_ngcontent-%COMP%]   .invalid[_ngcontent-%COMP%]{color:red;font-weight:700}nz-table[_ngcontent-%COMP%]   .valid[_ngcontent-%COMP%]{color:green;font-weight:700}"]})}return s})(),pa=(()=>{class s{constructor(t,a,n){this.router=t,this.measureSvc=a,this.toastr=n}ngOnInit(){this.roles=atob(localStorage.getItem("roles"))}clickBtnItem(){this.router.navigate(["admin/relay/measurement/items"],{queryParams:{type:"execute"}})}clickBtnData(){this.router.navigate(["admin/relay/measurement/items"],{queryParams:{type:"management"}})}clickBtnDataExport(){this.router.navigate(["admin/relay/measurement/items"],{queryParams:{type:"export"}})}clickBtnXbarChart(){this.router.navigate(["admin/relay/measurement/xbar-chart-list"])}showGuideline(){this.measureSvc.showGuideline().subscribe(t=>{let a=new Blob([t],{type:"application/pdf"});var n=URL.createObjectURL(a);window.open(n)})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(O.Ix),e.rXU(u),e.rXU(A.tw))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-main-measurement"]],decls:42,vars:1,consts:[["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","12","nzMd","8","nzLg","6"],[1,"item","measure",3,"click"],["nz-icon","","nzType","bg-colors","nzTheme","outline"],[1,"item","data",3,"click"],["nz-icon","","nzType","database","nzTheme","outline"],[1,"item","export",3,"click"],["nz-icon","","nzType","export","nzTheme","outline"],[1,"item","report",3,"click"],["nz-icon","","nzType","bar-chart","nzTheme","outline"],[1,"item","guideline",3,"click"],["nz-icon","","nzType","book","nzTheme","outline"]],template:function(a,n){1&a&&(e.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),e.EFF(2," Manufacturing "),e.k0s(),e.j41(3,"nz-breadcrumb-item"),e.EFF(4," Measurement "),e.k0s()(),e.nrm(5,"br"),e.j41(6,"div",0)(7,"div",1)(8,"div",2),e.bIt("click",function(){return n.clickBtnItem()}),e.nrm(9,"i",3),e.j41(10,"h5"),e.EFF(11,"Measure Item"),e.k0s(),e.j41(12,"h6"),e.EFF(13,"H\u1ea1ng m\u1ee5c \u0111o \u0111\u1ea1c"),e.k0s()()(),e.j41(14,"div",1)(15,"div",4),e.bIt("click",function(){return n.clickBtnData()}),e.nrm(16,"i",5),e.j41(17,"h5"),e.EFF(18,"Measure Data"),e.k0s(),e.j41(19,"h6"),e.EFF(20,"Edit, Approve, ..."),e.k0s()()(),e.j41(21,"div",1)(22,"div",6),e.bIt("click",function(){return n.clickBtnDataExport()}),e.nrm(23,"i",7),e.j41(24,"h5"),e.EFF(25,"Data Export"),e.k0s(),e.j41(26,"h6"),e.EFF(27,"Tr\xedch xu\u1ea5t d\u1eef li\u1ec7u"),e.k0s()()(),e.j41(28,"div",1)(29,"div",8),e.bIt("click",function(){return n.clickBtnXbarChart()}),e.nrm(30,"i",9),e.j41(31,"h5"),e.EFF(32,"Xbar-R Chart"),e.k0s(),e.j41(33,"h6"),e.EFF(34,"Bi\u1ec3u \u0111\u1ed3 Xbar-R"),e.k0s()()(),e.j41(35,"div",1)(36,"div",10),e.bIt("click",function(){return n.showGuideline()}),e.nrm(37,"i",11),e.j41(38,"h5"),e.EFF(39,"Guidelines"),e.k0s(),e.j41(40,"h6"),e.EFF(41,"H\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng"),e.k0s()()()()),2&a&&(e.R7$(6),e.Y8G("nzGutter",8))},dependencies:[v.hL,v.K7,j.Dn,_.Uq,_.e,h.c],styles:[".item[_ngcontent-%COMP%]{text-align:center;border:1px solid #ccc;padding:15px 10px}.item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;color:#fff}.item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-top:15px;text-transform:uppercase;font-weight:700;color:#fff}.item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:12px;color:#fff}.measure[_ngcontent-%COMP%]{background:#2ecc71}.data[_ngcontent-%COMP%]{background:#3498db}.export[_ngcontent-%COMP%]{background:#f5791f}.report[_ngcontent-%COMP%]{background:#9ea9b4}.guideline[_ngcontent-%COMP%]{background:#7d6259}.measure[_ngcontent-%COMP%], .data[_ngcontent-%COMP%], .export[_ngcontent-%COMP%], .report[_ngcontent-%COMP%], .guideline[_ngcontent-%COMP%]{margin-bottom:10px}.item[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return s})();var _a=p(45817),q=p(37736);const ga=()=>({x:"1200px"}),he=s=>({"text-right":!0,invalid:s});function za(s,r){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td",14),e.EFF(16),e.nI1(17,"number"),e.k0s(),e.j41(18,"td",14),e.EFF(19),e.nI1(20,"number"),e.k0s(),e.j41(21,"td",14),e.EFF(22),e.nI1(23,"number"),e.k0s(),e.j41(24,"td",12),e.EFF(25),e.nI1(26,"date"),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG();e.R7$(2),e.JRh(t.qaCard),e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.master),e.R7$(2),e.JRh(t.modelType),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(),e.Y8G("ngClass",e.eq3(27,he,t.c1<a.standard.c1Min||t.c1>a.standard.c1Max)),e.R7$(),e.SpI(" ",e.i5U(17,15,t.c1,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(29,he,t.c2<a.standard.c2Min||t.c2>a.standard.c2Max)),e.R7$(),e.SpI(" ",e.i5U(20,18,t.c2,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(31,he,t.c3<a.standard.c3Min||t.c3>a.standard.c3Max)),e.R7$(),e.SpI(" ",e.i5U(23,21,t.c3,"1.3")," "),e.R7$(3),e.Lme(" ",e.i5U(26,24,t.createdAt,"yyyy-MM-dd HH:mm:ss")," - (",t.shift,") ")}}let Fa=(()=>{class s{constructor(t){this.measureService=t,this.date=null}ngOnInit(){this.valueNames=this.standard.valueName.split(";"),this.getDetailData(this.searchParams)}getDetailData(t){this.measureService.getDetailData(t).subscribe(a=>{this.detailsData=a})}onSearch(){this.getDetailData(this.searchParams)}onCalendarChange(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}onDateChange(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-mng-type3"]],inputs:{item:"item",images:"images",standard:"standard",searchParams:"searchParams"},decls:39,vars:11,consts:[["detailTable",""],["nz-row","","nzJustify","end","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","6","nzSm","6","nzLg","6"],["nzFormat","yyyy-MM-dd",3,"ngModelChange","nzOnCalendarChange","ngModel"],["nz-col","","nzXs","3","nzSm","3","nzLg","3"],["nz-row","","nzJustify","end","nzAlign","middle"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","search"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination","nzScroll"],[1,"text-center",2,"width","200px"],[1,"text-center"],[4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"nz-range-picker",3),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.date,l)||(n.date=l),e.Njj(l)}),e.bIt("ngModelChange",function(l){return e.eBV(i),e.Njj(n.onDateChange(l))})("nzOnCalendarChange",function(l){return e.eBV(i),e.Njj(n.onCalendarChange(l))}),e.k0s()(),e.j41(3,"div",4)(4,"div",5)(5,"button",6),e.bIt("click",function(){return e.eBV(i),e.Njj(n.onSearch())}),e.nrm(6,"i",7),e.EFF(7," Search "),e.k0s()()()(),e.nrm(8,"br"),e.j41(9,"div",8)(10,"div",9)(11,"nz-table",10,0)(13,"thead")(14,"tr")(15,"th",11),e.EFF(16,"QA Card"),e.k0s(),e.j41(17,"th",12),e.EFF(18,"Line"),e.k0s(),e.j41(19,"th",12),e.EFF(20,"Master"),e.k0s(),e.j41(21,"th",12),e.EFF(22,"Model Type"),e.k0s(),e.j41(23,"th",12),e.EFF(24,"Model"),e.k0s(),e.j41(25,"th",12),e.EFF(26,"L\xfd do"),e.k0s(),e.j41(27,"th",12),e.EFF(28,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(29,"th",12),e.EFF(30),e.k0s(),e.j41(31,"th",12),e.EFF(32),e.k0s(),e.j41(33,"th",12),e.EFF(34),e.k0s(),e.j41(35,"th",12),e.EFF(36,"Th\u1eddi gian"),e.k0s()()(),e.j41(37,"tbody"),e.DNE(38,za,27,33,"tr",13),e.k0s()()()()}if(2&a){const i=e.sdS(12);e.Y8G("nzGutter",24),e.R7$(2),e.R50("ngModel",n.date),e.R7$(7),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!0)("nzScroll",e.lJ4(10,ga)),e.R7$(19),e.JRh(n.valueNames[0]),e.R7$(2),e.JRh(n.valueNames[1]),e.R7$(2),e.JRh(n.valueNames[2]),e.R7$(4),e.Y8G("ngForOf",i.data)}},dependencies:[m.YU,m.Sq,d.BC,d.vS,j.Dn,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,M.aO,h.c,z.p,k.SN,k.vw,m.QX,m.vh],styles:["nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.invalid[_ngcontent-%COMP%]{color:red;font-weight:700}"]})}return s})();const Ea=()=>({x:"1200px"}),Fe=s=>({"text-center":!0,invalid:s});function Ca(s,r){if(1&s&&(e.j41(0,"td",15),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&s){const t=e.XpG().$implicit,a=e.XpG();e.Y8G("ngClass",e.eq3(5,Fe,t.a1<a.standard.a1Min||t.a1>a.standard.a1Max)),e.R7$(),e.SpI(" ",e.i5U(2,2,t.a1,"1.0-3")," ")}}function Ma(s,r){if(1&s&&(e.j41(0,"td",15),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(2,Fe,"NG"==t.a1)),e.R7$(),e.SpI(" ",t.a1," ")}}function fa(s,r){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.DNE(15,Ca,3,7,"td",14)(16,Ma,2,4,"td",14),e.j41(17,"td",12),e.EFF(18),e.nI1(19,"date"),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG();e.R7$(2),e.JRh(t.qaCard),e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.master),e.R7$(2),e.JRh(t.modelType),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(),e.Y8G("ngIf",1==a.item.unit),e.R7$(),e.Y8G("ngIf",2==a.item.unit),e.R7$(2),e.Lme(" ",e.i5U(19,11,t.createdAt,"yyyy-MM-dd HH:mm:ss")," - (",t.shift,") ")}}let Ra=(()=>{class s{constructor(t){this.measureService=t,this.date=null,console.log("mng-type1: constructor: ",this.searchParams)}ngOnInit(){console.log("mng-type1: ngOnInit: ",this.searchParams),this.valueNames=this.standard.valueName.split(";"),this.getDetailData(this.searchParams)}getDetailData(t){this.measureService.getDetailData(t).subscribe(a=>{this.detailsData=a})}onSearch(){this.getDetailData(this.searchParams)}onCalendarChange(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}onDateChange(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-mng-type1"]],inputs:{item:"item",images:"images",standard:"standard",searchParams:"searchParams"},decls:35,vars:9,consts:[["detailTable",""],["nz-row","","nzJustify","end","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","6","nzSm","6","nzLg","6"],["nzFormat","yyyy-MM-dd",3,"ngModelChange","nzOnCalendarChange","ngModel"],["nz-col","","nzXs","3","nzSm","3","nzLg","3"],["nz-row","","nzJustify","end","nzAlign","middle"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","search"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination","nzScroll"],[1,"text-center",2,"width","200px"],[1,"text-center"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"nz-range-picker",3),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.date,l)||(n.date=l),e.Njj(l)}),e.bIt("ngModelChange",function(l){return e.eBV(i),e.Njj(n.onDateChange(l))})("nzOnCalendarChange",function(l){return e.eBV(i),e.Njj(n.onCalendarChange(l))}),e.k0s()(),e.j41(3,"div",4)(4,"div",5)(5,"button",6),e.bIt("click",function(){return e.eBV(i),e.Njj(n.onSearch())}),e.nrm(6,"i",7),e.EFF(7," Search "),e.k0s()()()(),e.nrm(8,"br"),e.j41(9,"div",8)(10,"div",9)(11,"nz-table",10,0)(13,"thead")(14,"tr")(15,"th",11),e.EFF(16,"QA Card"),e.k0s(),e.j41(17,"th",12),e.EFF(18,"Line"),e.k0s(),e.j41(19,"th",12),e.EFF(20,"Master"),e.k0s(),e.j41(21,"th",12),e.EFF(22,"Model Type"),e.k0s(),e.j41(23,"th",12),e.EFF(24,"Model"),e.k0s(),e.j41(25,"th",12),e.EFF(26,"L\xfd do"),e.k0s(),e.j41(27,"th",12),e.EFF(28,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(29,"th",12),e.EFF(30),e.k0s(),e.j41(31,"th",12),e.EFF(32,"Th\u1eddi gian"),e.k0s()()(),e.j41(33,"tbody"),e.DNE(34,fa,20,14,"tr",13),e.k0s()()()()}if(2&a){const i=e.sdS(12);e.Y8G("nzGutter",24),e.R7$(2),e.R50("ngModel",n.date),e.R7$(7),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!0)("nzScroll",e.lJ4(8,Ea)),e.R7$(19),e.JRh(n.valueNames[0]),e.R7$(4),e.Y8G("ngForOf",i.data)}},dependencies:[m.YU,m.Sq,m.bT,d.BC,d.vS,j.Dn,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,M.aO,h.c,z.p,k.SN,k.vw,m.QX,m.vh],styles:["nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.invalid[_ngcontent-%COMP%]{color:red;font-weight:700}"]})}return s})();const ja=()=>({x:"1200px"}),Ee=s=>({"text-right":!0,invalid:s}),Ce=s=>({"text-center":!0,invalid:s});function ba(s,r){if(1&s&&(e.j41(0,"td",15),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&s){const t=e.XpG().$implicit,a=e.XpG();e.Y8G("ngClass",e.eq3(5,Ee,t.b1<a.standard.b1Min||t.b1>a.standard.b1Max)),e.R7$(),e.SpI(" ",e.i5U(2,2,t.b1,"1.3")," ")}}function ka(s,r){if(1&s&&(e.j41(0,"td",15),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(2,Ce,"NG"==t.b1)),e.R7$(),e.SpI(" ",t.b1," ")}}function va(s,r){if(1&s&&(e.j41(0,"td",15),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&s){const t=e.XpG().$implicit,a=e.XpG();e.Y8G("ngClass",e.eq3(5,Ee,t.b2<a.standard.b2Min||t.b2>a.standard.b2Max)),e.R7$(),e.SpI(" ",e.i5U(2,2,t.b2,"1.3")," ")}}function ya(s,r){if(1&s&&(e.j41(0,"td",15),e.EFF(1),e.k0s()),2&s){const t=e.XpG().$implicit;e.Y8G("ngClass",e.eq3(2,Ce,"NG"==t.b2)),e.R7$(),e.SpI(" ",t.b2," ")}}function Ta(s,r){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.DNE(15,ba,3,7,"td",14)(16,ka,2,4,"td",14)(17,va,3,7,"td",14)(18,ya,2,4,"td",14),e.j41(19,"td",12),e.EFF(20),e.nI1(21,"date"),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG();e.R7$(2),e.JRh(t.qaCard),e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.master),e.R7$(2),e.JRh(t.modelType),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(),e.Y8G("ngIf",1==a.item.unit),e.R7$(),e.Y8G("ngIf",2==a.item.unit),e.R7$(),e.Y8G("ngIf",1==a.item.unit),e.R7$(),e.Y8G("ngIf",2==a.item.unit),e.R7$(2),e.Lme(" ",e.i5U(21,13,t.createdAt,"yyyy-MM-dd HH:mm:ss")," - (",t.shift,") ")}}let Da=(()=>{class s{constructor(t){this.measureService=t,this.date=null}ngOnInit(){this.valueNames=this.standard.valueName.split(";"),this.getDetailData(this.searchParams)}getDetailData(t){this.measureService.getDetailData(t).subscribe(a=>{this.detailsData=a})}onSearch(){this.getDetailData(this.searchParams)}onCalendarChange(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}onDateChange(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-mng-type2"]],inputs:{item:"item",images:"images",standard:"standard",searchParams:"searchParams"},decls:37,vars:10,consts:[["detailTable",""],["nz-row","","nzJustify","end","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","6","nzSm","6","nzLg","6"],["nzFormat","yyyy-MM-dd",3,"ngModelChange","nzOnCalendarChange","ngModel"],["nz-col","","nzXs","3","nzSm","3","nzLg","3"],["nz-row","","nzJustify","end","nzAlign","middle"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","search"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination","nzScroll"],[1,"text-center",2,"width","200px"],[1,"text-center"],[4,"ngFor","ngForOf"],[3,"ngClass",4,"ngIf"],[3,"ngClass"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"nz-range-picker",3),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.date,l)||(n.date=l),e.Njj(l)}),e.bIt("ngModelChange",function(l){return e.eBV(i),e.Njj(n.onDateChange(l))})("nzOnCalendarChange",function(l){return e.eBV(i),e.Njj(n.onCalendarChange(l))}),e.k0s()(),e.j41(3,"div",4)(4,"div",5)(5,"button",6),e.bIt("click",function(){return e.eBV(i),e.Njj(n.onSearch())}),e.nrm(6,"i",7),e.EFF(7," Search "),e.k0s()()()(),e.nrm(8,"br"),e.j41(9,"div",8)(10,"div",9)(11,"nz-table",10,0)(13,"thead")(14,"tr")(15,"th",11),e.EFF(16,"QA Card"),e.k0s(),e.j41(17,"th",12),e.EFF(18,"Line"),e.k0s(),e.j41(19,"th",12),e.EFF(20,"Master"),e.k0s(),e.j41(21,"th",12),e.EFF(22,"Model Type"),e.k0s(),e.j41(23,"th",12),e.EFF(24,"Model"),e.k0s(),e.j41(25,"th",12),e.EFF(26,"L\xfd do"),e.k0s(),e.j41(27,"th",12),e.EFF(28,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(29,"th",12),e.EFF(30),e.k0s(),e.j41(31,"th",12),e.EFF(32),e.k0s(),e.j41(33,"th",12),e.EFF(34,"Th\u1eddi gian"),e.k0s()()(),e.j41(35,"tbody"),e.DNE(36,Ta,22,16,"tr",13),e.k0s()()()()}if(2&a){const i=e.sdS(12);e.Y8G("nzGutter",24),e.R7$(2),e.R50("ngModel",n.date),e.R7$(7),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!0)("nzScroll",e.lJ4(9,ja)),e.R7$(19),e.JRh(n.valueNames[0]),e.R7$(2),e.JRh(n.valueNames[1]),e.R7$(4),e.Y8G("ngForOf",i.data)}},dependencies:[m.YU,m.Sq,m.bT,d.BC,d.vS,j.Dn,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,M.aO,h.c,z.p,k.SN,k.vw,m.QX,m.vh],styles:["nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.invalid[_ngcontent-%COMP%]{color:red;font-weight:700}"]})}return s})();function $a(s,r){if(1&s){const t=e.RV6();e.qex(0),e.j41(1,"td",8),e.EFF(2),e.k0s(),e.j41(3,"td",8),e.EFF(4),e.k0s(),e.j41(5,"td",8),e.EFF(6),e.k0s(),e.j41(7,"td",8)(8,"a",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.startEdit(n.id))}),e.EFF(9,"Edit"),e.k0s()(),e.bVm()}if(2&s){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.c1),e.R7$(2),e.JRh(t.c2),e.R7$(2),e.JRh(t.c3)}}function Ia(s,r){1&s&&e.nrm(0,"input",15)}function Ga(s,r){1&s&&e.nrm(0,"input",15)}function Sa(s,r){if(1&s){const t=e.RV6();e.j41(0,"td",8)(1,"input",12),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG().$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.c1,n)||(o.editCache[i.id].data.c1=n),e.Njj(n)}),e.k0s()(),e.j41(2,"td",8)(3,"input",12),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG().$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.c2,n)||(o.editCache[i.id].data.c2=n),e.Njj(n)}),e.k0s()(),e.j41(4,"td",8),e.DNE(5,Ia,1,0,"input",13)(6,Ga,1,0,"input",13),e.k0s(),e.j41(7,"td",8)(8,"a",14),e.bIt("nzOnConfirm",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.saveEdit(n.id))}),e.EFF(9,"L\u01b0u"),e.k0s(),e.EFF(10," | "),e.j41(11,"a",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.cancelEdit(n.id))}),e.EFF(12,"H\u1ee7y"),e.k0s()()}if(2&s){const t=e.XpG().$implicit,a=e.XpG();e.R7$(),e.R50("ngModel",a.editCache[t.id].data.c1),e.R7$(2),e.R50("ngModel",a.editCache[t.id].data.c2),e.R7$(2),e.Y8G("ngIf",3==a.item.id),e.R7$(),e.Y8G("ngIf",5==a.item.id)}}function Pa(s,r){if(1&s&&(e.j41(0,"tr"),e.DNE(1,$a,10,3,"ng-container",10)(2,Sa,13,4,"ng-template",null,1,e.C5r),e.k0s()),2&s){const t=r.$implicit,a=e.sdS(3),n=e.XpG();e.R7$(),e.Y8G("ngIf",!n.editCache[t.id].edit)("ngIfElse",a)}}let xa=(()=>{class s{constructor(t,a,n){this.toastr=t,this.measureService=a,this.jwtHelperService=n,this.approveEmit=new e.bkB,this.isApprove=!1,this.editCache={},this.isLoading=!1}ngOnInit(){this.valueNames=this.standard.valueName.split(";"),this.isApprove=null!==this.masterData.approvedBy,this.getDetailData(this.masterData.id)}getDetailData(t){let a=new Y;a.master=t,this.measureService.getDetailData(a).subscribe(n=>{this.detailsData=n,this.updateEditCache()})}confirmApprove(){let t=this.jwtHelperService.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;this.measureService.approveData(this.masterData.id,t).subscribe(a=>{this.isApprove=!this.isApprove,this.toastr.success("Approved !"),this.approveEmit.emit()})}startEdit(t){null==this.masterData.approvedBy?this.editCache[t].edit=!0:this.toastr.warning("Kh\xf4ng th\u1ec3 s\u1eeda khi \u0111\xe3 Approve !")}cancelEdit(t){const a=this.detailsData.findIndex(n=>n.id===t);this.editCache[t]={data:{...this.detailsData[a]},edit:!1}}saveEdit(t){const a=this.detailsData.findIndex(o=>o.id===t);let n=this.detailsData[a],i=this.editCache[t].data;if(Object.assign(n,i),3==this.item.id){let o=(n.c1-n.c2).toFixed(3);n.c3=o;let l=(i.c1-i.c2).toFixed(3);i.c3=l}if(5==this.item.id){let o=(n.c2-n.c1).toFixed(3);n.c3=o;let l=(i.c2-i.c1).toFixed(3);i.c3=l}Object.assign({...n},{...i}),this.editCache[t].edit=!1}commitDataChange(){this.isLoading=!0,console.log("Data change = ",this.detailsData),this.measureService.updateDetailData(this.detailsData).subscribe(t=>{this.isLoading=!1,this.toastr.success("Saved !"),console.log("Edit Response : ",t),this.getDetailData(this.masterData.id)})}updateEditCache(){this.detailsData.forEach(t=>{this.editCache[t.id]={edit:!1,data:{...t}}})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(A.tw),e.rXU(u),e.rXU(q.X7))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-mng-edit-type3"]],inputs:{item:"item",masterData:"masterData",standard:"standard"},outputs:{approveEmit:"approveEmit"},decls:36,vars:22,consts:[["editRowTable",""],["editTemplate",""],["nz-checkbox","",2,"margin-right","20px",3,"ngModelChange","ngModel"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn kh\xf4ng ?","nzPopconfirmPlacement","right",3,"nzOnConfirm","nzType","nzSize"],["nz-row","","nzJustify","end","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["nz-button","",2,"background-color","#87d068","float","right",3,"click","nzLoading","nzType"],["nzBordered","","nzTableLayout","fixed",3,"nzData","nzFrontPagination"],[1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"click"],["type","number","nz-input","",3,"ngModelChange","ngModel"],["readonly","","type","number","nz-input","",4,"ngIf"],["nz-popconfirm","","nzPopconfirmTitle","Ch\u1eafc ch\u1eafn l\u01b0u ?",3,"nzOnConfirm"],["readonly","","type","number","nz-input",""]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"ul")(1,"li"),e.EFF(2),e.k0s(),e.j41(3,"li"),e.EFF(4),e.k0s(),e.j41(5,"li"),e.EFF(6),e.k0s(),e.j41(7,"li"),e.EFF(8),e.k0s(),e.j41(9,"li"),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"li"),e.EFF(13," X\xe1c nh\u1eadn: "),e.j41(14,"label",2),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.isApprove,l)||(n.isApprove=l),e.Njj(l)}),e.k0s(),e.j41(15,"button",3),e.bIt("nzOnConfirm",function(){return e.eBV(i),e.Njj(n.confirmApprove())}),e.EFF(16),e.k0s()()(),e.j41(17,"div",4)(18,"div",5)(19,"button",6),e.bIt("click",function(){return e.eBV(i),e.Njj(n.commitDataChange())}),e.EFF(20," L\u01b0u thay \u0111\u1ed5i "),e.k0s()()(),e.nrm(21,"br"),e.j41(22,"nz-table",7,0)(24,"thead")(25,"tr")(26,"th",8),e.EFF(27),e.k0s(),e.j41(28,"th",8),e.EFF(29),e.k0s(),e.j41(30,"th",8),e.EFF(31),e.k0s(),e.j41(32,"th",8),e.EFF(33,"Action"),e.k0s()()(),e.j41(34,"tbody"),e.DNE(35,Pa,4,2,"tr",9),e.k0s()()}if(2&a){const i=e.sdS(23);e.R7$(2),e.Lme("H\u1ea1ng m\u1ee5c: ",n.item.name," - (Line: ",n.masterData.line,")"),e.R7$(2),e.SpI("Model: ",n.masterData.model,""),e.R7$(2),e.SpI("Th\u1ef1c hi\u1ec7n: ",n.masterData.userName,""),e.R7$(2),e.SpI("L\xfd do: ",n.masterData.reasonName,""),e.R7$(2),e.SpI("Th\u1eddi gian: ",e.i5U(11,19,n.masterData.createdAt,"yyyy-MM-dd HH:mm:ss"),""),e.R7$(4),e.R50("ngModel",n.isApprove),e.R7$(),e.Y8G("nzType","primary")("nzSize","small"),e.R7$(),e.SpI(" ",n.isApprove?"H\u1ee7y x\xe1c nh\u1eadn":"X\xe1c nh\u1eadn"," "),e.R7$(),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzLoading",n.isLoading)("nzType","primary"),e.R7$(3),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!1),e.R7$(5),e.JRh(n.valueNames[0]),e.R7$(2),e.JRh(n.valueNames[1]),e.R7$(2),e.JRh(n.valueNames[2]),e.R7$(4),e.Y8G("ngForOf",i.data)}},dependencies:[m.Sq,m.bT,d.me,d.Q0,d.BC,d.vS,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,y.Sy,M.aO,h.c,z.p,S.$g,R.PV,m.vh],styles:["nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.invalid[_ngcontent-%COMP%]{color:red;font-weight:700}"]})}return s})();function Na(s,r){if(1&s){const t=e.RV6();e.qex(0),e.j41(1,"td",8),e.EFF(2),e.k0s(),e.j41(3,"td",8)(4,"a",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.startEdit(n.id))}),e.EFF(5,"Edit"),e.k0s()(),e.bVm()}if(2&s){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.a1)}}function Oa(s,r){if(1&s){const t=e.RV6();e.j41(0,"input",15),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2).$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.a1,n)||(o.editCache[i.id].data.a1=n),e.Njj(n)}),e.k0s()}if(2&s){const t=e.XpG(2).$implicit,a=e.XpG();e.R50("ngModel",a.editCache[t.id].data.a1)}}function Aa(s,r){if(1&s){const t=e.RV6();e.j41(0,"nz-radio-group",16),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2).$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.a1,n)||(o.editCache[i.id].data.a1=n),e.Njj(n)}),e.j41(1,"label",17),e.EFF(2,"OK"),e.k0s(),e.j41(3,"label",18),e.EFF(4,"NG"),e.k0s()()}if(2&s){const t=e.XpG(2).$implicit,a=e.XpG();e.R50("ngModel",a.editCache[t.id].data.a1)}}function wa(s,r){if(1&s){const t=e.RV6();e.j41(0,"td",8),e.DNE(1,Oa,1,1,"input",12)(2,Aa,5,1,"nz-radio-group",13),e.k0s(),e.j41(3,"td",8)(4,"a",14),e.bIt("nzOnConfirm",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.saveEdit(n.id))}),e.EFF(5," L\u01b0u "),e.k0s(),e.EFF(6," | "),e.j41(7,"a",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.cancelEdit(n.id))}),e.EFF(8,"H\u1ee7y"),e.k0s()()}if(2&s){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",1==t.item.unit),e.R7$(),e.Y8G("ngIf",2==t.item.unit)}}function Ya(s,r){if(1&s&&(e.j41(0,"tr"),e.DNE(1,Na,6,1,"ng-container",10)(2,wa,9,2,"ng-template",null,1,e.C5r),e.k0s()),2&s){const t=r.$implicit,a=e.sdS(3),n=e.XpG();e.R7$(),e.Y8G("ngIf",!n.editCache[t.id].edit)("ngIfElse",a)}}let Ba=(()=>{class s{constructor(t,a,n){this.toastr=t,this.measureService=a,this.jwtHelperService=n,this.approveEmit=new e.bkB,this.isApprove=!1,this.editCache={},this.isLoading=!1}ngOnInit(){console.log("AAAAAAA: ",this.standard),this.valueNames=this.standard.valueName.split(";"),this.isApprove=null!==this.masterData.approvedBy,this.getDetailData(this.masterData.id)}getDetailData(t){let a=new Y;a.master=t,this.measureService.getDetailData(a).subscribe(n=>{this.detailsData=n,this.updateEditCache()})}confirmApprove(){let t=this.jwtHelperService.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;this.measureService.approveData(this.masterData.id,t).subscribe(a=>{this.isApprove=!this.isApprove,this.toastr.success("Approved !"),this.approveEmit.emit()})}startEdit(t){null==this.masterData.approvedBy?this.editCache[t].edit=!0:this.toastr.warning("Kh\xf4ng th\u1ec3 s\u1eeda khi \u0111\xe3 Approve !")}cancelEdit(t){const a=this.detailsData.findIndex(n=>n.id===t);this.editCache[t]={data:{...this.detailsData[a]},edit:!1}}saveEdit(t){const a=this.detailsData.findIndex(o=>o.id===t);Object.assign(this.detailsData[a],this.editCache[t].data),this.editCache[t].edit=!1}commitDataChange(){this.isLoading=!0,console.log("Data change = ",this.detailsData),this.measureService.updateDetailData(this.detailsData).subscribe(t=>{this.isLoading=!1,this.toastr.success("Saved !"),console.log("Edit Response : ",t),this.getDetailData(this.masterData.id)})}updateEditCache(){this.detailsData.forEach(t=>{this.editCache[t.id]={edit:!1,data:{...t}}})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(A.tw),e.rXU(u),e.rXU(q.X7))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-mng-edit-type1"]],inputs:{item:"item",masterData:"masterData",standard:"standard"},outputs:{approveEmit:"approveEmit"},decls:32,vars:20,consts:[["editRowTable",""],["editTemplate",""],["nz-checkbox","",2,"margin-right","20px",3,"ngModelChange","ngModel"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn kh\xf4ng ?","nzPopconfirmPlacement","right",3,"nzOnConfirm","nzType","nzSize"],["nz-row","","nzJustify","end","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["nz-button","",2,"background-color","#87d068","float","right",3,"click","nzLoading","nzType"],["nzBordered","","nzTableLayout","fixed",3,"nzData","nzFrontPagination"],[1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"click"],["type","number","nz-input","",3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["nz-popconfirm","","nzPopconfirmTitle","Ch\u1eafc ch\u1eafn l\u01b0u ?",3,"nzOnConfirm"],["type","number","nz-input","",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["nz-radio","","nzValue","OK"],["nz-radio","","nzValue","NG",1,"invalid"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"ul")(1,"li"),e.EFF(2),e.k0s(),e.j41(3,"li"),e.EFF(4),e.k0s(),e.j41(5,"li"),e.EFF(6),e.k0s(),e.j41(7,"li"),e.EFF(8),e.k0s(),e.j41(9,"li"),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"li"),e.EFF(13," X\xe1c nh\u1eadn: "),e.j41(14,"label",2),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.isApprove,l)||(n.isApprove=l),e.Njj(l)}),e.k0s(),e.j41(15,"button",3),e.bIt("nzOnConfirm",function(){return e.eBV(i),e.Njj(n.confirmApprove())}),e.EFF(16),e.k0s()()(),e.j41(17,"div",4)(18,"div",5)(19,"button",6),e.bIt("click",function(){return e.eBV(i),e.Njj(n.commitDataChange())}),e.EFF(20," L\u01b0u thay \u0111\u1ed5i "),e.k0s()()(),e.nrm(21,"br"),e.j41(22,"nz-table",7,0)(24,"thead")(25,"tr")(26,"th",8),e.EFF(27),e.k0s(),e.j41(28,"th",8),e.EFF(29,"Action"),e.k0s()()(),e.j41(30,"tbody"),e.DNE(31,Ya,4,2,"tr",9),e.k0s()()}if(2&a){const i=e.sdS(23);e.R7$(2),e.Lme("H\u1ea1ng m\u1ee5c: ",n.item.name," - (Line: ",n.masterData.line,")"),e.R7$(2),e.SpI("Model: ",n.masterData.model,""),e.R7$(2),e.SpI("Th\u1ef1c hi\u1ec7n: ",n.masterData.userName,""),e.R7$(2),e.SpI("L\xfd do: ",n.masterData.reasonName,""),e.R7$(2),e.SpI("Th\u1eddi gian: ",e.i5U(11,17,n.masterData.createdAt,"yyyy-MM-dd HH:mm:ss"),""),e.R7$(4),e.R50("ngModel",n.isApprove),e.R7$(),e.Y8G("nzType","primary")("nzSize","small"),e.R7$(),e.SpI(" ",n.isApprove?"H\u1ee7y x\xe1c nh\u1eadn":"X\xe1c nh\u1eadn"," "),e.R7$(),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzLoading",n.isLoading)("nzType","primary"),e.R7$(3),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!1),e.R7$(5),e.JRh(n.valueNames[0]),e.R7$(4),e.Y8G("ngForOf",i.data)}},dependencies:[m.Sq,m.bT,d.me,d.Q0,d.BC,d.vS,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,y.Sy,M.aO,h.c,z.p,T.lx,T.i3,S.$g,R.PV,m.vh],styles:["nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.invalid[_ngcontent-%COMP%]{color:red;font-weight:700}"]})}return s})();const Xa=()=>({x:"1200px"}),le=s=>({"text-right":!0,invalid:s});function Va(s,r){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td",14),e.EFF(16),e.nI1(17,"number"),e.k0s(),e.j41(18,"td",14),e.EFF(19),e.nI1(20,"number"),e.k0s(),e.j41(21,"td",14),e.EFF(22),e.nI1(23,"number"),e.k0s(),e.j41(24,"td",14),e.EFF(25),e.nI1(26,"number"),e.k0s(),e.j41(27,"td",12),e.EFF(28),e.nI1(29,"date"),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG();e.R7$(2),e.JRh(t.qaCard),e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.master),e.R7$(2),e.JRh(t.modelType),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(),e.Y8G("ngClass",e.eq3(32,le,t.d1<a.standard.d1Min||t.d1>a.standard.d1Max)),e.R7$(),e.SpI(" ",e.i5U(17,17,t.d1,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(34,le,t.d2<a.standard.d2Min||t.d2>a.standard.d2Max)),e.R7$(),e.SpI(" ",e.i5U(20,20,t.d2,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(36,le,t.d3<a.standard.d3Min||t.d3>a.standard.d3Max)),e.R7$(),e.SpI(" ",e.i5U(23,23,t.d3,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(38,le,t.d4<a.standard.d4Min||t.d4>a.standard.d4Max)),e.R7$(),e.SpI(" ",e.i5U(26,26,t.d4,"1.3")," "),e.R7$(3),e.Lme(" ",e.i5U(29,29,t.createdAt,"yyyy-MM-dd HH:mm:ss")," - (",t.shift,") ")}}let La=(()=>{class s{constructor(t){this.measureService=t,this.date=null}ngOnInit(){this.valueNames=this.standard.valueName.split(";"),this.getDetailData(this.searchParams)}getDetailData(t){this.measureService.getDetailData(t).subscribe(a=>{this.detailsData=a})}onSearch(){this.getDetailData(this.searchParams)}onCalendarChange(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}onDateChange(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-mng-type4"]],inputs:{item:"item",images:"images",standard:"standard",searchParams:"searchParams"},decls:41,vars:12,consts:[["detailTable",""],["nz-row","","nzJustify","end","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","6","nzSm","6","nzLg","6"],["nzFormat","yyyy-MM-dd",3,"ngModelChange","nzOnCalendarChange","ngModel"],["nz-col","","nzXs","3","nzSm","3","nzLg","3"],["nz-row","","nzJustify","end","nzAlign","middle"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","search"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination","nzScroll"],[1,"text-center",2,"width","200px"],[1,"text-center"],[4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"nz-range-picker",3),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.date,l)||(n.date=l),e.Njj(l)}),e.bIt("ngModelChange",function(l){return e.eBV(i),e.Njj(n.onDateChange(l))})("nzOnCalendarChange",function(l){return e.eBV(i),e.Njj(n.onCalendarChange(l))}),e.k0s()(),e.j41(3,"div",4)(4,"div",5)(5,"button",6),e.bIt("click",function(){return e.eBV(i),e.Njj(n.onSearch())}),e.nrm(6,"i",7),e.EFF(7," Search "),e.k0s()()()(),e.nrm(8,"br"),e.j41(9,"div",8)(10,"div",9)(11,"nz-table",10,0)(13,"thead")(14,"tr")(15,"th",11),e.EFF(16,"QA Card"),e.k0s(),e.j41(17,"th",12),e.EFF(18,"Line"),e.k0s(),e.j41(19,"th",12),e.EFF(20,"Master"),e.k0s(),e.j41(21,"th",12),e.EFF(22,"Model Type"),e.k0s(),e.j41(23,"th",12),e.EFF(24,"Model"),e.k0s(),e.j41(25,"th",12),e.EFF(26,"L\xfd do"),e.k0s(),e.j41(27,"th",12),e.EFF(28,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(29,"th",12),e.EFF(30),e.k0s(),e.j41(31,"th",12),e.EFF(32),e.k0s(),e.j41(33,"th",12),e.EFF(34),e.k0s(),e.j41(35,"th",12),e.EFF(36),e.k0s(),e.j41(37,"th",12),e.EFF(38,"Th\u1eddi gian"),e.k0s()()(),e.j41(39,"tbody"),e.DNE(40,Va,30,40,"tr",13),e.k0s()()()()}if(2&a){const i=e.sdS(12);e.Y8G("nzGutter",24),e.R7$(2),e.R50("ngModel",n.date),e.R7$(7),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!0)("nzScroll",e.lJ4(11,Xa)),e.R7$(19),e.JRh(n.valueNames[0]),e.R7$(2),e.JRh(n.valueNames[1]),e.R7$(2),e.JRh(n.valueNames[2]),e.R7$(2),e.JRh(n.valueNames[3]),e.R7$(4),e.Y8G("ngForOf",i.data)}},dependencies:[m.YU,m.Sq,d.BC,d.vS,j.Dn,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,M.aO,h.c,z.p,k.SN,k.vw,m.QX,m.vh],styles:["nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.invalid[_ngcontent-%COMP%]{color:red;font-weight:700}"]})}return s})();function Ja(s,r){if(1&s){const t=e.RV6();e.qex(0),e.j41(1,"td",8),e.EFF(2),e.k0s(),e.j41(3,"td",8),e.EFF(4),e.k0s(),e.j41(5,"td",8),e.EFF(6),e.k0s(),e.j41(7,"td",8),e.EFF(8),e.k0s(),e.j41(9,"td",8)(10,"a",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.startEdit(n.id))}),e.EFF(11,"Edit"),e.k0s()(),e.bVm()}if(2&s){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.d1),e.R7$(2),e.JRh(t.d2),e.R7$(2),e.JRh(t.d3),e.R7$(2),e.JRh(t.d4)}}function Ua(s,r){if(1&s){const t=e.RV6();e.j41(0,"td",8)(1,"input",12),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG().$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.d1,n)||(o.editCache[i.id].data.d1=n),e.Njj(n)}),e.k0s()(),e.j41(2,"td",8)(3,"input",12),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG().$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.d2,n)||(o.editCache[i.id].data.d2=n),e.Njj(n)}),e.k0s()(),e.j41(4,"td",8)(5,"input",12),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG().$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.d3,n)||(o.editCache[i.id].data.d3=n),e.Njj(n)}),e.k0s()(),e.j41(6,"td",8)(7,"input",12),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG().$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.d4,n)||(o.editCache[i.id].data.d4=n),e.Njj(n)}),e.k0s()(),e.j41(8,"td",8)(9,"a",13),e.bIt("nzOnConfirm",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.saveEdit(n.id))}),e.EFF(10," L\u01b0u "),e.k0s(),e.EFF(11," | "),e.j41(12,"a",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.cancelEdit(n.id))}),e.EFF(13,"H\u1ee7y"),e.k0s()()}if(2&s){const t=e.XpG().$implicit,a=e.XpG();e.R7$(),e.R50("ngModel",a.editCache[t.id].data.d1),e.R7$(2),e.R50("ngModel",a.editCache[t.id].data.d2),e.R7$(2),e.R50("ngModel",a.editCache[t.id].data.d3),e.R7$(2),e.R50("ngModel",a.editCache[t.id].data.d4)}}function Ha(s,r){if(1&s&&(e.j41(0,"tr"),e.DNE(1,Ja,12,4,"ng-container",10)(2,Ua,14,4,"ng-template",null,1,e.C5r),e.k0s()),2&s){const t=r.$implicit,a=e.sdS(3),n=e.XpG();e.R7$(),e.Y8G("ngIf",!n.editCache[t.id].edit)("ngIfElse",a)}}let qa=(()=>{class s{constructor(t,a,n){this.toastr=t,this.measureService=a,this.jwtHelperService=n,this.approveEmit=new e.bkB,this.isApprove=!1,this.editCache={},this.isLoading=!1}ngOnInit(){this.valueNames=this.standard.valueName.split(";"),this.isApprove=null!==this.masterData.approvedBy,this.getDetailData(this.masterData.id)}getDetailData(t){let a=new Y;a.master=t,this.measureService.getDetailData(a).subscribe(n=>{this.detailsData=n,this.updateEditCache()})}confirmApprove(){let t=this.jwtHelperService.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;this.measureService.approveData(this.masterData.id,t).subscribe(a=>{this.isApprove=!this.isApprove,this.toastr.success("Approved !"),this.approveEmit.emit()})}startEdit(t){null==this.masterData.approvedBy?this.editCache[t].edit=!0:this.toastr.warning("Kh\xf4ng th\u1ec3 s\u1eeda khi \u0111\xe3 Approve !")}cancelEdit(t){const a=this.detailsData.findIndex(n=>n.id===t);this.editCache[t]={data:{...this.detailsData[a]},edit:!1}}saveEdit(t){const a=this.detailsData.findIndex(o=>o.id===t);Object.assign(this.detailsData[a],this.editCache[t].data),this.editCache[t].edit=!1}commitDataChange(){this.isLoading=!0,console.log("Data change = ",this.detailsData),this.measureService.updateDetailData(this.detailsData).subscribe(t=>{this.isLoading=!1,this.toastr.success("Saved !"),console.log("Edit Response : ",t),this.getDetailData(this.masterData.id)})}updateEditCache(){this.detailsData.forEach(t=>{this.editCache[t.id]={edit:!1,data:{...t}}})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(A.tw),e.rXU(u),e.rXU(q.X7))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-mng-edit-type4"]],inputs:{item:"item",masterData:"masterData",standard:"standard"},outputs:{approveEmit:"approveEmit"},decls:38,vars:23,consts:[["editRowTable",""],["editTemplate",""],["nz-checkbox","",2,"margin-right","20px",3,"ngModelChange","ngModel"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn kh\xf4ng ?","nzPopconfirmPlacement","right",3,"nzOnConfirm","nzType","nzSize"],["nz-row","","nzJustify","end","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["nz-button","",2,"background-color","#87d068","float","right",3,"click","nzLoading","nzType"],["nzBordered","","nzTableLayout","fixed",3,"nzData","nzFrontPagination"],[1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"click"],["type","number","nz-input","",3,"ngModelChange","ngModel"],["nz-popconfirm","","nzPopconfirmTitle","Ch\u1eafc ch\u1eafn l\u01b0u ?",3,"nzOnConfirm"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"ul")(1,"li"),e.EFF(2),e.k0s(),e.j41(3,"li"),e.EFF(4),e.k0s(),e.j41(5,"li"),e.EFF(6),e.k0s(),e.j41(7,"li"),e.EFF(8),e.k0s(),e.j41(9,"li"),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"li"),e.EFF(13," X\xe1c nh\u1eadn: "),e.j41(14,"label",2),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.isApprove,l)||(n.isApprove=l),e.Njj(l)}),e.k0s(),e.j41(15,"button",3),e.bIt("nzOnConfirm",function(){return e.eBV(i),e.Njj(n.confirmApprove())}),e.EFF(16),e.k0s()()(),e.j41(17,"div",4)(18,"div",5)(19,"button",6),e.bIt("click",function(){return e.eBV(i),e.Njj(n.commitDataChange())}),e.EFF(20," L\u01b0u thay \u0111\u1ed5i "),e.k0s()()(),e.nrm(21,"br"),e.j41(22,"nz-table",7,0)(24,"thead")(25,"tr")(26,"th",8),e.EFF(27),e.k0s(),e.j41(28,"th",8),e.EFF(29),e.k0s(),e.j41(30,"th",8),e.EFF(31),e.k0s(),e.j41(32,"th",8),e.EFF(33),e.k0s(),e.j41(34,"th",8),e.EFF(35,"Action"),e.k0s()()(),e.j41(36,"tbody"),e.DNE(37,Ha,4,2,"tr",9),e.k0s()()}if(2&a){const i=e.sdS(23);e.R7$(2),e.Lme("H\u1ea1ng m\u1ee5c: ",n.item.name," - (Line: ",n.masterData.line,")"),e.R7$(2),e.SpI("Model: ",n.masterData.model,""),e.R7$(2),e.SpI("Th\u1ef1c hi\u1ec7n: ",n.masterData.userName,""),e.R7$(2),e.SpI("L\xfd do: ",n.masterData.reasonName,""),e.R7$(2),e.SpI("Th\u1eddi gian: ",e.i5U(11,20,n.masterData.createdAt,"yyyy-MM-dd HH:mm:ss"),""),e.R7$(4),e.R50("ngModel",n.isApprove),e.R7$(),e.Y8G("nzType","primary")("nzSize","small"),e.R7$(),e.SpI(" ",n.isApprove?"H\u1ee7y x\xe1c nh\u1eadn":"X\xe1c nh\u1eadn"," "),e.R7$(),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzLoading",n.isLoading)("nzType","primary"),e.R7$(3),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!1),e.R7$(5),e.JRh(n.valueNames[0]),e.R7$(2),e.JRh(n.valueNames[1]),e.R7$(2),e.JRh(n.valueNames[2]),e.R7$(2),e.JRh(n.valueNames[3]),e.R7$(4),e.Y8G("ngForOf",i.data)}},dependencies:[m.Sq,m.bT,d.me,d.Q0,d.BC,d.vS,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,y.Sy,M.aO,h.c,z.p,S.$g,R.PV,m.vh],styles:["nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.invalid[_ngcontent-%COMP%]{color:red;font-weight:700}"]})}return s})();function Ka(s,r){if(1&s){const t=e.RV6();e.qex(0),e.j41(1,"td",8),e.EFF(2),e.k0s(),e.j41(3,"td",8),e.EFF(4),e.k0s(),e.j41(5,"td",8)(6,"a",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.startEdit(n.id))}),e.EFF(7,"Edit"),e.k0s()(),e.bVm()}if(2&s){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.b1),e.R7$(2),e.JRh(t.b2)}}function Qa(s,r){if(1&s){const t=e.RV6();e.j41(0,"input",15),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2).$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.b1,n)||(o.editCache[i.id].data.b1=n),e.Njj(n)}),e.k0s()}if(2&s){const t=e.XpG(2).$implicit,a=e.XpG();e.R50("ngModel",a.editCache[t.id].data.b1)}}function Wa(s,r){if(1&s){const t=e.RV6();e.j41(0,"nz-radio-group",16),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2).$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.b1,n)||(o.editCache[i.id].data.b1=n),e.Njj(n)}),e.j41(1,"label",17),e.EFF(2,"OK"),e.k0s(),e.j41(3,"label",18),e.EFF(4,"NG"),e.k0s()()}if(2&s){const t=e.XpG(2).$implicit,a=e.XpG();e.R50("ngModel",a.editCache[t.id].data.b1)}}function Za(s,r){if(1&s){const t=e.RV6();e.j41(0,"input",15),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2).$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.b2,n)||(o.editCache[i.id].data.b2=n),e.Njj(n)}),e.k0s()}if(2&s){const t=e.XpG(2).$implicit,a=e.XpG();e.R50("ngModel",a.editCache[t.id].data.b2)}}function es(s,r){if(1&s){const t=e.RV6();e.j41(0,"nz-radio-group",16),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG(2).$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.b2,n)||(o.editCache[i.id].data.b2=n),e.Njj(n)}),e.j41(1,"label",17),e.EFF(2,"OK"),e.k0s(),e.j41(3,"label",18),e.EFF(4,"NG"),e.k0s()()}if(2&s){const t=e.XpG(2).$implicit,a=e.XpG();e.R50("ngModel",a.editCache[t.id].data.b2)}}function ts(s,r){if(1&s){const t=e.RV6();e.j41(0,"td",8),e.DNE(1,Qa,1,1,"input",12)(2,Wa,5,1,"nz-radio-group",13),e.k0s(),e.j41(3,"td",8),e.DNE(4,Za,1,1,"input",12)(5,es,5,1,"nz-radio-group",13),e.k0s(),e.j41(6,"td",8)(7,"a",14),e.bIt("nzOnConfirm",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.saveEdit(n.id))}),e.EFF(8," L\u01b0u "),e.k0s(),e.EFF(9," | "),e.j41(10,"a",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.cancelEdit(n.id))}),e.EFF(11,"H\u1ee7y"),e.k0s()()}if(2&s){const t=e.XpG(2);e.R7$(),e.Y8G("ngIf",1==t.item.unit),e.R7$(),e.Y8G("ngIf",2==t.item.unit),e.R7$(2),e.Y8G("ngIf",1==t.item.unit),e.R7$(),e.Y8G("ngIf",2==t.item.unit)}}function ns(s,r){if(1&s&&(e.j41(0,"tr"),e.DNE(1,Ka,8,2,"ng-container",10)(2,ts,12,4,"ng-template",null,1,e.C5r),e.k0s()),2&s){const t=r.$implicit,a=e.sdS(3),n=e.XpG();e.R7$(),e.Y8G("ngIf",!n.editCache[t.id].edit)("ngIfElse",a)}}let as=(()=>{class s{constructor(t,a,n){this.toastr=t,this.measureService=a,this.jwtHelperService=n,this.approveEmit=new e.bkB,this.isApprove=!1,this.editCache={},this.isLoading=!1}ngOnInit(){this.valueNames=this.standard.valueName.split(";"),this.isApprove=null!==this.masterData.approvedBy,this.getDetailData(this.masterData.id)}getDetailData(t){let a=new Y;a.master=t,this.measureService.getDetailData(a).subscribe(n=>{this.detailsData=n,this.updateEditCache()})}confirmApprove(){let t=this.jwtHelperService.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;this.measureService.approveData(this.masterData.id,t).subscribe(a=>{this.isApprove=!this.isApprove,this.toastr.success("Approved !"),this.approveEmit.emit()})}startEdit(t){null==this.masterData.approvedBy?this.editCache[t].edit=!0:this.toastr.warning("Kh\xf4ng th\u1ec3 s\u1eeda khi \u0111\xe3 Approve !")}cancelEdit(t){const a=this.detailsData.findIndex(n=>n.id===t);this.editCache[t]={data:{...this.detailsData[a]},edit:!1}}saveEdit(t){const a=this.detailsData.findIndex(o=>o.id===t);Object.assign(this.detailsData[a],this.editCache[t].data),this.editCache[t].edit=!1}commitDataChange(){this.isLoading=!0,console.log("Data change = ",this.detailsData),this.measureService.updateDetailData(this.detailsData).subscribe(t=>{this.isLoading=!1,this.toastr.success("Saved !"),console.log("Edit Response : ",t),this.getDetailData(this.masterData.id)})}updateEditCache(){this.detailsData.forEach(t=>{this.editCache[t.id]={edit:!1,data:{...t}}})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(A.tw),e.rXU(u),e.rXU(q.X7))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-mng-edit-type2"]],inputs:{item:"item",masterData:"masterData",standard:"standard"},outputs:{approveEmit:"approveEmit"},decls:34,vars:21,consts:[["editRowTable",""],["editTemplate",""],["nz-checkbox","",2,"margin-right","20px",3,"ngModelChange","ngModel"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn kh\xf4ng ?","nzPopconfirmPlacement","right",3,"nzOnConfirm","nzType","nzSize"],["nz-row","","nzJustify","end","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["nz-button","",2,"background-color","#87d068","float","right",3,"click","nzLoading","nzType"],["nzBordered","","nzTableLayout","fixed",3,"nzData","nzFrontPagination"],[1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"click"],["type","number","nz-input","",3,"ngModel","ngModelChange",4,"ngIf"],[3,"ngModel","ngModelChange",4,"ngIf"],["nz-popconfirm","","nzPopconfirmTitle","Ch\u1eafc ch\u1eafn l\u01b0u ?",3,"nzOnConfirm"],["type","number","nz-input","",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],["nz-radio","","nzValue","OK"],["nz-radio","","nzValue","NG",1,"invalid"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"ul")(1,"li"),e.EFF(2),e.k0s(),e.j41(3,"li"),e.EFF(4),e.k0s(),e.j41(5,"li"),e.EFF(6),e.k0s(),e.j41(7,"li"),e.EFF(8),e.k0s(),e.j41(9,"li"),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"li"),e.EFF(13," X\xe1c nh\u1eadn: "),e.j41(14,"label",2),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.isApprove,l)||(n.isApprove=l),e.Njj(l)}),e.k0s(),e.j41(15,"button",3),e.bIt("nzOnConfirm",function(){return e.eBV(i),e.Njj(n.confirmApprove())}),e.EFF(16),e.k0s()()(),e.j41(17,"div",4)(18,"div",5)(19,"button",6),e.bIt("click",function(){return e.eBV(i),e.Njj(n.commitDataChange())}),e.EFF(20," L\u01b0u thay \u0111\u1ed5i "),e.k0s()()(),e.nrm(21,"br"),e.j41(22,"nz-table",7,0)(24,"thead")(25,"tr")(26,"th",8),e.EFF(27),e.k0s(),e.j41(28,"th",8),e.EFF(29),e.k0s(),e.j41(30,"th",8),e.EFF(31,"Action"),e.k0s()()(),e.j41(32,"tbody"),e.DNE(33,ns,4,2,"tr",9),e.k0s()()}if(2&a){const i=e.sdS(23);e.R7$(2),e.Lme("H\u1ea1ng m\u1ee5c: ",n.item.name," - (Line: ",n.masterData.line,")"),e.R7$(2),e.SpI("Model: ",n.masterData.model,""),e.R7$(2),e.SpI("Th\u1ef1c hi\u1ec7n: ",n.masterData.userName,""),e.R7$(2),e.SpI("L\xfd do: ",n.masterData.reasonName,""),e.R7$(2),e.SpI("Th\u1eddi gian: ",e.i5U(11,18,n.masterData.createdAt,"yyyy-MM-dd HH:mm:ss"),""),e.R7$(4),e.R50("ngModel",n.isApprove),e.R7$(),e.Y8G("nzType","primary")("nzSize","small"),e.R7$(),e.SpI(" ",n.isApprove?"H\u1ee7y x\xe1c nh\u1eadn":"X\xe1c nh\u1eadn"," "),e.R7$(),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzLoading",n.isLoading)("nzType","primary"),e.R7$(3),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!1),e.R7$(5),e.JRh(n.valueNames[0]),e.R7$(2),e.JRh(n.valueNames[1]),e.R7$(4),e.Y8G("ngForOf",i.data)}},dependencies:[m.Sq,m.bT,d.me,d.Q0,d.BC,d.vS,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,y.Sy,M.aO,h.c,z.p,T.lx,T.i3,S.$g,R.PV,m.vh],styles:["nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}.invalid[_ngcontent-%COMP%]{color:red;font-weight:700}"]})}return s})();const ss=()=>({x:"1200px"}),ae=s=>({"text-right":!0,invalid:s});function is(s,r){if(1&s&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td",14),e.EFF(16),e.nI1(17,"number"),e.k0s(),e.j41(18,"td",14),e.EFF(19),e.nI1(20,"number"),e.k0s(),e.j41(21,"td",14),e.EFF(22),e.nI1(23,"number"),e.k0s(),e.j41(24,"td",14),e.EFF(25),e.nI1(26,"number"),e.k0s(),e.j41(27,"td",14),e.EFF(28),e.nI1(29,"number"),e.k0s(),e.j41(30,"td",12),e.EFF(31),e.nI1(32,"date"),e.k0s()()),2&s){const t=r.$implicit,a=e.XpG();e.R7$(2),e.JRh(t.qaCard),e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.master),e.R7$(2),e.JRh(t.modelType),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(),e.Y8G("ngClass",e.eq3(37,ae,t.e1<a.standard.e1Min||t.e1>a.standard.e1Max)),e.R7$(),e.SpI(" ",e.i5U(17,19,t.e1,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(39,ae,t.e2<a.standard.e2Min||t.e2>a.standard.e2Max)),e.R7$(),e.SpI(" ",e.i5U(20,22,t.e2,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(41,ae,t.e3<a.standard.e3Min||t.e3>a.standard.e3Max)),e.R7$(),e.SpI(" ",e.i5U(23,25,t.e3,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(43,ae,t.e4<a.standard.e4Min||t.e4>a.standard.e4Max)),e.R7$(),e.SpI(" ",e.i5U(26,28,t.e4,"1.3")," "),e.R7$(2),e.Y8G("ngClass",e.eq3(45,ae,t.e5<a.standard.e5Min||t.e5>a.standard.e5Max)),e.R7$(),e.SpI(" ",e.i5U(29,31,t.e5,"1.3")," "),e.R7$(3),e.Lme(" ",e.i5U(32,34,t.createdAt,"yyyy-MM-dd HH:mm:ss")," - (",t.shift,") ")}}let rs=(()=>{class s{constructor(t){this.measureService=t,this.date=null}ngOnInit(){this.valueNames=this.standard.valueName.split(";"),this.getDetailData(this.searchParams)}getDetailData(t){this.measureService.getDetailData(t).subscribe(a=>{this.detailsData=a})}onSearch(){this.getDetailData(this.searchParams)}onCalendarChange(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}onDateChange(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(u))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-mng-type5"]],inputs:{item:"item",images:"images",standard:"standard",searchParams:"searchParams"},decls:43,vars:13,consts:[["detailTable",""],["nz-row","","nzJustify","end","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","6","nzSm","6","nzLg","6"],["nzFormat","yyyy-MM-dd",3,"ngModelChange","nzOnCalendarChange","ngModel"],["nz-col","","nzXs","3","nzSm","3","nzLg","3"],["nz-row","","nzJustify","end","nzAlign","middle"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","search"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination","nzScroll"],[1,"text-center",2,"width","200px"],[1,"text-center"],[4,"ngFor","ngForOf"],[3,"ngClass"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"div",1)(1,"div",2)(2,"nz-range-picker",3),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.date,l)||(n.date=l),e.Njj(l)}),e.bIt("ngModelChange",function(l){return e.eBV(i),e.Njj(n.onDateChange(l))})("nzOnCalendarChange",function(l){return e.eBV(i),e.Njj(n.onCalendarChange(l))}),e.k0s()(),e.j41(3,"div",4)(4,"div",5)(5,"button",6),e.bIt("click",function(){return e.eBV(i),e.Njj(n.onSearch())}),e.nrm(6,"i",7),e.EFF(7," Search "),e.k0s()()()(),e.nrm(8,"br"),e.j41(9,"div",8)(10,"div",9)(11,"nz-table",10,0)(13,"thead")(14,"tr")(15,"th",11),e.EFF(16,"QA Card"),e.k0s(),e.j41(17,"th",12),e.EFF(18,"Line"),e.k0s(),e.j41(19,"th",12),e.EFF(20,"Master"),e.k0s(),e.j41(21,"th",12),e.EFF(22,"Model Type"),e.k0s(),e.j41(23,"th",12),e.EFF(24,"Model"),e.k0s(),e.j41(25,"th",12),e.EFF(26,"L\xfd do"),e.k0s(),e.j41(27,"th",12),e.EFF(28,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(29,"th",12),e.EFF(30),e.k0s(),e.j41(31,"th",12),e.EFF(32),e.k0s(),e.j41(33,"th",12),e.EFF(34),e.k0s(),e.j41(35,"th",12),e.EFF(36),e.k0s(),e.j41(37,"th",12),e.EFF(38),e.k0s(),e.j41(39,"th",12),e.EFF(40,"Th\u1eddi gian"),e.k0s()()(),e.j41(41,"tbody"),e.DNE(42,is,33,47,"tr",13),e.k0s()()()()}if(2&a){const i=e.sdS(12);e.Y8G("nzGutter",24),e.R7$(2),e.R50("ngModel",n.date),e.R7$(7),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!0)("nzScroll",e.lJ4(12,ss)),e.R7$(19),e.JRh(n.valueNames[0]),e.R7$(2),e.JRh(n.valueNames[1]),e.R7$(2),e.JRh(n.valueNames[2]),e.R7$(2),e.JRh(n.valueNames[3]),e.R7$(2),e.JRh(n.valueNames[4]),e.R7$(4),e.Y8G("ngForOf",i.data)}},dependencies:[m.YU,m.Sq,d.BC,d.vS,j.Dn,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,M.aO,h.c,z.p,k.SN,k.vw,m.QX,m.vh]})}return s})();function os(s,r){if(1&s){const t=e.RV6();e.qex(0),e.j41(1,"td",8),e.EFF(2),e.k0s(),e.j41(3,"td",8),e.EFF(4),e.k0s(),e.j41(5,"td",8),e.EFF(6),e.k0s(),e.j41(7,"td",8),e.EFF(8),e.k0s(),e.j41(9,"td",8),e.EFF(10),e.k0s(),e.j41(11,"td",8)(12,"a",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.startEdit(n.id))}),e.EFF(13,"Edit"),e.k0s()(),e.bVm()}if(2&s){const t=e.XpG().$implicit;e.R7$(2),e.JRh(t.e1),e.R7$(2),e.JRh(t.e2),e.R7$(2),e.JRh(t.e3),e.R7$(2),e.JRh(t.e4),e.R7$(2),e.JRh(t.e5)}}function ls(s,r){if(1&s){const t=e.RV6();e.j41(0,"td",8)(1,"input",12),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG().$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.e1,n)||(o.editCache[i.id].data.e1=n),e.Njj(n)}),e.k0s()(),e.j41(2,"td",8)(3,"input",12),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG().$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.e2,n)||(o.editCache[i.id].data.e2=n),e.Njj(n)}),e.k0s()(),e.j41(4,"td",8)(5,"input",12),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG().$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.e3,n)||(o.editCache[i.id].data.e3=n),e.Njj(n)}),e.k0s()(),e.j41(6,"td",8)(7,"input",12),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG().$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.e4,n)||(o.editCache[i.id].data.e4=n),e.Njj(n)}),e.k0s()(),e.j41(8,"td",8)(9,"input",12),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG().$implicit,o=e.XpG();return e.DH7(o.editCache[i.id].data.e5,n)||(o.editCache[i.id].data.e5=n),e.Njj(n)}),e.k0s()(),e.j41(10,"td",8)(11,"a",13),e.bIt("nzOnConfirm",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.saveEdit(n.id))}),e.EFF(12," L\u01b0u "),e.k0s(),e.EFF(13," | "),e.j41(14,"a",11),e.bIt("click",function(){e.eBV(t);const n=e.XpG().$implicit,i=e.XpG();return e.Njj(i.cancelEdit(n.id))}),e.EFF(15,"H\u1ee7y"),e.k0s()()}if(2&s){const t=e.XpG().$implicit,a=e.XpG();e.R7$(),e.R50("ngModel",a.editCache[t.id].data.e1),e.R7$(2),e.R50("ngModel",a.editCache[t.id].data.e2),e.R7$(2),e.R50("ngModel",a.editCache[t.id].data.e3),e.R7$(2),e.R50("ngModel",a.editCache[t.id].data.e4),e.R7$(2),e.R50("ngModel",a.editCache[t.id].data.e5)}}function ds(s,r){if(1&s&&(e.j41(0,"tr"),e.DNE(1,os,14,5,"ng-container",10)(2,ls,16,5,"ng-template",null,1,e.C5r),e.k0s()),2&s){const t=r.$implicit,a=e.sdS(3),n=e.XpG();e.R7$(),e.Y8G("ngIf",!n.editCache[t.id].edit)("ngIfElse",a)}}let cs=(()=>{class s{constructor(t,a,n){this.toastr=t,this.measureService=a,this.jwtHelperService=n,this.approveEmit=new e.bkB,this.isApprove=!1,this.editCache={},this.isLoading=!1}ngOnInit(){this.valueNames=this.standard.valueName.split(";"),this.isApprove=null!==this.masterData.approvedBy,this.getDetailData(this.masterData.id)}getDetailData(t){let a=new Y;a.master=t,this.measureService.getDetailData(a).subscribe(n=>{this.detailsData=n,this.updateEditCache()})}confirmApprove(){let t=this.jwtHelperService.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;this.measureService.approveData(this.masterData.id,t).subscribe(a=>{this.isApprove=!this.isApprove,this.toastr.success("Approved !"),this.approveEmit.emit()})}startEdit(t){null==this.masterData.approvedBy?this.editCache[t].edit=!0:this.toastr.warning("Kh\xf4ng th\u1ec3 s\u1eeda khi \u0111\xe3 Approve !")}cancelEdit(t){const a=this.detailsData.findIndex(n=>n.id===t);this.editCache[t]={data:{...this.detailsData[a]},edit:!1}}saveEdit(t){const a=this.detailsData.findIndex(o=>o.id===t);Object.assign(this.detailsData[a],this.editCache[t].data),this.editCache[t].edit=!1}commitDataChange(){this.isLoading=!0,console.log("Data change = ",this.detailsData),this.measureService.updateDetailData(this.detailsData).subscribe(t=>{this.isLoading=!1,this.toastr.success("Saved !"),console.log("Edit Response : ",t),this.getDetailData(this.masterData.id)})}updateEditCache(){this.detailsData.forEach(t=>{this.editCache[t.id]={edit:!1,data:{...t}}})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(A.tw),e.rXU(u),e.rXU(q.X7))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-mea-mng-edit-type5"]],inputs:{item:"item",masterData:"masterData",standard:"standard"},outputs:{approveEmit:"approveEmit"},decls:40,vars:24,consts:[["editRowTable",""],["editTemplate",""],["nz-checkbox","",2,"margin-right","20px",3,"ngModelChange","ngModel"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn kh\xf4ng ?","nzPopconfirmPlacement","right",3,"nzOnConfirm","nzType","nzSize"],["nz-row","","nzJustify","end","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["nz-button","",2,"background-color","#87d068","float","right",3,"click","nzLoading","nzType"],["nzBordered","","nzTableLayout","fixed",3,"nzData","nzFrontPagination"],[1,"text-center"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],[3,"click"],["type","number","nz-input","",3,"ngModelChange","ngModel"],["nz-popconfirm","","nzPopconfirmTitle","Ch\u1eafc ch\u1eafn l\u01b0u ?",3,"nzOnConfirm"]],template:function(a,n){if(1&a){const i=e.RV6();e.j41(0,"ul")(1,"li"),e.EFF(2),e.k0s(),e.j41(3,"li"),e.EFF(4),e.k0s(),e.j41(5,"li"),e.EFF(6),e.k0s(),e.j41(7,"li"),e.EFF(8),e.k0s(),e.j41(9,"li"),e.EFF(10),e.nI1(11,"date"),e.k0s(),e.j41(12,"li"),e.EFF(13," X\xe1c nh\u1eadn: "),e.j41(14,"label",2),e.mxI("ngModelChange",function(l){return e.eBV(i),e.DH7(n.isApprove,l)||(n.isApprove=l),e.Njj(l)}),e.k0s(),e.j41(15,"button",3),e.bIt("nzOnConfirm",function(){return e.eBV(i),e.Njj(n.confirmApprove())}),e.EFF(16),e.k0s()()(),e.j41(17,"div",4)(18,"div",5)(19,"button",6),e.bIt("click",function(){return e.eBV(i),e.Njj(n.commitDataChange())}),e.EFF(20," L\u01b0u thay \u0111\u1ed5i "),e.k0s()()(),e.nrm(21,"br"),e.j41(22,"nz-table",7,0)(24,"thead")(25,"tr")(26,"th",8),e.EFF(27),e.k0s(),e.j41(28,"th",8),e.EFF(29),e.k0s(),e.j41(30,"th",8),e.EFF(31),e.k0s(),e.j41(32,"th",8),e.EFF(33),e.k0s(),e.j41(34,"th",8),e.EFF(35),e.k0s(),e.j41(36,"th",8),e.EFF(37,"Action"),e.k0s()()(),e.j41(38,"tbody"),e.DNE(39,ds,4,2,"tr",9),e.k0s()()}if(2&a){const i=e.sdS(23);e.R7$(2),e.Lme("H\u1ea1ng m\u1ee5c: ",n.item.name," - (Line: ",n.masterData.line,")"),e.R7$(2),e.SpI("Model: ",n.masterData.model,""),e.R7$(2),e.SpI("Th\u1ef1c hi\u1ec7n: ",n.masterData.userName,""),e.R7$(2),e.SpI("L\xfd do: ",n.masterData.reasonName,""),e.R7$(2),e.SpI("Th\u1eddi gian: ",e.i5U(11,21,n.masterData.createdAt,"yyyy-MM-dd HH:mm:ss"),""),e.R7$(4),e.R50("ngModel",n.isApprove),e.R7$(),e.Y8G("nzType","primary")("nzSize","small"),e.R7$(),e.SpI(" ",n.isApprove?"H\u1ee7y x\xe1c nh\u1eadn":"X\xe1c nh\u1eadn"," "),e.R7$(),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzLoading",n.isLoading)("nzType","primary"),e.R7$(3),e.Y8G("nzData",n.detailsData)("nzFrontPagination",!1),e.R7$(5),e.JRh(n.valueNames[0]),e.R7$(2),e.JRh(n.valueNames[1]),e.R7$(2),e.JRh(n.valueNames[2]),e.R7$(2),e.JRh(n.valueNames[3]),e.R7$(2),e.JRh(n.valueNames[4]),e.R7$(4),e.Y8G("ngForOf",i.data)}},dependencies:[m.Sq,m.bT,d.me,d.Q0,d.BC,d.vS,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,y.Sy,M.aO,h.c,z.p,S.$g,R.PV,m.vh]})}return s})();const ms=()=>({rows:4}),us=()=>({x:"1200px"}),hs=()=>[""];function ps(s,r){if(1&s&&e.nrm(0,"nz-option",17),2&s){const t=r.$implicit;e.Y8G("nzValue",t.value)("nzLabel",t.label)}}function _s(s,r){if(1&s&&e.nrm(0,"nz-option",17),2&s){const t=r.$implicit;e.Y8G("nzValue",t.value)("nzLabel",t.label)}}function gs(s,r){if(1&s&&e.nrm(0,"nz-option",17),2&s){const t=r.$implicit;e.Y8G("nzValue",t.name)("nzLabel",t.name)}}function zs(s,r){if(1&s&&e.nrm(0,"nz-option",17),2&s){const t=r.$implicit;e.Y8G("nzValue",t.username)("nzLabel",t.name+" - "+t.username)}}function Fs(s,r){if(1&s&&e.nrm(0,"nz-option",17),2&s){const t=r.$implicit;e.Y8G("nzValue",t.value)("nzLabel",t.label)}}function Es(s,r){if(1&s&&e.nrm(0,"nz-option",17),2&s){const t=r.$implicit;e.Y8G("nzValue",t.id)("nzLabel",t.name)}}function Cs(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",1)(1,"div",5)(2,"label",6),e.EFF(3,"Model"),e.k0s(),e.j41(4,"div",6)(5,"nz-select",18),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.searchParams.model,n)||(i.searchParams.model=n),e.Njj(n)}),e.DNE(6,gs,1,2,"nz-option",8),e.k0s()()(),e.j41(7,"div",5)(8,"label",6),e.EFF(9,"Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(10,"div",6)(11,"nz-select",19),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.searchParams.user,n)||(i.searchParams.user=n),e.Njj(n)}),e.DNE(12,zs,1,2,"nz-option",8),e.k0s()()(),e.j41(13,"div",5)(14,"label",6),e.EFF(15,"Ca l\xe0m vi\u1ec7c"),e.k0s(),e.j41(16,"div",6)(17,"nz-select",20),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.searchParams.shift,n)||(i.searchParams.shift=n),e.Njj(n)}),e.DNE(18,Fs,1,2,"nz-option",8),e.k0s()()(),e.j41(19,"div",5)(20,"label",6),e.EFF(21,"L\xfd do"),e.k0s(),e.j41(22,"div",6)(23,"nz-select",21),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.searchParams.reason,n)||(i.searchParams.reason=n),e.Njj(n)}),e.DNE(24,Es,1,2,"nz-option",8),e.k0s()()()()}if(2&s){const t=e.XpG();e.Y8G("nzGutter",24),e.R7$(5),e.R50("ngModel",t.searchParams.model),e.R7$(),e.Y8G("ngForOf",t.models),e.R7$(5),e.R50("ngModel",t.searchParams.user),e.R7$(),e.Y8G("ngForOf",t.users),e.R7$(5),e.R50("ngModel",t.searchParams.shift),e.R7$(),e.Y8G("ngForOf",t.shifts),e.R7$(5),e.R50("ngModel",t.searchParams.reason),e.R7$(),e.Y8G("ngForOf",t.reasons)}}function Ms(s,r){1&s&&e.nrm(0,"nz-skeleton",22),2&s&&e.Y8G("nzActive",!0)("nzParagraph",e.lJ4(2,ms))}function fs(s,r){if(1&s){const t=e.RV6();e.j41(0,"tr",44),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.onClickRowMaster(n))}),e.j41(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td"),e.EFF(6),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td"),e.EFF(10),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td"),e.EFF(14),e.k0s(),e.j41(15,"td"),e.EFF(16),e.k0s(),e.j41(17,"td",32),e.EFF(18),e.nI1(19,"date"),e.k0s()()}if(2&s){const t=r.$implicit;e.R7$(2),e.JRh(t.id),e.R7$(2),e.JRh(t.qaCard),e.R7$(2),e.JRh(t.line),e.R7$(2),e.JRh(t.mold),e.R7$(2),e.JRh(t.model),e.R7$(2),e.JRh(t.reasonName),e.R7$(2),e.JRh(t.userName),e.R7$(2),e.JRh(t.approverName),e.R7$(2),e.Lme(" ",e.i5U(19,10,t.createdAt,"yyyy-MM-dd HH:mm:ss")," - (",t.shift,") ")}}function Rs(s,r){if(1&s&&e.nrm(0,"app-mea-mng-type1",48),2&s){const t=e.XpG(3);e.Y8G("item",t.item)("images",t.itemImages)("standard",t.standard)("searchParams",t.searchParams)}}function js(s,r){if(1&s&&e.nrm(0,"app-mea-mng-type2",48),2&s){const t=e.XpG(3);e.Y8G("item",t.item)("images",t.itemImages)("standard",t.standard)("searchParams",t.searchParams)}}function bs(s,r){if(1&s&&e.nrm(0,"app-mea-mng-type3",48),2&s){const t=e.XpG(3);e.Y8G("item",t.item)("images",t.itemImages)("standard",t.standard)("searchParams",t.searchParams)}}function ks(s,r){if(1&s&&e.nrm(0,"app-mea-mng-type4",48),2&s){const t=e.XpG(3);e.Y8G("item",t.item)("images",t.itemImages)("standard",t.standard)("searchParams",t.searchParams)}}function vs(s,r){if(1&s&&e.nrm(0,"app-mea-mng-type5",48),2&s){const t=e.XpG(3);e.Y8G("item",t.item)("images",t.itemImages)("standard",t.standard)("searchParams",t.searchParams)}}function ys(s,r){if(1&s&&(e.j41(0,"nz-tab",45)(1,"container-element",46),e.DNE(2,Rs,1,4,"app-mea-mng-type1",47)(3,js,1,4,"app-mea-mng-type2",47)(4,bs,1,4,"app-mea-mng-type3",47)(5,ks,1,4,"app-mea-mng-type4",47)(6,vs,1,4,"app-mea-mng-type5",47),e.k0s()()),2&s){const t=e.XpG(2);e.R7$(),e.Y8G("ngSwitch",t.standard.type),e.R7$(),e.Y8G("ngSwitchCase",1),e.R7$(),e.Y8G("ngSwitchCase",2),e.R7$(),e.Y8G("ngSwitchCase",3),e.R7$(),e.Y8G("ngSwitchCase",4),e.R7$(),e.Y8G("ngSwitchCase",5)}}function Ts(s,r){if(1&s){const t=e.RV6();e.j41(0,"div",49)(1,"nz-card",50),e.nrm(2,"img",39),e.j41(3,"span",51),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG(2);return e.Njj(i.removeImage(n))}),e.EFF(4,"X\xf3a"),e.k0s()()()}if(2&s){const t=r.$implicit,a=e.XpG(2);e.R7$(2),e.Y8G("nzSrc",a.baseUrl+(null==t?null:t.imageUrl))}}function Ds(s,r){if(1&s){const t=e.RV6();e.j41(0,"nz-tabset")(1,"nz-tab",23)(2,"div",1)(3,"div",24)(4,"button",25),e.bIt("nzOnConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.quickApprove())}),e.EFF(5," Quick Approve "),e.k0s()(),e.j41(6,"div",26)(7,"nz-range-picker",27),e.mxI("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.DH7(i.date,n)||(i.date=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onDateChange(n))})("nzOnCalendarChange",function(n){e.eBV(t);const i=e.XpG();return e.Njj(i.onCalendarChange(n))}),e.k0s()(),e.j41(8,"div",24)(9,"div",28)(10,"button",29),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSearch())}),e.nrm(11,"i",30),e.EFF(12," Search "),e.k0s()()()(),e.nrm(13,"br"),e.j41(14,"div",1)(15,"div",2)(16,"nz-table",31,0)(18,"thead")(19,"tr")(20,"th",32),e.EFF(21,"Id"),e.k0s(),e.j41(22,"th",33),e.EFF(23,"QA Card"),e.k0s(),e.j41(24,"th",32),e.EFF(25,"Line"),e.k0s(),e.j41(26,"th",32),e.EFF(27,"Khu\xf4n"),e.k0s(),e.j41(28,"th",32),e.EFF(29,"Model"),e.k0s(),e.j41(30,"th",32),e.EFF(31,"L\xfd do"),e.k0s(),e.j41(32,"th",32),e.EFF(33,"Th\u1ef1c hi\u1ec7n"),e.k0s(),e.j41(34,"th",32),e.EFF(35,"X\xe1c nh\u1eadn"),e.k0s(),e.j41(36,"th",32),e.EFF(37,"Th\u1eddi gian"),e.k0s()()(),e.j41(38,"tbody"),e.DNE(39,fs,20,13,"tr",34),e.k0s()()()()(),e.DNE(40,ys,7,6,"nz-tab",35),e.j41(41,"nz-tab",36)(42,"nz-table",37)(43,"tbody")(44,"tr")(45,"td",38),e.nrm(46,"img",39),e.k0s(),e.j41(47,"td",40),e.EFF(48,"H\u1ea1ng m\u1ee5c:"),e.k0s(),e.j41(49,"td")(50,"nz-tag",3),e.EFF(51),e.k0s()()(),e.j41(52,"tr")(53,"td"),e.EFF(54,"C\xf4ng \u0111o\u1ea1n:"),e.k0s(),e.j41(55,"td")(56,"nz-tag",3),e.EFF(57),e.k0s()()(),e.j41(58,"tr")(59,"td"),e.EFF(60,"C\xf4ng c\u1ee5:"),e.k0s(),e.j41(61,"td")(62,"nz-tag",3),e.EFF(63),e.k0s()()(),e.j41(64,"tr")(65,"td"),e.EFF(66,"Ti\xeau chu\u1ea9n:"),e.k0s(),e.j41(67,"td")(68,"nz-tag",3),e.EFF(69),e.k0s()()(),e.j41(70,"tr")(71,"td"),e.EFF(72,"\u0110\u01a1n v\u1ecb \u0111o:"),e.k0s(),e.j41(73,"td")(74,"nz-tag",3),e.EFF(75),e.k0s()()(),e.j41(76,"tr")(77,"td"),e.EFF(78,"C\xf4ng th\u1ee9c:"),e.k0s(),e.j41(79,"td")(80,"nz-tag",3),e.EFF(81),e.k0s()()()()()(),e.j41(82,"nz-tab",41)(83,"a",42),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openUploadImageModal())}),e.EFF(84,"Upload \u1ea3nh"),e.k0s(),e.j41(85,"nz-image-group",1),e.DNE(86,Ts,5,1,"div",43),e.k0s()()()}if(2&s){const t=e.sdS(17),a=e.XpG();e.R7$(2),e.Y8G("nzGutter",24),e.R7$(5),e.R50("ngModel",a.date),e.R7$(7),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzData",a.mastersData)("nzFrontPagination",!0)("nzScroll",e.lJ4(25,us)),e.R7$(23),e.Y8G("ngForOf",t.data),e.R7$(),e.Y8G("ngIf","CHECK_SHEET"!=a.form),e.R7$(2),e.Y8G("nzData",e.lJ4(26,hs))("nzFrontPagination",!1),e.R7$(4),e.Y8G("nzSrc",a.baseUrl+(null==a.itemImages[0]?null:a.itemImages[0].imageUrl)),e.R7$(4),e.Y8G("nzColor","red"),e.R7$(),e.JRh(null==a.item?null:a.item.name),e.R7$(5),e.Y8G("nzColor","green"),e.R7$(),e.JRh(null==a.standard?null:a.standard.process),e.R7$(5),e.Y8G("nzColor","cyan"),e.R7$(),e.JRh(null==a.standard?null:a.standard.tool),e.R7$(5),e.Y8G("nzColor","blue"),e.R7$(),e.JRh(null==a.standard?null:a.standard.standard),e.R7$(5),e.Y8G("nzColor","geekblue"),e.R7$(),e.JRh(null==a.standard?null:a.standard.unit),e.R7$(5),e.Y8G("nzColor","purple"),e.R7$(),e.JRh(null==a.standard?null:a.standard.formula),e.R7$(4),e.Y8G("nzGutter",24),e.R7$(),e.Y8G("ngForOf",a.itemImages)}}function $s(s,r){if(1&s){const t=e.RV6();e.j41(0,"app-mea-mng-edit-type1",54),e.bIt("approveEmit",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.handleApproveEmit())}),e.k0s()}if(2&s){const t=e.XpG(3);e.Y8G("item",t.item)("masterData",t.masterData)("standard",t.standard)}}function Is(s,r){if(1&s){const t=e.RV6();e.j41(0,"app-mea-mng-edit-type2",54),e.bIt("approveEmit",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.handleApproveEmit())}),e.k0s()}if(2&s){const t=e.XpG(3);e.Y8G("item",t.item)("masterData",t.masterData)("standard",t.standard)}}function Gs(s,r){if(1&s){const t=e.RV6();e.j41(0,"app-mea-mng-edit-type3",54),e.bIt("approveEmit",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.handleApproveEmit())}),e.k0s()}if(2&s){const t=e.XpG(3);e.Y8G("item",t.item)("masterData",t.masterData)("standard",t.standard)}}function Ss(s,r){if(1&s){const t=e.RV6();e.j41(0,"app-mea-mng-edit-type4",54),e.bIt("approveEmit",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.handleApproveEmit())}),e.k0s()}if(2&s){const t=e.XpG(3);e.Y8G("item",t.item)("masterData",t.masterData)("standard",t.standard)}}function Ps(s,r){if(1&s){const t=e.RV6();e.j41(0,"app-mea-mng-edit-type5",54),e.bIt("approveEmit",function(){e.eBV(t);const n=e.XpG(3);return e.Njj(n.handleApproveEmit())}),e.k0s()}if(2&s){const t=e.XpG(3);e.Y8G("item",t.item)("masterData",t.masterData)("standard",t.standard)}}function xs(s,r){if(1&s&&(e.j41(0,"container-element",46),e.DNE(1,$s,1,3,"app-mea-mng-edit-type1",53)(2,Is,1,3,"app-mea-mng-edit-type2",53)(3,Gs,1,3,"app-mea-mng-edit-type3",53)(4,Ss,1,3,"app-mea-mng-edit-type4",53)(5,Ps,1,3,"app-mea-mng-edit-type5",53),e.k0s()),2&s){const t=e.XpG(2);e.Y8G("ngSwitch",t.standard.type),e.R7$(),e.Y8G("ngSwitchCase",1),e.R7$(),e.Y8G("ngSwitchCase",2),e.R7$(),e.Y8G("ngSwitchCase",3),e.R7$(),e.Y8G("ngSwitchCase",4),e.R7$(),e.Y8G("ngSwitchCase",5)}}function Ns(s,r){1&s&&(e.j41(0,"h1"),e.EFF(1,"Form checksheet"),e.k0s())}function Os(s,r){if(1&s&&(e.qex(0),e.DNE(1,xs,6,6,"ng-template",52)(2,Ns,2,0,"ng-template",52),e.bVm()),2&s){const t=e.XpG();e.R7$(),e.Y8G("ngIf","CHECK_SHEET"!=t.form),e.R7$(),e.Y8G("ngIf","CHECK_SHEET"==t.form)}}function As(s,r){if(1&s){const t=e.RV6();e.j41(0,"button",55),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isShowDetailModal=!1)}),e.EFF(1," \u0110\xf3ng "),e.k0s()}}function ws(s,r){if(1&s&&(e.qex(0),e.j41(1,"nz-upload",56)(2,"button",57),e.nrm(3,"i",58),e.EFF(4," Click to Upload "),e.k0s()(),e.bVm()),2&s){const t=e.XpG();e.R7$(),e.Y8G("nzAction",t.uploadImageURL)("nzBeforeUpload",t.beforeUpload)}}function Ys(s,r){if(1&s){const t=e.RV6();e.j41(0,"button",55),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeUploadImageModal())}),e.EFF(1," \u0110\xf3ng "),e.k0s()}}let Bs=(()=>{class s{constructor(t,a,n,i,o){this.activatedRoute=t,this.measureService=a,this.msg=n,this.toastr=i,this.jwtHelperService=o,this.baseUrl=g.c.baseUrl,this.isShowSearch=!1,this.isShowLoading=!1,this.isShowTab=!1,this.lines=B,this.shifts=W,this.searchParams=new Y,this.date=null,this.isShowDetailModal=!1,this.isShowUploadImageModal=!1,this.beforeUpload=l=>new _a.c(pe=>{const fe="image/jpeg"===l.type||"image/png"===l.type;if(!fe)return this.msg.error("B\u1ea1n ch\u1ec9 c\xf3 th\u1ec3 upload \u1ea3nh"),void pe.complete();pe.next(fe),pe.complete()})}ngOnInit(){this.itemName=this.activatedRoute.snapshot.queryParams.itemName,this.form=this.activatedRoute.snapshot.queryParams.form,this.getUsers(),this.getReasons(),this.getModel()}getUsers(){this.measureService.getUsers().subscribe(t=>{this.users=t})}getModel(){this.measureService.getModels().subscribe(t=>{this.models=t})}getReasons(){this.measureService.getReasons().subscribe(t=>{this.reasons=t})}onChangeLine(t){this.isShowSearch=!1,this.isShowTab=!1;let a=t.replace(/\d+/g,"");this.modelTypes=Q.filter(n=>n.type==a),this.item=null,this.searchParams.modelType=""}onChangeModelType(t){let a=this.activatedRoute.snapshot.queryParams.item;this.searchParams.item=a,this.searchParams.modelType=t,"CHECK_SHEET"==this.form?this.handleCheckSheetForm(a,t):this.handleNormalForm(a,t)}handleCheckSheetForm(t,a){this.isShowLoading=!0,this.getMasterData(this.searchParams),this.measureService.getItemImagesV2(t,a).subscribe(n=>{this.itemImages=n,this.isShowTab=!0,this.isShowLoading=!1,console.log("ItemImages: ",this.itemImages)})}handleNormalForm(t,a){this.isShowLoading=!0,this.measureService.getItemImagesV2(t,a).subscribe(n=>{this.itemImages=n}),this.measureService.getStandard(t,a).subscribe(n=>{this.item=n.item,this.standard=n.standard,console.log("AAAAA: ",this.standard),this.isShowLoading=!1,this.isShowSearch=!0,this.isShowTab=!0}),this.getMasterData(this.searchParams)}getMasterData(t){this.measureService.getMasterData(t).subscribe(a=>{this.mastersData=a})}onSearch(){console.log("searchParams: ",this.searchParams),this.getMasterData(this.searchParams)}onCalendarChange(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}onDateChange(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}onClickRowMaster(t){console.log("Master row: ",t),this.masterData=t,console.log("Item : ",this.item),console.log("Form : ",this.form),this.isShowDetailModal=!0}handleApproveEmit(){this.getMasterData(this.searchParams)}openUploadImageModal(){this.isShowUploadImageModal=!0,this.uploadImageURL=`${this.baseUrl}/Relay/Measurement/UploadImage?item=${this.item.id}&modelType=${this.searchParams.modelType}`}closeUploadImageModal(){this.measureService.getItemImagesV2(this.item.id,this.searchParams.modelType).subscribe(t=>{this.itemImages=t,this.isShowUploadImageModal=!1})}removeImage(t){console.log(t),this.measureService.removeImage(t.id).subscribe(a=>{this.measureService.getItemImagesV2(this.item.id,this.searchParams.modelType).subscribe(n=>{this.itemImages=n})})}quickApprove(){if(!this.searchParams.fromDate||!this.searchParams.fromDate)return void this.toastr.warning("C\u1ea7n ch\u1ecdn kho\u1ea3ng th\u1eddi gian !");let t=this.jwtHelperService.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;console.log("Datas: ",this.mastersData),console.log("Approver: ",t),this.measureService.quickApprove(this.mastersData,t).subscribe(a=>{this.toastr.success("OK","Approved !"),this.onSearch()})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(O.nX),e.rXU(u),e.rXU(b.xh),e.rXU(A.tw),e.rXU(q.X7))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-management-item-measurement"]],decls:40,vars:15,consts:[["masterTable",""],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],[3,"nzColor"],["nzHeader","Th\xf4ng tin b\u1eaft bu\u1ed9c",3,"nzActive","nzShowArrow"],["nz-col","","nzXs","12","nzSm","12","nzLg","6"],["nzXs","24","nzSm","24","nzLg","24"],["nzPlaceHolder","Ch\u1ecdn Line",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzPlaceHolder","Ch\u1ecdn d\xf2ng s\u1ea3n ph\u1ea9m",3,"ngModelChange","ngModel"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter",4,"ngIf"],[3,"nzActive","nzParagraph",4,"ngIf"],[4,"ngIf"],["nzTitle","Detail",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[3,"nzModalFooter"],["nzTitle","Upload Image",3,"nzVisibleChange","nzVisible"],[3,"nzValue","nzLabel"],["nzPlaceHolder","Ch\u1ecdn Model","nzShowSearch","","nzAllowClear","",3,"ngModelChange","ngModel"],["nzPlaceHolder","Ch\u1ecdn nh\xe2n vi\xean","nzShowSearch","","nzAllowClear","",3,"ngModelChange","ngModel"],["nzPlaceHolder","Ch\u1ecdn ca l\xe0m vi\u1ec7c","nzAllowClear","",3,"ngModelChange","ngModel"],["nzPlaceHolder","Ch\u1ecdn l\xfd do","nzAllowClear","",3,"ngModelChange","ngModel"],[3,"nzActive","nzParagraph"],["nzTitle","Master Data"],["nz-col","","nzXs","3","nzSm","3","nzLg","3"],["nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn ph\xea duy\u1ec7t c\xe1c d\u1eef li\u1ec7u n\xe0y ?","nzPopconfirmPlacement","topLeft","nz-button","",3,"nzOnConfirm"],["nz-col","","nzXs","6","nzSm","6","nzLg","6"],["nzFormat","yyyy-MM-dd",3,"ngModelChange","nzOnCalendarChange","ngModel"],["nz-row","","nzJustify","end","nzAlign","middle"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","search"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination","nzScroll"],[1,"text-center"],[1,"text-center",2,"width","200px"],[3,"click",4,"ngFor","ngForOf"],["nzTitle","Detail Data",4,"ngIf"],["nzTitle","Ti\xeau chu\u1ea9n"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination"],["rowspan","6",1,"item-img"],["nz-image","",3,"nzSrc"],["width","100px"],["nzTitle","H\xecnh \u1ea3nh"],["nz-button","","nzType","link",3,"click"],["nz-col","","nzXs","24","nzSm","12","nzMd","8","nzLg","6",4,"ngFor","ngForOf"],[3,"click"],["nzTitle","Detail Data"],[3,"ngSwitch"],[3,"item","images","standard","searchParams",4,"ngSwitchCase"],[3,"item","images","standard","searchParams"],["nz-col","","nzXs","24","nzSm","12","nzMd","8","nzLg","6"],[1,"item-img",2,"margin-bottom","10px"],[1,"remove",2,"float","right",3,"click"],[3,"ngIf"],[3,"item","masterData","standard","approveEmit",4,"ngSwitchCase"],[3,"approveEmit","item","masterData","standard"],["nz-button","","nzType","default",3,"click"],["nzListType","picture",3,"nzAction","nzBeforeUpload"],["nz-button",""],["nz-icon","","nzType","upload"]],template:function(a,n){1&a&&(e.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),e.EFF(2," Manufacturing "),e.k0s(),e.j41(3,"nz-breadcrumb-item"),e.EFF(4," Measurement "),e.k0s(),e.j41(5,"nz-breadcrumb-item"),e.EFF(6," H\u1ea1ng m\u1ee5c "),e.k0s(),e.j41(7,"nz-breadcrumb-item"),e.EFF(8," Qu\u1ea3n l\xfd d\u1eef li\u1ec7u "),e.k0s()(),e.nrm(9,"br"),e.j41(10,"div",1)(11,"div",2)(12,"nz-tag",3),e.EFF(13),e.k0s()()(),e.nrm(14,"br"),e.j41(15,"nz-collapse")(16,"nz-collapse-panel",4)(17,"div",1)(18,"div",5)(19,"label",6),e.EFF(20,"Line"),e.k0s(),e.j41(21,"div",6)(22,"nz-select",7),e.bIt("ngModelChange",function(o){return n.onChangeLine(o)}),e.mxI("ngModelChange",function(o){return e.DH7(n.searchParams.line,o)||(n.searchParams.line=o),o}),e.DNE(23,ps,1,2,"nz-option",8),e.k0s()()(),e.j41(24,"div",5)(25,"label",6),e.EFF(26,"D\xf2ng s\u1ea3n ph\u1ea9m"),e.k0s(),e.j41(27,"div",6)(28,"nz-select",9),e.bIt("ngModelChange",function(o){return n.onChangeModelType(o)}),e.mxI("ngModelChange",function(o){return e.DH7(n.searchParams.modelType,o)||(n.searchParams.modelType=o),o}),e.DNE(29,_s,1,2,"nz-option",8),e.k0s()()()(),e.nrm(30,"br"),e.DNE(31,Cs,25,9,"div",10),e.k0s()(),e.DNE(32,Ms,1,3,"nz-skeleton",11)(33,Ds,87,27,"nz-tabset",12),e.j41(34,"nz-modal",13),e.mxI("nzVisibleChange",function(o){return e.DH7(n.isShowDetailModal,o)||(n.isShowDetailModal=o),o}),e.DNE(35,Os,3,2,"ng-container",14)(36,As,2,0,"ng-template",15),e.k0s(),e.j41(37,"nz-modal",16),e.mxI("nzVisibleChange",function(o){return e.DH7(n.isShowUploadImageModal,o)||(n.isShowUploadImageModal=o),o}),e.DNE(38,ws,5,2,"ng-container",14)(39,Ys,2,0,"ng-template",15),e.k0s()),2&a&&(e.R7$(10),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzColor","blue"),e.R7$(),e.SpI("H\u1ea1ng m\u1ee5c : ",n.itemName," "),e.R7$(3),e.Y8G("nzActive",!0)("nzShowArrow",!0),e.R7$(),e.Y8G("nzGutter",24),e.R7$(5),e.R50("ngModel",n.searchParams.line),e.R7$(),e.Y8G("ngForOf",n.lines),e.R7$(5),e.R50("ngModel",n.searchParams.modelType),e.R7$(),e.Y8G("ngForOf",n.modelTypes),e.R7$(2),e.Y8G("ngIf",n.isShowSearch),e.R7$(),e.Y8G("ngIf",n.isShowLoading),e.R7$(),e.Y8G("ngIf",n.isShowTab),e.R7$(),e.R50("nzVisible",n.isShowDetailModal),e.R7$(3),e.R50("nzVisible",n.isShowUploadImageModal))},dependencies:[m.Sq,m.bT,m.ux,m.e1,d.BC,d.vS,v.hL,v.K7,j.Dn,_.Uq,_.e,c.CP,c.SO,c._4,c.IL,c.aj,c.kt,E.Vz,E.pc,P.ld,P.WI,D.JZ,D.rE,w.s,K.Bi,M.aO,h.c,z.p,F.F2,F.Oj,F.A9,f.r,f.as,k.SN,k.vw,I.cK,R.PV,se.$W,Fa,Ra,Da,xa,Ba,La,qa,as,rs,cs,m.vh],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-select[_ngcontent-%COMP%]{width:100%}nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}.item-img[_ngcontent-%COMP%]{text-align:center;vertical-align:middle}.item-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:50%;min-height:100px;height:100px}.item-img[_ngcontent-%COMP%]   .remove[_ngcontent-%COMP%]{display:none}.item-img[_ngcontent-%COMP%]:hover   .remove[_ngcontent-%COMP%]{display:block;cursor:pointer;font-weight:700;color:red}"]})}return s})(),Xs=(()=>{class s{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(a){return new(a||s)};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-measurement"]],decls:1,vars:0,template:function(a,n){1&a&&e.nrm(0,"router-outlet")},dependencies:[O.n3],encapsulation:2})}return s})();class Vs{}let Ls=(()=>{class s{constructor(t){this.httpClient=t,this.baseUrl=g.c.baseUrl}getXbarData(t){return this.httpClient.post(`${this.baseUrl}/Relay/Measurement/XbarR`,t)}static#e=this.\u0275fac=function(a){return new(a||s)(e.KVO($.Qq))};static#t=this.\u0275prov=e.jDH({token:s,factory:s.\u0275fac,providedIn:"root"})}return s})();var Me=p(31837);function Js(s,r){if(1&s&&e.nrm(0,"nz-option",18),2&s){const t=r.$implicit;e.Y8G("nzValue",t.value)("nzLabel",t.label)}}let Us=(()=>{class s{constructor(t,a,n){this.activatedRoute=t,this.measureService=a,this.xbarSvc=n,this.lines=B,this.searchParams=new Vs}ngOnInit(){this.item=this.activatedRoute.snapshot.queryParams.item,this.itemType=this.activatedRoute.snapshot.queryParams.itemType,this.itemName=this.activatedRoute.snapshot.queryParams.itemName}onSearch(){this.searchParams.item=Number(this.item),this.searchParams.itemType=Number(this.itemType),this.xbarSvc.getXbarData(this.searchParams).subscribe(t=>{this.xbarData=t,console.log("XBarData: ",t)})}onChange(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}onOk(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}onCalendarChange(t){this.searchParams.fromDate=t[0],this.searchParams.toDate=t[1]}onExporting(t){}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(O.nX),e.rXU(u),e.rXU(Ls))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-xbar-chart-mea-detail"]],decls:39,vars:10,consts:[["nzHeader","Search",3,"nzActive","nzShowArrow"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","1","nzSm","1","nzLg","1"],["nz-col","","nzXs","2","nzSm","2","nzLg","2"],["nzPlaceHolder","Lines","nzShowSearch","","nzAllowClear","",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-col","","nzXs","6","nzSm","6","nzLg","6"],["nzFormat","yyyy-MM-dd","ngModel","",3,"ngModelChange","nzOnCalendarChange","nzOnOk"],["nz-button","","nzType","primary",2,"float","right",3,"click"],["id","gridContainer",3,"onExporting","dataSource","showBorders"],["dataField","model"],["dataField","createdAt"],["dataField","value1"],["dataField","value2"],["dataField","value3"],["dataField","value4"],["dataField","value5"],[3,"enabled","allowExportSelectedData"],[3,"nzValue","nzLabel"]],template:function(a,n){1&a&&(e.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),e.EFF(2," Manufacturing "),e.k0s(),e.j41(3,"nz-breadcrumb-item"),e.EFF(4," Measurement "),e.k0s(),e.j41(5,"nz-breadcrumb-item"),e.EFF(6," Xbar-R "),e.k0s(),e.j41(7,"nz-breadcrumb-item"),e.EFF(8," Detail "),e.k0s()(),e.nrm(9,"br"),e.j41(10,"h3"),e.EFF(11),e.k0s(),e.j41(12,"nz-collapse")(13,"nz-collapse-panel",0)(14,"div",1)(15,"div",2)(16,"label"),e.EFF(17,"Line:"),e.k0s()(),e.j41(18,"div",3)(19,"nz-select",4),e.mxI("ngModelChange",function(o){return e.DH7(n.searchParams.line,o)||(n.searchParams.line=o),o}),e.DNE(20,Js,1,2,"nz-option",5),e.k0s()(),e.j41(21,"div",3)(22,"label"),e.EFF(23,"Th\u1eddi gian: "),e.k0s()(),e.j41(24,"div",6)(25,"nz-range-picker",7),e.bIt("ngModelChange",function(o){return n.onChange(o)})("nzOnCalendarChange",function(o){return n.onCalendarChange(o)})("nzOnOk",function(o){return n.onOk(o)}),e.k0s()(),e.j41(26,"div",3)(27,"button",8),e.bIt("click",function(){return n.onSearch()}),e.EFF(28," Search "),e.k0s()()()()(),e.nrm(29,"br"),e.j41(30,"dx-data-grid",9),e.bIt("onExporting",function(o){return n.onExporting(o)}),e.nrm(31,"dxi-column",10)(32,"dxi-column",11)(33,"dxi-column",12)(34,"dxi-column",13)(35,"dxi-column",14)(36,"dxi-column",15)(37,"dxi-column",16)(38,"dxo-export",17),e.k0s()),2&a&&(e.R7$(11),e.SpI("Xbar-R: ",n.itemName,""),e.R7$(2),e.Y8G("nzActive",!0)("nzShowArrow",!0),e.R7$(),e.Y8G("nzGutter",24),e.R7$(5),e.R50("ngModel",n.searchParams.line),e.R7$(),e.Y8G("ngForOf",n.lines),e.R7$(10),e.Y8G("dataSource",n.xbarData)("showBorders",!0),e.R7$(8),e.Y8G("enabled",!0)("allowExportSelectedData",!1))},dependencies:[m.Sq,d.BC,d.vS,C.s,Me.nj_,Me.ZJU,v.hL,v.K7,_.Uq,_.e,E.Vz,E.pc,P.ld,P.WI,M.aO,h.c,z.p,k.SN,k.vw],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-select[_ngcontent-%COMP%]{width:100%}"]})}return s})();function Hs(s,r){if(1&s){const t=e.RV6();e.j41(0,"tr",3),e.bIt("click",function(){const n=e.eBV(t).$implicit,i=e.XpG();return e.Njj(i.onRowClick(n))}),e.j41(1,"td"),e.EFF(2),e.k0s()()}if(2&s){const t=r.$implicit;e.R7$(2),e.JRh(t.name)}}const qs=[{path:"",component:Xs,children:[{path:"main",component:pa},{path:"items",component:ha},{path:"item-execute",component:ra},{path:"item-management",component:Bs},{path:"data-export",component:Ke},{path:"xbar-chart-list",component:(()=>{class s{constructor(t){this.router=t,this.items=[{id:6,name:"L\u1ef1c 2 ch\u1ed1t t\xe1n Spring v\u1edbi Yoke",itemType:1},{id:2,name:"Kho\u1ea3ng c\xe1ch khe h\u1edf bobbin t\u1edbi tai Armature",itemType:2},{id:21,name:"K\xedch th\u01b0\u1edbc khe h\u1edf gi\u1eefa Yoke - Bobbin",itemType:2}],this.dataSource=new Array}ngOnInit(){}onRowClick(t){this.router.navigate(["admin/relay/measurement/xbar-chart-detail"],{queryParams:{item:t.id,itemType:t.itemType,itemName:t.name}})}static#e=this.\u0275fac=function(a){return new(a||s)(e.rXU(O.Ix))};static#t=this.\u0275cmp=e.VBU({type:s,selectors:[["app-xbar-chart-mea-list"]],decls:16,vars:3,consts:[["basicTable",""],[3,"nzData","nzFrontPagination"],[3,"click",4,"ngFor","ngForOf"],[3,"click"]],template:function(a,n){if(1&a&&(e.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),e.EFF(2," Manufacturing "),e.k0s(),e.j41(3,"nz-breadcrumb-item"),e.EFF(4," Measurement "),e.k0s(),e.j41(5,"nz-breadcrumb-item"),e.EFF(6," Xbar Chart "),e.k0s()(),e.nrm(7,"br"),e.j41(8,"nz-table",1,0)(10,"thead")(11,"tr")(12,"th"),e.EFF(13,"H\u1ea1ng m\u1ee5c"),e.k0s()()(),e.j41(14,"tbody"),e.DNE(15,Hs,3,1,"tr",2),e.k0s()()),2&a){const i=e.sdS(9);e.R7$(8),e.Y8G("nzData",n.items)("nzFrontPagination",!1),e.R7$(7),e.Y8G("ngForOf",i.data)}},dependencies:[m.Sq,v.hL,v.K7,c.CP,c.SO,c._4,c.IL,c.aj,c.kt]})}return s})()},{path:"xbar-chart-detail",component:Us}]}];let Ks=(()=>{class s{static#e=this.\u0275fac=function(a){return new(a||s)};static#t=this.\u0275mod=e.$C({type:s});static#n=this.\u0275inj=e.G2t({imports:[O.iI.forChild(qs),O.iI]})}return s})(),Qs=(()=>{class s{static#e=this.\u0275fac=function(a){return new(a||s)};static#t=this.\u0275mod=e.$C({type:s});static#n=this.\u0275inj=e.G2t({imports:[m.MD,d.X1,d.YN,Ks,C.N,v.EJ,j.Y3,_.f3,c.$G,E.GB,P.DH,N.g,D.hM,w.T,K.i3,y.j,M.Zw,F.U6,f.et,k.LE,T.Sw,I.Ti,S.IJ,R.g9,V.X,se.SE,b.Sg]})}return s})()},19448:(de,X,p)=>{p.d(X,{g:()=>S,j:()=>I});var m=p(15215),d=p(54438),C=p(57806),V=p(70317);function v(E,k){if(1&E&&(d.qex(0),d.EFF(1),d.bVm()),2&E){const N=d.XpG(2);d.R7$(),d.JRh(N.nzText)}}function M(E,k){if(1&E&&(d.j41(0,"span",0),d.DNE(1,v,2,1,"ng-container",1),d.k0s()),2&E){const N=d.XpG();d.R7$(),d.Y8G("nzStringTemplateOutlet",N.nzText)}}let I=(()=>{class E{constructor(){this.nzType="horizontal",this.nzOrientation="center",this.nzDashed=!1,this.nzPlain=!1}static#e=this.\u0275fac=function(_){return new(_||E)};static#t=this.\u0275cmp=d.VBU({type:E,selectors:[["nz-divider"]],hostAttrs:[1,"ant-divider"],hostVars:16,hostBindings:function(_,j){2&_&&d.AVh("ant-divider-horizontal","horizontal"===j.nzType)("ant-divider-vertical","vertical"===j.nzType)("ant-divider-with-text",j.nzText)("ant-divider-plain",j.nzPlain)("ant-divider-with-text-left",j.nzText&&"left"===j.nzOrientation)("ant-divider-with-text-right",j.nzText&&"right"===j.nzOrientation)("ant-divider-with-text-center",j.nzText&&"center"===j.nzOrientation)("ant-divider-dashed",j.nzDashed)},inputs:{nzText:"nzText",nzType:"nzType",nzOrientation:"nzOrientation",nzDashed:"nzDashed",nzPlain:"nzPlain"},exportAs:["nzDivider"],standalone:!0,features:[d.aNF],decls:1,vars:1,consts:[[1,"ant-divider-inner-text"],[4,"nzStringTemplateOutlet"]],template:function(_,j){1&_&&d.DNE(0,M,2,1,"span",0),2&_&&d.vxM(0,j.nzText?0:-1)},dependencies:[C.C,C.m],encapsulation:2,changeDetection:0})}return(0,m.Cg)([(0,V.H3)()],E.prototype,"nzDashed",void 0),(0,m.Cg)([(0,V.H3)()],E.prototype,"nzPlain",void 0),E})(),S=(()=>{class E{static#e=this.\u0275fac=function(_){return new(_||E)};static#t=this.\u0275mod=d.$C({type:E});static#n=this.\u0275inj=d.G2t({imports:[I]})}return E})()},57094:(de,X,p)=>{p.d(X,{Sg:()=>W,xh:()=>e});var m=p(76939),d=p(54438),C=p(45286),V=p(58728),v=p(19493),M=p(7605),I=p(16042),S=p(60177),E=p(70317),k=p(40713),N=p(57806),_=p(72544),j=p(21025),f=p(32753);function y(g,$){1&g&&d.nrm(0,"span",10)}function b(g,$){1&g&&d.nrm(0,"span",11)}function F(g,$){1&g&&d.nrm(0,"span",12)}function R(g,$){1&g&&d.nrm(0,"span",13)}function T(g,$){1&g&&d.nrm(0,"span",14)}function P(g,$){if(1&g&&(d.qex(0),d.nrm(1,"span",15),d.bVm()),2&g){const u=d.XpG();d.R7$(),d.Y8G("innerHTML",u.instance.content,d.npT)}}function K(g,$){if(1&g){const u=d.RV6();d.j41(0,"nz-message",2),d.bIt("destroyed",function(z){d.eBV(u);const x=d.XpG();return d.Njj(x.remove(z.id,z.userAction))}),d.k0s()}2&g&&d.Y8G("instance",$.$implicit)}let c=0;class D{constructor($,u,h){this.nzSingletonService=$,this.overlay=u,this.injector=h}remove($){this.container&&($?this.container.remove($):this.container.removeAll())}getInstanceId(){return`${this.componentPrefix}-${c++}`}withContainer($){let u=this.nzSingletonService.getSingletonWithKey(this.componentPrefix);if(u)return u;const h=this.overlay.create({hasBackdrop:!1,scrollStrategy:this.overlay.scrollStrategies.noop(),positionStrategy:this.overlay.position().global()}),z=new m.A8($,null,this.injector),x=h.attach(z);return h.hostElement.style.zIndex="1010",u||(this.container=u=x.instance,this.nzSingletonService.registerSingletonWithKey(this.componentPrefix,u),this.container.afterAllInstancesRemoved.subscribe(()=>{this.container=void 0,this.nzSingletonService.unregisterSingletonWithKey(this.componentPrefix),h.dispose()})),u}}let w=(()=>{class g{constructor(u,h){this.cdr=u,this.nzConfigService=h,this.instances=[],this._afterAllInstancesRemoved=new C.B7,this.afterAllInstancesRemoved=this._afterAllInstancesRemoved.asObservable(),this.destroy$=new C.B7,this.updateConfig()}ngOnInit(){this.subscribeConfigChange()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}create(u){const h=this.onCreate(u);return this.instances.length>=this.config.nzMaxStack&&(this.instances=this.instances.slice(1)),this.instances=[...this.instances,h],this.readyInstances(),h}remove(u,h=!1){this.instances.map((z,x)=>({index:x,instance:z})).filter(({instance:z})=>z.messageId===u).forEach(({index:z,instance:x})=>{this.instances.splice(z,1),this.instances=[...this.instances],this.onRemove(x,h),this.readyInstances()}),this.instances.length||this.onAllInstancesRemoved()}removeAll(){this.instances.forEach(u=>this.onRemove(u,!1)),this.instances=[],this.readyInstances(),this.onAllInstancesRemoved()}onCreate(u){return u.options=this.mergeOptions(u.options),u.onClose=new C.B7,u}onRemove(u,h){u.onClose.next(h),u.onClose.complete()}onAllInstancesRemoved(){this._afterAllInstancesRemoved.next(),this._afterAllInstancesRemoved.complete()}readyInstances(){this.cdr.detectChanges()}mergeOptions(u){const{nzDuration:h,nzAnimate:z,nzPauseOnHover:x}=this.config;return{nzDuration:h,nzAnimate:z,nzPauseOnHover:x,...u}}static#e=this.\u0275fac=function(h){return new(h||g)(d.rXU(d.gRc),d.rXU(I.yx))};static#t=this.\u0275dir=d.FsC({type:g})}return g})(),se=(()=>{class g{constructor(u){this.cdr=u,this.destroyed=new d.bkB,this.animationStateChanged=new C.B7,this.userAction=!1}ngOnInit(){this.options=this.instance.options,this.options.nzAnimate&&(this.instance.state="enter",this.animationStateChanged.pipe((0,V.p)(u=>"done"===u.phaseName&&"leave"===u.toState),(0,v.s)(1)).subscribe(()=>{clearTimeout(this.closeTimer),this.destroyed.next({id:this.instance.messageId,userAction:this.userAction})})),this.autoClose=this.options.nzDuration>0,this.autoClose&&(this.initErase(),this.startEraseTimeout())}ngOnDestroy(){this.autoClose&&this.clearEraseTimeout(),this.animationStateChanged.complete()}onEnter(){this.autoClose&&this.options.nzPauseOnHover&&(this.clearEraseTimeout(),this.updateTTL())}onLeave(){this.autoClose&&this.options.nzPauseOnHover&&this.startEraseTimeout()}destroy(u=!1){this.userAction=u,this.options.nzAnimate?(this.instance.state="leave",this.cdr.detectChanges(),this.closeTimer=setTimeout(()=>{this.closeTimer=void 0,this.destroyed.next({id:this.instance.messageId,userAction:u})},200)):this.destroyed.next({id:this.instance.messageId,userAction:u})}initErase(){this.eraseTTL=this.options.nzDuration,this.eraseTimingStart=Date.now()}updateTTL(){this.autoClose&&(this.eraseTTL-=Date.now()-this.eraseTimingStart)}startEraseTimeout(){this.eraseTTL>0?(this.clearEraseTimeout(),this.eraseTimer=setTimeout(()=>this.destroy(),this.eraseTTL),this.eraseTimingStart=Date.now()):this.destroy()}clearEraseTimeout(){null!==this.eraseTimer&&(clearTimeout(this.eraseTimer),this.eraseTimer=void 0)}static#e=this.\u0275fac=function(h){return new(h||g)(d.rXU(d.gRc))};static#t=this.\u0275dir=d.FsC({type:g})}return g})(),O=(()=>{class g extends se{constructor(u){super(u),this.destroyed=new d.bkB}static#e=this.\u0275fac=function(h){return new(h||g)(d.rXU(d.gRc))};static#t=this.\u0275cmp=d.VBU({type:g,selectors:[["nz-message"]],inputs:{instance:"instance"},outputs:{destroyed:"destroyed"},exportAs:["nzMessage"],standalone:!0,features:[d.Vt3,d.aNF],decls:10,vars:9,consts:[[1,"ant-message-notice",3,"mouseenter","mouseleave"],[1,"ant-message-notice-content"],[1,"ant-message-custom-content",3,"ngClass"],[3,"ngSwitch"],["nz-icon","","nzType","check-circle",4,"ngSwitchCase"],["nz-icon","","nzType","info-circle",4,"ngSwitchCase"],["nz-icon","","nzType","exclamation-circle",4,"ngSwitchCase"],["nz-icon","","nzType","close-circle",4,"ngSwitchCase"],["nz-icon","","nzType","loading",4,"ngSwitchCase"],[4,"nzStringTemplateOutlet"],["nz-icon","","nzType","check-circle"],["nz-icon","","nzType","info-circle"],["nz-icon","","nzType","exclamation-circle"],["nz-icon","","nzType","close-circle"],["nz-icon","","nzType","loading"],[3,"innerHTML"]],template:function(h,z){1&h&&(d.j41(0,"div",0),d.bIt("@moveUpMotion.done",function(Z){return z.animationStateChanged.next(Z)})("mouseenter",function(){return z.onEnter()})("mouseleave",function(){return z.onLeave()}),d.j41(1,"div",1)(2,"div",2),d.qex(3,3),d.DNE(4,y,1,0,"span",4)(5,b,1,0,"span",5)(6,F,1,0,"span",6)(7,R,1,0,"span",7)(8,T,1,0,"span",8),d.bVm(),d.DNE(9,P,2,1,"ng-container",9),d.k0s()()()),2&h&&(d.Y8G("@moveUpMotion",z.instance.state),d.R7$(2),d.Y8G("ngClass","ant-message-"+z.instance.type),d.R7$(),d.Y8G("ngSwitch",z.instance.type),d.R7$(),d.Y8G("ngSwitchCase","success"),d.R7$(),d.Y8G("ngSwitchCase","info"),d.R7$(),d.Y8G("ngSwitchCase","warning"),d.R7$(),d.Y8G("ngSwitchCase","error"),d.R7$(),d.Y8G("ngSwitchCase","loading"),d.R7$(),d.Y8G("nzStringTemplateOutlet",z.instance.content))},dependencies:[S.YU,S.ux,S.e1,_.Y3,_.Dn,N.C,N.m],encapsulation:2,data:{animation:[k.j]},changeDetection:0})}return g})();const B="message",Q={nzAnimate:!0,nzDuration:3e3,nzMaxStack:7,nzPauseOnHover:!0,nzTop:24,nzDirection:"ltr"};let Y=(()=>{class g extends w{constructor(u,h){super(u,h),this.dir="ltr";const z=this.nzConfigService.getConfigForComponent(B);this.dir=z?.nzDirection||"ltr"}subscribeConfigChange(){this.nzConfigService.getConfigChangeEventForComponent(B).pipe((0,M.Q)(this.destroy$)).subscribe(()=>{this.updateConfig();const u=this.nzConfigService.getConfigForComponent(B);if(u){const{nzDirection:h}=u;this.dir=h||this.dir}})}updateConfig(){this.config={...Q,...this.config,...this.nzConfigService.getConfigForComponent(B)},this.top=(0,E.j3)(this.config.nzTop),this.cdr.markForCheck()}static#e=this.\u0275fac=function(h){return new(h||g)(d.rXU(d.gRc),d.rXU(I.yx))};static#t=this.\u0275cmp=d.VBU({type:g,selectors:[["nz-message-container"]],exportAs:["nzMessageContainer"],standalone:!0,features:[d.Vt3,d.aNF],decls:2,vars:5,consts:[[1,"ant-message"],[3,"instance","destroyed",4,"ngFor","ngForOf"],[3,"destroyed","instance"]],template:function(h,z){1&h&&(d.j41(0,"div",0),d.DNE(1,K,1,1,"nz-message",1),d.k0s()),2&h&&(d.xc7("top",z.top),d.AVh("ant-message-rtl","rtl"===z.dir),d.R7$(),d.Y8G("ngForOf",z.instances))},dependencies:[O,S.Sq],encapsulation:2,changeDetection:0})}return g})(),W=(()=>{class g{static#e=this.\u0275fac=function(h){return new(h||g)};static#t=this.\u0275mod=d.$C({type:g});static#n=this.\u0275inj=d.G2t({imports:[Y,O]})}return g})(),e=(()=>{class g extends D{constructor(u,h,z){super(u,h,z),this.componentPrefix="message-"}success(u,h){return this.createInstance({type:"success",content:u},h)}error(u,h){return this.createInstance({type:"error",content:u},h)}info(u,h){return this.createInstance({type:"info",content:u},h)}warning(u,h){return this.createInstance({type:"warning",content:u},h)}loading(u,h){return this.createInstance({type:"loading",content:u},h)}create(u,h,z){return this.createInstance({type:u,content:h},z)}createInstance(u,h){return this.container=this.withContainer(Y),this.container.create({...u,createdAt:new Date,messageId:this.getInstanceId(),options:h})}static#e=this.\u0275fac=function(h){return new(h||g)(d.KVO(j.HL),d.KVO(f.hJ),d.KVO(d.zZn))};static#t=this.\u0275prov=d.jDH({token:g,factory:g.\u0275fac,providedIn:"root"})}return g})()},75699:(de,X,p)=>{p.d(X,{T:()=>j,s:()=>_});var m=p(15215),d=p(60177),C=p(54438),V=p(45286),v=p(7605),M=p(26006),I=p(70317),S=p(72544),E=p(28203);const k=["*"];function N(f,y){if(1&f){const b=C.RV6();C.j41(0,"span",1),C.bIt("click",function(R){C.eBV(b);const T=C.XpG();return C.Njj(T.closeTag(R))}),C.k0s()}}let _=(()=>{class f{constructor(b,F,R,T){this.cdr=b,this.renderer=F,this.elementRef=R,this.directionality=T,this.isPresetColor=!1,this.nzMode="default",this.nzChecked=!1,this.nzBordered=!0,this.nzOnClose=new C.bkB,this.nzCheckedChange=new C.bkB,this.dir="ltr",this.destroy$=new V.B7}updateCheckedStatus(){"checkable"===this.nzMode&&(this.nzChecked=!this.nzChecked,this.nzCheckedChange.emit(this.nzChecked))}closeTag(b){this.nzOnClose.emit(b),b.defaultPrevented||this.renderer.removeChild(this.renderer.parentNode(this.elementRef.nativeElement),this.elementRef.nativeElement)}clearPresetColor(){const b=this.elementRef.nativeElement,F=new RegExp(`(ant-tag-(?:${[...M.un,...M.PA].join("|")}))`,"g"),R=b.classList.toString(),T=[];let P=F.exec(R);for(;null!==P;)T.push(P[1]),P=F.exec(R);b.classList.remove(...T)}setPresetColor(){const b=this.elementRef.nativeElement;this.clearPresetColor(),this.isPresetColor=!!this.nzColor&&((0,M.nP)(this.nzColor)||(0,M.uP)(this.nzColor)),this.isPresetColor&&b.classList.add(`ant-tag-${this.nzColor}`)}ngOnInit(){this.directionality.change?.pipe((0,v.Q)(this.destroy$)).subscribe(b=>{this.dir=b,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnChanges(b){const{nzColor:F}=b;F&&this.setPresetColor()}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}static#e=this.\u0275fac=function(F){return new(F||f)(C.rXU(C.gRc),C.rXU(C.sFG),C.rXU(C.aKT),C.rXU(E.dS,8))};static#t=this.\u0275cmp=C.VBU({type:f,selectors:[["nz-tag"]],hostAttrs:[1,"ant-tag"],hostVars:12,hostBindings:function(F,R){1&F&&C.bIt("click",function(){return R.updateCheckedStatus()}),2&F&&(C.xc7("background-color",R.isPresetColor?"":R.nzColor),C.AVh("ant-tag-has-color",R.nzColor&&!R.isPresetColor)("ant-tag-checkable","checkable"===R.nzMode)("ant-tag-checkable-checked",R.nzChecked)("ant-tag-rtl","rtl"===R.dir)("ant-tag-borderless",!R.nzBordered))},inputs:{nzMode:"nzMode",nzColor:"nzColor",nzChecked:"nzChecked",nzBordered:"nzBordered"},outputs:{nzOnClose:"nzOnClose",nzCheckedChange:"nzCheckedChange"},exportAs:["nzTag"],standalone:!0,features:[C.OA$,C.aNF],ngContentSelectors:k,decls:2,vars:1,consts:[["nz-icon","","nzType","close","class","ant-tag-close-icon","tabindex","-1",3,"click",4,"ngIf"],["nz-icon","","nzType","close","tabindex","-1",1,"ant-tag-close-icon",3,"click"]],template:function(F,R){1&F&&(C.NAR(),C.SdG(0),C.DNE(1,N,1,0,"span",0)),2&F&&(C.R7$(),C.Y8G("ngIf","closeable"===R.nzMode))},dependencies:[S.Y3,S.Dn,d.bT],encapsulation:2,changeDetection:0})}return(0,m.Cg)([(0,I.H3)()],f.prototype,"nzChecked",void 0),(0,m.Cg)([(0,I.H3)()],f.prototype,"nzBordered",void 0),f})(),j=(()=>{class f{static#e=this.\u0275fac=function(F){return new(F||f)};static#t=this.\u0275mod=C.$C({type:f});static#n=this.\u0275inj=C.G2t({imports:[_]})}return f})()}}]);