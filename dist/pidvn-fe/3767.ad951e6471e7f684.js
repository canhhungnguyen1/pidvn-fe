"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[3767],{23767:(H,w,l)=>{l.r(w),l.d(w,{DrawingControlModule:()=>Se});var p=l(60177),u=l(89417),v=l(33514),M=l(12673),o=l(87018),I=l(31958),b=l(50513),P=l(74696),m=l(58960),c=l(97529),g=l(72544),z=l(43053),h=l(67064),y=l(23359),E=l(27120),R=l(46661),e=l(54438);let F=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-ie-dc-menu"]],decls:2,vars:0,template:function(i,n){1&i&&(e.j41(0,"p"),e.EFF(1,"ie-dc-menu works!"),e.k0s())}})}return r})();class B{}var K=l(45312),J=l(21626);let U=(()=>{class r{constructor(t){this.httpClient=t,this.baseUrl=K.c.baseUrl}getUsers(){return this.httpClient.get(`${this.baseUrl}/IE/DrawingControl/Users`)}getProducts(){return this.httpClient.get(`${this.baseUrl}/IE/DrawingControl/Products`)}getProjects(){return this.httpClient.post(`${this.baseUrl}/IE/DrawingControl/Projects`,{})}getProject(t){return this.httpClient.get(`${this.baseUrl}/IE/DrawingControl/Project/${t}`)}updateProject(t){return this.httpClient.put(`${this.baseUrl}/IE/DrawingControl/Project`,t)}deleteProject(t){return this.httpClient.delete(`${this.baseUrl}/IE/DrawingControl/Project/${t}`)}getProjectTypes(){return this.httpClient.get(`${this.baseUrl}/IE/DrawingControl/ProjectTypes`)}createProject(t){return this.httpClient.post(`${this.baseUrl}/IE/DrawingControl/Project`,t)}getProcesses(t){return this.httpClient.get(`${this.baseUrl}/IE/DrawingControl/Processes?projectId=${t}`)}getProcessRecordByProject(t){return this.httpClient.get(`${this.baseUrl}/IE/DrawingControl/ProcessRecord?projectId=${t}`)}updateProcessRecord(t){return this.httpClient.post(`${this.baseUrl}/IE/DrawingControl/ProcessRecord`,t)}uploadDrawingStructure(t,i){const n=new FormData;return n.append("file",t),this.httpClient.post(`${this.baseUrl}/IE/DrawingControl/UploadDrawingStructure?projectId=${i}`,n)}getDrawingStructure(t){return this.httpClient.get(`${this.baseUrl}/IE/DrawingControl/DrawingStructure?projectId=${t}`)}uploadDrawingFile(t,i){const n=new FormData;return t.forEach(a=>{n.append("files",a)}),this.httpClient.post(`${this.baseUrl}/IE/DrawingControl/DrawingFiles?projectId=${i}`,n)}previewDrawingFile(t,i){return this.httpClient.post(`${this.baseUrl}/IE/DrawingControl/DrawingPreview?controlNo=${i}`,t,{responseType:"arraybuffer"})}insertProjectActivity(t,i){const n=new FormData;return n.append("file",t),n.append("projectActivity",new Blob([JSON.stringify(i)],{type:"application/json"})),this.httpClient.post(`${this.baseUrl}/IE/DrawingControl/ProjectActivity`,n)}getProjectActivity(t){return this.httpClient.get(`${this.baseUrl}/IE/DrawingControl/ProjectActivities?projectId=${t}`)}static#e=this.\u0275fac=function(i){return new(i||r)(e.KVO(J.Qq))};static#t=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var Q=l(37736),V=l(45794),L=l(72874),$=l(27380),D=l(31837),X=l(16389),Y=l(25930),k=l(21011),N=l(1997);const Z=()=>({width:"250px"}),q=()=>[""];function ee(r,j){if(1&r){const t=e.RV6();e.j41(0,"div",28)(1,"a"),e.EFF(2,"Edit"),e.k0s(),e.EFF(3," | "),e.j41(4,"a",29),e.bIt("nzOnConfirm",function(){const n=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.deleteProject(n.data.id))}),e.EFF(5," Delete "),e.k0s()()}}function W(r,j){if(1&r&&e.nrm(0,"nz-option",38),2&r){const t=j.$implicit;e.Y8G("nzValue",t.id)("nzLabel",t.name)}}function te(r,j){if(1&r&&e.nrm(0,"nz-option",38),2&r){const t=j.$implicit;e.Y8G("nzValue",t.id)("nzLabel",t.description)}}function d(r,j){if(1&r&&e.nrm(0,"nz-option",38),2&r){const t=j.$implicit;e.Y8G("nzValue",t.username)("nzLabel",t.username+" - "+t.name)}}function O(r,j){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"nz-table",30)(2,"tbody")(3,"tr")(4,"td")(5,"span",31),e.EFF(6,"*"),e.k0s(),e.j41(7,"label"),e.EFF(8,"Project No"),e.k0s()(),e.j41(9,"td")(10,"input",32),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.project.controlNo,n)||(a.project.controlNo=n),e.Njj(n)}),e.k0s()()(),e.j41(11,"tr")(12,"td")(13,"span",31),e.EFF(14,"*"),e.k0s(),e.j41(15,"label"),e.EFF(16,"Project Name"),e.k0s()(),e.j41(17,"td")(18,"input",33),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.project.name,n)||(a.project.name=n),e.Njj(n)}),e.k0s()()(),e.j41(19,"tr")(20,"td")(21,"span",31),e.EFF(22,"*"),e.k0s(),e.j41(23,"label"),e.EFF(24,"Project Type"),e.k0s()(),e.j41(25,"td")(26,"nz-select",34),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.project.typeId,n)||(a.project.typeId=n),e.Njj(n)}),e.DNE(27,W,1,2,"nz-option",35),e.k0s()()(),e.j41(28,"tr")(29,"td")(30,"span",31),e.EFF(31,"*"),e.k0s(),e.j41(32,"label"),e.EFF(33,"Product"),e.k0s()(),e.j41(34,"td")(35,"nz-select",36),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.project.productId,n)||(a.project.productId=n),e.Njj(n)}),e.DNE(36,te,1,2,"nz-option",35),e.k0s()()(),e.j41(37,"tr")(38,"td")(39,"span",31),e.EFF(40,"*"),e.k0s(),e.j41(41,"label"),e.EFF(42,"P.I.C"),e.k0s()(),e.j41(43,"td")(44,"nz-select",37),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.project.picId,n)||(a.project.picId=n),e.Njj(n)}),e.DNE(45,d,1,2,"nz-option",35),e.k0s()()()()(),e.bVm()}if(2&r){const t=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(9,q)),e.R7$(9),e.R50("ngModel",t.project.controlNo),e.R7$(8),e.R50("ngModel",t.project.name),e.R7$(8),e.R50("ngModel",t.project.typeId),e.R7$(),e.Y8G("ngForOf",t.projectTypes),e.R7$(8),e.R50("ngModel",t.project.productId),e.R7$(),e.Y8G("ngForOf",t.products),e.R7$(8),e.R50("ngModel",t.project.picId),e.R7$(),e.Y8G("ngForOf",t.users)}}function s(r,j){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"button",39),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isOpenProjectCreateModal=!1)}),e.EFF(2," \u0110\xf3ng "),e.k0s(),e.j41(3,"button",12),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createProject())}),e.EFF(4,"Save"),e.k0s()()}}let C=(()=>{class r{constructor(t,i,n,a){this.router=t,this.drawingControlSvc=i,this.jwtSvc=n,this.toastr=a,this.isOpenProjectCreateModal=!1,this.isLoadingBtn=!1,this.jwt=this.jwtSvc.decodeToken(localStorage.getItem("accessToken")?.toString())}ngOnInit(){this.getUsers(),this.getProducts(),this.getProjects(),this.getProjectType()}getUsers(){this.drawingControlSvc.getUsers().subscribe(t=>{this.users=t.result})}getProducts(){this.drawingControlSvc.getProducts().subscribe(t=>{this.products=t.result})}displayPersonInChargeName(t){return t?`${t.username} - ${t.name}`:""}getProjects(){this.drawingControlSvc.getProjects().subscribe(t=>{this.projects=t.result})}getProjectType(){this.drawingControlSvc.getProjectTypes().subscribe(t=>{this.projectTypes=t.result})}createProject(){this.project.controlNo&&this.project.name&&this.project.typeId&&this.project.picId&&this.project.productId?(this.project.createdId=this.jwt.Username,this.drawingControlSvc.createProject(this.project).subscribe(t=>{this.getProjects(),this.isOpenProjectCreateModal=!1})):this.toastr.warning("C\u1ea7n nh\u1eadp \u0111\u1ee7 th\xf4ng tin","Warning")}deleteProject(t){this.drawingControlSvc.deleteProject(t).subscribe(i=>{console.log("deleteProject: ",i),this.getProjects()})}openProjectInsertModal(){this.project=new B,this.isOpenProjectCreateModal=!0}onRowClick(t){console.log("onRowClick:",t),this.router.navigate(["/admin/ie/drawing-control/projects",t.data.id])}static#e=this.\u0275fac=function(i){return new(i||r)(e.rXU(R.Ix),e.rXU(U),e.rXU(Q.X7),e.rXU(V.tw))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-ie-dc-project"]],decls:43,vars:25,consts:[["projectGrid",""],[3,"nzHeader","nzActive","nzShowArrow"],["nz-row","","nzJustify","start",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","12","nzLg","3"],["nzMode","year","nzPlaceHolder","Year",2,"width","100%"],["label","Project Type","labelLocation","left","showColonAfterLabel","true","displayExpr","name","valueExpr","id",2,"margin-top","0px",3,"labelMode","dataSource","showClearButton"],["label","Main P.I.C","labelLocation","left","showColonAfterLabel","true","valueExpr","username",2,"margin-top","0px",3,"labelMode","displayExpr","dataSource","showClearButton","searchEnabled","dropDownOptions"],["nz-button","","nzType","primary",3,"click","nzLoading"],["nz-icon","","nzType","search"],["keyExpr","id",2,"margin-top","10px",3,"onRowClick","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth"],[3,"visible"],["location","before"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","plus"],["dataField","controlNo","caption","Project No"],["dataField","name","caption","Project Name"],["dataField","typeName","caption","Project Type"],["dataField","productName","caption","Product Name"],["dataField","createdAt","caption","Created Date","dataType","date","format","yyyy-MM-dd HH:mm"],["dataField","status","caption","Status"],["dataField","picName","caption","Main P.I.C"],["dataField","createdName","caption","Creator"],["dataField","disable","caption","Disable"],["caption","Action","cellTemplate","actionTemplate","fixedPosition","right",3,"fixed"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],["nzTitle","Project",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],[2,"text-align","center"],["nz-popconfirm","","nzPopconfirmTitle","Are you sure delete this project?","nzPopconfirmPlacement","topRight",2,"color","red",3,"nzOnConfirm"],["nzSize","small","nzBordered","","nzFrontPagination","false",3,"nzData"],[1,"required"],["nz-input","","placeholder","Control No",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Project Name",3,"ngModelChange","ngModel"],["nzPlaceHolder","Project Type",2,"width","100%",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzPlaceHolder","Product",2,"width","100%",3,"ngModelChange","ngModel"],["nzPlaceHolder","Person InCharge","nzShowSearch","","nzAllowClear","",2,"width","100%",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel"],["nz-button","","nzType","default",3,"click"]],template:function(i,n){if(1&i){const a=e.RV6();e.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),e.EFF(2,"Home"),e.k0s(),e.j41(3,"nz-breadcrumb-item")(4,"a"),e.EFF(5,"Drawing Control"),e.k0s()(),e.j41(6,"nz-breadcrumb-item"),e.EFF(7,"Project"),e.k0s()(),e.j41(8,"nz-collapse")(9,"nz-collapse-panel",1)(10,"div",2)(11,"div",3),e.nrm(12,"nz-date-picker",4),e.k0s(),e.j41(13,"div",3),e.nrm(14,"dx-select-box",5),e.k0s(),e.j41(15,"div",3),e.nrm(16,"dx-select-box",6),e.k0s(),e.j41(17,"div",3)(18,"button",7),e.bIt("click",function(){return e.eBV(a),e.Njj(n.getProjects())}),e.nrm(19,"span",8),e.EFF(20," Search "),e.k0s()()()()(),e.j41(21,"dx-data-grid",9,0),e.bIt("onRowClick",function(_){return e.eBV(a),e.Njj(n.onRowClick(_))}),e.nrm(23,"dxo-filter-row",10),e.j41(24,"dxo-toolbar")(25,"dxi-item",11)(26,"button",12),e.bIt("click",function(){return e.eBV(a),e.Njj(n.openProjectInsertModal())}),e.nrm(27,"span",13),e.EFF(28," New Project "),e.k0s()()(),e.nrm(29,"dxi-column",14)(30,"dxi-column",15)(31,"dxi-column",16)(32,"dxi-column",17)(33,"dxi-column",18)(34,"dxi-column",19)(35,"dxi-column",20)(36,"dxi-column",21)(37,"dxi-column",22)(38,"dxi-column",23),e.DNE(39,ee,6,0,"div",24),e.k0s(),e.j41(40,"nz-modal",25),e.mxI("nzVisibleChange",function(_){return e.eBV(a),e.DH7(n.isOpenProjectCreateModal,_)||(n.isOpenProjectCreateModal=_),e.Njj(_)}),e.DNE(41,O,46,10,"ng-container",26)(42,s,5,0,"div",27),e.k0s()}2&i&&(e.R7$(9),e.Y8G("nzHeader","T\xecm ki\u1ebfm")("nzActive",!0)("nzShowArrow",!0),e.R7$(),e.Y8G("nzGutter",24),e.R7$(4),e.Y8G("labelMode","floating")("dataSource",n.projectTypes)("showClearButton",!0),e.R7$(2),e.Y8G("labelMode","floating")("displayExpr",n.displayPersonInChargeName)("dataSource",n.users)("showClearButton",!0)("searchEnabled",!0)("dropDownOptions",e.lJ4(24,Z)),e.R7$(2),e.Y8G("nzLoading",n.isLoadingBtn),e.R7$(3),e.Y8G("dataSource",n.projects)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0),e.R7$(2),e.Y8G("visible",!0),e.R7$(15),e.Y8G("fixed",!0),e.R7$(),e.Y8G("dxTemplateOf","actionTemplate"),e.R7$(),e.R50("nzVisible",n.isOpenProjectCreateModal))},dependencies:[p.Sq,u.me,u.BC,u.vS,I.hL,I.K7,L.PV,P.Vz,P.pc,$.eC,M.s,D.nj_,D.CVf,D.FTx,D.KOr,o.l,c.Uq,c.e,b.aO,X.c,Y.p,g.Dn,z.F2,z.Oj,z.A9,y.CP,y.SO,y.aj,y.kt,m.SN,k.Sy,N.ld,N.WI],styles:[".w3-light-grey[_ngcontent-%COMP%], .w3-hover-light-grey[_ngcontent-%COMP%]:hover, .w3-hover-light-gray[_ngcontent-%COMP%]:hover{color:#000!important;background-color:#f1f1f1!important;text-align:left}.w3-green[_ngcontent-%COMP%]{color:#420303!important;background-color:#0cac0c!important;font-size:12px;font-weight:700;padding-left:3px}nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}nz-table[_ngcontent-%COMP%]   span.required[_ngcontent-%COMP%]{color:red;font-weight:700}"]})}return r})();class f{}class T{}class A{}var G=l(345),ie=l(72915),re=l(48446),ae=l(53281),le=l(47711),ce=l(29462),ne=l(97685);const pe=["fileUploader"],ue=["projectActivityUploader"],_e=()=>[5,10,15,20],me=(r,j)=>({"w3-orange":r,"w3-green":j}),se=()=>[""],ge=()=>({mode:"virtual",rowRenderingMode:"virtual",columnRenderingMode:"virtual",useNative:!1,showScrollbar:"always"}),de=()=>({"aria-label":"Select file"});function he(r,j){if(1&r&&(e.j41(0,"div",41)(1,"div",42)(2,"div",43),e.EFF(3),e.k0s()()()),2&r){const t=j.$implicit;e.R7$(2),e.xc7("width",null==t.data.progressPercent?"0%":t.data.progressPercent+"%"),e.Y8G("ngClass",e.l_i(4,me,t.data.progressPercent<60,t.data.progressPercent>=60)),e.R7$(),e.SpI(" ",null==t.data.progressPercent?0:t.data.progressPercent,"% ")}}function Ce(r,j){if(1&r){const t=e.RV6();e.j41(0,"div",41)(1,"a",44),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.openProjectActivityModal(n))}),e.EFF(2,"S\u1eeda"),e.k0s()()}}function fe(r,j){if(1&r){const t=e.RV6();e.j41(0,"a")(1,"span",79),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,a=e.XpG(3);return e.Njj(a.previewDrawingFile(n,!0))}),e.k0s()()}}function je(r,j){if(1&r){const t=e.RV6();e.j41(0,"a")(1,"span",80),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2).$implicit,a=e.XpG(3);return e.Njj(a.previewDrawingFile(n,!1))}),e.k0s()()}}function ze(r,j){1&r&&(e.j41(0,"div")(1,"nz-space"),e.DNE(2,fe,2,0,"a",78)(3,je,2,0,"a",78),e.k0s()())}function ve(r,j){if(1&r&&(e.j41(0,"div",41),e.DNE(1,ze,4,0,"div",54),e.k0s()),2&r){const t=j.$implicit;e.R7$(),e.Y8G("ngIf",t.data.hasFile)}}function Pe(r,j){if(1&r&&(e.j41(0,"td",81),e.nrm(1,"iframe",82),e.k0s()),2&r){const t=e.XpG(3);e.R7$(),e.Y8G("src",t.pdfSrc,e.f$h)}}function De(r,j){if(1&r){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2,"File"),e.k0s(),e.j41(3,"td")(4,"dx-tree-list",55,3),e.nrm(6,"dxo-header-filter",28)(7,"dxo-filter-row",28)(8,"dxo-search-panel",28)(9,"dxo-column-chooser",56),e.j41(10,"dxo-toolbar"),e.nrm(11,"dxi-item",57),e.j41(12,"dxi-item",26)(13,"dx-button",58),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openUploadFileModal("DRAWING_STRUCTURE"))}),e.k0s()(),e.j41(14,"dxi-item",26)(15,"dx-button",59),e.bIt("onClick",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.openUploadFileModal("DRAWING_FILE"))}),e.k0s()(),e.nrm(16,"dxi-item",60)(17,"dxi-item",61),e.k0s(),e.j41(18,"dxo-editing",62),e.nrm(19,"dxo-popup",63),e.k0s(),e.nrm(20,"dxi-column",64)(21,"dxi-column",65),e.DNE(22,ve,2,1,"div",23),e.j41(23,"dxi-column",66)(24,"dxo-header-filter",67),e.nrm(25,"dxo-search",56),e.k0s()(),e.j41(26,"dxi-column",68)(27,"dxo-header-filter",67),e.nrm(28,"dxo-search",56),e.k0s()(),e.nrm(29,"dxi-column",69)(30,"dxi-column",70)(31,"dxi-column",71)(32,"dxi-column",72)(33,"dxi-column",73)(34,"dxi-column",74)(35,"dxi-column",75)(36,"dxi-column",76),e.k0s()(),e.DNE(37,Pe,2,1,"td",77),e.k0s()}if(2&r){const t=e.XpG(2);e.R7$(4),e.Y8G("dataSource",t.drawings)("rootValue",null)("showRowLines",!0)("showBorders",!0)("columnAutoWidth",!0)("height",550)("expandedRowKeys",t.expandedDrawingRowKeys)("scrolling",e.lJ4(24,ge)),e.R7$(2),e.Y8G("visible",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(9),e.Y8G("allowUpdating",!1)("allowAdding",!1)("allowDeleting",!1),e.R7$(),e.Y8G("showTitle",!0)("width",800),e.R7$(3),e.Y8G("dxTemplateOf","fileTemplate"),e.R7$(2),e.Y8G("allowSelectAll",!1),e.R7$(),e.Y8G("enabled",!0),e.R7$(2),e.Y8G("allowSelectAll",!1),e.R7$(),e.Y8G("enabled",!0),e.R7$(8),e.Y8G("visible",!1),e.R7$(),e.Y8G("ngIf",t.pdfSrc)}}function xe(r,j){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"div",9)(2,"div",45)(3,"dx-text-box",46),e.mxI("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.processRecord.content,n)||(a.processRecord.content=n),e.Njj(n)}),e.bIt("onBlur",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.updateProcessRecordV2(n))}),e.k0s()(),e.j41(4,"div",47)(5,"dx-date-box",48),e.mxI("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.processRecord.startPlan,n)||(a.processRecord.startPlan=n),e.Njj(n)}),e.bIt("onBlur",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateProcessRecord())}),e.k0s()(),e.j41(6,"div",47)(7,"dx-date-box",49),e.mxI("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.processRecord.endPlan,n)||(a.processRecord.endPlan=n),e.Njj(n)}),e.bIt("onBlur",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateProcessRecord())}),e.k0s()(),e.j41(8,"div",47)(9,"dx-date-box",50),e.mxI("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.processRecord.startAction,n)||(a.processRecord.startAction=n),e.Njj(n)}),e.bIt("onBlur",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateProcessRecord())}),e.k0s()(),e.j41(10,"div",47)(11,"dx-date-box",51),e.mxI("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.processRecord.endAction,n)||(a.processRecord.endAction=n),e.Njj(n)}),e.bIt("onBlur",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateProcessRecord())}),e.k0s()(),e.j41(12,"div",47)(13,"dx-number-box",52),e.mxI("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.processRecord.progressPercent,n)||(a.processRecord.progressPercent=n),e.Njj(n)}),e.bIt("onBlur",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateProcessRecord())}),e.k0s()()(),e.nrm(14,"br"),e.j41(15,"nz-table",53)(16,"tbody"),e.DNE(17,De,38,25,"tr",54),e.k0s()(),e.bVm()}if(2&r){const t=e.XpG();e.R7$(),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("labelMode","static"),e.R50("value",t.processRecord.content),e.R7$(2),e.Y8G("labelMode","static")("displayFormat","yyyy-MM-dd"),e.R50("value",t.processRecord.startPlan),e.R7$(2),e.Y8G("labelMode","static")("displayFormat","yyyy-MM-dd"),e.R50("value",t.processRecord.endPlan),e.R7$(2),e.Y8G("labelMode","static")("displayFormat","yyyy-MM-dd"),e.R50("value",t.processRecord.startAction),e.R7$(2),e.Y8G("labelMode","static")("displayFormat","yyyy-MM-dd"),e.R50("value",t.processRecord.endAction),e.R7$(2),e.Y8G("labelMode","static")("min",0)("max",100)("step",5),e.R50("value",t.processRecord.progressPercent),e.R7$(2),e.Y8G("nzData",e.lJ4(22,se)),e.R7$(2),e.Y8G("ngIf",3==(null==t.processRecord?null:t.processRecord.processId))}}function Me(r,j){if(1&r){const t=e.RV6();e.j41(0,"button",83),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeProcessModal())}),e.EFF(1," \u0110\xf3ng "),e.k0s()}}function ye(r,j){if(1&r){const t=e.RV6();e.qex(0),e.j41(1,"nz-table",84)(2,"tbody")(3,"tr")(4,"td")(5,"label"),e.EFF(6,"Title"),e.k0s()(),e.j41(7,"td")(8,"input",85),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.projectActivity.title,n)||(a.projectActivity.title=n),e.Njj(n)}),e.k0s()()(),e.j41(9,"tr")(10,"td")(11,"label"),e.EFF(12,"Date"),e.k0s(),e.j41(13,"span",86),e.EFF(14,"*"),e.k0s()(),e.j41(15,"td")(16,"nz-date-picker",87),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.projectActivity.date,n)||(a.projectActivity.date=n),e.Njj(n)}),e.k0s()()(),e.j41(17,"tr")(18,"td")(19,"label"),e.EFF(20,"Note"),e.k0s()(),e.j41(21,"td")(22,"textarea",88),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.projectActivity.note,n)||(a.projectActivity.note=n),e.Njj(n)}),e.k0s()()(),e.j41(23,"tr")(24,"td")(25,"label"),e.EFF(26,"File"),e.k0s()(),e.j41(27,"td"),e.nrm(28,"dx-file-uploader",89,4),e.k0s()()()(),e.bVm()}if(2&r){const t=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(6,se)),e.R7$(7),e.R50("ngModel",t.projectActivity.title),e.R7$(8),e.R50("ngModel",t.projectActivity.date),e.R7$(6),e.R50("ngModel",t.projectActivity.note),e.R7$(6),e.Y8G("multiple",!1)("inputAttr",e.lJ4(7,de))}}function be(r,j){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"button",90),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.insertProjectActivity())}),e.EFF(2," L\u01b0u "),e.k0s(),e.j41(3,"button",83),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isOpenProjectActivityModal=!1)}),e.EFF(4," \u0110\xf3ng "),e.k0s()()}}function Re(r,j){if(1&r&&(e.qex(0),e.nrm(1,"dx-file-uploader",91,5),e.bVm()),2&r){const t=e.XpG();e.R7$(),e.Y8G("multiple",t.uploadFileModal.multiple)("accept",t.uploadFileModal.accept)("uploadMode",t.uploadFileModal.uploadMode)("inputAttr",e.lJ4(4,de))}}function Te(r,j){if(1&r){const t=e.RV6();e.j41(0,"div")(1,"button",92),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.uploadFile())}),e.EFF(2," Save "),e.k0s(),e.j41(3,"button",83),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isOpenUploadFileModal=!1)}),e.EFF(4," \u0110\xf3ng "),e.k0s()()}if(2&r){const t=e.XpG();e.R7$(),e.Y8G("nzLoading",t.isLoading)}}const Ie=[{path:"menu",component:F},{path:"projects",component:C},{path:"projects/:id",component:(()=>{class r{constructor(t,i,n,a){this.drawingControlSvc=t,this.activatedRoute=i,this.toastr=n,this.sanitizer=a,this.project=new B,this.process=new T,this.processRecord=new A,this.projectActivity=new f,this.isOpenProcessModal=!1,this.isOpenUploadFileModal=!1,this.uploadFileModal={title:null,multiple:null,accept:null,uploadMode:null,type:null},this.isOpenProjectActivityModal=!1,this.isLoading=!1,this.expandedDrawingRowKeys=[]}ngOnInit(){this.getProject(),this.getProcessRecordByProject(),this.getProjectActivities()}getProject(){let t=Number(this.activatedRoute.snapshot.paramMap.get("id"));this.drawingControlSvc.getProject(t).subscribe(i=>{this.project=i.result})}updateProject(){this.drawingControlSvc.updateProject(this.project).subscribe(t=>{this.toastr.success("Success","Updated")})}getProcesses(){let t=Number(this.activatedRoute.snapshot.paramMap.get("id"));this.drawingControlSvc.getProcesses(t).subscribe(i=>{this.processes=i.result})}getProcessRecordByProject(){let t=Number(this.activatedRoute.snapshot.paramMap.get("id"));this.drawingControlSvc.getProcessRecordByProject(t).subscribe(i=>{this.processRecords=i.result})}onClickProcess(t){console.log("onClickProcess: ",t),this.processRecord=t.data,this.isOpenProcessModal=!0,3!==this.processRecord.processId||this.getDrawingStructure()}onExpandedRowKeysChanged(t){this.expandedDrawingRowKeys=t.value}getDrawingStructure(){let t=Number(this.activatedRoute.snapshot.paramMap.get("id"));this.drawingControlSvc.getDrawingStructure(t).subscribe(i=>{this.drawings=i.result,this.expandedDrawingRowKeys=this.drawings.map(n=>n.id)})}openUploadFileModal(t){"DRAWING_STRUCTURE"!==t?"DRAWING_FILE"===t&&this.openUploadDrawingFile():this.openUploadDrawingStructure()}openUploadDrawingStructure(){this.uploadFileModal.title="Upload Drawing Structure",this.uploadFileModal.multiple=!1,this.uploadFileModal.accept=".xlsx",this.uploadFileModal.uploadMode="useForm",this.uploadFileModal.type="DRAWING_STRUCTURE",this.isOpenUploadFileModal=!0}openUploadDrawingFile(){this.uploadFileModal.title="Upload Drawing File",this.uploadFileModal.multiple=!0,this.uploadFileModal.accept=".pdf",this.uploadFileModal.uploadMode="useForm",this.uploadFileModal.type="DRAWING_FILE",this.isOpenUploadFileModal=!0}uploadFile(){const t=this.fileUploader.value;if(console.log("selectedFiles: ",t),0!==t.length){if("DRAWING_STRUCTURE"===this.uploadFileModal.type){this.isLoading=!0;let i=Number(this.activatedRoute.snapshot.paramMap.get("id"));this.drawingControlSvc.uploadDrawingStructure(t[0],i).subscribe(n=>{this.getDrawingStructure(),this.isOpenUploadFileModal=!1,this.isLoading=!1},n=>{this.isOpenUploadFileModal=!1,this.isLoading=!1})}if("DRAWING_FILE"===this.uploadFileModal.type){this.isLoading=!0;let i=Number(this.activatedRoute.snapshot.paramMap.get("id"));this.drawingControlSvc.uploadDrawingFile(t,i).subscribe(n=>{this.getDrawingStructure(),this.isOpenUploadFileModal=!1,this.isLoading=!1},n=>{this.isOpenUploadFileModal=!1,this.isLoading=!1})}}else this.toastr.warning("C\u1ea7n ch\u1ecdn file upload","Warning")}previewDrawingFile(t,i){let n=t.data.drawingNo;this.drawingControlSvc.previewDrawingFile({drawingNo:n},this.project.controlNo).subscribe(x=>{let _=new Blob([x],{type:"application/pdf"}),oe=window.URL.createObjectURL(_),Ue=`${n}.pdf`;if(i)return this.pdfSrc=this.sanitizer.bypassSecurityTrustResourceUrl(oe),void console.log("this.pdfSrc: ",this.pdfSrc);let S=document.createElement("a");S.href=oe,S.download=Ue,document.body.appendChild(S),S.click(),setTimeout(()=>{document.body.removeChild(S),URL.revokeObjectURL(oe)},100)})}openProjectActivityModal(t){if(console.log(t),!t)return this.projectActivity=new f,void(this.isOpenProjectActivityModal=!0);this.projectActivity=t.data,console.log("AAA: ",this.projectActivity),this.isOpenProjectActivityModal=!0}insertProjectActivity(){let t=Number(this.activatedRoute.snapshot.paramMap.get("id"));const i=this.projectActivityUploader.value[0];i&&(this.projectActivity.attachFile=i.name),this.projectActivity.projectId=t,this.projectActivity.date?this.drawingControlSvc.insertProjectActivity(i,this.projectActivity).subscribe(n=>{this.getProjectActivities(),this.isOpenProjectActivityModal=!1}):this.toastr.warning("Date kh\xf4ng \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng","Warning")}getProjectActivities(){let t=Number(this.activatedRoute.snapshot.paramMap.get("id"));this.drawingControlSvc.getProjectActivity(t).subscribe(i=>{this.projectActivities=i.result})}updateProcessRecord(){let t=Number(this.activatedRoute.snapshot.paramMap.get("id"));this.processRecord.projectId=t,this.drawingControlSvc.updateProcessRecord(this.processRecord).subscribe(i=>{this.toastr.success("Success","Updated"),this.processRecord.id=i.result.id})}updateProcessRecordV2(t){console.log(t)}closeProcessModal(){this.pdfSrc=null,this.isOpenProcessModal=!1}static#e=this.\u0275fac=function(i){return new(i||r)(e.rXU(U),e.rXU(R.nX),e.rXU(V.tw),e.rXU(G.up))};static#t=this.\u0275cmp=e.VBU({type:r,selectors:[["app-ie-dc-project-detail"]],viewQuery:function(i,n){if(1&i&&(e.GBs(pe,5),e.GBs(ue,5)),2&i){let a;e.mGM(a=e.lsd())&&(n.fileUploader=a.first),e.mGM(a=e.lsd())&&(n.projectActivityUploader=a.first)}},decls:53,vars:50,consts:[["projectActivityGrid",""],["columnChooser",""],["modalFooter",""],["treeList",""],["projectActivityUploader",""],["fileUploader",""],["nz-row","",3,"nzGutter"],["nz-col","","nzXs","14","nzSm","14","nzMd","14","nzLg","14"],[3,"nzActive","nzShowArrow","nzHeader"],["nz-row","","nzJustify","start",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","12","nzLg","4"],["label","Project Name","labelLocation","left","showColonAfterLabel","true",3,"valueChange","onBlur","labelMode","value"],["label","Line","labelLocation","left","showColonAfterLabel","true",3,"valueChange","onBlur","labelMode","value"],["label","Supplier","labelLocation","left","showColonAfterLabel","true",3,"valueChange","onBlur","labelMode","value"],["label","Tact Time","labelLocation","left","showColonAfterLabel","true",3,"valueChange","onBlur","labelMode","value"],[3,"nzHeader","nzActive","nzShowArrow"],["keyExpr","id",3,"onRowClick","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth"],["dataField","processName","caption","Process Name"],["dataField","startPlan","caption","Start Plan","dataType","date","format","yyyy-MM-dd"],["dataField","endPlan","caption","End Plan","dataType","date","format","yyyy-MM-dd"],["dataField","startAction","caption","Start Action","dataType","date","format","yyyy-MM-dd"],["dataField","endAction","caption","End Action","dataType","date","format","yyyy-MM-dd"],["caption","Ti\u1ebfn \u0111\u1ed9","cellTemplate","progressTemplate","fixedPosition","right",3,"fixed"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],["nz-col","","nzXs","10","nzSm","10","nzMd","10","nzLg","10"],["keyExpr","id",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth"],["location","before"],["stylingMode","outlined","type","default","icon","plus","text","Add Activity",3,"onClick"],[3,"visible"],[3,"enabled","mode","title"],["dataField","date","caption","Date","dataType","date","format","yyyy-MM-dd"],["dataField","title","caption","Title"],["dataField","note","caption","Note"],["dataField","attachFile","caption","File"],["caption","Action","cellTemplate","actionTemplate","fixedPosition","right",3,"fixed"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],["nzWidth","100%",3,"nzVisible","nzTitle","nzFooter"],[4,"nzModalContent"],[3,"nzVisibleChange","nzVisible","nzTitle"],[4,"nzModalFooter"],[2,"text-align","center"],[1,"w3-light-grey","w3-round-small"],[1,"w3-container","w3-round-small",3,"ngClass"],[3,"click"],["nz-col","","nzXs","24","nzSm","12","nzLg","5"],["label","Content","labelLocation","left","showColonAfterLabel","true",3,"valueChange","onBlur","labelMode","value"],["nz-col","","nzXs","24","nzSm","12","nzLg","3"],["label","Start Plan","labelLocation","left","showColonAfterLabel","true",3,"valueChange","onBlur","labelMode","displayFormat","value"],["label","End Plan","labelLocation","left","showColonAfterLabel","true",3,"valueChange","onBlur","labelMode","displayFormat","value"],["label","Start Action","labelLocation","left","showColonAfterLabel","true",3,"valueChange","onBlur","labelMode","displayFormat","value"],["label","End Action","labelLocation","left","showColonAfterLabel","true",3,"valueChange","onBlur","labelMode","displayFormat","value"],["label","Ti\u1ebfn \u0111\u1ed9","labelLocation","left","showColonAfterLabel","true",3,"valueChange","onBlur","labelMode","min","max","step","value"],["nzSize","small","nzBordered","","nzFrontPagination","false",3,"nzData"],[4,"ngIf"],["keyExpr","id","parentIdExpr","parentId",1,"drawing-structure",3,"dataSource","rootValue","showRowLines","showBorders","columnAutoWidth","height","expandedRowKeys","scrolling"],[3,"enabled"],["location","before","name","addRowButton","showText","always"],["stylingMode","outlined","type","default","icon","upload","text","Upload Drawing Structure",3,"onClick"],["stylingMode","outlined","type","success","icon","upload","text","Upload Drawing File",3,"onClick"],["location","after","name","columnChooserButton"],["location","after","name","searchPanel"],["mode","popup",3,"allowUpdating","allowAdding","allowDeleting"],["title","Drawing Information",3,"showTitle","width"],["dataField","level","caption","Level"],["caption","File","cellTemplate","fileTemplate"],["dataField","drawingNo","caption","Drawing No"],[3,"allowSelectAll"],["dataField","name","caption","Drawing name"],["dataField","qty","caption","Qty"],["dataField","unit","caption","Unit"],["dataField","material","caption","Material"],["dataField","hardness","caption","Hardness"],["dataField","polishing","caption","Polishing"],["dataField","supplier","caption","Supplier"],["dataField","version","caption","Version"],["dataField","remark","caption","Remark",3,"visible"],["style","width: 40%",4,"ngIf"],[4,"nzSpaceItem"],["nz-icon","","nzType","eye","nzTheme","outline","alt","Xem tr\u01b0\u1edbc",3,"click"],["nz-icon","","nzType","cloud-download","nzTheme","outline",3,"click"],[2,"width","40%"],["width","100%","height","600px",3,"src"],["nz-button","","nzType","default",3,"click"],["nzSize","small","nzBordered","","nzFrontPagination","false",1,"project-activity",3,"nzData"],["nz-input","","placeholder","Title",3,"ngModelChange","ngModel"],[2,"color","red"],[2,"width","100%",3,"ngModelChange","ngModel"],["rows","3","nz-input","",3,"ngModelChange","ngModel"],["selectButtonText","Select file","labelText","","accept","image/*, .pdf, .doc, .docx, .ppt, .pptx, .xls, .xlsx","uploadMode","useForm",3,"multiple","inputAttr"],["nz-button","","nzType","primary",3,"click"],["selectButtonText","Select file","labelText","",3,"multiple","accept","uploadMode","inputAttr"],["nz-button","","nzType","primary",3,"click","nzLoading"]],template:function(i,n){if(1&i){const a=e.RV6();e.j41(0,"div",6)(1,"div",7)(2,"nz-collapse")(3,"nz-collapse-panel",8)(4,"div",9)(5,"div",10)(6,"dx-text-box",11),e.mxI("valueChange",function(_){return e.eBV(a),e.DH7(n.project.name,_)||(n.project.name=_),e.Njj(_)}),e.bIt("onBlur",function(){return e.eBV(a),e.Njj(n.updateProject())}),e.k0s()(),e.j41(7,"div",10)(8,"dx-text-box",12),e.mxI("valueChange",function(_){return e.eBV(a),e.DH7(n.project.line,_)||(n.project.line=_),e.Njj(_)}),e.bIt("onBlur",function(){return e.eBV(a),e.Njj(n.updateProject())}),e.k0s()(),e.j41(9,"div",10)(10,"dx-text-box",13),e.mxI("valueChange",function(_){return e.eBV(a),e.DH7(n.project.supplier,_)||(n.project.supplier=_),e.Njj(_)}),e.bIt("onBlur",function(){return e.eBV(a),e.Njj(n.updateProject())}),e.k0s()(),e.j41(11,"div",10)(12,"dx-text-box",14),e.mxI("valueChange",function(_){return e.eBV(a),e.DH7(n.project.tactTime,_)||(n.project.tactTime=_),e.Njj(_)}),e.bIt("onBlur",function(){return e.eBV(a),e.Njj(n.updateProject())}),e.k0s()()(),e.nrm(13,"br"),e.j41(14,"nz-collapse")(15,"nz-collapse-panel",15)(16,"dx-data-grid",16),e.bIt("onRowClick",function(_){return e.eBV(a),e.Njj(n.onClickProcess(_))}),e.nrm(17,"dxi-column",17)(18,"dxi-column",18)(19,"dxi-column",19)(20,"dxi-column",20)(21,"dxi-column",21),e.j41(22,"dxi-column",22),e.DNE(23,he,4,7,"div",23),e.k0s()()()()()()(),e.j41(24,"div",24)(25,"nz-collapse")(26,"nz-collapse-panel",15)(27,"dx-data-grid",25,0)(29,"dxo-toolbar")(30,"dxi-item",26)(31,"dx-button",27),e.bIt("onClick",function(){return e.eBV(a),e.Njj(n.openProjectActivityModal(null))}),e.k0s()()(),e.nrm(32,"dxo-filter-row",28)(33,"dxo-column-chooser",29,1)(35,"dxi-column",30)(36,"dxi-column",31)(37,"dxi-column",32)(38,"dxi-column",33)(39,"dxi-column",34),e.DNE(40,Ce,3,0,"div",23),e.nrm(41,"dxo-paging",35)(42,"dxo-pager",36),e.k0s()()()()(),e.j41(43,"nz-modal",37),e.DNE(44,xe,18,23,"ng-container",38)(45,Me,2,0,"ng-template",null,2,e.C5r),e.k0s(),e.j41(47,"nz-modal",39),e.mxI("nzVisibleChange",function(_){return e.eBV(a),e.DH7(n.isOpenProjectActivityModal,_)||(n.isOpenProjectActivityModal=_),e.Njj(_)}),e.DNE(48,ye,30,8,"ng-container",38)(49,be,5,0,"div",40),e.k0s(),e.j41(50,"nz-modal",39),e.mxI("nzVisibleChange",function(_){return e.eBV(a),e.DH7(n.isOpenUploadFileModal,_)||(n.isOpenUploadFileModal=_),e.Njj(_)}),e.DNE(51,Re,3,5,"ng-container",38)(52,Te,5,1,"div",40),e.k0s()}if(2&i){const a=e.sdS(46);e.Y8G("nzGutter",24),e.R7$(3),e.Y8G("nzActive",!0)("nzShowArrow",!0)("nzHeader",n.project.controlNo),e.R7$(),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("labelMode","static"),e.R50("value",n.project.name),e.R7$(2),e.Y8G("labelMode","static"),e.R50("value",n.project.line),e.R7$(2),e.Y8G("labelMode","static"),e.R50("value",n.project.supplier),e.R7$(2),e.Y8G("labelMode","static"),e.R50("value",n.project.tactTime),e.R7$(3),e.Y8G("nzHeader","Process")("nzActive",!0)("nzShowArrow",!0),e.R7$(),e.Y8G("dataSource",n.processRecords)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0),e.R7$(6),e.Y8G("fixed",!0),e.R7$(),e.Y8G("dxTemplateOf","progressTemplate"),e.R7$(3),e.Y8G("nzHeader","Project Activity")("nzActive",!0)("nzShowArrow",!0),e.R7$(),e.Y8G("dataSource",n.projectActivities)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0),e.R7$(5),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0)("mode","select")("title","C\u1ed9t hi\u1ec3n th\u1ecb"),e.R7$(6),e.Y8G("fixed",!0),e.R7$(),e.Y8G("dxTemplateOf","actionTemplate"),e.R7$(),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(49,_e)),e.R7$(),e.Y8G("nzVisible",n.isOpenProcessModal)("nzTitle","Process: "+n.processRecord.processName)("nzFooter",a),e.R7$(4),e.R50("nzVisible",n.isOpenProjectActivityModal),e.Y8G("nzTitle","Project Activity"),e.R7$(3),e.R50("nzVisible",n.isOpenUploadFileModal),e.Y8G("nzTitle",n.uploadFileModal.title)}},dependencies:[p.YU,p.bT,u.me,u.BC,u.vS,P.Vz,P.pc,v.e,$.eC,M.s,D.i2Q,D.ZWy,D.nj_,D.gtJ,D.$Xk,D.CVf,D.Tot,D.FTx,D.sVQ,D.PVd,D.hXY,D.KOr,c.Uq,c.e,b.aO,X.c,Y.p,g.Dn,z.F2,z.Oj,z.A9,y.CP,y.SO,y.aj,y.kt,m.SN,ie.m,re.y,k.Sy,ae.m,le.E,ce.z,ne.U5,ne.Dq],styles:['@charset "UTF-8";#project-info[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], #project-progress[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#0856ff}.project-activity[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}.w3-light-grey[_ngcontent-%COMP%], .w3-hover-light-grey[_ngcontent-%COMP%]:hover, .w3-hover-light-gray[_ngcontent-%COMP%]:hover{color:#fff!important;background-color:#999898!important;text-align:left}.w3-red[_ngcontent-%COMP%]{color:#fff!important;background-color:red!important;font-size:12px;font-weight:700;padding-left:3px}.w3-orange[_ngcontent-%COMP%]{color:#fff!important;background-color:orange!important;font-size:12px;font-weight:700;padding-left:3px}.w3-green[_ngcontent-%COMP%]{color:#fff!important;background-color:#0cac0c!important;font-size:12px;font-weight:700;padding-left:3px}']})}return r})()}];let Oe=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=e.$C({type:r});static#n=this.\u0275inj=e.G2t({imports:[R.iI.forChild(Ie),R.iI]})}return r})();var we=l(11668),Ee=l(91062),Fe=l(87907),Ae=l(72898),Be=l(34756),ke=l(25703),Ne=l(19448),Ge=l(35154);let Se=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#t=this.\u0275mod=e.$C({type:r});static#n=this.\u0275inj=e.G2t({imports:[p.MD,u.YN,Oe,I.EJ,L.g9,P.GB,v.L,M.N,o.S,c.f3,h.m,E.ki,b.Zw,g.Y3,z.U6,y.$G,m.LE,ie.b,re.t,Ne.g,ke.Ti,k.j,N.DH,we.F,Ee.D,ae.Z,Fe.X,Ae.L,le.p,ce.W,Be.V,ne.pc,Ge.Qt]})}return r})()},72898:(H,w,l)=>{l.d(w,{L:()=>b,_:()=>I});var p=l(54438),u=l(15966),v=l(27380),M=l(31837),o=l(345);let I=(()=>{class P extends v.PF{constructor(c,g,z,h,y,E,R,e,F){super(c,g,z,h,e,F),this._watcherHelper=h,this._idh=y,this._createEventEmitters([{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"validated",emit:"onValidated"},{emit:"adapterChange"},{emit:"elementAttrChange"},{emit:"heightChange"},{emit:"nameChange"},{emit:"validationGroupChange"},{emit:"validationRulesChange"},{emit:"widthChange"}]),this.parentElement=this.getParentElement(E),this._idh.setHost(this),R.setHost(this)}get adapter(){return this._getOption("adapter")}set adapter(c){this._setOption("adapter",c)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(c){this._setOption("elementAttr",c)}get height(){return this._getOption("height")}set height(c){this._setOption("height",c)}get name(){return this._getOption("name")}set name(c){this._setOption("name",c)}get validationGroup(){return this._getOption("validationGroup")}set validationGroup(c){this._setOption("validationGroup",c)}get validationRules(){return this._getOption("validationRules")}set validationRules(c){this._setOption("validationRules",c)}get width(){return this._getOption("width")}set width(c){this._setOption("width",c)}get validationRulesChildren(){return this._getOption("validationRules")}set validationRulesChildren(c){this.setChildren("validationRules",c)}_createInstance(c,g){return new u.A(this.parentElement?this.parentElement:c,g)}getParentElement(c){if(c)return c.getHost().element.nativeElement}ngOnDestroy(){this._destroyWidget()}ngOnChanges(c){super.ngOnChanges(c),this.setupChanges("validationRules",c)}setupChanges(c,g){c in this._optionsToUpdate||this._idh.setup(c,g)}ngDoCheck(){this._idh.doCheck("validationRules"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(c,g){let z=this._idh.setupSingle(c,g),h=null!==this._idh.getChanges(c,g);(z||h)&&super._setOption(c,g)}}return P.\u0275fac=function(c){return new(c||P)(p.rXU(p.aKT),p.rXU(p.SKi),p.rXU(v.zF),p.rXU(v.jS),p.rXU(v.$M),p.rXU(v.fH,13),p.rXU(v.fH),p.rXU(o.pJ),p.rXU(p.Agw))},P.\u0275cmp=p.VBU({type:P,selectors:[["dx-validator"]],contentQueries:function(c,g,z){if(1&c&&p.wni(z,M.Inh,4),2&c){let h;p.mGM(h=p.lsd())&&(g.validationRulesChildren=h)}},inputs:{adapter:"adapter",elementAttr:"elementAttr",height:"height",name:"name",validationGroup:"validationGroup",validationRules:"validationRules",width:"width"},outputs:{onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onValidated:"onValidated",adapterChange:"adapterChange",elementAttrChange:"elementAttrChange",heightChange:"heightChange",nameChange:"nameChange",validationGroupChange:"validationGroupChange",validationRulesChange:"validationRulesChange",widthChange:"widthChange"},features:[p.Jv_([v.zF,v.jS,v.fH,v.$M]),p.Vt3,p.OA$],decls:0,vars:0,template:function(c,g){},encapsulation:2}),P})(),b=(()=>{class P{}return P.\u0275fac=function(c){return new(c||P)},P.\u0275mod=p.$C({type:P}),P.\u0275inj=p.G2t({imports:[[M.nz1,M.$lK,v.p_,v.xZ],M.nz1,M.$lK,v.xZ]}),P})()},19448:(H,w,l)=>{l.d(w,{g:()=>P,j:()=>b});var p=l(15215),u=l(54438),v=l(57806),M=l(70317);function o(m,c){if(1&m&&(u.qex(0),u.EFF(1),u.bVm()),2&m){const g=u.XpG(2);u.R7$(),u.JRh(g.nzText)}}function I(m,c){if(1&m&&(u.j41(0,"span",0),u.DNE(1,o,2,1,"ng-container",1),u.k0s()),2&m){const g=u.XpG();u.R7$(),u.Y8G("nzStringTemplateOutlet",g.nzText)}}let b=(()=>{class m{constructor(){this.nzType="horizontal",this.nzOrientation="center",this.nzDashed=!1,this.nzPlain=!1}static#e=this.\u0275fac=function(z){return new(z||m)};static#t=this.\u0275cmp=u.VBU({type:m,selectors:[["nz-divider"]],hostAttrs:[1,"ant-divider"],hostVars:16,hostBindings:function(z,h){2&z&&u.AVh("ant-divider-horizontal","horizontal"===h.nzType)("ant-divider-vertical","vertical"===h.nzType)("ant-divider-with-text",h.nzText)("ant-divider-plain",h.nzPlain)("ant-divider-with-text-left",h.nzText&&"left"===h.nzOrientation)("ant-divider-with-text-right",h.nzText&&"right"===h.nzOrientation)("ant-divider-with-text-center",h.nzText&&"center"===h.nzOrientation)("ant-divider-dashed",h.nzDashed)},inputs:{nzText:"nzText",nzType:"nzType",nzOrientation:"nzOrientation",nzDashed:"nzDashed",nzPlain:"nzPlain"},exportAs:["nzDivider"],standalone:!0,features:[u.aNF],decls:1,vars:1,consts:[[1,"ant-divider-inner-text"],[4,"nzStringTemplateOutlet"]],template:function(z,h){1&z&&u.DNE(0,I,2,1,"span",0),2&z&&u.vxM(0,h.nzText?0:-1)},dependencies:[v.C,v.m],encapsulation:2,changeDetection:0})}return(0,p.Cg)([(0,M.H3)()],m.prototype,"nzDashed",void 0),(0,p.Cg)([(0,M.H3)()],m.prototype,"nzPlain",void 0),m})(),P=(()=>{class m{static#e=this.\u0275fac=function(z){return new(z||m)};static#t=this.\u0275mod=u.$C({type:m});static#n=this.\u0275inj=u.G2t({imports:[b]})}return m})()},72874:(H,w,l)=>{l.d(w,{PV:()=>ee,g9:()=>te});var p=l(15215),u=l(10851),v=l(32753),M=l(60177),o=l(54438),I=l(45286),b=l(7605),P=l(84046),m=l(77312),c=l(50513),g=l(40713),z=l(16042),h=l(26841),y=l(57806),E=l(65463),R=l(70317),e=l(89450),F=l(72544),B=l(35154),K=l(28203),J=l(16389),U=l(25930);const Q=["okBtn"],V=["cancelBtn"];function L(d,O){1&d&&(o.j41(0,"div",6),o.nrm(1,"span",14),o.k0s())}function $(d,O){if(1&d&&(o.qex(0),o.j41(1,"span",16),o.nrm(2,"span",17),o.k0s(),o.bVm()),2&d){const s=O.$implicit;o.R7$(2),o.Y8G("nzType",s||"exclamation-circle")}}function D(d,O){if(1&d&&(o.qex(0),o.DNE(1,$,3,1,"ng-container",10),o.j41(2,"div",15),o.EFF(3),o.k0s(),o.bVm()),2&d){const s=o.XpG(2);o.R7$(),o.Y8G("nzStringTemplateOutlet",s.nzIcon),o.R7$(2),o.JRh(s.nzTitle)}}function X(d,O){if(1&d&&o.EFF(0),2&d){const s=o.XpG(2);o.SpI(" ",s.nzCancelText," ")}}function Y(d,O){1&d&&(o.EFF(0),o.nI1(1,"nzI18n")),2&d&&o.SpI(" ",o.bMT(1,1,"Modal.cancelText")," ")}function k(d,O){if(1&d&&o.EFF(0),2&d){const s=o.XpG(2);o.SpI(" ",s.nzOkText," ")}}function N(d,O){1&d&&(o.EFF(0),o.nI1(1,"nzI18n")),2&d&&o.SpI(" ",o.bMT(1,1,"Modal.okText")," ")}function Z(d,O){if(1&d){const s=o.RV6();o.j41(0,"div",4)(1,"div",5),o.DNE(2,L,2,0,"div",6),o.j41(3,"div",7)(4,"div")(5,"div",8)(6,"div",9),o.DNE(7,D,4,2,"ng-container",10),o.k0s(),o.j41(8,"div",11)(9,"button",12,1),o.bIt("click",function(){o.eBV(s);const f=o.XpG();return o.Njj(f.onCancel())}),o.DNE(11,X,1,1)(12,Y,2,3),o.k0s(),o.j41(13,"button",13,2),o.bIt("click",function(){o.eBV(s);const f=o.XpG();return o.Njj(f.onConfirm())}),o.DNE(15,k,1,1)(16,N,2,3),o.k0s()()()()()()()}if(2&d){const s=o.XpG();o.AVh("ant-popover-rtl","rtl"===s.dir),o.Y8G("cdkTrapFocusAutoCapture",null!==s.nzAutoFocus)("ngClass",s._classMap)("ngStyle",s.nzOverlayStyle)("@.disabled",!(null==s.noAnimation||!s.noAnimation.nzNoAnimation))("nzNoAnimation",null==s.noAnimation?null:s.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),o.R7$(2),o.vxM(2,s.nzPopconfirmShowArrow?2:-1),o.R7$(5),o.Y8G("nzStringTemplateOutlet",s.nzTitle),o.R7$(2),o.Y8G("nzSize","small"),o.BMQ("cdkFocusInitial","cancel"===s.nzAutoFocus||null),o.R7$(2),o.vxM(11,s.nzCancelText?11:12),o.R7$(2),o.Y8G("nzSize","small")("nzType","danger"!==s.nzOkType?s.nzOkType:"primary")("nzDanger",s.nzOkDanger||"danger"===s.nzOkType)("nzLoading",s.confirmLoading)("disabled",s.nzOkDisabled),o.BMQ("cdkFocusInitial","ok"===s.nzAutoFocus||null),o.R7$(2),o.vxM(15,s.nzOkText?15:16)}}let ee=(()=>{class d extends B.ME{getProxyPropertyMap(){return{nzOkText:["nzOkText",()=>this.nzOkText],nzOkType:["nzOkType",()=>this.nzOkType],nzOkDanger:["nzOkDanger",()=>this.nzOkDanger],nzOkDisabled:["nzOkDisabled",()=>this.nzOkDisabled],nzCancelText:["nzCancelText",()=>this.nzCancelText],nzBeforeConfirm:["nzBeforeConfirm",()=>this.nzBeforeConfirm],nzCondition:["nzCondition",()=>this.nzCondition],nzIcon:["nzIcon",()=>this.nzIcon],nzPopconfirmShowArrow:["nzPopconfirmShowArrow",()=>this.nzPopconfirmShowArrow],nzPopconfirmBackdrop:["nzBackdrop",()=>this.nzPopconfirmBackdrop],nzAutoFocus:["nzAutoFocus",()=>this.nzAutofocus],...super.getProxyPropertyMap()}}constructor(){super(W),this._nzModuleName="popconfirm",this.trigger="click",this.placement="top",this.nzCondition=!1,this.nzPopconfirmShowArrow=!0,this.nzPopconfirmBackdrop=!1,this.nzAutofocus=null,this.visibleChange=new o.bkB,this.nzOnCancel=new o.bkB,this.nzOnConfirm=new o.bkB}createComponent(){super.createComponent(),this.component.nzOnCancel.pipe((0,b.Q)(this.destroy$)).subscribe(()=>{this.nzOnCancel.emit()}),this.component.nzOnConfirm.pipe((0,b.Q)(this.destroy$)).subscribe(()=>{this.nzOnConfirm.emit()})}static#e=this.\u0275fac=function(C){return new(C||d)};static#t=this.\u0275dir=o.FsC({type:d,selectors:[["","nz-popconfirm",""]],hostVars:2,hostBindings:function(C,f){2&C&&o.AVh("ant-popover-open",f.visible)},inputs:{arrowPointAtCenter:[o.Mj6.None,"nzPopconfirmArrowPointAtCenter","arrowPointAtCenter"],title:[o.Mj6.None,"nzPopconfirmTitle","title"],directiveTitle:[o.Mj6.None,"nz-popconfirm","directiveTitle"],trigger:[o.Mj6.None,"nzPopconfirmTrigger","trigger"],placement:[o.Mj6.None,"nzPopconfirmPlacement","placement"],origin:[o.Mj6.None,"nzPopconfirmOrigin","origin"],mouseEnterDelay:[o.Mj6.None,"nzPopconfirmMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:[o.Mj6.None,"nzPopconfirmMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:[o.Mj6.None,"nzPopconfirmOverlayClassName","overlayClassName"],overlayStyle:[o.Mj6.None,"nzPopconfirmOverlayStyle","overlayStyle"],visible:[o.Mj6.None,"nzPopconfirmVisible","visible"],nzOkText:"nzOkText",nzOkType:"nzOkType",nzOkDisabled:"nzOkDisabled",nzOkDanger:"nzOkDanger",nzCancelText:"nzCancelText",nzBeforeConfirm:"nzBeforeConfirm",nzIcon:"nzIcon",nzCondition:"nzCondition",nzPopconfirmShowArrow:"nzPopconfirmShowArrow",nzPopconfirmBackdrop:"nzPopconfirmBackdrop",nzAutofocus:"nzAutofocus"},outputs:{visibleChange:"nzPopconfirmVisibleChange",nzOnCancel:"nzOnCancel",nzOnConfirm:"nzOnConfirm"},exportAs:["nzPopconfirm"],standalone:!0,features:[o.Vt3]})}return(0,p.Cg)([(0,R.H3)()],d.prototype,"arrowPointAtCenter",void 0),(0,p.Cg)([(0,R.H3)()],d.prototype,"nzOkDisabled",void 0),(0,p.Cg)([(0,R.H3)()],d.prototype,"nzOkDanger",void 0),(0,p.Cg)([(0,R.H3)()],d.prototype,"nzCondition",void 0),(0,p.Cg)([(0,R.H3)()],d.prototype,"nzPopconfirmShowArrow",void 0),(0,p.Cg)([(0,z.H4)()],d.prototype,"nzPopconfirmBackdrop",void 0),(0,p.Cg)([(0,z.H4)()],d.prototype,"nzAutofocus",void 0),d})(),W=(()=>{class d extends B.VJ{constructor(s,C,f,T,A){super(s,f,A),this.elementRef=C,this.nzCondition=!1,this.nzPopconfirmShowArrow=!0,this.nzOkType="primary",this.nzOkDanger=!1,this.nzOkDisabled=!1,this.nzAutoFocus=null,this.nzBeforeConfirm=null,this.nzOnCancel=new I.B7,this.nzOnConfirm=new I.B7,this._trigger="click",this.elementFocusedBeforeModalWasOpened=null,this._prefix="ant-popover",this.confirmLoading=!1,this.document=T}ngOnDestroy(){super.ngOnDestroy(),this.nzOnCancel.complete(),this.nzOnConfirm.complete()}show(){this.nzCondition?this.onConfirm():(this.capturePreviouslyFocusedElement(),super.show())}hide(){super.hide(),this.restoreFocus()}handleConfirm(){this.nzOnConfirm.next(),super.hide()}onCancel(){this.nzOnCancel.next(),super.hide()}onConfirm(){if(this.nzBeforeConfirm){const s=(0,R.cG)(this.nzBeforeConfirm()).pipe((0,P.$)());this.confirmLoading=!0,s.pipe((0,m.j)(()=>{this.confirmLoading=!1,this.cdr.markForCheck()}),(0,b.Q)(this.nzVisibleChange),(0,b.Q)(this.destroy$)).subscribe(C=>{C&&this.handleConfirm()})}else this.handleConfirm()}capturePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement)}restoreFocus(){const s=this.elementFocusedBeforeModalWasOpened;if(s&&"function"==typeof s.focus){const C=this.document.activeElement,f=this.elementRef.nativeElement;(!C||C===this.document.body||C===f||f.contains(C))&&s.focus()}}static#e=this.\u0275fac=function(C){return new(C||d)(o.rXU(o.gRc),o.rXU(o.aKT),o.rXU(K.dS,8),o.rXU(M.qQ,8),o.rXU(h.z,9))};static#t=this.\u0275cmp=o.VBU({type:d,selectors:[["nz-popconfirm"]],viewQuery:function(C,f){if(1&C&&(o.GBs(Q,5,o.aKT),o.GBs(V,5,o.aKT)),2&C){let T;o.mGM(T=o.lsd())&&(f.okBtn=T),o.mGM(T=o.lsd())&&(f.cancelBtn=T)}},exportAs:["nzPopconfirmComponent"],standalone:!0,features:[o.Vt3,o.aNF],decls:2,vars:6,consts:[["overlay","cdkConnectedOverlay"],["cancelBtn",""],["okBtn",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayPush","nzArrowPointAtCenter"],["cdkTrapFocus","",1,"ant-popover",3,"cdkTrapFocusAutoCapture","ngClass","ngStyle","nzNoAnimation"],[1,"ant-popover-content"],[1,"ant-popover-arrow"],[1,"ant-popover-inner"],[1,"ant-popover-inner-content"],[1,"ant-popover-message"],[4,"nzStringTemplateOutlet"],[1,"ant-popover-buttons"],["nz-button","",3,"click","nzSize"],["nz-button","",3,"click","nzSize","nzType","nzDanger","nzLoading","disabled"],[1,"ant-popover-arrow-content"],[1,"ant-popover-message-title"],[1,"ant-popover-message-icon"],["nz-icon","","nzTheme","fill",3,"nzType"]],template:function(C,f){if(1&C){const T=o.RV6();o.DNE(0,Z,17,20,"ng-template",3,0,o.C5r),o.bIt("overlayOutsideClick",function(G){return o.eBV(T),o.Njj(f.onClickOutside(G))})("detach",function(){return o.eBV(T),o.Njj(f.hide())})("positionChange",function(G){return o.eBV(T),o.Njj(f.onPositionChange(G))})}2&C&&o.Y8G("cdkConnectedOverlayHasBackdrop",f.nzBackdrop)("cdkConnectedOverlayOrigin",f.origin)("cdkConnectedOverlayPositions",f._positions)("cdkConnectedOverlayOpen",f._visible)("cdkConnectedOverlayPush",f.cdkConnectedOverlayPush)("nzArrowPointAtCenter",f.nzArrowPointAtCenter)},dependencies:[v.z_,v.WB,E.$_,E.vT,u.Pd,u.kB,M.YU,M.B3,h.z,y.C,y.m,F.Y3,F.Dn,c.Zw,c.aO,J.c,U.p,e.bP,e.Vc],encapsulation:2,data:{animation:[g.uX]},changeDetection:0})}return d})(),te=(()=>{class d{static#e=this.\u0275fac=function(C){return new(C||d)};static#t=this.\u0275mod=o.$C({type:d});static#n=this.\u0275inj=o.G2t({imports:[W]})}return d})()}}]);