"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[8306],{28306:(U,S,r)=>{r.r(S),r.d(S,{PackingOqcRequestModule:()=>ye});var _=r(60177),o=r(89417),P=r(47711),x=r(24053),G=r(33514),b=r(12673),f=r(27380),M=r(23617),C=r(31958),z=r(50513),A=r(25703),y=r(74696),v=r(58960),E=r(97529),w=r(72544),j=r(21011),O=r(43053),T=r(33190),k=r(1997),$=r(61912),q=r(23359),D=r(46661),L=r(90696),e=r(54438),B=r(55442),l=r(24367),F=r(33373),c=r(45794),u=r(37736),g=r(16389),R=r(25930),m=r(31837),N=r(75699),V=r(72874);const Q=()=>[10,25,50,100],I=()=>[""];function Y(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",47)(1,"a",48),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.openDetailModal(n))}),e.EFF(2),e.k0s()()}if(2&a){const t=d.$implicit;e.R7$(2),e.JRh(t.data.reqNo)}}function X(a,d){if(1&a&&(e.j41(0,"li"),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&a){const t=d.$implicit;e.R7$(),e.Lme(" ",t.split(":")[0]," : ",e.i5U(2,2,t.split(":")[1],"1.0-3")," ")}}function H(a,d){if(1&a&&(e.j41(0,"ul",51),e.DNE(1,X,3,5,"li",52),e.k0s()),2&a){const t=e.XpG().$implicit;e.R7$(),e.Y8G("ngForOf",t.data.dateCode.split(";"))}}function J(a,d){1&a&&(e.j41(0,"span",53),e.EFF(1,"Kh\xf4ng c\xf3 Date Code"),e.k0s())}function W(a,d){if(1&a&&(e.j41(0,"div"),e.DNE(1,H,2,1,"ul",49)(2,J,2,0,"span",50),e.k0s()),2&a){const t=d.$implicit;e.R7$(),e.Y8G("ngIf",t.data.dateCode),e.R7$(),e.Y8G("ngIf",!t.data.dateCode)}}function K(a,d){if(1&a&&(e.j41(0,"div",54),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&a){const t=d.$implicit;e.R7$(),e.SpI(" ",e.i5U(2,1,t.data.sortingQty?t.data.sortingQty:t.data.qty,"1.0-3")," ")}}function Z(a,d){if(1&a&&(e.j41(0,"div",55)(1,"span"),e.EFF(2),e.k0s()()),2&a){const t=d.$implicit;e.R7$(2),e.JRh(t.data.judgment)}}function ee(a,d){if(1&a){const t=e.RV6();e.j41(0,"div",47)(1,"a",48),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.openDetailModal(n))}),e.EFF(2,"S\u1eeda"),e.k0s()()}}function te(a,d){if(1&a&&e.nrm(0,"nz-option",64),2&a){const t=d.$implicit;e.Y8G("nzValue",t.qaCard)("nzLabel",t.qaCard)}}function ne(a,d){if(1&a&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td"),e.EFF(4),e.k0s(),e.j41(5,"td",54),e.EFF(6),e.nI1(7,"number"),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.nrm(10,"td"),e.k0s()),2&a){const t=d.$implicit;e.R7$(2),e.JRh(t.dateCode),e.R7$(2),e.JRh(t.customerCode),e.R7$(2),e.SpI(" ",e.i5U(7,4,t.qty,"1.0-3")," "),e.R7$(3),e.JRh(t.employeeName)}}function ae(a,d){if(1&a&&(e.j41(0,"label",92),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&a){const t=e.XpG(4);e.R7$(),e.JRh(e.i5U(2,1,t.requestCreate.totalQty,"1.0-3"))}}function oe(a,d){if(1&a){const t=e.RV6();e.j41(0,"dx-number-box",93),e.mxI("valueChange",function(n){e.eBV(t);const s=e.XpG(4);return e.DH7(s.requestCreate.sortingQty,n)||(s.requestCreate.sortingQty=n),e.Njj(n)}),e.k0s()}if(2&a){const t=e.XpG(4);e.R50("value",t.requestCreate.sortingQty)}}function ie(a,d){if(1&a){const t=e.RV6();e.j41(0,"tr",85)(1,"td",86)(2,"label",87),e.EFF(3,"T\u1ed5ng s\u1ed1"),e.k0s()(),e.j41(4,"td",54),e.DNE(5,ae,3,4,"label",88)(6,oe,1,1,"dx-number-box",89),e.k0s(),e.j41(7,"td")(8,"label",87),e.EFF(9,"H\xe0ng sorting"),e.k0s()(),e.j41(10,"td")(11,"nz-radio-group",90),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(3);return e.DH7(s.requestCreate.isSorting,n)||(s.requestCreate.isSorting=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const s=e.XpG(3);return e.Njj(s.changeMode(n))}),e.j41(12,"label",91),e.EFF(13,"Yes"),e.k0s(),e.j41(14,"label",91),e.EFF(15,"No"),e.k0s()()()()}if(2&a){const t=e.XpG(3);e.R7$(5),e.Y8G("ngIf",!t.requestCreate.isSorting),e.R7$(),e.Y8G("ngIf",t.requestCreate.isSorting),e.R7$(5),e.R50("ngModel",t.requestCreate.isSorting),e.R7$(),e.Y8G("nzValue",!0),e.R7$(2),e.Y8G("nzValue",!1)}}function se(a,d){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"nz-table",77)(2,"thead")(3,"tr")(4,"th"),e.EFF(5,"QA Card"),e.k0s(),e.j41(6,"th",65)(7,"nz-select",78),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.requestCreate.qaCard,n)||(s.requestCreate.qaCard=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const s=e.XpG(2);return e.Njj(s.selectQaCard(n))}),e.DNE(8,te,1,2,"nz-option",79),e.k0s()()()(),e.j41(9,"tbody")(10,"tr")(11,"td",80)(12,"label"),e.EFF(13,"Model:"),e.k0s(),e.EFF(14,"\xa0"),e.j41(15,"span"),e.EFF(16),e.k0s()(),e.j41(17,"td",80)(18,"label"),e.EFF(19,"Line:"),e.k0s(),e.EFF(20,"\xa0"),e.j41(21,"span"),e.EFF(22),e.k0s()(),e.j41(23,"td",80)(24,"label"),e.EFF(25,"Date:"),e.k0s(),e.EFF(26,"\xa0"),e.j41(27,"span"),e.EFF(28),e.k0s()(),e.j41(29,"td",80)(30,"label"),e.EFF(31,"Shift:"),e.k0s(),e.EFF(32,"\xa0"),e.j41(33,"span"),e.EFF(34),e.k0s()()()()(),e.j41(35,"div",81)(36,"div",82)(37,"nz-table",83,2)(39,"thead")(40,"tr")(41,"th"),e.EFF(42,"Date Code"),e.k0s(),e.j41(43,"th"),e.EFF(44,"Customer Code"),e.k0s(),e.j41(45,"th"),e.EFF(46,"Qty"),e.k0s(),e.j41(47,"th"),e.EFF(48,"Ng\u01b0\u1eddi t\u1ea1o"),e.k0s(),e.j41(49,"th"),e.EFF(50,"Action"),e.k0s()()(),e.j41(51,"tbody"),e.DNE(52,ne,11,7,"tr",52)(53,ie,16,5,"tr",84),e.k0s()()()()()}if(2&a){const t=e.sdS(38),i=e.XpG(2);e.R7$(),e.Y8G("nzData",e.lJ4(11,I)),e.R7$(6),e.R50("ngModel",i.requestCreate.qaCard),e.R7$(),e.Y8G("ngForOf",i.qaCards),e.R7$(8),e.JRh(i.requestCreate.qaCard?i.requestCreate.qaCard.split("*")[0]:null),e.R7$(6),e.JRh(i.requestCreate.qaCard?i.requestCreate.qaCard.split("*")[1]:null),e.R7$(6),e.JRh(i.requestCreate.qaCard?i.requestCreate.qaCard.split("*")[2]:null),e.R7$(6),e.JRh(i.requestCreate.qaCard?i.requestCreate.qaCard.split("*")[3]:null),e.R7$(),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzData",i.requestCreate.dateCodes),e.R7$(15),e.Y8G("ngForOf",t.data),e.R7$(),e.Y8G("ngIf",i.requestCreate.qaCard)}}function re(a,d){if(1&a&&e.nrm(0,"nz-alert",94),2&a){const t=e.XpG(2);e.Y8G("nzMessage",t.errorCreateRequestMsg)}}function le(a,d){1&a&&(e.j41(0,"nz-tag",96),e.EFF(1,"Ch\u01b0a scan NVL"),e.k0s()),2&a&&e.Y8G("nzColor","red")("nzBordered",!1)}function ce(a,d){if(1&a&&(e.j41(0,"div",54),e.DNE(1,le,2,2,"nz-tag",95),e.EFF(2),e.nI1(3,"number"),e.k0s()),2&a){const t=d.$implicit;e.R7$(),e.Y8G("ngIf",!t.data.scanQty||0==t.data.scanQty),e.R7$(),e.SpI(" ",e.i5U(3,2,t.data.scanQty,"1.0-3")," ")}}function de(a,d){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"div",56)(2,"div",57),e.DNE(3,se,54,12,"div",58),e.nrm(4,"hr"),e.j41(5,"nz-table",59)(6,"thead")(7,"tr")(8,"th",60),e.EFF(9,"Ng\xe0y xu\u1ea5t"),e.k0s(),e.j41(10,"th",61)(11,"nz-date-picker",62),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.requestCreate.deliveryDate,n)||(s.requestCreate.deliveryDate=n),e.Njj(n)}),e.k0s()(),e.j41(12,"th",60),e.EFF(13,"\u0110\u1ed9 \u01b0u ti\xean"),e.k0s(),e.j41(14,"th",61)(15,"nz-select",63),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.requestCreate.priority,n)||(s.requestCreate.priority=n),e.Njj(n)}),e.nrm(16,"nz-option",64)(17,"nz-option",64)(18,"nz-option",64),e.k0s()()(),e.j41(19,"tr")(20,"th"),e.EFF(21,"Ghi ch\xfa"),e.k0s(),e.j41(22,"th",65)(23,"nz-textarea-count",66)(24,"textarea",67),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.requestCreate.remark,n)||(s.requestCreate.remark=n),e.Njj(n)}),e.k0s()()()()()(),e.DNE(25,re,1,1,"nz-alert",68),e.k0s(),e.j41(26,"div",69)(27,"dx-data-grid",70,1),e.nrm(29,"dxi-column",71)(30,"dxi-column",72)(31,"dxi-column",73),e.DNE(32,ce,4,5,"div",31),e.j41(33,"dxo-summary"),e.nrm(34,"dxi-total-item",74)(35,"dxi-total-item",75),e.k0s(),e.nrm(36,"dxo-paging",41)(37,"dxo-pager",42),e.k0s(),e.j41(38,"span"),e.EFF(39,"T\u1ef7 l\u1ec7: Qty (DateCode) so v\u1edbi Qty (Line scan) "),e.k0s(),e.j41(40,"nz-table",76)(41,"thead")(42,"tr")(43,"th"),e.EFF(44,"Qty (DateCode)"),e.k0s(),e.j41(45,"th"),e.EFF(46,"Qty (Line Scanned)"),e.k0s(),e.j41(47,"th"),e.EFF(48,"T\u1ef7 l\u1ec7"),e.k0s()()(),e.j41(49,"tbody")(50,"tr")(51,"td"),e.EFF(52),e.nI1(53,"number"),e.k0s(),e.j41(54,"td"),e.EFF(55),e.nI1(56,"number"),e.k0s(),e.j41(57,"td"),e.EFF(58),e.nI1(59,"number"),e.k0s()()()()()(),e.bVm()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("ngIf",t.qaCards),e.R7$(2),e.Y8G("nzData",e.lJ4(38,I)),e.R7$(6),e.R50("ngModel",t.requestCreate.deliveryDate),e.R7$(4),e.R50("ngModel",t.requestCreate.priority),e.R7$(),e.Y8G("nzValue",1)("nzLabel","Cao"),e.R7$(),e.Y8G("nzValue",2)("nzLabel","Trung b\xecnh"),e.R7$(),e.Y8G("nzValue",3)("nzLabel","Th\u1ea5p"),e.R7$(5),e.Y8G("nzMaxCharacterCount",100),e.R7$(),e.R50("ngModel",t.requestCreate.remark),e.R7$(),e.Y8G("ngIf",t.errorCreateRequestMsg),e.R7$(2),e.Y8G("dataSource",t.materialScanned)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(5),e.Y8G("dxTemplateOf","scanQtyTemplate"),e.R7$(4),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(39,Q)),e.R7$(3),e.Y8G("nzData",e.lJ4(40,I)),e.R7$(12),e.JRh(e.i5U(53,29,t.requestCreate.totalQty,"1.0-3")),e.R7$(3),e.JRh(e.i5U(56,32,t.totalQtyMaterialScanned,"1.0-3")),e.R7$(3),e.SpI(" ",e.i5U(59,35,t.requestCreate.totalQty&&t.totalQtyMaterialScanned?t.requestCreate.totalQty/t.totalQtyMaterialScanned*100:0,"1.0-3")," % ")}}function ue(a,d){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"button",97),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.handleCancel())}),e.EFF(2,"H\u1ee7y"),e.k0s(),e.j41(3,"button",98),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createOqcRequest())}),e.EFF(4," T\u1ea1o Request "),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(3),e.Y8G("disabled",0===t.materialScanned.length)}}function ge(a,d){1&a&&e.nrm(0,"div")}function pe(a,d){if(1&a){const t=e.RV6();e.j41(0,"dx-number-box",93),e.mxI("valueChange",function(n){e.eBV(t);const s=e.XpG(2);return e.DH7(s.requestUpdate.sortingQty,n)||(s.requestUpdate.sortingQty=n),e.Njj(n)}),e.k0s()}if(2&a){const t=e.XpG(2);e.R50("value",t.requestUpdate.sortingQty)}}function me(a,d){if(1&a&&(e.j41(0,"div"),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.JRh(e.i5U(2,1,t.requestUpdate.qty,"1.0-3"))}}function _e(a,d){if(1&a&&(e.j41(0,"nz-tag",105),e.EFF(1),e.k0s()),2&a){const t=e.XpG(2);e.Y8G("nzColor","OK"==t.requestUpdate.judgment?"#87d068":"#f50"),e.R7$(),e.JRh(t.requestUpdate.judgment)}}function he(a,d){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"nz-table",99)(2,"tbody")(3,"tr")(4,"td")(5,"label"),e.EFF(6,"M\xe3 Request"),e.k0s()(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"label"),e.EFF(11,"QA Card"),e.k0s()(),e.j41(12,"td"),e.EFF(13),e.k0s()(),e.j41(14,"tr")(15,"td")(16,"label"),e.EFF(17,"Date Code"),e.k0s()(),e.j41(18,"td"),e.EFF(19),e.k0s(),e.j41(20,"td")(21,"label"),e.EFF(22),e.k0s()(),e.j41(23,"td"),e.DNE(24,ge,1,0,"div",100)(25,pe,1,1,"ng-template",null,3,e.C5r)(27,me,3,4,"ng-template",null,4,e.C5r),e.k0s()(),e.j41(29,"tr")(30,"td")(31,"label"),e.EFF(32,"Model"),e.k0s()(),e.j41(33,"td"),e.EFF(34),e.k0s(),e.j41(35,"td")(36,"label"),e.EFF(37,"Ng\u01b0\u1eddi t\u1ea1o"),e.k0s()(),e.j41(38,"td"),e.EFF(39),e.k0s()(),e.j41(40,"tr")(41,"td")(42,"label"),e.EFF(43,"Status"),e.k0s()(),e.j41(44,"td"),e.EFF(45),e.k0s(),e.j41(46,"td")(47,"label"),e.EFF(48,"K\u1ebft qu\u1ea3"),e.k0s()(),e.j41(49,"td"),e.DNE(50,_e,2,2,"nz-tag",101),e.k0s()(),e.j41(51,"tr")(52,"td")(53,"label"),e.EFF(54,"Ng\xe0y xu\u1ea5t"),e.k0s()(),e.j41(55,"td")(56,"nz-date-picker",62),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.requestUpdate.deliveryDate,n)||(s.requestUpdate.deliveryDate=n),e.Njj(n)}),e.k0s()(),e.j41(57,"td")(58,"label"),e.EFF(59,"\u0110\u1ed9 \u01b0u ti\xean"),e.k0s()(),e.j41(60,"td")(61,"nz-select",102),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.requestUpdate.priority,n)||(s.requestUpdate.priority=n),e.Njj(n)}),e.nrm(62,"nz-option",64)(63,"nz-option",64)(64,"nz-option",64),e.k0s()()(),e.j41(65,"tr")(66,"td")(67,"label"),e.EFF(68,"Ghi ch\xfa"),e.k0s()(),e.j41(69,"td",103)(70,"textarea",104),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.requestUpdate.remark,n)||(s.requestUpdate.remark=n),e.Njj(n)}),e.k0s()()()()(),e.bVm()}if(2&a){const t=e.sdS(26),i=e.sdS(28),n=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(22,I)),e.R7$(7),e.JRh(n.requestUpdate.reqNo),e.R7$(5),e.JRh(n.requestUpdate.qaCard),e.R7$(6),e.JRh(n.requestUpdate.dateCode),e.R7$(3),e.JRh(n.requestUpdate.sortingQty?"SL sau Sorting":"S\u1ed1 l\u01b0\u1ee3ng"),e.R7$(2),e.Y8G("ngIf",n.requestUpdate.sortingQty)("ngIfThen",t)("ngIfElse",i),e.R7$(10),e.JRh(n.requestUpdate.model),e.R7$(5),e.Lme(" ",n.requestUpdate.createdByName," - ",n.requestUpdate.createdBy," "),e.R7$(6),e.JRh(n.requestUpdate.requestStatusName),e.R7$(5),e.Y8G("ngIf",n.requestUpdate.judgment),e.R7$(6),e.R50("ngModel",n.requestUpdate.deliveryDate),e.R7$(5),e.R50("ngModel",n.requestUpdate.priority),e.R7$(),e.Y8G("nzValue",1)("nzLabel","Cao"),e.R7$(),e.Y8G("nzValue",2)("nzLabel","Trung b\xecnh"),e.R7$(),e.Y8G("nzValue",3)("nzLabel","Th\u1ea5p"),e.R7$(6),e.R50("ngModel",n.requestUpdate.remark)}}function Ce(a,d){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"button",97),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeDetailModal())}),e.EFF(2," \u0110\xf3ng "),e.k0s(),e.j41(3,"button",106),e.bIt("nzOnConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.updateOqcRequest())}),e.EFF(4," L\u01b0u "),e.k0s()()}}function qe(a,d){if(1&a){const t=e.RV6();e.j41(0,"nz-collapse-panel",2)(1,"div",3)(2,"div",4)(3,"label",5),e.EFF(4,"Type"),e.k0s(),e.j41(5,"div",5)(6,"nz-select",6),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.searchVo.type,n)||(s.searchVo.type=n),e.Njj(n)}),e.nrm(7,"nz-option",7)(8,"nz-option",7),e.k0s()()(),e.j41(9,"div",4)(10,"label",5),e.EFF(11,"Date"),e.k0s(),e.j41(12,"div",5)(13,"nz-range-picker",8),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.date,n)||(s.date=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onChangeTime(n))}),e.k0s()()(),e.j41(14,"div",9)(15,"label",5),e.EFF(16,"\xa0"),e.k0s(),e.j41(17,"div",5)(18,"button",10),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onSearch())}),e.EFF(19," Search "),e.k0s()()()()()}if(2&a){const t=d.$implicit,i=e.XpG();e.Y8G("nzHeader",t.name)("nzActive",t.active)("nzDisabled",t.disabled),e.R7$(),e.Y8G("nzGutter",24),e.R7$(5),e.R50("ngModel",i.searchVo.type),e.R7$(),e.Y8G("nzValue",1)("nzLabel","T\u1ed5ng h\u1ee3p data t\u1eeb WIP 4"),e.R7$(),e.Y8G("nzValue",2)("nzLabel","Th\u1ed1ng k\xea h\xe0ng OK / NG"),e.R7$(5),e.R50("ngModel",i.date)}}function fe(a,d){if(1&a&&(e.j41(0,"dx-data-grid",11),e.nrm(1,"dxo-export",12)(2,"dxo-filter-row",13)(3,"dxo-column-fixing",12)(4,"dxi-column",14)(5,"dxi-column",15)(6,"dxi-column",16)(7,"dxi-column",17),e.k0s()),2&a){const t=e.XpG();e.Y8G("dataSource",t.dataSummary)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0)}}const Re=[{path:"list",component:(()=>{class a{constructor(t,i,n,s,h){this.reDateCodeSvc=t,this.qaOqcSvc=i,this.packingOqcRequestSvc=n,this.toastr=s,this.jwtHelperSvc=h,this.totalQtyMaterialScanned=0,this.materialScanned=[],this.isOpenModal=!1,this.isOpenDetailModal=!1,this.searchParams={requestStatusList:[],requestDateRange:[(new Date).setDate((new Date).getDate()-7),new Date]},this.errorCreateRequestMsg=null,this.qaCardInfo={model:null,line:null,date:null,shift:null,value:null},this.priority=2,this.sortingQty=0,this.totalQty=0,this.isSorting="NO",this.requestCreate={qaCard:null,dateCodes:null,totalQty:0,deliveryDate:null,isSorting:!1,sortingQty:0,priority:2,remark:null}}ngOnInit(){this.getOqcRequests(this.searchParams)}getOqcRequests(t){this.qaOqcSvc.getOqcRequests(t).subscribe(i=>{this.oqcRequests=i,console.log("Request list: ",this.oqcRequests)})}handleCancel(){this.isOpenModal=!1,this.qaCardInfo.date=null,this.qaCardInfo.line=null,this.qaCardInfo.model=null,this.qaCardInfo.shift=null,this.qaCardInfo.value=null,this.errorCreateRequestMsg=null,this.priority=2}createOqcRequest(){if(this.requestCreate.totalQty){for(let t=0;t<this.materialScanned.length;t++){const i=this.materialScanned[t];if(!i.scanQty||i.scanQty<=0){this.toastr.warning("Ch\u01b0a scan \u0111\u1ee7 NVL trong line","Warning");break}}if(this.requestCreate.totalQty/this.totalQtyMaterialScanned*100>20)this.toastr.warning("Kh\xf4ng th\u1ec3 t\u1ea1o request v\xec Qty Date Code so v\u1edbi Qty Scan trong line > 20%","Warning");else{if(this.requestCreate.isSorting){if(this.requestCreate.sortingQty<=0)return void this.toastr.warning("C\u1ea7n nh\u1eadp Qty sau sorting","Warning");if(this.requestCreate.sortingQty>this.requestCreate.totalQty)return void this.toastr.warning(`Qty kh\xf4ng \u0111\u01b0\u1ee3c v\u01b0\u1ee3t qu\xe1 ${this.requestCreate.totalQty}`,"Warning")}this.requestCreate.createdBy=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).Username,console.log("DATA PUSH: ",this.requestCreate),this.packingOqcRequestSvc.createOqcRequest(this.requestCreate).subscribe(t=>{console.log(t),"ERROR"!=t.status?(this.getOqcRequests(this.searchParams),this.handleCancel(),this.requestCreate.sortingQty=0,this.requestCreate.remark=null,this.requestCreate.isSorting="NO",this.toastr.success("Th\xe0nh c\xf4ng","Success")):this.errorCreateRequestMsg=t.messages})}}else this.toastr.warning("Ch\u01b0a nh\u1eadp Date Code","Warning")}openModal(){this.getQaCards(),this.materialScanned=[],this.totalQtyMaterialScanned=0,this.requestCreate.qaCard=null,this.requestCreate.dateCodes=null,this.requestCreate.totalQty=0,this.requestCreate.deliveryDate=null,this.requestCreate.isSorting=!1,this.requestCreate.sortingQty=0,this.requestCreate.priority=2,this.requestCreate.remark=null,this.isOpenModal=!0}selectQaCard(t){this.requestCreate.qaCard=t,this.requestCreate.qaCardSplit=t.split("*"),this.materialTbl?.instance.beginCustomLoading("\u0110ang load d\u1eef li\u1ec7u ..."),(0,L.p)({dateCodes:this.reDateCodeSvc.getDateCodes(t),materials:this.reDateCodeSvc.getMaterialScanned(`${this.requestCreate.qaCardSplit[0]}*${this.requestCreate.qaCardSplit[1]}*${this.requestCreate.qaCardSplit[2]}`)}).subscribe({next:({dateCodes:i,materials:n})=>{this.requestCreate.dateCodes=i,this.materialScanned=n;let s=0;i.forEach(p=>{s+=p.qty}),this.requestCreate.totalQty=s;let h=0;n.forEach(p=>{h+=p.scanQty}),this.totalQtyMaterialScanned=h,this.materialTbl?.instance.endCustomLoading(),console.log("\u2705 C\u1eadp nh\u1eadt th\xe0nh c\xf4ng:",{dateCodes:i,materials:n,totalQty:s})},error:i=>{console.error("\u274c L\u1ed7i khi g\u1ecdi API:",i),this.materialTbl?.instance.endCustomLoading()}})}getDateCodes(t){this.reDateCodeSvc.getDateCodes(t).subscribe(i=>{this.requestCreate.dateCodes=i,console.log("dateCodes: ",this.requestCreate.dateCodes);let n=0;this.requestCreate.dateCodes.forEach(s=>{n+=s.qty}),this.requestCreate.totalQty=n})}getQaCards(){this.reDateCodeSvc.getQACards().subscribe(t=>{this.qaCards=t})}onRowPrepared(t){"data"===t.rowType&&"NG"===t.key.judgment&&(t.rowElement.style.backgroundColor="red",t.rowElement.classList.add("my-class"),t.rowElement.className=t.rowElement.className.replace("dx-row-alt",""))}changeMode(t){console.log(t)}onExportClient(t){}openDetailModal(t){console.log("Item: ",t.data),this.requestUpdate={...t.data},this.isOpenDetailModal=!0}closeDetailModal(){this.isOpenDetailModal=!1}updateOqcRequest(){console.log("Item Update: ",this.requestUpdate),this.requestUpdate.sortingQty>this.requestUpdate.qty?this.toastr.warning(`SL sau Sorting kh\xf4ng \u0111\u01b0\u1ee3c v\u01b0\u1ee3t qu\xe1 ${this.requestUpdate.qty}`,"Warning"):this.packingOqcRequestSvc.updateOqcRequest(this.requestUpdate).subscribe(t=>{console.log("OqcRequestUpdate: ",t),this.toastr.success("Update th\xe0nh c\xf4ng !","Success"),this.getOqcRequests(this.searchParams),this.isOpenDetailModal=!1})}onSearch(){console.log("searchParams: ",this.searchParams),this.qaOqcSvc.getOqcRequests(this.searchParams).subscribe(t=>{this.oqcRequests=t})}getMaterialScanned(t){this.materialScanned=[],this.materialTbl?.instance.beginCustomLoading("\u0110ang load d\u1eef li\u1ec7u ..."),this.reDateCodeSvc.getMaterialScanned(t).subscribe(i=>{this.materialScanned=i,this.materialTbl?.instance.endCustomLoading()})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(B.U),e.rXU(l.T),e.rXU(F.B),e.rXU(c.tw),e.rXU(u.X7))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-packing-oqc-request-list"]],viewQuery:function(i,n){if(1&i&&e.GBs(b.s,5),2&i){let s;e.mGM(s=e.lsd())&&(n.materialTbl=s.first)}},decls:66,vars:38,consts:[["columnChooser",""],["materialTbl",""],["dateCodeTbl",""],["inputSortingQtyTemplate",""],["labelQtyTemplate",""],["nzHeader","T\xecm ki\u1ebfm",3,"nzActive","nzShowArrow"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzLg","5"],["nzXs","24","nzSm","24","nzLg","24"],["nzPlaceHolder","Tr\u1ea1ng th\xe1i","nzAllowClear","","nzMode","multiple",3,"ngModelChange","nzMaxTagCount","ngModel","nzDropdownMatchSelectWidth"],["nzLabel","Ch\u1edd x\u1eed l\xfd",3,"nzValue"],["nzLabel","\u0110ang x\u1eed l\xfd",3,"nzValue"],["nzLabel","\u0110\xe3 x\u1eed l\xfd",3,"nzValue"],["nzFormat","yyyy-MM-dd","nzMode","date",3,"ngModelChange","ngModel"],["nz-button","","nzType","primary",3,"click"],["id","gridContainer",2,"margin-top","5px",3,"onRowPrepared","onExporting","dataSource","remoteOperations","allowColumnReordering","rowAlternationEnabled","allowColumnResizing","columnAutoWidth","showColumnLines","showRowLines","showBorders"],[3,"visible"],[3,"enabled"],[3,"enabled","mode"],["location","before"],["stylingMode","contained","type","default","icon","plus","text","T\u1ea1o request OQC",3,"click"],["name","exportButton"],["name","columnChooserButton"],["caption","M\xe3 request","dataField","reqNo","cellTemplate","detailTemplate"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],["caption","QA card","dataField","qaCard",3,"visible"],["caption","Model","dataField","model"],["caption","Shift","dataField","shift","alignment","center"],["caption","Date Code","dataField","dateCode","cellTemplate","dateCodeTemplate"],[4,"dxTemplate","dxTemplateOf"],["caption","S\u1ed1 l\u01b0\u1ee3ng","dataField","qty","cellTemplate","qtyTemplate"],["style","text-align: right",4,"dxTemplate","dxTemplateOf"],["caption","Ng\u01b0\u1eddi request","dataField","createdByName",3,"visible"],["caption","Ng\xe0y t\u1ea1o","dataField","createdAt","dataType","date","format","yyyy-MM-dd","alignment","center"],["caption","Ng\xe0y xu\u1ea5t","dataField","deliveryDate","dataType","date","format","yyyy-MM-dd","alignment","center"],["caption","Status","dataField","requestStatusName","alignment","center"],["caption","Remark","dataField","remark"],["caption","K\u1ebft qu\u1ea3","dataField","judgment","cellTemplate","judgmentTemplate"],["style","text-align: center; font-weight: bold",4,"dxTemplate","dxTemplateOf"],["caption","\u0110\u1ed9 \u01b0u ti\xean","dataField","priorityName","alignment","center"],["caption","Action","cellTemplate","actionTemplate","fixedPosition","right",3,"fixed"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],["nzTitle","T\u1ea1o request OQC","nzWidth","100%",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["nzTitle","Th\xf4ng tin Request","nzWidth","750px",3,"nzVisibleChange","nzVisible"],[2,"text-align","center"],[2,"color","blue",3,"click"],["style","margin-left: -29px",4,"ngIf"],["style","color: red; font-style: italic; font-size: 13px",4,"ngIf"],[2,"margin-left","-29px"],[4,"ngFor","ngForOf"],[2,"color","red","font-style","italic","font-size","13px"],[2,"text-align","right"],[2,"text-align","center","font-weight","bold"],["nz-row","","nzJustify","start","nzAlign","top",3,"nzGutter"],["nz-col","","nzXs","16","nzSm","16","nzMd","16","nzLg","16"],[4,"ngIf"],["nzSize","small","nzBordered","","nzFrontPagination","false",3,"nzData"],[2,"width","20%"],[2,"width","30%"],[2,"width","100%",3,"ngModelChange","ngModel"],["nzShowSearch","","nzAllowClear","",2,"width","100%",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel"],["colSpan","3"],[3,"nzMaxCharacterCount"],["rows","4","nz-input","","placeholder","Nh\u1eadp ghi ch\xfa","maxlength","100",3,"ngModelChange","ngModel"],["id","error-msg","nzBanner","","nzShowIcon","","nzType","error",3,"nzMessage",4,"ngIf"],["nz-col","","nzXs","8","nzSm","8","nzMd","8","nzLg","8"],["keyExpr","model",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],["dataField","model","caption","Part No","alignment","left"],["dataField","receiveQty","caption","Qty (Issued)","alignment","right","dataType","number","format","#,##0"],["dataField","scanQty","caption","Qty (Scanned)","cellTemplate","scanQtyTemplate"],["column","receiveQty","summaryType","sum","valueFormat","#,##0","displayFormat","T\u1ed5ng: {0}"],["column","scanQty","summaryType","sum","valueFormat","#,##0","displayFormat","T\u1ed5ng: {0}"],["nzBordered","","nzFrontPagination","false","nzSize","small",3,"nzData"],["id","infoTbl","nzSize","small","nzBordered","","nzFrontPagination","false",3,"nzData"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Scan QA card",2,"width","100%",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[2,"width","25%"],["nz-row","","nzJustify","start","nzAlign","top",2,"margin-top","-20px",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["id","dateCodeTbl","nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData"],["id","sorting",4,"ngIf"],["id","sorting"],["colspan","2"],[2,"font-weight","bold"],["style","color: green; font-weight: bold",4,"ngIf"],["id","total-qty","format","#,##0",3,"value","valueChange",4,"ngIf"],[3,"ngModelChange","ngModel"],["nz-radio","",3,"nzValue"],[2,"color","green","font-weight","bold"],["id","total-qty","format","#,##0",3,"valueChange","value"],["id","error-msg","nzBanner","","nzShowIcon","","nzType","error",3,"nzMessage"],[3,"nzColor","nzBordered",4,"ngIf"],[3,"nzColor","nzBordered"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click","disabled"],["id","detailTbl","nzSize","small","nzBordered","","nzFrontPagination","false",3,"nzData"],[4,"ngIf","ngIfThen","ngIfElse"],[3,"nzColor",4,"ngIf"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Ch\u1ecdn \u0111\u1ed9 \u01b0u ti\xean",2,"width","100%",3,"ngModelChange","ngModel"],["colspan","3"],["rows","3","nz-input","","placeholder","Nh\u1eadp ghi ch\xfa",3,"ngModelChange","ngModel"],[3,"nzColor"],["nz-button","","nzType","primary","nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n l\u01b0u ?",3,"nzOnConfirm"]],template:function(i,n){if(1&i){const s=e.RV6();e.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),e.EFF(2," Packing "),e.k0s(),e.j41(3,"nz-breadcrumb-item"),e.EFF(4," OQC Request"),e.k0s()(),e.nrm(5,"br"),e.j41(6,"nz-collapse")(7,"nz-collapse-panel",5)(8,"div",6)(9,"div",7)(10,"label",8),e.EFF(11,"Tr\u1ea1ng th\xe1i"),e.k0s(),e.j41(12,"div",8)(13,"nz-select",9),e.mxI("ngModelChange",function(p){return e.eBV(s),e.DH7(n.searchParams.requestStatusList,p)||(n.searchParams.requestStatusList=p),e.Njj(p)}),e.nrm(14,"nz-option",10)(15,"nz-option",11)(16,"nz-option",12),e.k0s()()(),e.j41(17,"div",7)(18,"label",8),e.EFF(19,"Ng\xe0y request"),e.k0s(),e.j41(20,"div",8)(21,"nz-range-picker",13),e.mxI("ngModelChange",function(p){return e.eBV(s),e.DH7(n.searchParams.requestDateRange,p)||(n.searchParams.requestDateRange=p),e.Njj(p)}),e.k0s()()(),e.j41(22,"div",7)(23,"label",8),e.EFF(24,"\xa0"),e.k0s(),e.j41(25,"div",8)(26,"button",14),e.bIt("click",function(){return e.eBV(s),e.Njj(n.onSearch())}),e.EFF(27," Search "),e.k0s()()()()()(),e.j41(28,"dx-data-grid",15),e.bIt("onRowPrepared",function(p){return e.eBV(s),e.Njj(n.onRowPrepared(p))})("onExporting",function(p){return e.eBV(s),e.Njj(n.onExportClient(p))}),e.nrm(29,"dxo-header-filter",16)(30,"dxo-filter-row",16)(31,"dxo-export",17)(32,"dxo-column-chooser",18,0),e.j41(34,"dxo-toolbar")(35,"dxi-item",19)(36,"dx-button",20),e.bIt("click",function(){return e.eBV(s),e.Njj(n.openModal())}),e.k0s()(),e.nrm(37,"dxi-item",21)(38,"dxi-item",22),e.k0s(),e.j41(39,"dxi-column",23),e.DNE(40,Y,3,1,"div",24),e.k0s(),e.nrm(41,"dxi-column",25)(42,"dxi-column",26)(43,"dxi-column",27),e.j41(44,"dxi-column",28),e.DNE(45,W,3,2,"div",29),e.k0s(),e.j41(46,"dxi-column",30),e.DNE(47,K,3,4,"div",31),e.k0s(),e.nrm(48,"dxi-column",32)(49,"dxi-column",33)(50,"dxi-column",34)(51,"dxi-column",35)(52,"dxi-column",36),e.j41(53,"dxi-column",37),e.DNE(54,Z,3,1,"div",38),e.k0s(),e.nrm(55,"dxi-column",39),e.j41(56,"dxi-column",40),e.DNE(57,ee,3,0,"div",24),e.k0s(),e.nrm(58,"dxo-paging",41)(59,"dxo-pager",42),e.k0s(),e.j41(60,"nz-modal",43),e.mxI("nzVisibleChange",function(p){return e.eBV(s),e.DH7(n.isOpenModal,p)||(n.isOpenModal=p),e.Njj(p)}),e.DNE(61,de,60,41,"ng-container",44)(62,ue,5,1,"div",45),e.k0s(),e.j41(63,"nz-modal",46),e.mxI("nzVisibleChange",function(p){return e.eBV(s),e.DH7(n.isOpenDetailModal,p)||(n.isOpenDetailModal=p),e.Njj(p)}),e.DNE(64,he,71,23,"ng-container",44)(65,Ce,5,0,"div",45),e.k0s()}2&i&&(e.R7$(7),e.Y8G("nzActive",!0)("nzShowArrow",!0),e.R7$(),e.Y8G("nzGutter",24),e.R7$(5),e.Y8G("nzMaxTagCount",3),e.R50("ngModel",n.searchParams.requestStatusList),e.Y8G("nzDropdownMatchSelectWidth",!1),e.R7$(),e.Y8G("nzValue",1),e.R7$(),e.Y8G("nzValue",2),e.R7$(),e.Y8G("nzValue",3),e.R7$(5),e.R50("ngModel",n.searchParams.requestDateRange),e.R7$(7),e.Y8G("dataSource",n.oqcRequests)("remoteOperations",!1)("allowColumnReordering",!0)("rowAlternationEnabled",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("enabled",!0)("mode","select"),e.R7$(8),e.Y8G("dxTemplateOf","detailTemplate"),e.R7$(),e.Y8G("visible",!1),e.R7$(4),e.Y8G("dxTemplateOf","dateCodeTemplate"),e.R7$(2),e.Y8G("dxTemplateOf","qtyTemplate"),e.R7$(),e.Y8G("visible",!1),e.R7$(6),e.Y8G("dxTemplateOf","judgmentTemplate"),e.R7$(2),e.Y8G("fixed",!0),e.R7$(),e.Y8G("dxTemplateOf","actionTemplate"),e.R7$(),e.Y8G("pageSize",50),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(37,Q)),e.R7$(),e.R50("nzVisible",n.isOpenModal),e.R7$(3),e.R50("nzVisible",n.isOpenDetailModal))},dependencies:[_.Sq,_.bT,o.me,o.BC,o.tU,o.vS,P.E,f.eC,z.aO,g.c,R.p,O.F2,O.Oj,O.A9,k.ld,k.WI,j.F8,j.Sy,q.CP,q.SO,q._4,q.IL,q.aj,q.kt,M.Y,G.e,b.s,m.i2Q,m.nj_,m.gtJ,m.CVf,m.ZJU,m.FTx,m.sVQ,m.PVd,m.XvM,m.CWS,m.KOr,E.Uq,E.e,C.hL,C.K7,y.Vz,y.pc,v.SN,v.vw,T.lx,T.i3,N.s,V.PV,_.QX],styles:[".dx-datagrid-rowsview[_ngcontent-%COMP%]   .dx-selection.dx-row[_ngcontent-%COMP%]:not(.dx-row-focused):not(.dx-row-removed) > td[_ngcontent-%COMP%]{background-color:red;color:unset}nz-select[_ngcontent-%COMP%]{width:100%}#infoTbl[_ngcontent-%COMP%]   label[_ngcontent-%COMP%], #detailTbl[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#00f}#infoTbl[_ngcontent-%COMP%]   span[_ngcontent-%COMP%], #detailTbl[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:green}#infoTbl[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%], #detailTbl[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%]{width:100%}"]})}return a})()},{path:"summary",component:(()=>{class a{constructor(t){this.packingOqcRequestSvc=t,this.date=[new Date,new Date],this.searchVo={fromDate:new Date,toDate:new Date,type:1},this.panels=[{active:!0,name:"Search condition",disabled:!1}]}ngOnInit(){}getAllOqcRequestStatus(){this.packingOqcRequestSvc.getOqcRequestStatus().subscribe(t=>{this.oqcRequestStatuses=t})}onChangeTime(t){this.searchVo.fromDate=t[0],this.searchVo.toDate=t[1]}onSearch(){this.typeSearch=this.searchVo.type,this.packingOqcRequestSvc.summaryData(this.searchVo).subscribe(t=>{this.dataSummary=t})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(F.B))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-packing-oqc-summary"]],decls:9,vars:2,consts:[[3,"nzHeader","nzActive","nzDisabled",4,"ngFor","ngForOf"],[3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled",4,"ngIf"],[3,"nzHeader","nzActive","nzDisabled"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzLg","5"],["nzXs","24","nzSm","24","nzLg","24"],["nzPlaceHolder","Type","nzShowSearch","","nzAllowClear","",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel"],["nzFormat","yyyy-MM-dd","nzMode","date",3,"ngModelChange","ngModel"],["nz-col","","nzXs","12","nzSm","12","nzLg","14"],["nz-button","","nzType","primary",3,"click"],[3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"enabled"],[3,"visible"],["dataField","model","caption","Model"],["dataField","ok","caption","OK","dataType","number","format","#,##0"],["dataField","ng","caption","NG","dataType","number","format","#,##0"],["dataField","na","caption","NA","dataType","number","format","#,##0"]],template:function(i,n){1&i&&(e.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),e.EFF(2," Packing "),e.k0s(),e.j41(3,"nz-breadcrumb-item"),e.EFF(4," Summary"),e.k0s()(),e.nrm(5,"br"),e.j41(6,"nz-collapse"),e.DNE(7,qe,20,10,"nz-collapse-panel",0),e.k0s(),e.DNE(8,fe,8,10,"dx-data-grid",1)),2&i&&(e.R7$(7),e.Y8G("ngForOf",n.panels),e.R7$(),e.Y8G("ngIf",2==n.typeSearch))},dependencies:[_.Sq,_.bT,o.BC,o.vS,z.aO,g.c,R.p,k.ld,k.WI,b.s,m.Omo,m.nj_,m.ZJU,m.FTx,E.Uq,E.e,C.hL,C.K7,y.Vz,y.pc,v.SN,v.vw],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-select[_ngcontent-%COMP%]{width:100%}"]})}return a})()}];let Ee=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#n=this.\u0275inj=e.G2t({imports:[D.iI.forChild(Re),D.iI]})}return a})();var Fe=r(17481);let ye=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#n=this.\u0275inj=e.G2t({imports:[_.MD,o.YN,Ee,P.p,z.Zw,w.Y3,O.U6,k.DH,j.j,q.$G,M.$,$.i3,x.T,G.L,b.N,f.xZ,E.f3,C.EJ,y.GB,v.LE,A.Ti,T.Sw,N.T,V.g9,Fe.$]})}return a})()},74696:(U,S,r)=>{r.d(S,{GB:()=>B,Vz:()=>e,pc:()=>D});var _=r(15215),o=r(54438),P=r(73586),x=r(7605),G=r(58728),b=r(40713),f=r(16042),M=r(57806),C=r(21025),z=r(70317),A=r(72544),y=r(28203),v=r(26841);const E=["*"],w=["collapseHeader"];function j(l,F){if(1&l&&(o.qex(0),o.nrm(1,"span",7),o.bVm()),2&l){const c=F.$implicit,u=o.XpG(2);o.R7$(),o.Y8G("nzType",c||"right")("nzRotate",u.nzActive?90:0)}}function O(l,F){if(1&l&&(o.j41(0,"div"),o.DNE(1,j,2,2,"ng-container",3),o.k0s()),2&l){const c=o.XpG();o.R7$(),o.Y8G("nzStringTemplateOutlet",c.nzExpandedIcon)}}function T(l,F){if(1&l&&(o.qex(0),o.EFF(1),o.bVm()),2&l){const c=o.XpG();o.R7$(),o.JRh(c.nzHeader)}}function k(l,F){if(1&l&&(o.qex(0),o.EFF(1),o.bVm()),2&l){const c=o.XpG(2);o.R7$(),o.JRh(c.nzExtra)}}function $(l,F){if(1&l&&(o.j41(0,"div",4),o.DNE(1,k,2,1,"ng-container",3),o.k0s()),2&l){const c=o.XpG();o.R7$(),o.Y8G("nzStringTemplateOutlet",c.nzExtra)}}const q="collapse";let D=(()=>{class l{constructor(c,u,g,R){this.nzConfigService=c,this.cdr=u,this.directionality=g,this.destroy$=R,this._nzModuleName=q,this.nzAccordion=!1,this.nzBordered=!0,this.nzGhost=!1,this.nzExpandIconPosition="left",this.dir="ltr",this.listOfNzCollapsePanelComponent=[],this.nzConfigService.getConfigChangeEventForComponent(q).pipe((0,x.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,x.Q)(this.destroy$)).subscribe(c=>{this.dir=c,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(c){this.listOfNzCollapsePanelComponent.push(c)}removePanel(c){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(c),1)}click(c){this.nzAccordion&&!c.nzActive&&this.listOfNzCollapsePanelComponent.filter(u=>u!==c).forEach(u=>{u.nzActive&&(u.nzActive=!1,u.nzActiveChange.emit(u.nzActive),u.markForCheck())}),c.nzActive=!c.nzActive,c.nzActiveChange.emit(c.nzActive)}static#e=this.\u0275fac=function(u){return new(u||l)(o.rXU(f.yx),o.rXU(o.gRc),o.rXU(y.dS,8),o.rXU(C.y4))};static#t=this.\u0275cmp=o.VBU({type:l,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(u,g){2&u&&o.AVh("ant-collapse-icon-position-start","left"===g.nzExpandIconPosition)("ant-collapse-icon-position-end","right"===g.nzExpandIconPosition)("ant-collapse-ghost",g.nzGhost)("ant-collapse-borderless",!g.nzBordered)("ant-collapse-rtl","rtl"===g.dir)},inputs:{nzAccordion:"nzAccordion",nzBordered:"nzBordered",nzGhost:"nzGhost",nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],standalone:!0,features:[o.Jv_([C.y4]),o.aNF],ngContentSelectors:E,decls:1,vars:0,template:function(u,g){1&u&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})}return(0,_.Cg)([(0,f.H4)(),(0,z.H3)()],l.prototype,"nzAccordion",void 0),(0,_.Cg)([(0,f.H4)(),(0,z.H3)()],l.prototype,"nzBordered",void 0),(0,_.Cg)([(0,f.H4)(),(0,z.H3)()],l.prototype,"nzGhost",void 0),l})();const L="collapsePanel";let e=(()=>{class l{markForCheck(){this.cdr.markForCheck()}constructor(c,u,g,R,m,N){this.nzConfigService=c,this.ngZone=u,this.cdr=g,this.destroy$=R,this.nzCollapseComponent=m,this.noAnimation=N,this._nzModuleName=L,this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=!0,this.nzActiveChange=new o.bkB,this.nzConfigService.getConfigChangeEventForComponent(L).pipe((0,x.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.nzCollapseComponent.addPanel(this),this.ngZone.runOutsideAngular(()=>(0,P.R)(this.collapseHeader.nativeElement,"click").pipe((0,G.p)(()=>!this.nzDisabled),(0,x.Q)(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})}))}ngOnDestroy(){this.nzCollapseComponent.removePanel(this)}static#e=this.\u0275fac=function(u){return new(u||l)(o.rXU(f.yx),o.rXU(o.SKi),o.rXU(o.gRc),o.rXU(C.y4),o.rXU(D,1),o.rXU(v.z,8))};static#t=this.\u0275cmp=o.VBU({type:l,selectors:[["nz-collapse-panel"]],viewQuery:function(u,g){if(1&u&&o.GBs(w,7),2&u){let R;o.mGM(R=o.lsd())&&(g.collapseHeader=R.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(u,g){2&u&&o.AVh("ant-collapse-no-arrow",!g.nzShowArrow)("ant-collapse-item-active",g.nzActive)("ant-collapse-item-disabled",g.nzDisabled)},inputs:{nzActive:"nzActive",nzDisabled:"nzDisabled",nzShowArrow:"nzShowArrow",nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],standalone:!0,features:[o.Jv_([C.y4]),o.aNF],ngContentSelectors:E,decls:9,vars:8,consts:[["collapseHeader",""],["role","button",1,"ant-collapse-header"],[1,"ant-collapse-header-text"],[4,"nzStringTemplateOutlet"],[1,"ant-collapse-extra"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"]],template:function(u,g){1&u&&(o.NAR(),o.j41(0,"div",1,0),o.DNE(2,O,2,1,"div"),o.j41(3,"span",2),o.DNE(4,T,2,1,"ng-container",3),o.k0s(),o.DNE(5,$,2,1,"div",4),o.k0s(),o.j41(6,"div",5)(7,"div",6),o.SdG(8),o.k0s()()),2&u&&(o.BMQ("aria-expanded",g.nzActive),o.R7$(2),o.vxM(2,g.nzShowArrow?2:-1),o.R7$(2),o.Y8G("nzStringTemplateOutlet",g.nzHeader),o.R7$(),o.vxM(5,g.nzExtra?5:-1),o.R7$(),o.AVh("ant-collapse-content-active",g.nzActive),o.Y8G("@.disabled",!(null==g.noAnimation||!g.noAnimation.nzNoAnimation))("@collapseMotion",g.nzActive?"expanded":"hidden"))},dependencies:[M.C,M.m,A.Y3,A.Dn],encapsulation:2,data:{animation:[b.GE]},changeDetection:0})}return(0,_.Cg)([(0,z.H3)()],l.prototype,"nzActive",void 0),(0,_.Cg)([(0,z.H3)()],l.prototype,"nzDisabled",void 0),(0,_.Cg)([(0,f.H4)(),(0,z.H3)()],l.prototype,"nzShowArrow",void 0),l})(),B=(()=>{class l{static#e=this.\u0275fac=function(u){return new(u||l)};static#t=this.\u0275mod=o.$C({type:l});static#n=this.\u0275inj=o.G2t({imports:[e]})}return l})()}}]);