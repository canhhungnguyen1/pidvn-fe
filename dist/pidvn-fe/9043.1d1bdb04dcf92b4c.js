"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[9043],{9043:(Qt,z,l)=>{l.r(z),l.d(z,{PihInventoryModule:()=>It});var _=l(60177),p=l(89417),D=l(33514),y=l(38296),I=l(69028),B=l(46950),F=l(87018),b=l(50513),S=l(58960),C=l(97529),T=l(72544),f=l(21011),m=l(43053),j=l(72874),E=l(33190),A=l(1997),O=l(97685),u=l(23359),R=l(9541),k=l(82358),g=l(46661),e=l(54438);let $=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-pih-inv-menu"]],decls:8,vars:1,consts:[["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","12","nzMd","12","nzLg","6"],["routerLink","/admin/pih/pih-inventory/request",1,"item","wip-ivt"],["src","./../../../../../../assets/images/warehouse.png","alt",""]],template:function(o,n){1&o&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"img",3),e.j41(4,"h6"),e.EFF(5,"Ki\u1ec3m k\xea"),e.k0s(),e.j41(6,"h4"),e.EFF(7,"Inventory"),e.k0s()()()()),2&o&&e.Y8G("nzGutter",8)},dependencies:[g.Wk,C.Uq,C.e],styles:[".item[_ngcontent-%COMP%]{text-align:center;border:1px solid #ccc;padding:15px 10px}.item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#fff}.item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:15px;font-size:18px;color:#fff;font-weight:700}.wip-ivt[_ngcontent-%COMP%]{background:#9f756f}"]})}return i})();var J=l(86372),w=l(45794),M=l(37736),P=l(45312),U=l(21626);let N=(()=>{class i{constructor(t){this.httpClient=t,this.baseUrl=P.c.baseUrl}getInventoryArea(){return this.httpClient.get(`${this.baseUrl}/PIH/Inventory/InventoryArea`)}getInventoryRequests(){return this.httpClient.get(`${this.baseUrl}/PIH/Inventory/Requests`)}getInventoryRequestById(t){return this.httpClient.get(`${this.baseUrl}/PIH/Inventory/Request/${t}`)}createInventoryRequest(t){return this.httpClient.post(`${this.baseUrl}/PIH/Inventory/Request`,t)}saveListInventoryData(t,o,n,a){return this.httpClient.post(`${this.baseUrl}/PIH/Inventory/SaveListInventoryData?requestId=${o}&inventoryArea=${n}&goodsType=${a}`,t)}saveInventoryData(t){return this.httpClient.post(`${this.baseUrl}/PIH/Inventory/InventoryData`,t)}getInventoryData(t){return this.httpClient.get(`${this.baseUrl}/PIH/Inventory/InventoryData?requestId=${t}`)}scanLabel(t){return this.httpClient.get(`${this.baseUrl}/PIH/Inventory/ScanLabel?lotNo=${t}`)}balance(t,o){return this.httpClient.get(`${this.baseUrl}/PIH/Inventory/Balance?requestId=${t}&inventoryArea=${o}`)}getRawMaterialInventoryData(t){return this.httpClient.get(`${this.baseUrl}/PIH/Inventory/RawMaterialInventoryData?requestId=${t}`)}downloadTemplateUploadRawMaterialInventory(){return this.httpClient.post(`${this.baseUrl}/PIH/Inventory/DownloadTemplateUploadRawMaterialInventory`,{},{responseType:"blob"})}static#e=this.\u0275fac=function(o){return new(o||i)(e.KVO(U.Qq))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var q=l(27380),d=l(31837),G=l(16389),L=l(25930);const Y=()=>[10,25,50,100],H=()=>[""];function X(i,c){if(1&i){const t=e.RV6();e.j41(0,"div",23)(1,"a",24),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.redirectDetail(n))}),e.EFF(2,"Chi ti\u1ebft"),e.k0s()()}}function Q(i,c){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"nz-table",25,1)(3,"tbody")(4,"tr")(5,"td")(6,"label"),e.EFF(7,"Phi\u1ebfu ki\u1ec3m k\xea"),e.k0s()(),e.j41(8,"td"),e.EFF(9),e.k0s()(),e.j41(10,"tr")(11,"td")(12,"label"),e.EFF(13,"Ng\u01b0\u1eddi t\u1ea1o"),e.k0s()(),e.j41(14,"td"),e.EFF(15),e.k0s()(),e.j41(16,"tr")(17,"td")(18,"label"),e.EFF(19,"Lo\u1ea1i ki\u1ec3m k\xea"),e.k0s(),e.j41(20,"span",26),e.EFF(21,"*"),e.k0s()(),e.j41(22,"td")(23,"nz-radio-group",27),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.inventoryType,n)||(a.inventoryType=n),e.Njj(n)}),e.j41(24,"label",28),e.EFF(25,"Tu\u1ea7n"),e.k0s(),e.j41(26,"label",29),e.EFF(27,"Th\xe1ng"),e.k0s()()()(),e.j41(28,"tr")(29,"td")(30,"label"),e.EFF(31,"Ng\xe0y ch\u1ed1t ki\u1ec3m k\xea"),e.k0s(),e.j41(32,"span",26),e.EFF(33,"*"),e.k0s()(),e.j41(34,"td")(35,"nz-date-picker",30),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.inventoryCloseDate,n)||(a.inventoryCloseDate=n),e.Njj(n)}),e.k0s()()(),e.j41(36,"tr")(37,"td")(38,"label"),e.EFF(39,"Ng\xe0y t\xednh data l\xfd thuy\u1ebft"),e.k0s()(),e.j41(40,"td")(41,"nz-date-picker",31),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.calculateTheoryDataDate,n)||(a.calculateTheoryDataDate=n),e.Njj(n)}),e.k0s()()(),e.j41(42,"tr")(43,"td")(44,"label"),e.EFF(45,"Ghi ch\xfa"),e.k0s()(),e.j41(46,"td")(47,"textarea",32),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.remark,n)||(a.remark=n),e.Njj(n)}),e.k0s()()()()(),e.bVm()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(10,H))("nzSize","small"),e.R7$(8),e.JRh(t.ivtReq),e.R7$(6),e.Lme("",t.jwt.FullName," - ",t.jwt.Username,""),e.R7$(8),e.R50("ngModel",t.inventoryType),e.R7$(12),e.Y8G("nzDisabledDate",t.disabledDate),e.R50("ngModel",t.inventoryCloseDate),e.R7$(6),e.R50("ngModel",t.calculateTheoryDataDate),e.R7$(6),e.R50("ngModel",t.remark)}}function W(i,c){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"button",33),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeCreateRequestInventoryModal())}),e.EFF(2," H\u1ee7y "),e.k0s(),e.j41(3,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createInventoryRequest())}),e.EFF(4," T\u1ea1o "),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("nzLoading",t.isLoading)}}let K=(()=>{class i{constructor(t,o,n,a){this.toastr=t,this.jwtHelperSvc=o,this.pihInventorySvc=n,this.router=a,this.userLogin={username:"",fullName:""},this.isOpenCreateRequestInventoryModal=!1,this.isLoading=!1,this.today=new Date,this.disabledDate=s=>(0,J.A)(s,this.today)<0}ngOnInit(){this.jwt=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()),this.getInventoryRequests()}openCreateRequestInventoryModal(){console.log(this.jwt.Username);let t=(new Date).toJSON().slice(0,10).replace(/-/g,"");this.ivtReq=`IVT-${t}`,this.isOpenCreateRequestInventoryModal=!0}closeCreateRequestInventoryModal(){this.isOpenCreateRequestInventoryModal=!1,this.remark=null}createInventoryRequest(){let t={reqNo:this.ivtReq,createdBy:this.jwt.Username,remark:this.remark,calculateTheoryDataDate:this.calculateTheoryDataDate,inventoryCloseDate:this.inventoryCloseDate,inventoryType:this.inventoryType},o=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).FullName.split(" ").reverse()[0];t.inventoryType&&t.inventoryCloseDate?(this.isLoading=!0,this.pihInventorySvc.createInventoryRequest(t).subscribe(n=>{this.isOpenCreateRequestInventoryModal=!1,this.isLoading=!1,this.getInventoryRequests()},n=>{this.isLoading=!1})):this.toastr.warning("C\u1ea7n nh\u1eadp c\xe1c tr\u01b0\u1eddng b\u1eaft bu\u1ed9c nh\xe9",`B\u1ea1n ${o} \u01a1i!`)}getInventoryRequests(){this.pihInventorySvc.getInventoryRequests().subscribe(t=>{this.inventoryRequests=t})}redirectDetail(t){console.log(t.data),this.router.navigate(["admin/pih/pih-inventory/request",`${t.data.id}`],{queryParams:{reqNo:t.data.reqNo}})}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(w.tw),e.rXU(M.X7),e.rXU(N),e.rXU(g.Ix))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-pih-inv-request"]],decls:24,vars:23,consts:[["columnChooser",""],["ivtCreateTable",""],["keyExpr","id",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"enabled","mode","title"],["location","before"],["icon","plus","type","default","text","T\u1ea1o phi\u1ebfu ki\u1ec3m k\xea",3,"onClick"],["name","columnChooserButton","location","after"],[3,"pageSize"],[3,"visible"],["dataField","reqNo","caption","Request No"],["dataField","date","dataType","date","caption","Ng\xe0y ki\u1ec3m k\xea","format","yyyy-MM-dd"],["dataField","calculateTheoryDataDate","dataType","date","format","yyyy-MM-dd HH:mm:ss","caption","Ng\xe0y t\xednh data l\xfd thuy\u1ebft",3,"visible"],["dataField","inventoryCloseDate","dataType","date","format","yyyy-MM-dd","caption","Ng\xe0y ch\u1ed1t ki\u1ec3m k\xea",3,"visible"],["dataField","inventoryType","caption","Type"],["dataField","createdBy","caption","Ng\u01b0\u1eddi t\u1ea1o (ID)",3,"visible"],["dataField","createdByName","caption","Ng\u01b0\u1eddi t\u1ea1o",3,"visible"],["dataField","remark","caption","Ghi ch\xfa"],["caption","Action","cellTemplate","actionTemplate","alignment","center","fixedPosition","left",3,"fixed"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],[3,"showPageSizeSelector","allowedPageSizes"],["nzTitle","T\u1ea1o phi\u1ebfu ki\u1ec3m k\xea",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],[2,"text-align","center"],[2,"color","blue",3,"click"],["id","ivtCreateTable","nzBordered","","nzFrontPagination","false",3,"nzData","nzSize"],[2,"color","red"],[3,"ngModelChange","ngModel"],["nz-radio","","nzValue","week"],["nz-radio","","nzValue","month"],[2,"width","100%",3,"ngModelChange","nzDisabledDate","ngModel"],["nzShowTime","","nzFormat","yyyy-MM-dd HH:mm:ss",2,"width","100%",3,"ngModelChange","ngModel"],["rows","2","nz-input","",3,"ngModelChange","ngModel"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click","nzLoading"]],template:function(o,n){if(1&o){const a=e.RV6();e.j41(0,"dx-data-grid",2),e.nrm(1,"dxo-column-chooser",3,0),e.j41(3,"dxo-toolbar")(4,"dxi-item",4)(5,"dx-button",5),e.bIt("onClick",function(){return e.eBV(a),e.Njj(n.openCreateRequestInventoryModal())}),e.k0s()(),e.nrm(6,"dxi-item",6),e.k0s(),e.nrm(7,"dxo-paging",7)(8,"dxo-filter-row",8)(9,"dxi-column",9)(10,"dxi-column",10)(11,"dxi-column",11)(12,"dxi-column",12)(13,"dxi-column",13)(14,"dxi-column",14)(15,"dxi-column",15)(16,"dxi-column",16),e.j41(17,"dxi-column",17),e.DNE(18,X,3,0,"div",18),e.k0s(),e.nrm(19,"dxo-paging",7)(20,"dxo-pager",19),e.k0s(),e.j41(21,"nz-modal",20),e.mxI("nzVisibleChange",function(r){return e.eBV(a),e.DH7(n.isOpenCreateRequestInventoryModal,r)||(n.isOpenCreateRequestInventoryModal=r),e.Njj(r)}),e.DNE(22,Q,48,11,"ng-container",21)(23,W,5,1,"div",22),e.k0s()}2&o&&(e.Y8G("dataSource",n.inventoryRequests)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("enabled",!0)("mode","select")("title","C\u1ed9t hi\u1ec3n th\u1ecb"),e.R7$(6),e.Y8G("pageSize",10),e.R7$(),e.Y8G("visible",!0),e.R7$(3),e.Y8G("visible",!1),e.R7$(),e.Y8G("visible",!1),e.R7$(2),e.Y8G("visible",!1),e.R7$(),e.Y8G("visible",!0),e.R7$(2),e.Y8G("fixed",!0),e.R7$(),e.Y8G("dxTemplateOf","actionTemplate"),e.R7$(),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(22,Y)),e.R7$(),e.R50("nzVisible",n.isOpenCreateRequestInventoryModal))},dependencies:[D.e,q.eC,y.s,d.i2Q,d.nj_,d.CVf,d.FTx,d.sVQ,d.PVd,d.KOr,b.aO,G.c,L.p,m.F2,m.Oj,m.A9,u.CP,u.SO,u.aj,u.kt,f.Sy,p.me,p.BC,p.vS,S.SN,E.lx,E.i3],styles:["#ivtCreateTable[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}"]})}return i})();var Z=l(47848),ee=l(92887),te=l(2578);const ne=["labelIpt"],oe=["importQtyIpt"],ae=["labelTable"],v=()=>[""],V=()=>[10,25,50,100],ie=()=>({id:"CX",name:"H\xe0ng ch\u1edd xu\u1ea5t"}),le=()=>({id:"CXN",name:"H\xe0ng ch\u1edd x\xe1c nh\u1eadn"}),re=()=>({id:"CST",name:"H\xe0ng ch\u1edd sorting"}),se=()=>({id:"CST",name:"H\xe0ng WH tr\u1ea3 v\u1ec1"}),ce=()=>({id:"NG",name:"H\xe0ng NG"}),de=()=>({id:"RM",name:"NVL th\xf4"}),ue=()=>({id:"TC",name:"NVL th\xf4 - t\xe1i ch\u1ebf"}),he=()=>({id:"PIH_WH",name:"NVL OK"}),pe=()=>({id:"PIH_WH_SP",name:"NVL ch\u1edd x\u1eed l\xfd"}),me=(i,c,t,o,n,a,s,r,h)=>[i,c,t,o,n,a,s,r,h],ge=()=>({id:"01",name:"01"}),ve=()=>({id:"02",name:"02"}),_e=()=>({id:"03",name:"03"}),ye=()=>({id:"04",name:"04"}),Ie=()=>({id:"05",name:"05"}),be=()=>({id:"06",name:"06"}),Ce=()=>({id:"07",name:"07"}),fe=()=>({id:"08",name:"08"}),Ee=()=>({id:"09",name:"09"}),Re=()=>({id:"10",name:"10"}),xe=()=>({id:"11",name:"11"}),ze=()=>({id:"12",name:"12"}),De=()=>({id:"13",name:"13"}),Fe=()=>({id:"14",name:"14"}),Se=()=>({id:"15",name:"15"}),Te=()=>({id:"16",name:"16"}),je=()=>({id:"17",name:"17"}),ke=()=>({id:"18",name:"18"}),we=()=>({id:"19",name:"19"}),Me=()=>({id:"20",name:"20"}),Pe=()=>({id:"21",name:"21"}),Ne=()=>({id:"22",name:"22"}),qe=()=>({id:"23",name:"23"}),Ge=()=>({id:"24",name:"24"}),Le=()=>({id:"25",name:"25"}),Ve=()=>({id:"26",name:"26"}),Be=()=>({id:"27",name:"27"}),Ae=()=>({id:"28",name:"28"}),Oe=()=>({id:"29",name:"29"}),$e=()=>({id:"30",name:"30"}),Je=()=>({id:"31",name:"31"}),Ue=()=>({id:"32",name:"32"}),Ye=()=>({id:"33",name:"33"}),He=()=>({id:"34",name:"34"}),Xe=()=>({id:"35",name:"35"}),Qe=()=>({id:"36",name:"36"}),We=()=>({id:"37",name:"37"}),Ke=()=>({id:"38",name:"38"}),Ze=()=>({id:"39",name:"39"}),et=()=>({id:"40",name:"40"}),tt=(i,c,t,o,n,a,s,r,h,x,bt,Ct,ft,Et,Rt,xt,zt,Dt,Ft,St,Tt,jt,kt,wt,Mt,Pt,Nt,qt,Gt,Lt,Vt,Bt,At,Ot,$t,Jt,Ut,Yt,Ht,Xt)=>[i,c,t,o,n,a,s,r,h,x,bt,Ct,ft,Et,Rt,xt,zt,Dt,Ft,St,Tt,jt,kt,wt,Mt,Pt,Nt,qt,Gt,Lt,Vt,Bt,At,Ot,$t,Jt,Ut,Yt,Ht,Xt],nt=()=>({y:"240px"}),ot=()=>({authorization:"authorization-text"}),at=()=>({showPreviewIcon:!1,showRemoveIcon:!1,showDownloadIcon:!1});function it(i,c){if(1&i){const t=e.RV6();e.j41(0,"div",45)(1,"a",46),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG();return e.Njj(a.openEditQtyModal(n))}),e.EFF(2,"S\u1eeda"),e.k0s()()}}function lt(i,c){if(1&i&&(e.j41(0,"tbody")(1,"tr")(2,"td",62)(3,"div",63)(4,"span"),e.EFF(5),e.k0s()()()()()),2&i){const t=e.XpG(2);e.R7$(5),e.JRh(t.errMsg)}}function rt(i,c){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td")(2,"label"),e.EFF(3),e.k0s()(),e.j41(4,"td")(5,"label"),e.EFF(6),e.k0s()(),e.j41(7,"td",64)(8,"div",65),e.bIt("click",function(){const n=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.startEdit(n))}),e.EFF(9),e.nI1(10,"number"),e.k0s(),e.j41(11,"input",66,3),e.mxI("ngModelChange",function(n){const a=e.eBV(t).$implicit;return e.DH7(a.qty,n)||(a.qty=n),e.Njj(n)}),e.bIt("blur",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.stopEdit())}),e.k0s()(),e.j41(13,"td",67),e.bIt("nzOnConfirm",function(){const n=e.eBV(t).$implicit,a=e.XpG(2);return e.Njj(a.deleteLabelScanned(n))}),e.j41(14,"a",68),e.EFF(15,"X\xf3a"),e.k0s()()()}if(2&i){const t=c.$implicit,o=e.XpG(2);e.R7$(3),e.JRh(t.partNo),e.R7$(3),e.JRh(t.lotNo),e.R7$(2),e.Y8G("hidden",o.lotNoEdit===t.lotNo),e.R7$(),e.SpI(" ",e.i5U(10,6,t.qty,"1.0-3")," "),e.R7$(2),e.Y8G("hidden",o.lotNoEdit!==t.lotNo),e.R50("ngModel",t.qty)}}function st(i,c){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"nz-table",47)(2,"thead")(3,"tr")(4,"th")(5,"dx-select-box",48),e.mxI("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.inventoryArea,n)||(a.inventoryArea=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onChangeArea(n))}),e.k0s()(),e.j41(6,"th")(7,"dx-select-box",49),e.mxI("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.goodsType,n)||(a.goodsType=n),e.Njj(n)}),e.bIt("onValueChanged",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onChangeGoodsType(n))}),e.k0s()(),e.j41(8,"th")(9,"dx-select-box",50),e.mxI("valueChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.materialTruck,n)||(a.materialTruck=n),e.Njj(n)}),e.bIt("onValueChanged",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.onChangeMaterialTruck(n))}),e.k0s()(),e.j41(10,"th")(11,"input",51,1),e.bIt("keydown.enter",function(n){e.eBV(t);const a=e.XpG();return e.Njj(a.scanLabel(n))})("click",function(){e.eBV(t);const n=e.sdS(12);return e.Njj(n.select())}),e.k0s()()()(),e.DNE(13,lt,6,1,"tbody",52),e.k0s(),e.j41(14,"div",53)(15,"div",54)(16,"label",55),e.EFF(17,"S\u1ed1 box \u0111\xe3 scan: "),e.j41(18,"span",56),e.EFF(19),e.k0s(),e.EFF(20," (boxes)"),e.k0s(),e.j41(21,"label",57),e.EFF(22,"Qty : "),e.j41(23,"span",56),e.EFF(24),e.nI1(25,"number"),e.k0s()()()(),e.j41(26,"nz-table",58,2)(28,"thead")(29,"tr")(30,"th",59),e.EFF(31,"Part No"),e.k0s(),e.j41(32,"th"),e.EFF(33,"LotNo / Outer Lot"),e.k0s(),e.j41(34,"th",59),e.EFF(35,"Qty (T\u1ed3n)"),e.k0s(),e.j41(36,"th",60),e.EFF(37,"Action"),e.k0s()()(),e.j41(38,"tbody"),e.DNE(39,rt,16,9,"tr",61),e.k0s()(),e.bVm()}if(2&i){const t=e.sdS(27),o=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(22,v)),e.R7$(4),e.Y8G("searchEnabled",!0)("labelMode","static")("dataSource",o.inventoryAreaList),e.R50("value",o.inventoryArea),e.R7$(2),e.Y8G("searchEnabled",!0)("labelMode","static")("dataSource",e.zJS(32,me,[e.lJ4(23,ie),e.lJ4(24,le),e.lJ4(25,re),e.lJ4(26,se),e.lJ4(27,ce),e.lJ4(28,de),e.lJ4(29,ue),e.lJ4(30,he),e.lJ4(31,pe)])),e.R50("value",o.goodsType),e.R7$(2),e.Y8G("searchEnabled",!0)("labelMode","static")("dataSource",e.zJS(82,tt,[e.lJ4(42,ge),e.lJ4(43,ve),e.lJ4(44,_e),e.lJ4(45,ye),e.lJ4(46,Ie),e.lJ4(47,be),e.lJ4(48,Ce),e.lJ4(49,fe),e.lJ4(50,Ee),e.lJ4(51,Re),e.lJ4(52,xe),e.lJ4(53,ze),e.lJ4(54,De),e.lJ4(55,Fe),e.lJ4(56,Se),e.lJ4(57,Te),e.lJ4(58,je),e.lJ4(59,ke),e.lJ4(60,we),e.lJ4(61,Me),e.lJ4(62,Pe),e.lJ4(63,Ne),e.lJ4(64,qe),e.lJ4(65,Ge),e.lJ4(66,Le),e.lJ4(67,Ve),e.lJ4(68,Be),e.lJ4(69,Ae),e.lJ4(70,Oe),e.lJ4(71,$e),e.lJ4(72,Je),e.lJ4(73,Ue),e.lJ4(74,Ye),e.lJ4(75,He),e.lJ4(76,Xe),e.lJ4(77,Qe),e.lJ4(78,We),e.lJ4(79,Ke),e.lJ4(80,Ze),e.lJ4(81,et)])),e.R50("value",o.materialTruck),e.R7$(4),e.Y8G("ngIf",o.errMsg),e.R7$(6),e.JRh(o.listLotsScanned.length),e.R7$(5),e.JRh(e.i5U(25,19,o.totalQtyScanned,"1.0-3")),e.R7$(2),e.Y8G("nzData",o.listLotsScanned)("nzScroll",e.lJ4(123,nt)),e.R7$(13),e.Y8G("ngForOf",t.data)}}function ct(i,c){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"button",69),e.bIt("nzOnConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeScanInventoryModal())}),e.EFF(2," \u0110\xf3ng "),e.k0s(),e.j41(3,"button",70),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveListInventoryData())}),e.EFF(4," L\u01b0u d\u1eef li\u1ec7u "),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("nzLoading",t.isLoadingSaveInventoryData)}}function dt(i,c){if(1&i&&(e.j41(0,"li")(1,"span",73),e.EFF(2),e.k0s()()),2&i){const t=c.$implicit;e.R7$(2),e.JRh(t.lotNo)}}function ut(i,c){if(1&i&&(e.j41(0,"li")(1,"span",74),e.EFF(2),e.k0s()()),2&i){const t=c.$implicit;e.R7$(2),e.JRh(t.lotNo)}}function ht(i,c){if(1&i&&(e.qex(0),e.j41(1,"nz-table",71)(2,"thead")(3,"tr")(4,"th",72),e.EFF(5,"C\xe1c box l\u01b0u th\xe0nh c\xf4ng"),e.k0s(),e.j41(6,"th",72),e.EFF(7,"C\xe1c box duplicate"),e.k0s()()(),e.j41(8,"tbody")(9,"tr")(10,"td")(11,"ul"),e.DNE(12,dt,3,1,"li",61),e.k0s()(),e.j41(13,"td")(14,"ul"),e.DNE(15,ut,3,1,"li",61),e.k0s()()()()(),e.bVm()),2&i){const t=e.XpG();e.R7$(),e.Y8G("nzSize","small")("nzData",e.lJ4(4,v)),e.R7$(11),e.Y8G("ngForOf",null==t.resultSaveInventoryData?null:t.resultSaveInventoryData.resultOK),e.R7$(3),e.Y8G("ngForOf",null==t.resultSaveInventoryData?null:t.resultSaveInventoryData.resultNG)}}function pt(i,c){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"nz-table",47)(2,"tbody")(3,"tr")(4,"td"),e.EFF(5,"Part No"),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s()(),e.j41(8,"tr")(9,"td"),e.EFF(10,"Lot No"),e.k0s(),e.j41(11,"td"),e.EFF(12),e.k0s()(),e.j41(13,"tr")(14,"td"),e.EFF(15,"Qty"),e.k0s(),e.j41(16,"td")(17,"input",75),e.mxI("ngModelChange",function(n){e.eBV(t);const a=e.XpG();return e.DH7(a.lotSelected.qty,n)||(a.lotSelected.qty=n),e.Njj(n)}),e.k0s()()()()(),e.bVm()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(4,v)),e.R7$(6),e.JRh(t.lotSelected.partNo),e.R7$(5),e.JRh(t.lotSelected.lotNo),e.R7$(5),e.R50("ngModel",t.lotSelected.qty)}}function mt(i,c){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"button",76),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isOpenEditQtyModal=!1)}),e.EFF(2," \u0110\xf3ng "),e.k0s(),e.j41(3,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveEditQty())}),e.EFF(4,"L\u01b0u"),e.k0s()()}}function gt(i,c){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"nz-table",77,0)(3,"thead")(4,"tr")(5,"th")(6,"nz-upload",78)(7,"button",79),e.nrm(8,"span",80),e.EFF(9," Upload d\u1eef li\u1ec7u ki\u1ec3m k\xea NVL th\xf4 "),e.k0s()()(),e.j41(10,"th")(11,"button",8),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.downloadTemplateUploadRawMaterialInventory())}),e.EFF(12," Download Template "),e.k0s()()()()(),e.bVm()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(4,v)),e.R7$(5),e.Y8G("nzAction",t.apiUploadExcelRawMaterialInventory)("nzHeaders",e.lJ4(5,ot))("nzShowUploadList",e.lJ4(6,at))}}function vt(i,c){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"button",76),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isOpenRawMaterialInventoryModal=!1)}),e.EFF(2," \u0110\xf3ng "),e.k0s()()}}const _t=[{path:"menu",component:$},{path:"request",component:K},{path:"request/:id",component:(()=>{class i{constructor(t,o,n,a){this.toastr=t,this.activatedRoute=o,this.pihInventorySvc=n,this.jwtHelperSvc=a,this.baseUrl=P.c.baseUrl,this.isOpenScanInventoryModal=!1,this.isOpenResultSaveInventoryModal=!1,this.mapLotsScanned=new Map,this.listLotsScanned=new Array,this.totalQtyScanned=0,this.lotNoEdit=null,this.isLoadingSaveInventoryData=!1,this.isOpenRawMaterialInventoryModal=!1,this.isLoadingGetRawMaterialInventory=!1,this.isOpenEditQtyModal=!1,this.inventoryAreaBalanceSrch=[]}ngOnInit(){this.userLoginName=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).FullName.split(" ").reverse()[0],this.requestId=Number(this.activatedRoute.snapshot.params.id),this.requestNo=this.activatedRoute.snapshot.queryParamMap.get("reqNo"),this.getInventoryData(this.requestId),this.getInventoryArea(),this.getInventoryRequestById(this.requestId),this.apiUploadExcelRawMaterialInventory=`${this.baseUrl}/PIH/Inventory/UploadRawMaterialInventoryData?requestId=${this.requestId}`}ngAfterViewInit(){}getInventoryRequestById(t){this.pihInventorySvc.getInventoryRequestById(t).subscribe(o=>{this.inventoryRequestInfo=o,console.log("inventoryRequestInfo: ",this.inventoryRequestInfo)})}getInventoryArea(){this.pihInventorySvc.getInventoryArea().subscribe(t=>{this.inventoryAreaList=t})}getInventoryData(t){this.pihInventorySvc.getInventoryData(t).subscribe(o=>{this.inventoryData=o,this.inventoryDataPivot={fields:[{caption:"Classified",dataField:"classified",area:"row",expanded:!0},{caption:"Part Number",dataField:"partNo",area:"row",width:150,expanded:!0},{caption:"Lot No",dataField:"lotNo",area:"row",width:250,expanded:!0},{caption:"Qty",dataField:"qty",dataType:"number",area:"data",summaryType:"sum",format:{type:"fixedPoint",precision:2}}],store:o}})}onExportClient(t,o){const n=new ee.Workbook,a=n.addWorksheet("Main sheet");(0,Z.V)({component:t.component,worksheet:a}).then(function(){n.xlsx.writeBuffer().then(function(s){te(new Blob([s],{type:"application/octet-stream"}),`${o}.xlsx`)})})}openScanInventoryModal(){new Date(this.inventoryRequestInfo.inventoryCloseDate).getDay(),(new Date).getDay(),this.inventoryArea=null,this.isOpenScanInventoryModal=!0,setTimeout(()=>{this.labelIpt.nativeElement.focus()},500)}saveListInventoryData(){this.listLotsScanned.length<=0?this.toastr.warning("C\u1ea7n scan tem QR code","Warning"):(console.log("this.listLotsScanned: ",this.listLotsScanned),this.isLoadingSaveInventoryData=!0,this.pihInventorySvc.saveListInventoryData(this.listLotsScanned,this.requestId,this.inventoryArea,this.goodsType).subscribe(t=>{this.toastr.success("\u0110\xe3 l\u01b0u","Response"),this.resultSaveInventoryData=t,this.isOpenScanInventoryModal=!1,this.isLoadingSaveInventoryData=!1,this.isOpenResultSaveInventoryModal=!0,this.mapLotsScanned=new Map,this.listLotsScanned=new Array,this.inventoryArea=null,this.goodsType=null,this.materialTruck=null,this.getInventoryData(this.requestId)}))}onChangeArea(t){this.labelIpt.nativeElement.select()}onChangeGoodsType(t){console.log("onChangeGoodsType: ",t),this.labelIpt.nativeElement.select()}onChangeMaterialTruck(t){console.log("onChangeMaterialTruck: ",t),this.labelIpt.nativeElement.select()}scanLabel(t){if(!this.inventoryArea)return this.toastr.warning("C\u1ea7n ch\u1ecdn khu v\u1ef1c ki\u1ec3m k\xea ",`${this.userLoginName} \u01a1i !`),void this.labelIpt.nativeElement.select();if(!this.goodsType)return this.toastr.warning("C\u1ea7n ch\u1ecdn lo\u1ea1i h\xe0ng ",`${this.userLoginName} \u01a1i !`),void this.labelIpt.nativeElement.select();this.labelIpt.nativeElement.select();let o=t.target.value.split(";"),n="",a=0,s="";if(t.target.value.includes(";")){if("B"===o[0]){console.log("data[0]: ",o[0]),n=o[1],a=o[3],s=o[4];let r={lotNo:s.toUpperCase(),partNo:n.toUpperCase(),qty:a,date:new Date,requestId:this.requestId,inventoryArea:this.inventoryArea,outerLotNo:s.toUpperCase(),goodsType:this.goodsType,materialTruck:this.materialTruck};return this.mapLotsScanned.set(s,r),this.listLotsScanned=Array.from(this.mapLotsScanned.values()),void(this.totalQtyScanned=this.sumQtyScanned(this.listLotsScanned))}if("B"!==o[0]){console.log("data[0]: ",o[0]),n=o[0],a=o[2],s=o[3];let r={lotNo:s.toUpperCase(),partNo:n.toUpperCase(),qty:a,date:new Date,requestId:this.requestId,inventoryArea:this.inventoryArea,goodsType:this.goodsType,materialTruck:this.materialTruck};return void this.pihInventorySvc.scanLabel(r.lotNo).subscribe(h=>{this.mapLotsScanned.set(s,r),this.listLotsScanned=Array.from(this.mapLotsScanned.values()),this.totalQtyScanned=this.sumQtyScanned(this.listLotsScanned),this.errMsg=null,setTimeout(()=>{this.scrollToBottom()},0)},h=>{this.errMsg=h})}}else s=t.target.value.substring(1),this.pihInventorySvc.scanLabel(s).subscribe(r=>{let h=Object.assign(r);this.mapLotsScanned.set(s,{lotNo:s,partNo:h.model,qty:h.qty,date:new Date,requestId:this.requestId,inventoryArea:this.inventoryArea,goodsType:this.goodsType,materialTruck:this.materialTruck}),this.listLotsScanned=Array.from(this.mapLotsScanned.values()).reverse(),this.totalQtyScanned=this.sumQtyScanned(this.listLotsScanned)})}sumQtyScanned(t){return t.reduce((o,n)=>o+Number(n.qty),0)}resetScanLabel(){this.listLotsScanned=new Array,this.mapLotsScanned=new Map,this.totalQtyScanned=0,this.errMsg=null,this.materialTruck=null,this.goodsType=null,this.inventoryArea=null}scrollToBottom(){try{const t=this.labelTable.nativeElement.querySelector(".ant-table-body");t.scrollTop=t.scrollHeight}catch(t){console.error("Error scrolling to bottom of table",t)}}startEdit(t){setTimeout(()=>{this.importQtyIpt.nativeElement.select()},400),this.lotNoEdit=t.lotNo}stopEdit(){this.lotNoEdit=null,this.importQtyIpt.nativeElement.select()}deleteLabelScanned(t){this.mapLotsScanned.delete(t.lotNo),this.listLotsScanned=Array.from(this.mapLotsScanned.values()).reverse()}closeScanInventoryModal(){this.isOpenScanInventoryModal=!1,this.resetScanLabel()}openEditQtyModal(t){this.lotSelected=t.data,this.isOpenEditQtyModal=!0}saveEditQty(){this.isOpenEditQtyModal=!1,this.pihInventorySvc.saveInventoryData(this.lotSelected).subscribe(t=>{this.getInventoryData(this.requestId)})}getBalance(){console.log("inventoryAreaBanlanceSrch: ",this.inventoryAreaBalanceSrch);let n=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).FullName.split(" ").reverse()[0];this.balanceGrid?.instance.beginCustomLoading(`B\u1ea1n ${n} \u01a1i \u0111\u1ee3i t\xfd nh\xe9!`),this.pihInventorySvc.balance(this.requestId,this.inventoryAreaBalanceSrch).subscribe(a=>{this.balanceData=a})}onRowPrepared(t){"data"===t.rowType&&0!==t.data.balance&&(t.rowElement.style.backgroundColor="red",t.rowElement.classList.add("my-class"),t.rowElement.className=t.rowElement.className.replace("dx-row-alt",""))}openRawMaterialInventoryModal(){this.isOpenRawMaterialInventoryModal=!0}downloadTemplateUploadRawMaterialInventory(){this.pihInventorySvc.downloadTemplateUploadRawMaterialInventory().subscribe(t=>{console.log(t);const o=new Blob([t],{}),n=window.URL.createObjectURL(o),a=document.createElement("a");a.href=n,a.download="TemplateRawMaterialInventoryData.xlsx",a.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(n),a.remove()},100)})}getRawMaterialInventoryData(){this.isLoadingGetRawMaterialInventory=!0,this.pihInventorySvc.getRawMaterialInventoryData(this.requestId).subscribe(t=>{this.rawMaterialInventory=t,this.isLoadingGetRawMaterialInventory=!1},t=>{this.isLoadingGetRawMaterialInventory=!1})}onCellInventoryData(t){"header"===t.rowType&&(t.cellElement.style.backgroundColor="#000080",t.cellElement.style.color="#ffffff",t.cellElement.style.fontWeight="bold")}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(w.tw),e.rXU(g.nX),e.rXU(N),e.rXU(M.X7))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-pih-inv-req-detail"]],viewQuery:function(o,n){if(1&o&&(e.GBs(ne,5),e.GBs(oe,5),e.GBs(y.s,5),e.GBs(ae,5,e.aKT)),2&o){let a;e.mGM(a=e.lsd())&&(n.labelIpt=a.first),e.mGM(a=e.lsd())&&(n.importQtyIpt=a.first),e.mGM(a=e.lsd())&&(n.balanceGrid=a.first),e.mGM(a=e.lsd())&&(n.labelTable=a.first)}},decls:63,vars:49,consts:[["basicTable",""],["labelIpt",""],["labelTable",""],["importQtyIpt",""],["nzFrontPagination","false","nzBordered","","nzSize","small",3,"nzData"],[2,"font-weight","bold"],[2,"font-weight","bold","color","green"],[2,"text-align","right"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","qrcode"],[2,"margin-top","-25px",3,"nzSelectedIndex"],["nzTitle","D\u1eef li\u1ec7u ki\u1ec3m k\xea"],["keyExpr","id",3,"onExporting","onCellPrepared","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"visible"],[3,"enabled"],["location","before"],["name","exportButton"],["dataField","partNo","caption","Part No"],["dataField","lotNo","caption","Lot No"],["dataField","qty","caption","Qty","format","#,##0.0"],["dataField","classified","caption","Classified"],["dataField","goodsType","caption","Lo\u1ea1i h\xe0ng"],["dataField","inventoryArea","caption","Khu v\u1ef1c ki\u1ec3m k\xea"],["dataField","materialTruck","caption","Xe h\xe0ng"],["dataField","createdAt","caption","Date","dataType","date","format","yyyy-MM-dd HH:mm:ss"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],["nzTitle","Classified"],[3,"allowSortingBySummary","allowSorting","allowFiltering","allowExpandAll","showBorders","dataSource"],[3,"allowSearch"],["nzTitle","Summary"],["keyExpr","id",3,"onExporting","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],["dataField","partNo","caption","Part No",3,"groupIndex"],["dataField","qty","caption","Qty","dataType","number","format","#,##0.0"],["caption","Action","cellTemplate","actionTemplate","fixedPosition","right",3,"fixed"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],["column","partNo","summaryType","count","displayFormat","{0} boxes"],["column","qty","summaryType","sum","displayFormat","Total: {0}","valueFormat","#,##0",3,"showInGroupFooter","alignByColumn"],["summaryItem","count"],["nzTitle","D\u1eef li\u1ec7u scan ki\u1ec3m k\xea","nzWidth","750px",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["nzTitle","K\u1ebft qu\u1ea3 l\u01b0u ki\u1ec3m k\xea","nzWidth","750px",3,"nzVisibleChange","nzOnCancel","nzOnOk","nzVisible"],["nzTitle","Th\xf4ng tin Lot","nzWidth","550px",3,"nzVisibleChange","nzVisible"],["nzTitle","Upload d\u1eef ki\u1ec7u ki\u1ec3m k\xea NVL th\xf4","nzWidth","750px",3,"nzVisibleChange","nzVisible"],[2,"text-align","center"],[2,"color","blue",3,"click"],["nzFrontPagination","false","nzBordered","","nzSize","small",2,"margin-top","-15px",3,"nzData"],["label","Ch\u1ecdn khu v\u1ef1c","labelLocation","left","showColonAfterLabel","true","displayExpr","name","valueExpr","id",3,"valueChange","ngModelChange","searchEnabled","labelMode","dataSource","value"],["label","Lo\u1ea1i h\xe0ng","labelLocation","left","showColonAfterLabel","true","displayExpr","name","valueExpr","id",3,"valueChange","onValueChanged","searchEnabled","labelMode","dataSource","value"],["label","Xe h\xe0ng","labelLocation","left","showColonAfterLabel","true","displayExpr","name","valueExpr","id",3,"valueChange","onValueChanged","searchEnabled","labelMode","dataSource","value"],["id","labelIpt","nz-input","","placeholder","Scan tem NVL","autocomplete","off","autofocus","true",2,"margin-bottom","-20px",3,"keydown.enter","click"],[4,"ngIf"],[2,"margin-top","-20px"],[2,"clear","both"],[2,"float","left"],[2,"font-weight","bold","color","darkslategrey"],[2,"float","right"],["nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData","nzScroll"],["nzWidth","150px"],["nzWidth","100px"],[4,"ngFor","ngForOf"],["colspan","4"],["id","error-msg"],[1,"editable-row",2,"text-align","right"],[1,"editable-cell",3,"click","hidden"],["type","number","nz-input","",3,"ngModelChange","blur","hidden","ngModel"],["nz-popconfirm","","nzPopconfirmTitle","C\xf3 ch\u1eafc ch\u1eafn x\xf3a kh\xf4ng ?","nzPopconfirmPlacement","top",2,"text-align","center",3,"nzOnConfirm"],[2,"color","red","font-weight","bold"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","N\u1ebfu \u0111\xf3ng s\u1ebd x\xf3a to\xe0n b\u1ed9 d\u1eef li\u1ec7u \u0111\xe3 scan","nzType","default",3,"nzOnConfirm"],["nz-button","","nzType","primary",3,"click","nzLoading"],["id","result-save-inventory","nzFrontPagination","false","nzBordered","",3,"nzSize","nzData"],["width","50%"],[2,"font-weight","bold","background","#e8f2db","color","green"],[2,"font-weight","bold","background","#fce1e1","color","red"],["nz-input","","type","number",3,"ngModelChange","ngModel"],["nz-button","","nzType","default",3,"click"],["nzFrontPagination","false","nzBordered","",3,"nzData"],[3,"nzAction","nzHeaders","nzShowUploadList"],["nz-button",""],["nz-icon","","nzType","upload"]],template:function(o,n){if(1&o){const a=e.RV6();e.j41(0,"nz-table",4,0)(2,"thead")(3,"tr")(4,"th")(5,"label",5),e.EFF(6,"M\xe3 ki\u1ec3m k\xea:"),e.k0s(),e.j41(7,"label",6),e.EFF(8),e.k0s()(),e.j41(9,"th",7)(10,"button",8),e.bIt("click",function(){return e.eBV(a),e.Njj(n.openScanInventoryModal())}),e.nrm(11,"span",9),e.EFF(12," Scan ki\u1ec3m k\xea "),e.k0s()()()()(),e.j41(13,"nz-tabset",10)(14,"nz-tab",11)(15,"dx-data-grid",12),e.bIt("onExporting",function(r){return e.eBV(a),e.Njj(n.onExportClient(r,"Data"))})("onCellPrepared",function(r){return e.eBV(a),e.Njj(n.onCellInventoryData(r))}),e.nrm(16,"dxo-header-filter",13)(17,"dxo-filter-row",13)(18,"dxo-export",14),e.j41(19,"dxo-toolbar"),e.nrm(20,"dxi-item",15)(21,"dxi-item",16),e.k0s(),e.nrm(22,"dxi-column",17)(23,"dxi-column",18)(24,"dxi-column",19)(25,"dxi-column",20)(26,"dxi-column",21)(27,"dxi-column",22)(28,"dxi-column",23)(29,"dxi-column",24)(30,"dxo-paging",25)(31,"dxo-pager",26),e.k0s()(),e.j41(32,"nz-tab",27)(33,"dx-pivot-grid",28),e.nrm(34,"dxo-field-chooser",29)(35,"dxo-export",14),e.k0s()(),e.j41(36,"nz-tab",30)(37,"dx-data-grid",31),e.bIt("onExporting",function(r){return e.eBV(a),e.Njj(n.onExportClient(r,"Summary"))}),e.nrm(38,"dxo-export",14)(39,"dxo-paging",25)(40,"dxo-filter-row",13)(41,"dxi-column",32)(42,"dxi-column",18)(43,"dxi-column",33),e.j41(44,"dxi-column",34),e.DNE(45,it,3,0,"div",35),e.k0s(),e.j41(46,"dxo-summary"),e.nrm(47,"dxi-group-item",36)(48,"dxi-group-item",37),e.k0s(),e.nrm(49,"dxi-sort-by-group-summary-info",38)(50,"dxo-paging",25)(51,"dxo-pager",26),e.k0s()()(),e.j41(52,"nz-modal",39),e.mxI("nzVisibleChange",function(r){return e.eBV(a),e.DH7(n.isOpenScanInventoryModal,r)||(n.isOpenScanInventoryModal=r),e.Njj(r)}),e.DNE(53,st,40,124,"ng-container",40)(54,ct,5,1,"div",41),e.k0s(),e.j41(55,"nz-modal",42),e.mxI("nzVisibleChange",function(r){return e.eBV(a),e.DH7(n.isOpenResultSaveInventoryModal,r)||(n.isOpenResultSaveInventoryModal=r),e.Njj(r)}),e.bIt("nzOnCancel",function(){return e.eBV(a),e.Njj(n.isOpenResultSaveInventoryModal=!1)})("nzOnOk",function(){return e.eBV(a),e.Njj(n.isOpenResultSaveInventoryModal=!1)}),e.DNE(56,ht,16,5,"ng-container",40),e.k0s(),e.j41(57,"nz-modal",43),e.mxI("nzVisibleChange",function(r){return e.eBV(a),e.DH7(n.isOpenEditQtyModal,r)||(n.isOpenEditQtyModal=r),e.Njj(r)}),e.DNE(58,pt,18,5,"ng-container",40)(59,mt,5,0,"div",41),e.k0s(),e.j41(60,"nz-modal",44),e.mxI("nzVisibleChange",function(r){return e.eBV(a),e.DH7(n.isOpenRawMaterialInventoryModal,r)||(n.isOpenRawMaterialInventoryModal=r),e.Njj(r)}),e.DNE(61,gt,13,7,"ng-container",40)(62,vt,3,0,"div",41),e.k0s()}2&o&&(e.Y8G("nzData",e.lJ4(46,v)),e.R7$(8),e.SpI(" ",n.requestNo," "),e.R7$(5),e.Y8G("nzSelectedIndex",0),e.R7$(2),e.Y8G("dataSource",n.inventoryData)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(12),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(47,V)),e.R7$(2),e.Y8G("allowSortingBySummary",!0)("allowSorting",!0)("allowFiltering",!0)("allowExpandAll",!1)("showBorders",!0)("dataSource",n.inventoryDataPivot),e.R7$(),e.Y8G("allowSearch",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(2),e.Y8G("dataSource",n.inventoryDataPivot)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("pageSize",15),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("groupIndex",0),e.R7$(3),e.Y8G("fixed",!0),e.R7$(),e.Y8G("dxTemplateOf","actionTemplate"),e.R7$(3),e.Y8G("showInGroupFooter",!1)("alignByColumn",!0),e.R7$(2),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(48,V)),e.R7$(),e.R50("nzVisible",n.isOpenScanInventoryModal),e.R7$(3),e.R50("nzVisible",n.isOpenResultSaveInventoryModal),e.R7$(2),e.R50("nzVisible",n.isOpenEditQtyModal),e.R7$(3),e.R50("nzVisible",n.isOpenRawMaterialInventoryModal))},dependencies:[_.Sq,_.bT,q.eC,y.s,d.nj_,d.gtJ,d.CVf,d.ZJU,d.FTx,d.sVQ,d.PVd,d.x$q,d.XvM,d.ryC,d.KOr,b.aO,G.c,L.p,T.Dn,m.F2,m.Oj,m.A9,u.CP,u.SO,u._4,u.IL,u.aj,u.kt,f.Sy,p.me,p.Q0,p.BC,p.vS,R.JZ,R.rE,j.PV,I.M,d.GD2,k.$W,F.l,_.QX],styles:[".dx-datagrid-rowsview[_ngcontent-%COMP%]   .dx-selection.dx-row[_ngcontent-%COMP%]:not(.dx-row-focused):not(.dx-row-removed) > td[_ngcontent-%COMP%]{background-color:red;color:unset}#result-save-inventory[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{vertical-align:top}#error-msg[_ngcontent-%COMP%]{border:3px solid rgb(255,0,0);font-weight:700;width:100%;color:red;padding:5px}#error-msg[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}"]})}return i})()}];let yt=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({imports:[g.iI.forChild(_t),g.iI]})}return i})(),It=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({imports:[_.MD,yt,C.f3,D.L,y.N,b.Zw,T.Y3,m.U6,u.$G,f.j,p.YN,R.hM,j.g9,I.t,I.t,B.X,A.DH,S.LE,E.Sw,k.SE,O.pc,F.S]})}return i})()}}]);