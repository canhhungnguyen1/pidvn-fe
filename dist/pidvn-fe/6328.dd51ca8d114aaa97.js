"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[6328],{16328:(q,j,r)=>{r.r(j),r.d(j,{TrainingRecordModule:()=>an});var C=r(60177),i=r(89417),$=r(11668),f=r(12673),e=r(33514),k=r(34756),R=r(72915),N=r(37712),v=r(31958),T=r(50513),P=r(74696),I=r(58960),O=r(97529),F=r(72544),S=r(79116),E=r(21011),w=r(43053),U=r(72874),L=r(1997),y=r(23359),B=r(82358),x=r(46661),n=r(54438),G=r(45312),K=r(21626);let p=(()=>{class l{constructor(t){this.httpClient=t,this.baseUrl=G.c.baseUrl}getTrainingRecordMaster(t){return this.httpClient.post(`${this.baseUrl}/Relay/TrainingRecord/Masters`,t)}saveTrainingRecordMaster(t,s){return this.httpClient.post(`${this.baseUrl}/Relay/TrainingRecord/Master?action=${s}`,t)}createTrainingRecordMaster(t){return this.httpClient.post(`${this.baseUrl}/Relay/TrainingRecord/Master`,t)}getTrainingRecordDetail(t){return this.httpClient.post(`${this.baseUrl}/Relay/TrainingRecord/Details`,t)}saveTrainingRecordDetail(t,s,o,m){return this.httpClient.post(`${this.baseUrl}/Relay/TrainingRecord/Detail?master=${s}&type=${o}&scoreOfPass=${m}`,t)}getTrainingRecordType(){return this.httpClient.get(`${this.baseUrl}/Relay/TrainingRecord/Types`)}getUsers(){return this.httpClient.get(`${this.baseUrl}/Relay/TrainingRecord/Users`)}approveTrainingRecord(t,s){return this.httpClient.post(`${this.baseUrl}/Relay/TrainingRecord/Approval?master=${t}&username=${s}`,null)}attendanceUser(t){return this.httpClient.post(`${this.baseUrl}/Relay/TrainingRecord/Attendance`,t)}getCourses(){return this.httpClient.get(`${this.baseUrl}/Relay/TrainingRecord/Courses`)}getHistories(){return this.httpClient.get(`${this.baseUrl}/Relay/TrainingRecord/Histories`)}showGuideline(){return this.httpClient.get(`${this.baseUrl}/Relay/TrainingRecord/GuideLines`,{responseType:"arraybuffer"})}saveCourse(t,s){return this.httpClient.post(`${this.baseUrl}/Relay/TrainingRecord/Course?action=${s}`,t)}static#n=this.\u0275fac=function(s){return new(s||l)(n.KVO(K.Qq))};static#e=this.\u0275prov=n.jDH({token:l,factory:l.\u0275fac,providedIn:"root"})}return l})();var D=r(45794),a=r(31837);let u=(()=>{class l{constructor(t,s){this.trainingRecordSvc=t,this.toastr=s}ngOnInit(){this.getCourses(),this.getTrainingRecordType()}getCourses(){this.trainingRecordSvc.getCourses().subscribe(t=>{this.courses=t,console.log("Courses: ",this.courses)})}getTrainingRecordType(){this.trainingRecordSvc.getTrainingRecordType().subscribe(t=>{this.courseTypies=t})}onSaved(t){let s=t.changes[0].key,o=t.changes[0].type;console.log("course: ",t),this.trainingRecordSvc.saveCourse(s,o).subscribe(m=>{this.toastr.success("OK","Saved !"),this.getCourses()})}static#n=this.\u0275fac=function(s){return new(s||l)(n.rXU(p),n.rXU(D.tw))};static#e=this.\u0275cmp=n.VBU({type:l,selectors:[["app-tr-course"]],decls:23,vars:14,consts:[[2,"margin-top","10px",3,"onSaved","dataSource","showColumnLines","showRowLines","showBorders"],["location","before","name","addRowButton","showText","always"],["mode","popup",3,"allowUpdating","allowAdding","allowDeleting"],["title","Kh\xf3a h\u1ecdc",3,"showTitle","width","height"],["itemType","group",3,"colCount","colSpan"],["dataField","name"],["dataField","type"],[3,"visible"],["caption","Name","dataField","name","alignment","left"],["type","required"],["dataField","type","caption","Type"],["displayExpr","name","valueExpr","id",3,"dataSource"],["dataField","createdAt","alignment","center","dataType","date","format","yyyy-MM-dd"]],template:function(s,o){1&s&&(n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2," Relay Factory"),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4," Training Record "),n.k0s(),n.j41(5,"nz-breadcrumb-item"),n.EFF(6," Kh\xf3a h\u1ecdc "),n.k0s()(),n.j41(7,"dx-data-grid",0),n.bIt("onSaved",function(_){return o.onSaved(_)}),n.j41(8,"dxo-toolbar"),n.nrm(9,"dxi-item",1),n.k0s(),n.j41(10,"dxo-editing",2),n.nrm(11,"dxo-popup",3),n.j41(12,"dxo-form")(13,"dxi-item",4),n.nrm(14,"dxi-item",5)(15,"dxi-item",6),n.k0s()()(),n.nrm(16,"dxo-filter-row",7),n.j41(17,"dxi-column",8),n.nrm(18,"dxi-validation-rule",9),n.k0s(),n.j41(19,"dxi-column",10),n.nrm(20,"dxi-validation-rule",9)(21,"dxo-lookup",11),n.k0s(),n.nrm(22,"dxi-column",12),n.k0s()),2&s&&(n.R7$(7),n.Y8G("dataSource",o.courses)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0),n.R7$(3),n.Y8G("allowUpdating",!0)("allowAdding",!0)("allowDeleting",!0),n.R7$(),n.Y8G("showTitle",!0)("width",525)("height",400),n.R7$(2),n.Y8G("colCount",1)("colSpan",2),n.R7$(3),n.Y8G("visible",!0),n.R7$(5),n.Y8G("dataSource",o.courseTypies))},dependencies:[a.CVf,a.Inh,f.s,a.nj_,a.b4U,a.$Xk,a.dDC,a.Tot,a.FTx,a.KOr,v.hL,v.K7]})}return l})();var g=r(71451),b=r(92887),X=r(2578),H=r(37736),J=r(27380),Q=r(16389),Z=r(25930);const c=()=>[10,25,50,100],A=()=>({width:500}),d=l=>[l];function h(l,V){if(1&l){const t=n.RV6();n.j41(0,"div")(1,"dx-data-grid",41),n.bIt("onSelectionChanged",function(o){const m=n.eBV(t).$implicit,_=n.XpG().$implicit,sn=n.XpG();return n.Njj(sn.onSelectionChanged(o.selectedRowKeys,_,m.component))}),n.nrm(2,"dxo-filter-row",9)(3,"dxi-column",42)(4,"dxi-column",43)(5,"dxo-paging",44)(6,"dxo-scrolling",45)(7,"dxo-selection",46),n.k0s()()}if(2&l){const t=n.XpG().$implicit,s=n.XpG();n.R7$(),n.Y8G("dataSource",s.users)("remoteOperations",!0)("height",250)("selectedRowKeys",n.eq3(10,d,t.value))("focusedRowEnabled",!0)("focusedRowKey",t.value)("hoverStateEnabled",!0),n.R7$(),n.Y8G("visible",!0),n.R7$(3),n.Y8G("enabled",!0)("pageSize",10)}}function z(l,V){if(1&l){const t=n.RV6();n.j41(0,"div")(1,"dx-drop-down-box",40),n.mxI("valueChange",function(o){const m=n.eBV(t).$implicit;return n.DH7(m.value,o)||(m.value=o),n.Njj(o)}),n.DNE(2,h,8,12,"div",29),n.k0s()()}if(2&l){const t=V.$implicit,s=n.XpG();n.R7$(),n.Y8G("dropDownOptions",n.lJ4(4,A))("dataSource",s.users),n.R50("value",t.value),n.R7$(),n.Y8G("dxTemplateOf","contentTemplate")}}function M(l,V){if(1&l){const t=n.RV6();n.qex(0),n.j41(1,"div",2)(2,"div",47)(3,"nz-upload",48)(4,"button",49),n.nrm(5,"i",50),n.EFF(6," Click to Upload "),n.k0s()()(),n.j41(7,"div",47)(8,"label",51),n.bIt("click",function(){n.eBV(t);const o=n.XpG();return n.Njj(o.openGuideline())}),n.EFF(9,"Guideline"),n.k0s()()(),n.bVm()}if(2&l){const t=n.XpG();n.R7$(),n.Y8G("nzGutter",24),n.R7$(2),n.Y8G("nzAction",t.usersUploadApi)}}function Y(l,V){if(1&l&&(n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s()()),2&l){const t=V.$implicit;n.R7$(2),n.JRh(t.username),n.R7$(2),n.JRh(t.name)}}function W(l,V){if(1&l){const t=n.RV6();n.qex(0),n.j41(1,"div",2)(2,"div",52)(3,"div",53)(4,"input",54),n.bIt("keydown.enter",function(o){n.eBV(t);const m=n.XpG();return n.Njj(m.attendanceUser(o))}),n.k0s()()()(),n.j41(5,"div",55)(6,"div",52)(7,"label"),n.EFF(8,"Attendance List"),n.k0s(),n.j41(9,"nz-table",56,0)(11,"thead")(12,"tr")(13,"th"),n.EFF(14,"ID"),n.k0s(),n.j41(15,"th"),n.EFF(16,"Name"),n.k0s()()(),n.j41(17,"tbody"),n.DNE(18,Y,5,2,"tr",57),n.k0s()()()(),n.bVm()}if(2&l){const t=n.sdS(10),s=n.XpG();n.R7$(),n.Y8G("nzGutter",24),n.R7$(4),n.Y8G("nzGutter",24),n.R7$(4),n.Y8G("nzData",s.attendanceUsers)("nzSize","small"),n.R7$(9),n.Y8G("ngForOf",t.data)}}let en=(()=>{class l{constructor(t,s,o,m,_){this.activatedRoute=t,this.trainingRecordSvc=s,this.jwtHelperService=o,this.toastr=m,this.nzImageService=_,this.baseUrl=G.c.baseUrl,this.testResult=[{id:"PASS",value:"PASS"},{id:"FAIL",value:"FAIL"}],this.options=[{id:"YES",value:"YES"},{id:"NO",value:"NO"}],this.attendanceUsers=new Array,this.isOpenAddUserModal=!1,this.isOpenAttendanceModal=!1}ngOnInit(){this.getUsers(),this.getTrainingRecordMaster(),this.getTrainingRecordDetail()}getTrainingRecordMaster(){let t={id:Number(this.activatedRoute.snapshot.paramMap.get("id"))};this.trainingRecordSvc.getTrainingRecordMaster(t).subscribe(s=>{this.trainingRecordMaster=s[0],console.log("trainingRecordMaster: ",this.trainingRecordMaster)})}getTrainingRecordDetail(){let s={trainingRecordMaster:this.activatedRoute.snapshot.paramMap.get("id")};this.trainingRecordSvc.getTrainingRecordDetail(s).subscribe(o=>{this.trainingRecordDetail=o})}getUsers(){this.trainingRecordSvc.getUsers().subscribe(t=>{this.users=t})}onSaved(t){let s=this.activatedRoute.snapshot.paramMap.get("id"),m=t.changes[0].type;this.trainingRecordSvc.saveTrainingRecordDetail(t.changes[0].key,Number(s),m,this.trainingRecordMaster.scoreOfPass).subscribe(_=>{this.getTrainingRecordDetail()})}onSelectionChanged(t,s,o){s.setValue(t[0]),t.length>0&&o.close()}gridBox_displayExpr(t){return t&&`${t.username} <${t.name}>`}onFocusedCellChanging(t){t.isHighlighted=!0}onApprove(){let t=this.trainingRecordMaster.id,s=this.jwtHelperService.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;this.trainingRecordSvc.approveTrainingRecord(t,s).subscribe(o=>{this.toastr.success("Approved !","OK"),this.getTrainingRecordMaster()})}openAddUserModal(){this.isOpenAddUserModal=!0;let t=this.activatedRoute.snapshot.paramMap.get("id");this.usersUploadApi=`${this.baseUrl}/Relay/TrainingRecord/UploadUsers?master=${t}`}uploadUsers(){this.getTrainingRecordDetail(),this.isOpenAddUserModal=!1}attendanceUser(t){let o={trainingRecordMaster:this.activatedRoute.snapshot.paramMap.get("id"),username:t.target.value};this.trainingRecordSvc.attendanceUser(o).subscribe(m=>{this.attendanceUsers.push(m),this.attendanceUsers=[...this.attendanceUsers],t.target.value=null})}onOpenAttendanceModal(){this.isOpenAttendanceModal=!0,this.attendanceUsers=[]}onCloseAttendanceModal(){this.isOpenAttendanceModal=!1,this.getTrainingRecordDetail()}onExporting(t){const s=new b.Workbook,o=s.addWorksheet("Main sheet");(0,g.V)({component:t.component,worksheet:o}).then(function(){s.xlsx.writeBuffer().then(function(m){X(new Blob([m],{type:"application/octet-stream"}),"Data.xlsx")})})}openGuideline(){this.nzImageService.preview([{src:`${this.baseUrl}/images/relay/training-record/Guideline.png`,alt:"ng-zorro"}],{nzZoom:1.5,nzRotate:0})}static#n=this.\u0275fac=function(s){return new(s||l)(n.rXU(x.nX),n.rXU(p),n.rXU(H.X7),n.rXU(D.tw),n.rXU(S.zn))};static#e=this.\u0275cmp=n.VBU({type:l,selectors:[["app-training-record-detail"]],decls:81,vars:58,consts:[["attendanceTable",""],["nzHeader","Master",3,"nzActive","nzShowArrow"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzLg","3"],["nzXs","24","nzSm","24","nzLg","24"],["nz-col","","nzXs","12","nzSm","12","nzLg","5"],["type","text","nz-input","",3,"disabled","ngModel"],["nz-row","","nzJustify","start","nzAlign","middle",2,"margin-top","10px",3,"nzGutter"],["id","gridContainer",3,"onFocusedCellChanging","onSaved","onExporting","dataSource","showBorders","showColumnLines","showRowLines","columnAutoWidth","allowColumnResizing","columnResizingMode","allowColumnReordering","rowAlternationEnabled"],[3,"visible"],[3,"enabled"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],["mode","cell","startEditAction","click",3,"allowUpdating","allowAdding","allowDeleting"],[3,"editOnKeyPress","enterKeyAction","enterKeyDirection"],["caption","Id","dataField","username","editCellTemplate","singleDropDownBoxEditor",3,"width","allowFiltering"],["displayExpr","username","valueExpr","username",3,"dataSource"],["type","required"],["dataField","name","caption","Name",3,"allowEditing"],["dataField","subsectionName","caption","Section",3,"allowFiltering","allowEditing"],["dataField","positionName","caption","Position",3,"allowFiltering","allowEditing"],["caption","Signature"],["dataField","attendance","caption","Attendance"],["displayExpr","value","valueExpr","value",3,"dataSource"],["dataField","materialReceived","caption","Material Received"],["caption","Test Result"],["dataField","score","caption","Score",3,"allowEditing"],["dataField","testResult","caption","Result",3,"allowEditing"],["dataField","remark","caption","Remark",3,"allowEditing"],[4,"dxTemplate","dxTemplateOf"],["location","before"],["stylingMode","outlined","type","default","icon","inserttable","text","Th\xeam Users",3,"onClick"],["stylingMode","outlined","type","success","icon","group","text","\u0110i\u1ec3m danh",3,"onClick"],["location","before","name","addRowButton","showText","always"],["location","after"],["stylingMode","outlined","type","default","icon","fieldchooser","text","Approve","nz-popconfirm","","nzPopconfirmTitle","Are you sure approve","nzPopconfirmPlacement","topLeft",3,"nzOnConfirm"],["name","exportButton"],["nzTitle","Add Users",3,"nzVisibleChange","nzOnOk","nzOnCancel","nzVisible"],[4,"nzModalContent"],["nzTitle","Attendance",3,"nzVisibleChange","nzOnCancel","nzOnOk","nzVisible"],["displayExpr","username","valueExpr","username","contentTemplate","contentTemplate",3,"valueChange","dropDownOptions","dataSource","value"],["keyExpr","username",3,"onSelectionChanged","dataSource","remoteOperations","height","selectedRowKeys","focusedRowEnabled","focusedRowKey","hoverStateEnabled"],["dataField","username"],["dataField","name"],[3,"enabled","pageSize"],["mode","virtual"],["mode","single"],["nz-col","","nzXs","12","nzSm","12","nzLg","12"],[3,"nzAction"],["nz-button",""],["nz-icon","","nzType","upload"],[3,"click"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","24"],["nzXs","24","nzSm","12","nzLg","24"],["nz-input","","placeholder","ID QR Code",3,"keydown.enter"],["nz-row","","nzJustify","start","nzAlign","middle",2,"margin-top","5px",3,"nzGutter"],["nzBordered","",3,"nzData","nzSize"],[4,"ngFor","ngForOf"]],template:function(s,o){1&s&&(n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2," Relay Factory"),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4," Training Record "),n.k0s(),n.j41(5,"nz-breadcrumb-item"),n.EFF(6," Detail "),n.k0s()(),n.nrm(7,"br"),n.j41(8,"nz-collapse")(9,"nz-collapse-panel",1)(10,"div",2)(11,"div",3)(12,"label",4),n.EFF(13,"Course Name"),n.k0s()(),n.j41(14,"div",5),n.nrm(15,"input",6),n.k0s(),n.j41(16,"div",3)(17,"label",4),n.EFF(18,"Course Type"),n.k0s()(),n.j41(19,"div",5),n.nrm(20,"input",6),n.k0s(),n.j41(21,"div",3)(22,"label",4),n.EFF(23,"Trainer"),n.k0s()(),n.j41(24,"div",5),n.nrm(25,"input",6),n.k0s()(),n.j41(26,"div",7)(27,"div",3)(28,"label",4),n.EFF(29,"Date"),n.k0s()(),n.j41(30,"div",5),n.nrm(31,"input",6),n.nI1(32,"date"),n.k0s(),n.j41(33,"div",3)(34,"label",4),n.EFF(35,"Approval By"),n.k0s()(),n.j41(36,"div",5),n.nrm(37,"input",6),n.k0s(),n.j41(38,"div",3)(39,"label",4),n.EFF(40,"Score Of Pass"),n.k0s()(),n.j41(41,"div",5),n.nrm(42,"input",6),n.k0s()()()(),n.nrm(43,"br"),n.j41(44,"dx-data-grid",8),n.bIt("onFocusedCellChanging",function(_){return o.onFocusedCellChanging(_)})("onSaved",function(_){return o.onSaved(_)})("onExporting",function(_){return o.onExporting(_)}),n.nrm(45,"dxo-filter-row",9)(46,"dxo-export",10)(47,"dxo-paging",11)(48,"dxo-pager",12)(49,"dxo-editing",13)(50,"dxo-keyboard-navigation",14),n.j41(51,"dxi-column",15),n.nrm(52,"dxo-lookup",16)(53,"dxi-validation-rule",17),n.k0s(),n.nrm(54,"dxi-column",18)(55,"dxi-column",19)(56,"dxi-column",20),n.j41(57,"dxi-column",21)(58,"dxi-column",22),n.nrm(59,"dxo-lookup",23),n.k0s(),n.j41(60,"dxi-column",24),n.nrm(61,"dxo-lookup",23),n.k0s()(),n.j41(62,"dxi-column",25),n.nrm(63,"dxi-column",26),n.j41(64,"dxi-column",27),n.nrm(65,"dxo-lookup",23),n.k0s()(),n.nrm(66,"dxi-column",28),n.DNE(67,z,3,5,"div",29),n.j41(68,"dxo-toolbar")(69,"dxi-item",30)(70,"dx-button",31),n.bIt("onClick",function(){return o.openAddUserModal()}),n.k0s()(),n.j41(71,"dxi-item",30)(72,"dx-button",32),n.bIt("onClick",function(){return o.onOpenAttendanceModal()}),n.k0s()(),n.nrm(73,"dxi-item",33),n.j41(74,"dxi-item",34)(75,"dx-button",35),n.bIt("nzOnConfirm",function(){return o.onApprove()}),n.k0s()(),n.nrm(76,"dxi-item",36),n.k0s()(),n.j41(77,"nz-modal",37),n.mxI("nzVisibleChange",function(_){return n.DH7(o.isOpenAddUserModal,_)||(o.isOpenAddUserModal=_),_}),n.bIt("nzOnOk",function(){return o.uploadUsers()})("nzOnCancel",function(){return o.isOpenAddUserModal=!1}),n.DNE(78,M,10,2,"ng-container",38),n.k0s(),n.j41(79,"nz-modal",39),n.mxI("nzVisibleChange",function(_){return n.DH7(o.isOpenAttendanceModal,_)||(o.isOpenAttendanceModal=_),_}),n.bIt("nzOnCancel",function(){return o.isOpenAttendanceModal=!1})("nzOnOk",function(){return o.onCloseAttendanceModal()}),n.DNE(80,W,19,5,"ng-container",38),n.k0s()),2&s&&(n.R7$(9),n.Y8G("nzActive",!0)("nzShowArrow",!0),n.R7$(),n.Y8G("nzGutter",24),n.R7$(5),n.Y8G("disabled",!0)("ngModel",null==o.trainingRecordMaster?null:o.trainingRecordMaster.courseName),n.R7$(5),n.Y8G("disabled",!0)("ngModel",null==o.trainingRecordMaster?null:o.trainingRecordMaster.courseTypeName),n.R7$(5),n.Y8G("disabled",!0)("ngModel",null==o.trainingRecordMaster||null==o.trainingRecordMaster.trainerName?null:o.trainingRecordMaster.trainerName.split("-")[0]),n.R7$(),n.Y8G("nzGutter",24),n.R7$(5),n.Y8G("disabled",!0)("ngModel",n.i5U(32,54,null==o.trainingRecordMaster?null:o.trainingRecordMaster.date,"yyyy-MM-dd")),n.R7$(6),n.Y8G("disabled",!0)("ngModel",null==o.trainingRecordMaster||null==o.trainingRecordMaster.approvalByName?null:o.trainingRecordMaster.approvalByName.split("-")[0]),n.R7$(5),n.Y8G("disabled",!0)("ngModel",(null==o.trainingRecordMaster?null:o.trainingRecordMaster.scoreOfPass)+" / "+(null==o.trainingRecordMaster?null:o.trainingRecordMaster.scoreOfMax)),n.R7$(2),n.Y8G("dataSource",o.trainingRecordDetail)("showBorders",!0)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("columnAutoWidth",!0)("allowColumnResizing",!0)("columnResizingMode","widget")("allowColumnReordering",!0)("rowAlternationEnabled",!0),n.R7$(),n.Y8G("visible",!0),n.R7$(),n.Y8G("enabled",!0),n.R7$(),n.Y8G("pageSize",10),n.R7$(),n.Y8G("showPageSizeSelector",!0)("allowedPageSizes",n.lJ4(57,c)),n.R7$(),n.Y8G("allowUpdating",!0)("allowAdding",!0)("allowDeleting",!0),n.R7$(),n.Y8G("editOnKeyPress",!0)("enterKeyAction","startEdit")("enterKeyDirection","column"),n.R7$(),n.Y8G("width",150)("allowFiltering",!1),n.R7$(),n.Y8G("dataSource",o.users),n.R7$(2),n.Y8G("allowEditing",!1),n.R7$(),n.Y8G("allowFiltering",!1)("allowEditing",!1),n.R7$(),n.Y8G("allowFiltering",!1)("allowEditing",!1),n.R7$(3),n.Y8G("dataSource",o.options),n.R7$(2),n.Y8G("dataSource",o.options),n.R7$(2),n.Y8G("allowEditing",null!=((null==o.trainingRecordMaster?null:o.trainingRecordMaster.scoreOfMax)&&(null==o.trainingRecordMaster?null:o.trainingRecordMaster.scoreOfPass))),n.R7$(),n.Y8G("allowEditing",null==(o.trainingRecordMaster.scoreOfMax||o.trainingRecordMaster.scoreOfPass)),n.R7$(),n.Y8G("dataSource",o.testResult),n.R7$(),n.Y8G("allowEditing",!0),n.R7$(),n.Y8G("dxTemplateOf","singleDropDownBoxEditor"),n.R7$(10),n.R50("nzVisible",o.isOpenAddUserModal),n.R7$(2),n.R50("nzVisible",o.isOpenAttendanceModal))},dependencies:[C.Sq,i.me,i.BC,i.vS,a.CVf,a.Inh,J.eC,f.s,a.hVU,a.nj_,a.b4U,a.$Xk,a.ZJU,a.FTx,a.WUv,a.sVQ,a.PVd,a.eA9,a.KOr,e.e,k.E,v.hL,v.K7,T.aO,Q.c,Z.p,F.Dn,w.F2,w.A9,O.Uq,O.e,E.Sy,y.CP,y.SO,y._4,y.IL,y.aj,y.kt,P.Vz,P.pc,U.PV,B.$W,C.vh],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-collapse[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:green}"]})}return l})(),tn=(()=>{class l{constructor(t){this.trainingRecordSvc=t}ngOnInit(){this.getHistories()}getHistories(){this.trainingRecordSvc.getHistories().subscribe(t=>{this.histories=t,console.log(this.histories)})}static#n=this.\u0275fac=function(s){return new(s||l)(n.rXU(p))};static#e=this.\u0275cmp=n.VBU({type:l,selectors:[["app-training-record-history"]],decls:16,vars:8,consts:[["id","gridMaster",2,"margin-top","10px",3,"dataSource","showColumnLines","showRowLines","showBorders","rowAlternationEnabled","allowColumnResizing","columnResizingMode","allowColumnReordering"],["caption","ID","dataField","username","alignment","left"],["caption","Name","dataField","name","alignment","left"],["caption","Section","dataField","subsectionName","alignment","left"],["caption","Position","dataField","positionName","alignment","left"],["caption","Date","dataField","date","alignment","left"],["caption","Course","dataField","courseName","alignment","left"],["caption","Result","dataField","testResult","alignment","left"]],template:function(s,o){1&s&&(n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2," Relay Factory"),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4," Training Record "),n.k0s(),n.j41(5,"nz-breadcrumb-item"),n.EFF(6," L\u1ecbch s\u1eed \u0111\xe0o t\u1ea1o "),n.k0s()(),n.nrm(7,"br"),n.j41(8,"dx-data-grid",0),n.nrm(9,"dxi-column",1)(10,"dxi-column",2)(11,"dxi-column",3)(12,"dxi-column",4)(13,"dxi-column",5)(14,"dxi-column",6)(15,"dxi-column",7),n.k0s()),2&s&&(n.R7$(8),n.Y8G("dataSource",o.histories)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("rowAlternationEnabled",!0)("allowColumnResizing",!0)("columnResizingMode","widget")("allowColumnReordering",!0))},dependencies:[f.s,a.nj_,v.hL,v.K7]})}return l})();var nn=r(89450);const on=[{path:"masters",component:(()=>{class l{constructor(t,s,o){this.i18n=t,this.router=s,this.trainingRecordSvc=o,this.isVisible=!1,this.trainingRecordMaster={},this.trainingRecordMasters={}}ngOnInit(){this.i18n.setLocale(nn.Bh),this.getCourses(),this.getUsers(),this.getTrainingRecordMaster(),this.getTrainingRecordType()}createTrainingRecord(){this.trainingRecordSvc.createTrainingRecordMaster(this.trainingRecordMaster).subscribe(t=>{this.getTrainingRecordMaster(),this.isVisible=!1,this.trainingRecordMaster={}})}getTrainingRecordType(){this.trainingRecordSvc.getTrainingRecordType().subscribe(t=>{this.trainingRecordType=t})}getUsers(){this.trainingRecordSvc.getUsers().subscribe(t=>{this.users=t})}getTrainingRecordMaster(){this.trainingRecordSvc.getTrainingRecordMaster({}).subscribe(t=>{this.trainingRecordMasters=t})}showGuideline(){this.trainingRecordSvc.showGuideline().subscribe(t=>{let s=new Blob([t],{type:"application/pdf"});var o=URL.createObjectURL(s);window.open(o)})}getCourses(){this.trainingRecordSvc.getCourses().subscribe(t=>{this.courses=t})}onSaved(t){this.trainingRecordSvc.saveTrainingRecordMaster(t.changes[0].key,t.changes[0].type).subscribe(m=>{this.getTrainingRecordMaster()})}onRowClick(t){this.router.navigate([`admin/relay/training-record/master/${t.data.id}`])}static#n=this.\u0275fac=function(s){return new(s||l)(n.rXU(nn.Og),n.rXU(x.Ix),n.rXU(p))};static#e=this.\u0275cmp=n.VBU({type:l,selectors:[["app-training-record-master"]],decls:37,vars:22,consts:[["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzLg","12"],[2,"float","right"],[3,"click"],["id","gridMaster",2,"margin-top","10px",3,"onRowClick","onSaved","dataSource","showColumnLines","showRowLines","showBorders","rowAlternationEnabled","allowColumnResizing","columnResizingMode","allowColumnReordering"],["location","before","name","addRowButton","showText","always"],["mode","popup",3,"allowUpdating","allowAdding","allowDeleting"],["title","Ca h\u1ecdc",3,"showTitle","width","height"],["itemType","group",3,"colCount","colSpan"],["dataField","course"],["dataField","trainer"],["dataField","date"],["dataField","scoreOfMax"],["dataField","scoreOfPass"],[3,"visible"],["dataField","course","caption","Course"],["type","required"],["displayExpr","name","valueExpr","id",3,"dataSource"],["dataField","trainer","caption","Trainer"],["displayExpr","name","valueExpr","username",3,"dataSource"],["dataField","date","alignment","center","dataType","date","format","yyyy-MM-dd"],["caption","Approval","dataField","approvalByName","alignment","left"],["dataField","scoreOfPass","alignment","right"],["dataField","scoreOfMax","alignment","right"]],template:function(s,o){1&s&&(n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2," Relay Factory"),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4," Training Record "),n.k0s(),n.j41(5,"nz-breadcrumb-item"),n.EFF(6," L\u1ecbch \u0111\xe0o t\u1ea1o "),n.k0s()(),n.nrm(7,"br"),n.j41(8,"div",0),n.nrm(9,"div",1),n.j41(10,"div",1)(11,"label",2)(12,"a",3),n.bIt("click",function(){return o.showGuideline()}),n.EFF(13,"H\u01b0\u1edbng d\u1eabn s\u1eed d\u1ee5ng"),n.k0s()()()(),n.j41(14,"dx-data-grid",4),n.bIt("onRowClick",function(_){return o.onRowClick(_)})("onSaved",function(_){return o.onSaved(_)}),n.j41(15,"dxo-toolbar"),n.nrm(16,"dxi-item",5),n.k0s(),n.j41(17,"dxo-editing",6),n.nrm(18,"dxo-popup",7),n.j41(19,"dxo-form")(20,"dxi-item",8),n.nrm(21,"dxi-item",9)(22,"dxi-item",10)(23,"dxi-item",11),n.k0s(),n.j41(24,"dxi-item",8),n.nrm(25,"dxi-item",12)(26,"dxi-item",13),n.k0s()()(),n.nrm(27,"dxo-filter-row",14),n.j41(28,"dxi-column",15),n.nrm(29,"dxi-validation-rule",16)(30,"dxo-lookup",17),n.k0s(),n.j41(31,"dxi-column",18),n.nrm(32,"dxo-lookup",19),n.k0s(),n.nrm(33,"dxi-column",20)(34,"dxi-column",21)(35,"dxi-column",22)(36,"dxi-column",23),n.k0s()),2&s&&(n.R7$(8),n.Y8G("nzGutter",24),n.R7$(6),n.Y8G("dataSource",o.trainingRecordMasters)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("rowAlternationEnabled",!0)("allowColumnResizing",!0)("columnResizingMode","widget")("allowColumnReordering",!0),n.R7$(3),n.Y8G("allowUpdating",!0)("allowAdding",!0)("allowDeleting",!0),n.R7$(),n.Y8G("showTitle",!0)("width",525)("height",400),n.R7$(2),n.Y8G("colCount",1)("colSpan",2),n.R7$(4),n.Y8G("colCount",2)("colSpan",2),n.R7$(3),n.Y8G("visible",!0),n.R7$(3),n.Y8G("dataSource",o.courses),n.R7$(2),n.Y8G("dataSource",o.users))},dependencies:[a.CVf,a.Inh,f.s,a.nj_,a.b4U,a.$Xk,a.dDC,a.Tot,a.FTx,a.KOr,v.hL,v.K7,O.Uq,O.e],styles:["nz-select[_ngcontent-%COMP%], nz-date-picker[_ngcontent-%COMP%]{width:100%}label[_ngcontent-%COMP%]{font-weight:700}"]})}return l})()},{path:"master/:id",component:en},{path:"courses",component:u},{path:"history",component:tn}];let rn=(()=>{class l{static#n=this.\u0275fac=function(s){return new(s||l)};static#e=this.\u0275mod=n.$C({type:l});static#t=this.\u0275inj=n.G2t({imports:[x.iI.forChild(on),x.iI]})}return l})(),an=(()=>{class l{static#n=this.\u0275fac=function(s){return new(s||l)};static#e=this.\u0275mod=n.$C({type:l});static#t=this.\u0275inj=n.G2t({imports:[C.MD,i.YN,rn,$.F,f.N,e.L,k.V,R.b,N.U,v.EJ,T.Zw,F.Y3,w.U6,O.f3,L.DH,E.j,I.LE,y.$G,P.GB,U.g9,B.SE,S.et]})}return l})()},74696:(q,j,r)=>{r.d(j,{GB:()=>K,Vz:()=>G,pc:()=>x});var C=r(15215),i=r(54438),$=r(73586),f=r(7605),e=r(58728),k=r(40713),R=r(16042),N=r(57806),v=r(21025),T=r(70317),P=r(72544),I=r(28203),O=r(26841);const F=["*"],S=["collapseHeader"];function E(p,D){if(1&p&&(i.qex(0),i.nrm(1,"span",7),i.bVm()),2&p){const a=D.$implicit,u=i.XpG(2);i.R7$(),i.Y8G("nzType",a||"right")("nzRotate",u.nzActive?90:0)}}function w(p,D){if(1&p&&(i.j41(0,"div"),i.DNE(1,E,2,2,"ng-container",3),i.k0s()),2&p){const a=i.XpG();i.R7$(),i.Y8G("nzStringTemplateOutlet",a.nzExpandedIcon)}}function U(p,D){if(1&p&&(i.qex(0),i.EFF(1),i.bVm()),2&p){const a=i.XpG();i.R7$(),i.JRh(a.nzHeader)}}function L(p,D){if(1&p&&(i.qex(0),i.EFF(1),i.bVm()),2&p){const a=i.XpG(2);i.R7$(),i.JRh(a.nzExtra)}}function y(p,D){if(1&p&&(i.j41(0,"div",4),i.DNE(1,L,2,1,"ng-container",3),i.k0s()),2&p){const a=i.XpG();i.R7$(),i.Y8G("nzStringTemplateOutlet",a.nzExtra)}}const B="collapse";let x=(()=>{class p{constructor(a,u,g,b){this.nzConfigService=a,this.cdr=u,this.directionality=g,this.destroy$=b,this._nzModuleName=B,this.nzAccordion=!1,this.nzBordered=!0,this.nzGhost=!1,this.nzExpandIconPosition="left",this.dir="ltr",this.listOfNzCollapsePanelComponent=[],this.nzConfigService.getConfigChangeEventForComponent(B).pipe((0,f.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,f.Q)(this.destroy$)).subscribe(a=>{this.dir=a,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(a){this.listOfNzCollapsePanelComponent.push(a)}removePanel(a){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(a),1)}click(a){this.nzAccordion&&!a.nzActive&&this.listOfNzCollapsePanelComponent.filter(u=>u!==a).forEach(u=>{u.nzActive&&(u.nzActive=!1,u.nzActiveChange.emit(u.nzActive),u.markForCheck())}),a.nzActive=!a.nzActive,a.nzActiveChange.emit(a.nzActive)}static#n=this.\u0275fac=function(u){return new(u||p)(i.rXU(R.yx),i.rXU(i.gRc),i.rXU(I.dS,8),i.rXU(v.y4))};static#e=this.\u0275cmp=i.VBU({type:p,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(u,g){2&u&&i.AVh("ant-collapse-icon-position-start","left"===g.nzExpandIconPosition)("ant-collapse-icon-position-end","right"===g.nzExpandIconPosition)("ant-collapse-ghost",g.nzGhost)("ant-collapse-borderless",!g.nzBordered)("ant-collapse-rtl","rtl"===g.dir)},inputs:{nzAccordion:"nzAccordion",nzBordered:"nzBordered",nzGhost:"nzGhost",nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],standalone:!0,features:[i.Jv_([v.y4]),i.aNF],ngContentSelectors:F,decls:1,vars:0,template:function(u,g){1&u&&(i.NAR(),i.SdG(0))},encapsulation:2,changeDetection:0})}return(0,C.Cg)([(0,R.H4)(),(0,T.H3)()],p.prototype,"nzAccordion",void 0),(0,C.Cg)([(0,R.H4)(),(0,T.H3)()],p.prototype,"nzBordered",void 0),(0,C.Cg)([(0,R.H4)(),(0,T.H3)()],p.prototype,"nzGhost",void 0),p})();const n="collapsePanel";let G=(()=>{class p{markForCheck(){this.cdr.markForCheck()}constructor(a,u,g,b,X,H){this.nzConfigService=a,this.ngZone=u,this.cdr=g,this.destroy$=b,this.nzCollapseComponent=X,this.noAnimation=H,this._nzModuleName=n,this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=!0,this.nzActiveChange=new i.bkB,this.nzConfigService.getConfigChangeEventForComponent(n).pipe((0,f.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.nzCollapseComponent.addPanel(this),this.ngZone.runOutsideAngular(()=>(0,$.R)(this.collapseHeader.nativeElement,"click").pipe((0,e.p)(()=>!this.nzDisabled),(0,f.Q)(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})}))}ngOnDestroy(){this.nzCollapseComponent.removePanel(this)}static#n=this.\u0275fac=function(u){return new(u||p)(i.rXU(R.yx),i.rXU(i.SKi),i.rXU(i.gRc),i.rXU(v.y4),i.rXU(x,1),i.rXU(O.z,8))};static#e=this.\u0275cmp=i.VBU({type:p,selectors:[["nz-collapse-panel"]],viewQuery:function(u,g){if(1&u&&i.GBs(S,7),2&u){let b;i.mGM(b=i.lsd())&&(g.collapseHeader=b.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(u,g){2&u&&i.AVh("ant-collapse-no-arrow",!g.nzShowArrow)("ant-collapse-item-active",g.nzActive)("ant-collapse-item-disabled",g.nzDisabled)},inputs:{nzActive:"nzActive",nzDisabled:"nzDisabled",nzShowArrow:"nzShowArrow",nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],standalone:!0,features:[i.Jv_([v.y4]),i.aNF],ngContentSelectors:F,decls:9,vars:8,consts:[["collapseHeader",""],["role","button",1,"ant-collapse-header"],[1,"ant-collapse-header-text"],[4,"nzStringTemplateOutlet"],[1,"ant-collapse-extra"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"]],template:function(u,g){1&u&&(i.NAR(),i.j41(0,"div",1,0),i.DNE(2,w,2,1,"div"),i.j41(3,"span",2),i.DNE(4,U,2,1,"ng-container",3),i.k0s(),i.DNE(5,y,2,1,"div",4),i.k0s(),i.j41(6,"div",5)(7,"div",6),i.SdG(8),i.k0s()()),2&u&&(i.BMQ("aria-expanded",g.nzActive),i.R7$(2),i.vxM(2,g.nzShowArrow?2:-1),i.R7$(2),i.Y8G("nzStringTemplateOutlet",g.nzHeader),i.R7$(),i.vxM(5,g.nzExtra?5:-1),i.R7$(),i.AVh("ant-collapse-content-active",g.nzActive),i.Y8G("@.disabled",!(null==g.noAnimation||!g.noAnimation.nzNoAnimation))("@collapseMotion",g.nzActive?"expanded":"hidden"))},dependencies:[N.C,N.m,P.Y3,P.Dn],encapsulation:2,data:{animation:[k.GE]},changeDetection:0})}return(0,C.Cg)([(0,T.H3)()],p.prototype,"nzActive",void 0),(0,C.Cg)([(0,T.H3)()],p.prototype,"nzDisabled",void 0),(0,C.Cg)([(0,R.H4)(),(0,T.H3)()],p.prototype,"nzShowArrow",void 0),p})(),K=(()=>{class p{static#n=this.\u0275fac=function(u){return new(u||p)};static#e=this.\u0275mod=i.$C({type:p});static#t=this.\u0275inj=i.G2t({imports:[G]})}return p})()},72874:(q,j,r)=>{r.d(j,{PV:()=>J,g9:()=>Z});var C=r(15215),i=r(10851),$=r(32753),f=r(60177),e=r(54438),k=r(45286),R=r(7605),N=r(84046),v=r(77312),T=r(50513),P=r(40713),I=r(16042),O=r(26841),F=r(57806),S=r(65463),E=r(70317),w=r(89450),U=r(72544),L=r(35154),y=r(28203),B=r(16389),x=r(25930);const n=["okBtn"],G=["cancelBtn"];function K(c,A){1&c&&(e.j41(0,"div",6),e.nrm(1,"span",14),e.k0s())}function p(c,A){if(1&c&&(e.qex(0),e.j41(1,"span",16),e.nrm(2,"span",17),e.k0s(),e.bVm()),2&c){const d=A.$implicit;e.R7$(2),e.Y8G("nzType",d||"exclamation-circle")}}function D(c,A){if(1&c&&(e.qex(0),e.DNE(1,p,3,1,"ng-container",10),e.j41(2,"div",15),e.EFF(3),e.k0s(),e.bVm()),2&c){const d=e.XpG(2);e.R7$(),e.Y8G("nzStringTemplateOutlet",d.nzIcon),e.R7$(2),e.JRh(d.nzTitle)}}function a(c,A){if(1&c&&e.EFF(0),2&c){const d=e.XpG(2);e.SpI(" ",d.nzCancelText," ")}}function u(c,A){1&c&&(e.EFF(0),e.nI1(1,"nzI18n")),2&c&&e.SpI(" ",e.bMT(1,1,"Modal.cancelText")," ")}function g(c,A){if(1&c&&e.EFF(0),2&c){const d=e.XpG(2);e.SpI(" ",d.nzOkText," ")}}function b(c,A){1&c&&(e.EFF(0),e.nI1(1,"nzI18n")),2&c&&e.SpI(" ",e.bMT(1,1,"Modal.okText")," ")}function X(c,A){if(1&c){const d=e.RV6();e.j41(0,"div",4)(1,"div",5),e.DNE(2,K,2,0,"div",6),e.j41(3,"div",7)(4,"div")(5,"div",8)(6,"div",9),e.DNE(7,D,4,2,"ng-container",10),e.k0s(),e.j41(8,"div",11)(9,"button",12,1),e.bIt("click",function(){e.eBV(d);const z=e.XpG();return e.Njj(z.onCancel())}),e.DNE(11,a,1,1)(12,u,2,3),e.k0s(),e.j41(13,"button",13,2),e.bIt("click",function(){e.eBV(d);const z=e.XpG();return e.Njj(z.onConfirm())}),e.DNE(15,g,1,1)(16,b,2,3),e.k0s()()()()()()()}if(2&c){const d=e.XpG();e.AVh("ant-popover-rtl","rtl"===d.dir),e.Y8G("cdkTrapFocusAutoCapture",null!==d.nzAutoFocus)("ngClass",d._classMap)("ngStyle",d.nzOverlayStyle)("@.disabled",!(null==d.noAnimation||!d.noAnimation.nzNoAnimation))("nzNoAnimation",null==d.noAnimation?null:d.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),e.R7$(2),e.vxM(2,d.nzPopconfirmShowArrow?2:-1),e.R7$(5),e.Y8G("nzStringTemplateOutlet",d.nzTitle),e.R7$(2),e.Y8G("nzSize","small"),e.BMQ("cdkFocusInitial","cancel"===d.nzAutoFocus||null),e.R7$(2),e.vxM(11,d.nzCancelText?11:12),e.R7$(2),e.Y8G("nzSize","small")("nzType","danger"!==d.nzOkType?d.nzOkType:"primary")("nzDanger",d.nzOkDanger||"danger"===d.nzOkType)("nzLoading",d.confirmLoading)("disabled",d.nzOkDisabled),e.BMQ("cdkFocusInitial","ok"===d.nzAutoFocus||null),e.R7$(2),e.vxM(15,d.nzOkText?15:16)}}let J=(()=>{class c extends L.ME{getProxyPropertyMap(){return{nzOkText:["nzOkText",()=>this.nzOkText],nzOkType:["nzOkType",()=>this.nzOkType],nzOkDanger:["nzOkDanger",()=>this.nzOkDanger],nzOkDisabled:["nzOkDisabled",()=>this.nzOkDisabled],nzCancelText:["nzCancelText",()=>this.nzCancelText],nzBeforeConfirm:["nzBeforeConfirm",()=>this.nzBeforeConfirm],nzCondition:["nzCondition",()=>this.nzCondition],nzIcon:["nzIcon",()=>this.nzIcon],nzPopconfirmShowArrow:["nzPopconfirmShowArrow",()=>this.nzPopconfirmShowArrow],nzPopconfirmBackdrop:["nzBackdrop",()=>this.nzPopconfirmBackdrop],nzAutoFocus:["nzAutoFocus",()=>this.nzAutofocus],...super.getProxyPropertyMap()}}constructor(){super(Q),this._nzModuleName="popconfirm",this.trigger="click",this.placement="top",this.nzCondition=!1,this.nzPopconfirmShowArrow=!0,this.nzPopconfirmBackdrop=!1,this.nzAutofocus=null,this.visibleChange=new e.bkB,this.nzOnCancel=new e.bkB,this.nzOnConfirm=new e.bkB}createComponent(){super.createComponent(),this.component.nzOnCancel.pipe((0,R.Q)(this.destroy$)).subscribe(()=>{this.nzOnCancel.emit()}),this.component.nzOnConfirm.pipe((0,R.Q)(this.destroy$)).subscribe(()=>{this.nzOnConfirm.emit()})}static#n=this.\u0275fac=function(h){return new(h||c)};static#e=this.\u0275dir=e.FsC({type:c,selectors:[["","nz-popconfirm",""]],hostVars:2,hostBindings:function(h,z){2&h&&e.AVh("ant-popover-open",z.visible)},inputs:{arrowPointAtCenter:[e.Mj6.None,"nzPopconfirmArrowPointAtCenter","arrowPointAtCenter"],title:[e.Mj6.None,"nzPopconfirmTitle","title"],directiveTitle:[e.Mj6.None,"nz-popconfirm","directiveTitle"],trigger:[e.Mj6.None,"nzPopconfirmTrigger","trigger"],placement:[e.Mj6.None,"nzPopconfirmPlacement","placement"],origin:[e.Mj6.None,"nzPopconfirmOrigin","origin"],mouseEnterDelay:[e.Mj6.None,"nzPopconfirmMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:[e.Mj6.None,"nzPopconfirmMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:[e.Mj6.None,"nzPopconfirmOverlayClassName","overlayClassName"],overlayStyle:[e.Mj6.None,"nzPopconfirmOverlayStyle","overlayStyle"],visible:[e.Mj6.None,"nzPopconfirmVisible","visible"],nzOkText:"nzOkText",nzOkType:"nzOkType",nzOkDisabled:"nzOkDisabled",nzOkDanger:"nzOkDanger",nzCancelText:"nzCancelText",nzBeforeConfirm:"nzBeforeConfirm",nzIcon:"nzIcon",nzCondition:"nzCondition",nzPopconfirmShowArrow:"nzPopconfirmShowArrow",nzPopconfirmBackdrop:"nzPopconfirmBackdrop",nzAutofocus:"nzAutofocus"},outputs:{visibleChange:"nzPopconfirmVisibleChange",nzOnCancel:"nzOnCancel",nzOnConfirm:"nzOnConfirm"},exportAs:["nzPopconfirm"],standalone:!0,features:[e.Vt3]})}return(0,C.Cg)([(0,E.H3)()],c.prototype,"arrowPointAtCenter",void 0),(0,C.Cg)([(0,E.H3)()],c.prototype,"nzOkDisabled",void 0),(0,C.Cg)([(0,E.H3)()],c.prototype,"nzOkDanger",void 0),(0,C.Cg)([(0,E.H3)()],c.prototype,"nzCondition",void 0),(0,C.Cg)([(0,E.H3)()],c.prototype,"nzPopconfirmShowArrow",void 0),(0,C.Cg)([(0,I.H4)()],c.prototype,"nzPopconfirmBackdrop",void 0),(0,C.Cg)([(0,I.H4)()],c.prototype,"nzAutofocus",void 0),c})(),Q=(()=>{class c extends L.VJ{constructor(d,h,z,M,Y){super(d,z,Y),this.elementRef=h,this.nzCondition=!1,this.nzPopconfirmShowArrow=!0,this.nzOkType="primary",this.nzOkDanger=!1,this.nzOkDisabled=!1,this.nzAutoFocus=null,this.nzBeforeConfirm=null,this.nzOnCancel=new k.B7,this.nzOnConfirm=new k.B7,this._trigger="click",this.elementFocusedBeforeModalWasOpened=null,this._prefix="ant-popover",this.confirmLoading=!1,this.document=M}ngOnDestroy(){super.ngOnDestroy(),this.nzOnCancel.complete(),this.nzOnConfirm.complete()}show(){this.nzCondition?this.onConfirm():(this.capturePreviouslyFocusedElement(),super.show())}hide(){super.hide(),this.restoreFocus()}handleConfirm(){this.nzOnConfirm.next(),super.hide()}onCancel(){this.nzOnCancel.next(),super.hide()}onConfirm(){if(this.nzBeforeConfirm){const d=(0,E.cG)(this.nzBeforeConfirm()).pipe((0,N.$)());this.confirmLoading=!0,d.pipe((0,v.j)(()=>{this.confirmLoading=!1,this.cdr.markForCheck()}),(0,R.Q)(this.nzVisibleChange),(0,R.Q)(this.destroy$)).subscribe(h=>{h&&this.handleConfirm()})}else this.handleConfirm()}capturePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement)}restoreFocus(){const d=this.elementFocusedBeforeModalWasOpened;if(d&&"function"==typeof d.focus){const h=this.document.activeElement,z=this.elementRef.nativeElement;(!h||h===this.document.body||h===z||z.contains(h))&&d.focus()}}static#n=this.\u0275fac=function(h){return new(h||c)(e.rXU(e.gRc),e.rXU(e.aKT),e.rXU(y.dS,8),e.rXU(f.qQ,8),e.rXU(O.z,9))};static#e=this.\u0275cmp=e.VBU({type:c,selectors:[["nz-popconfirm"]],viewQuery:function(h,z){if(1&h&&(e.GBs(n,5,e.aKT),e.GBs(G,5,e.aKT)),2&h){let M;e.mGM(M=e.lsd())&&(z.okBtn=M),e.mGM(M=e.lsd())&&(z.cancelBtn=M)}},exportAs:["nzPopconfirmComponent"],standalone:!0,features:[e.Vt3,e.aNF],decls:2,vars:6,consts:[["overlay","cdkConnectedOverlay"],["cancelBtn",""],["okBtn",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayPush","nzArrowPointAtCenter"],["cdkTrapFocus","",1,"ant-popover",3,"cdkTrapFocusAutoCapture","ngClass","ngStyle","nzNoAnimation"],[1,"ant-popover-content"],[1,"ant-popover-arrow"],[1,"ant-popover-inner"],[1,"ant-popover-inner-content"],[1,"ant-popover-message"],[4,"nzStringTemplateOutlet"],[1,"ant-popover-buttons"],["nz-button","",3,"click","nzSize"],["nz-button","",3,"click","nzSize","nzType","nzDanger","nzLoading","disabled"],[1,"ant-popover-arrow-content"],[1,"ant-popover-message-title"],[1,"ant-popover-message-icon"],["nz-icon","","nzTheme","fill",3,"nzType"]],template:function(h,z){if(1&h){const M=e.RV6();e.DNE(0,X,17,20,"ng-template",3,0,e.C5r),e.bIt("overlayOutsideClick",function(W){return e.eBV(M),e.Njj(z.onClickOutside(W))})("detach",function(){return e.eBV(M),e.Njj(z.hide())})("positionChange",function(W){return e.eBV(M),e.Njj(z.onPositionChange(W))})}2&h&&e.Y8G("cdkConnectedOverlayHasBackdrop",z.nzBackdrop)("cdkConnectedOverlayOrigin",z.origin)("cdkConnectedOverlayPositions",z._positions)("cdkConnectedOverlayOpen",z._visible)("cdkConnectedOverlayPush",z.cdkConnectedOverlayPush)("nzArrowPointAtCenter",z.nzArrowPointAtCenter)},dependencies:[$.z_,$.WB,S.$_,S.vT,i.Pd,i.kB,f.YU,f.B3,O.z,F.C,F.m,U.Y3,U.Dn,T.Zw,T.aO,B.c,x.p,w.bP,w.Vc],encapsulation:2,data:{animation:[P.uX]},changeDetection:0})}return c})(),Z=(()=>{class c{static#n=this.\u0275fac=function(h){return new(h||c)};static#e=this.\u0275mod=e.$C({type:c});static#t=this.\u0275inj=e.G2t({imports:[Q]})}return c})()}}]);