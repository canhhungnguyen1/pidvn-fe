"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[516],{60516:(J,V,d)=>{d.r(V),d.d(V,{PihProcessRecordingModule:()=>fn});var C=d(60177),e=d(89417),O=d(12673),y=d(23617),j=d(31958),I=d(50513),f=d(97529),P=d(21011),E=d(1997),g=d(23359),k=d(46661);class M{}var n=d(54438),L=d(45312),$=d(21626);let F=(()=>{class a{constructor(t){this.httpClient=t,this.baseUrl=L.c.baseUrl}getLines(t){return this.httpClient.get(`${this.baseUrl}/PIH/ProcessRecording/Lines?productId=${t}`)}insertCoil(t){return this.httpClient.post(`${this.baseUrl}/PIH/ProcessRecording/InsertCoil`,t)}getMaterials(t){return this.httpClient.post(`${this.baseUrl}/PIH/ProcessRecording/Materials`,t)}changeLabel(t){return this.httpClient.post(`${this.baseUrl}/PIH/ProcessRecording/ChangeLabel`,t)}changeModel(t){return this.httpClient.post(`${this.baseUrl}/PIH/ProcessRecording/ChangeModel`,t)}scanCoil(t){return this.httpClient.post(`${this.baseUrl}/PIH/ProcessRecording/ScanCoil`,t)}insertCoilManual(t){return this.httpClient.post(`${this.baseUrl}/PIH/ProcessRecording/InsertCoilManual`,t)}getPsMasters(t){return this.httpClient.get(`${this.baseUrl}/PIH/ProcessRecording/PsMasters?model=${t}`)}checkSetupSaiNVL(t,o){return this.httpClient.get(`${this.baseUrl}/PIH/ProcessRecording/CheckSetupSaiNVL?model=${t}&coil=${o}`)}static#n=this.\u0275fac=function(o){return new(o||a)(n.KVO($.Qq))};static#e=this.\u0275prov=n.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var N=d(45794),D=d(16389),w=d(25930),R=d(43053),S=d(72544);const A=["userIpt"],G=["userIpt2"],x=["labelIpt"],U=["labelIpt2"],h=["newCoilIpt"],T=["newCoilIpt2"],_=["oldCoilIpt"],u=()=>[""];function r(a,z){if(1&a&&(n.j41(0,"tr")(1,"td",30)(2,"div",31),n.nrm(3,"span",32),n.j41(4,"span",33),n.EFF(5),n.k0s()()()()),2&a){const t=n.XpG();n.R7$(5),n.JRh(t.errMsg)}}function m(a,z){1&a&&(n.j41(0,"label"),n.EFF(1,"D\u1eef li\u1ec7u tem: "),n.k0s())}function c(a,z){if(1&a&&(n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td",34),n.EFF(4),n.nI1(5,"number"),n.k0s(),n.j41(6,"td",35),n.EFF(7),n.k0s(),n.j41(8,"td",35),n.EFF(9),n.k0s(),n.j41(10,"td",35),n.EFF(11),n.k0s(),n.j41(12,"td",35),n.EFF(13),n.nI1(14,"date"),n.k0s(),n.j41(15,"td"),n.EFF(16),n.k0s()()),2&a){const t=z.$implicit;n.R7$(2),n.JRh(t.clotno),n.R7$(2),n.JRh(n.i5U(5,7,t.qty,"1.0-3")),n.R7$(3),n.JRh(t.frBox),n.R7$(2),n.JRh(t.toBox),n.R7$(2),n.JRh(t.windingBobbin),n.R7$(2),n.SpI(" ",n.i5U(14,10,t.createdAt,"yyyy-MM-dd HH:mm")," "),n.R7$(3),n.JRh(t.employee)}}function b(a,z){if(1&a&&n.nrm(0,"nz-option",43),2&a){const t=z.$implicit;n.Y8G("nzValue",t.value)("nzLabel",t.label)}}function v(a,z){if(1&a&&(n.j41(0,"tr")(1,"td",30)(2,"div",31),n.nrm(3,"span",32),n.j41(4,"span",33),n.EFF(5),n.k0s()()()()),2&a){const t=n.XpG(2);n.R7$(5),n.JRh(t.errMsg)}}function H(a,z){if(1&a){const t=n.RV6();n.qex(0),n.j41(1,"nz-table",36)(2,"tbody")(3,"tr")(4,"td",11)(5,"label"),n.EFF(6,"User ID"),n.k0s()(),n.j41(7,"td",37)(8,"input",38,6),n.bIt("keydown.enter",function(i){n.eBV(t);const s=n.XpG();return n.Njj(s.scanUserIpt2(i))})("click",function(){n.eBV(t);const i=n.sdS(9);return n.Njj(i.select())}),n.k0s()(),n.j41(10,"td",11)(11,"label"),n.EFF(12,"Tem"),n.k0s()(),n.j41(13,"td",37)(14,"input",39,7),n.bIt("keydown.enter",function(i){n.eBV(t);const s=n.XpG();return n.Njj(s.scanLabelIpt2(i))})("click",function(){n.eBV(t);const i=n.sdS(15);return n.Njj(i.select())}),n.mxI("ngModelChange",function(i){n.eBV(t);const s=n.XpG();return n.DH7(s.scanner2.label,i)||(s.scanner2.label=i),n.Njj(i)}),n.k0s()()(),n.j41(16,"tr")(17,"td")(18,"label"),n.EFF(19,"Coil"),n.k0s()(),n.j41(20,"td")(21,"input",40,8),n.bIt("click",function(){n.eBV(t);const i=n.sdS(22);return n.Njj(i.select())}),n.mxI("ngModelChange",function(i){n.eBV(t);const s=n.XpG();return n.DH7(s.scanner2.newCoil,i)||(s.scanner2.newCoil=i),n.Njj(i)}),n.k0s()(),n.j41(23,"td")(24,"label"),n.EFF(25,"V\u1ecb tr\xed"),n.k0s()(),n.j41(26,"td")(27,"nz-select",41),n.mxI("ngModelChange",function(i){n.eBV(t);const s=n.XpG();return n.DH7(s.scanner2.position,i)||(s.scanner2.position=i),n.Njj(i)}),n.DNE(28,b,1,2,"nz-option",42),n.k0s()()(),n.DNE(29,v,6,1,"tr",20),n.k0s()(),n.bVm()}if(2&a){const t=n.XpG();n.R7$(),n.Y8G("nzData",n.lJ4(6,u)),n.R7$(13),n.R50("ngModel",t.scanner2.label),n.R7$(7),n.R50("ngModel",t.scanner2.newCoil),n.R7$(6),n.R50("ngModel",t.scanner2.position),n.R7$(),n.Y8G("ngForOf",t.positions),n.R7$(),n.Y8G("ngIf",t.isError2)}}function X(a,z){if(1&a){const t=n.RV6();n.j41(0,"div")(1,"button",44),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.isOpenManualModal=!1)}),n.EFF(2,"H\u1ee7y"),n.k0s(),n.j41(3,"button",45),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.onSave2())}),n.EFF(4,"L\u01b0u"),n.k0s()()}}function K(a,z){1&a&&(n.qex(0),n.j41(1,"nz-table",36)(2,"tbody")(3,"tr")(4,"td"),n.EFF(5,"Lot No"),n.k0s(),n.nrm(6,"td"),n.k0s(),n.j41(7,"tr")(8,"td"),n.EFF(9,"Qty"),n.k0s(),n.nrm(10,"td"),n.k0s()()(),n.bVm()),2&a&&(n.R7$(),n.Y8G("nzData",n.lJ4(1,u)))}function Q(a,z){if(1&a){const t=n.RV6();n.j41(0,"div")(1,"button",44),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.isOpenEditModal=!1)}),n.EFF(2,"H\u1ee7y"),n.k0s(),n.j41(3,"button",46),n.EFF(4,"Update"),n.k0s()()}}let Z=(()=>{class a{constructor(t,o){this.pihPRSvc=t,this.toastr=o,this.scanner=new M,this.scanner2=new M,this.isError=!1,this.isError2=!1,this.isLoading=!1,this.isOpenManualModal=!1,this.isOpenEditModal=!1,this.positions=[{value:1,label:"V\u1ecb tr\xed 1"},{value:2,label:"V\u1ecb tr\xed 2"},{value:3,label:"V\u1ecb tr\xed 3"},{value:4,label:"V\u1ecb tr\xed 4"},{value:5,label:"V\u1ecb tr\xed 5"},{value:6,label:"V\u1ecb tr\xed 6"},{value:7,label:"V\u1ecb tr\xed 7"},{value:8,label:"V\u1ecb tr\xed 8"},{value:9,label:"V\u1ecb tr\xed 9"},{value:10,label:"V\u1ecb tr\xed 10"},{value:11,label:"V\u1ecb tr\xed 11"},{value:12,label:"V\u1ecb tr\xed 12"},{value:13,label:"V\u1ecb tr\xed 13"},{value:14,label:"V\u1ecb tr\xed 14"},{value:15,label:"V\u1ecb tr\xed 15"},{value:16,label:"V\u1ecb tr\xed 16"},{value:17,label:"V\u1ecb tr\xed 17"},{value:18,label:"V\u1ecb tr\xed 18"},{value:19,label:"V\u1ecb tr\xed 19"},{value:20,label:"V\u1ecb tr\xed 20"},{value:21,label:"V\u1ecb tr\xed 21"},{value:22,label:"V\u1ecb tr\xed 22"},{value:23,label:"V\u1ecb tr\xed 23"},{value:24,label:"V\u1ecb tr\xed 24"}]}ngOnInit(){setTimeout(()=>{this.userIpt.nativeElement.focus()},0)}scanUser(t){let o=t.target.value;if(!/^[0-9]{7}$/.test(o))return this.isError=!0,this.errMsg="B\u1ea1n c\u1ea7n scan User ID",this.userIpt.nativeElement.focus(),void this.userIpt.nativeElement.select();this.scanner.userId=o,this.labelIpt.nativeElement.focus(),this.labelIpt.nativeElement.select(),this.isError=!1,this.errMsg=""}scanLabel(t){if(!t.target.value.includes(";")||!t.target.value.includes("*"))return this.isError=!0,this.errMsg="B\u1ea1n c\u1ea7n scan tem NVL",this.labelIpt.nativeElement.focus(),void this.labelIpt.nativeElement.select();let o=t.target.value.split(";");this.scanner.qty=Number(o[2]),this.scanner.label=o[3];let i=o[3].split("*");this.label=`${i[0]}*${i[1]}*${i[2]}*${i[3]}`,this.scanner.sequence=parseInt(i[4]),this.pihPRSvc.getMaterials({plotno:this.label,recordType:"PIC"}).subscribe(p=>{this.materials=p}),this.newCoilIpt.nativeElement.focus(),this.newCoilIpt.nativeElement.select(),this.isError=!1,this.errMsg=""}scanNewCoil(t){let o="";o=t.target.value.includes(";")?t.target.value.split(";")[3]:t.target.value.substring(1),this.pihPRSvc.scanCoil({clotno:o,cpn:this.label}).subscribe(s=>{if(console.log(s),"ERROR"==s.status)return this.isError=!0,this.errMsg=s.message,this.newCoilIpt.nativeElement.select(),void(this.scanner.newCoil="");this.scanner.newCoil=o,this.oldCoilIpt.nativeElement.focus(),this.oldCoilIpt.nativeElement.select(),this.isError=!1,this.errMsg=""})}scanOldCoil(t){let o="";if(o=t.target.value.includes(";")?t.target.value.split(";")[3]:t.target.value.substring(1),o==this.scanner.newCoil)return this.oldCoilIpt.nativeElement.select(),this.isError=!0,void(this.errMsg="B\u1ea1n c\u1ea7n scan Lot \u0111\xe3 d\xf9ng h\u1ebft");this.scanner.oldCoil=o,this.isError=!1,this.errMsg=""}onSave(){if(!(this.scanner.userId&&this.scanner.label&&this.scanner.newCoil&&this.scanner.oldCoil))return void this.toastr.warning("C\u1ea7n nh\u1eadp \u0111\u1ee7 th\xf4ng tin","Warning");this.isLoading=!0;let t={...this.scanner};this.pihPRSvc.insertCoil(t).subscribe(o=>{this.pihPRSvc.getMaterials({cpn:this.label}).subscribe(s=>{this.isLoading=!1,this.materials=s,this.scanner=new M,this.toastr.success("Th\xe0nh c\xf4ng","Success")})})}scanUserIpt2(t){let o=t.target.value;if(!/^[0-9]{7}$/.test(o))return this.isError2=!0,this.errMsg="B\u1ea1n c\u1ea7n scan User ID",this.userIpt2.nativeElement.focus(),void this.userIpt2.nativeElement.select();this.scanner2.userId=o,this.labelIpt2.nativeElement.focus(),this.labelIpt2.nativeElement.select(),this.isError2=!1,this.errMsg=""}scanLabelIpt2(t){if(!t.target.value.includes(";")||!t.target.value.includes("*"))return this.isError2=!0,this.errMsg="B\u1ea1n c\u1ea7n scan tem NVL",this.labelIpt2.nativeElement.focus(),void this.labelIpt2.nativeElement.select();let o=t.target.value.split(";");this.scanner2.qty=Number(o[2]),this.scanner2.label=o[3];let i=o[3].split("*");this.label2=`${i[0]}*${i[1]}*${i[2]}*${i[3]}`,this.scanner2.sequence=parseInt(i[4]),this.newCoilIpt2.nativeElement.focus(),this.newCoilIpt2.nativeElement.select(),this.isError=!1,this.errMsg=""}openManualModal(){this.scanner2=new M,this.isOpenManualModal=!0}onSave2(){if(!(this.scanner2.userId&&this.scanner2.label&&this.scanner2.newCoil&&this.scanner2.position))return void this.toastr.warning("C\u1ea7n nh\u1eadp \u0111\u1ee7 th\xf4ng tin","Warning");let t={...this.scanner2};t.newCoil=t.newCoil.includes(";")?t.newCoil.split(";")[3]:t.newCoil.substring(1),this.pihPRSvc.insertCoilManual(t).subscribe(o=>{this.pihPRSvc.getMaterials({cpn:this.label2}).subscribe(s=>{this.materials=s,this.isOpenManualModal=!1,this.toastr.success("Th\xe0nh c\xf4ng","Success")})})}static#n=this.\u0275fac=function(o){return new(o||a)(n.rXU(F),n.rXU(N.tw))};static#e=this.\u0275cmp=n.VBU({type:a,selectors:[["app-pih-process-recording-insert"]],viewQuery:function(o,i){if(1&o&&(n.GBs(A,5),n.GBs(G,5),n.GBs(x,5),n.GBs(U,5),n.GBs(h,5),n.GBs(T,5),n.GBs(_,5)),2&o){let s;n.mGM(s=n.lsd())&&(i.userIpt=s.first),n.mGM(s=n.lsd())&&(i.userIpt2=s.first),n.mGM(s=n.lsd())&&(i.labelIpt=s.first),n.mGM(s=n.lsd())&&(i.labelIpt2=s.first),n.mGM(s=n.lsd())&&(i.newCoilIpt=s.first),n.mGM(s=n.lsd())&&(i.newCoilIpt2=s.first),n.mGM(s=n.lsd())&&(i.oldCoilIpt=s.first)}},decls:70,vars:14,consts:[["infoTbl",""],["userIpt",""],["newCoilIpt",""],["labelIpt",""],["oldCoilIpt",""],["coilTable",""],["userIpt2",""],["labelIpt2",""],["newCoilIpt2",""],[2,"color","red"],["id","infoTbl","nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData"],[2,"width","10%"],[2,"width","50%"],["nz-input","","placeholder","Scan m\xe3 nh\xe2n vi\xean",3,"keydown.enter","click","ngModelChange","ngModel"],[2,"width","30%"],["nz-input","","placeholder","Scan cu\u1ed9n d\xe2y m\u1edbi",3,"keydown.enter","click","ngModelChange","ngModel"],["rowspan","2",2,"width","10%"],["nz-button","","nzType","primary",2,"width","100%","height","80px !important",3,"click","nzLoading"],["nz-input","","placeholder","Scan tem th\xe0nh ph\u1ea9m",3,"keydown.enter","click","ngModelChange","ngModel"],["nz-input","","placeholder","Scan cu\u1ed9n d\xe2y c\u0169",3,"keydown.enter","click","ngModelChange","ngModel"],[4,"ngIf"],[2,"margin-top","-25px"],[3,"click"],[2,"color","blue"],["nzBordered","","nzSize","small",3,"nzData"],[4,"ngFor","ngForOf"],["nzTitle","Thay cu\u1ed9n d\xe2y \u0111\u1ed3ng","nzWidth","700px",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["nzTitle","S\u1eeda s\u1ed1 l\u01b0\u1ee3ng",3,"nzVisibleChange","nzVisible"],["colspan","5"],[1,"error"],["nz-icon","","nzType","warning","nzTheme","outline",2,"color","red"],[2,"color","red","margin-left","5px"],[2,"text-align","right"],[2,"text-align","center"],["nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData"],[2,"width","40%"],["nz-input","","placeholder","Scan m\xe3 nh\xe2n vi\xean",3,"keydown.enter","click"],["nz-input","","placeholder","Scan tem",3,"keydown.enter","click","ngModelChange","ngModel"],["nz-input","","placeholder","Scan m\xe3 d\xe2y \u0111\u1ed3ng",3,"click","ngModelChange","ngModel"],["nzAllowClear","","nzShowSearch","",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","primary"]],template:function(o,i){if(1&o){const s=n.RV6();n.j41(0,"label"),n.EFF(1,"Thay cu\u1ed9n d\xe2y: "),n.k0s(),n.j41(2,"label",9),n.EFF(3," Scan theo th\u1ee9 t\u1ef1: ID, Tem, Coil m\u1edbi, Coil c\u0169"),n.k0s(),n.j41(4,"nz-table",10,0)(6,"tbody")(7,"tr")(8,"td",11)(9,"label"),n.EFF(10,"User ID"),n.k0s()(),n.j41(11,"td",12)(12,"input",13,1),n.bIt("keydown.enter",function(l){return n.eBV(s),n.Njj(i.scanUser(l))})("click",function(){n.eBV(s);const l=n.sdS(13);return n.Njj(l.select())}),n.mxI("ngModelChange",function(l){return n.eBV(s),n.DH7(i.scanner.userId,l)||(i.scanner.userId=l),n.Njj(l)}),n.k0s()(),n.j41(14,"td",11)(15,"label"),n.EFF(16,"Lot m\u1edbi"),n.k0s()(),n.j41(17,"td",14)(18,"input",15,2),n.bIt("keydown.enter",function(l){return n.eBV(s),n.Njj(i.scanNewCoil(l))})("click",function(){n.eBV(s);const l=n.sdS(19);return n.Njj(l.select())}),n.mxI("ngModelChange",function(l){return n.eBV(s),n.DH7(i.scanner.newCoil,l)||(i.scanner.newCoil=l),n.Njj(l)}),n.k0s()(),n.j41(20,"td",16)(21,"button",17),n.bIt("click",function(){return n.eBV(s),n.Njj(i.onSave())}),n.EFF(22," L\u01b0u "),n.k0s()()(),n.j41(23,"tr")(24,"td",11)(25,"label"),n.EFF(26,"Tem"),n.k0s()(),n.j41(27,"td",12)(28,"input",18,3),n.bIt("keydown.enter",function(l){return n.eBV(s),n.Njj(i.scanLabel(l))})("click",function(){n.eBV(s);const l=n.sdS(29);return n.Njj(l.select())}),n.mxI("ngModelChange",function(l){return n.eBV(s),n.DH7(i.scanner.label,l)||(i.scanner.label=l),n.Njj(l)}),n.k0s()(),n.j41(30,"td",11)(31,"label"),n.EFF(32,"Lot c\u0169"),n.k0s()(),n.j41(33,"td",14)(34,"input",19,4),n.bIt("keydown.enter",function(l){return n.eBV(s),n.Njj(i.scanOldCoil(l))})("click",function(){n.eBV(s);const l=n.sdS(35);return n.Njj(l.select())}),n.mxI("ngModelChange",function(l){return n.eBV(s),n.DH7(i.scanner.oldCoil,l)||(i.scanner.oldCoil=l),n.Njj(l)}),n.k0s()()(),n.DNE(36,r,6,1,"tr",20),n.k0s()(),n.j41(37,"div",21)(38,"a",22),n.bIt("click",function(){return n.eBV(s),n.Njj(i.openManualModal())}),n.EFF(39,"Tr\u01b0\u1eddng h\u1ee3p b\u1ecb l\u1ed7i"),n.k0s()(),n.j41(40,"div"),n.DNE(41,m,2,0,"label",20),n.j41(42,"span",23),n.EFF(43),n.k0s()(),n.j41(44,"nz-table",24,5)(46,"thead")(47,"tr")(48,"th"),n.EFF(49,"Lot No"),n.k0s(),n.j41(50,"th"),n.EFF(51,"Qty"),n.k0s(),n.j41(52,"th"),n.EFF(53,"From Box"),n.k0s(),n.j41(54,"th"),n.EFF(55,"To Box"),n.k0s(),n.j41(56,"th"),n.EFF(57,"V\u1ecb tr\xed"),n.k0s(),n.j41(58,"th"),n.EFF(59,"Th\u1eddi gian"),n.k0s(),n.j41(60,"th"),n.EFF(61,"Nh\xe2n vi\xean"),n.k0s()()(),n.j41(62,"tbody"),n.DNE(63,c,17,13,"tr",25),n.k0s()(),n.j41(64,"nz-modal",26),n.mxI("nzVisibleChange",function(l){return n.eBV(s),n.DH7(i.isOpenManualModal,l)||(i.isOpenManualModal=l),n.Njj(l)}),n.DNE(65,H,30,7,"ng-container",27)(66,X,5,0,"div",28),n.k0s(),n.j41(67,"nz-modal",29),n.mxI("nzVisibleChange",function(l){return n.eBV(s),n.DH7(i.isOpenEditModal,l)||(i.isOpenEditModal=l),n.Njj(l)}),n.DNE(68,K,11,2,"ng-container",27)(69,Q,5,0,"div",28),n.k0s()}if(2&o){const s=n.sdS(45);n.R7$(4),n.Y8G("nzData",n.lJ4(13,u)),n.R7$(8),n.R50("ngModel",i.scanner.userId),n.R7$(6),n.R50("ngModel",i.scanner.newCoil),n.R7$(3),n.Y8G("nzLoading",i.isLoading),n.R7$(7),n.R50("ngModel",i.scanner.label),n.R7$(6),n.R50("ngModel",i.scanner.oldCoil),n.R7$(2),n.Y8G("ngIf",i.isError),n.R7$(5),n.Y8G("ngIf",i.label),n.R7$(2),n.JRh(i.label),n.R7$(),n.Y8G("nzData",i.materials),n.R7$(19),n.Y8G("ngForOf",s.data),n.R7$(),n.R50("nzVisible",i.isOpenManualModal),n.R7$(3),n.R50("nzVisible",i.isOpenEditModal)}},dependencies:[C.Sq,C.bT,e.me,e.BC,e.vS,g.CP,g.SO,g._4,g.IL,g.aj,g.kt,P.Sy,I.aO,D.c,w.p,E.ld,E.WI,R.F2,R.Oj,R.A9,S.Dn,C.QX,C.vh],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-select[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%], nz-select[_ngcontent-%COMP%]{font-weight:700;color:green}.error[_ngcontent-%COMP%]{border:1px solid red;font-weight:700;padding:5px}"]})}return a})();const q=["userIpt"],nn=["newLabelIpt"],en=["oldLabelIpt"],tn=()=>[""];let on=(()=>{class a{constructor(t,o){this.pihPRSvc=t,this.toastr=o,this.scanner=new M,this.isError=!1}ngOnInit(){setTimeout(()=>{this.userIpt.nativeElement.focus()},0)}scanUser(t){let o=t.target.value;if(!/^[0-9]{7}$/.test(o))return this.isError=!0,this.errMsg="B\u1ea1n c\u1ea7n scan User ID",this.userIpt.nativeElement.focus(),void this.userIpt.nativeElement.select();this.scanner.userId=o,this.newLabelIpt.nativeElement.focus(),this.newLabelIpt.nativeElement.select()}scanNewLabel(t){let o=t.target.value.split(";")[3];this.scanner.newLabel=o,this.oldLabelIpt.nativeElement.focus(),this.oldLabelIpt.nativeElement.select()}scanOldLabel(t){let o=t.target.value.split(";")[3];this.scanner.oldLabel=o,this.scanner.newLabel!=this.scanner.oldLabel||this.oldLabelIpt.nativeElement.select()}changeLabel(){this.scanner.userId&&this.scanner.newLabel&&this.scanner.oldLabel?this.pihPRSvc.changeLabel(this.scanner).subscribe(t=>{this.scanner=new M,this.toastr.success("OK","Th\xe0nh c\xf4ng")}):this.toastr.warning("Warning","C\u1ea7n scan \u0111\u1ee7 th\xf4ng tin")}static#n=this.\u0275fac=function(o){return new(o||a)(n.rXU(F),n.rXU(N.tw))};static#e=this.\u0275cmp=n.VBU({type:a,selectors:[["app-pih-process-recording-label-change"]],viewQuery:function(o,i){if(1&o&&(n.GBs(q,5),n.GBs(nn,5),n.GBs(en,5)),2&o){let s;n.mGM(s=n.lsd())&&(i.userIpt=s.first),n.mGM(s=n.lsd())&&(i.newLabelIpt=s.first),n.mGM(s=n.lsd())&&(i.oldLabelIpt=s.first)}},decls:28,vars:5,consts:[["infoTbl",""],["userIpt",""],["newLabelIpt",""],["oldLabelIpt",""],["id","infoTbl","nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData"],["colspan","3"],["nz-input","","placeholder","Scan m\xe3 nh\xe2n vi\xean",3,"keydown.enter","ngModelChange","click","ngModel"],["rowspan","2"],["nz-button","","nzType","primary",2,"width","100%","height","80px !important","font-weight","bold",3,"click"],["nz-input","","placeholder","Scan tem m\u1edbi",3,"keydown.enter","click","ngModelChange","ngModel"],["nz-input","","placeholder","Scan tem c\u0169",3,"keydown.enter","click","ngModelChange","ngModel"]],template:function(o,i){if(1&o){const s=n.RV6();n.j41(0,"label"),n.EFF(1,"Thay tem h\xe0ng ng\xe0y "),n.k0s(),n.j41(2,"nz-table",4,0)(4,"tbody")(5,"tr")(6,"td")(7,"label"),n.EFF(8,"User ID"),n.k0s()(),n.j41(9,"td",5)(10,"input",6,1),n.bIt("keydown.enter",function(l){return n.eBV(s),n.Njj(i.scanUser(l))}),n.mxI("ngModelChange",function(l){return n.eBV(s),n.DH7(i.scanner.userId,l)||(i.scanner.userId=l),n.Njj(l)}),n.bIt("click",function(){n.eBV(s);const l=n.sdS(11);return n.Njj(l.select())}),n.k0s()(),n.j41(12,"td",7)(13,"button",8),n.bIt("click",function(){return n.eBV(s),n.Njj(i.changeLabel())}),n.EFF(14," L\u01b0u "),n.k0s()()(),n.j41(15,"tr")(16,"td")(17,"label"),n.EFF(18,"Tem m\u1edbi"),n.k0s()(),n.j41(19,"td")(20,"input",9,2),n.bIt("keydown.enter",function(l){return n.eBV(s),n.Njj(i.scanNewLabel(l))})("click",function(){n.eBV(s);const l=n.sdS(21);return n.Njj(l.select())}),n.mxI("ngModelChange",function(l){return n.eBV(s),n.DH7(i.scanner.newLabel,l)||(i.scanner.newLabel=l),n.Njj(l)}),n.k0s()(),n.j41(22,"td")(23,"label"),n.EFF(24,"Tem c\u0169"),n.k0s()(),n.j41(25,"td")(26,"input",10,3),n.bIt("keydown.enter",function(l){return n.eBV(s),n.Njj(i.scanOldLabel(l))})("click",function(){n.eBV(s);const l=n.sdS(27);return n.Njj(l.select())}),n.mxI("ngModelChange",function(l){return n.eBV(s),n.DH7(i.scanner.oldLabel,l)||(i.scanner.oldLabel=l),n.Njj(l)}),n.k0s()()()()()}2&o&&(n.R7$(2),n.Y8G("nzData",n.lJ4(4,tn)),n.R7$(8),n.R50("ngModel",i.scanner.userId),n.R7$(10),n.R50("ngModel",i.scanner.newLabel),n.R7$(6),n.R50("ngModel",i.scanner.oldLabel))},dependencies:[e.me,e.BC,e.vS,g.CP,g.SO,g.aj,g.kt,P.Sy,I.aO,D.c,w.p],styles:["label[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-weight:700}"]})}return a})(),sn=(()=>{class a{constructor(){}ngOnInit(){}static#n=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275cmp=n.VBU({type:a,selectors:[["app-pih-process-recording-main"]],decls:35,vars:1,consts:[["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","12","nzMd","12","nzLg","6"],["routerLink","/admin/pih/pih-process-recording/insert",1,"item","import"],["src","./../../../../../../assets/images/coil.png","alt",""],["routerLink","/admin/pih/pih-process-recording/label-change",1,"item","new"],["src","./../../../../../../assets/images/new.png","alt",""],["routerLink","/admin/pih/pih-process-recording/model-change",1,"item","change-model"],["src","./../../../../../../assets/images/replace.png","alt",""],["routerLink","/admin/pih/pih-process-recording/traceability",1,"item","traceability"],["src","./../../../../../../assets/images/traceability.png","alt",""]],template:function(o,i){1&o&&(n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2," PIH "),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4," Process Recording (D\xe2y \u0111\u1ed3ng) "),n.k0s()(),n.nrm(5,"br"),n.j41(6,"div",0)(7,"div",1)(8,"div",2),n.nrm(9,"img",3),n.j41(10,"h6"),n.EFF(11,"Thay cu\u1ed9n d\xe2y \u0111\u1ed3ng"),n.k0s(),n.j41(12,"h4"),n.EFF(13,"Insert Coil"),n.k0s()()(),n.j41(14,"div",1)(15,"div",4),n.nrm(16,"img",5),n.j41(17,"h6"),n.EFF(18,"Tem m\u1edbi"),n.k0s(),n.j41(19,"h4"),n.EFF(20,"New Label"),n.k0s()()(),n.j41(21,"div",1)(22,"div",6),n.nrm(23,"img",7),n.j41(24,"h6"),n.EFF(25,"\u0110\u1ed5i model"),n.k0s(),n.j41(26,"h4"),n.EFF(27,"Change Model"),n.k0s()()(),n.j41(28,"div",1)(29,"div",8),n.nrm(30,"img",9),n.j41(31,"h6"),n.EFF(32,"Truy v\u1ebft d\u1eef li\u1ec7u"),n.k0s(),n.j41(33,"h4"),n.EFF(34,"Traceability"),n.k0s()()()()),2&o&&(n.R7$(6),n.Y8G("nzGutter",8))},dependencies:[k.Wk,j.hL,j.K7,f.Uq,f.e],styles:[".item[_ngcontent-%COMP%]{text-align:center;border:1px solid #ccc;padding:15px 10px}.item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#fff}.item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:15px;font-size:18px;color:#fff;font-weight:700}.import[_ngcontent-%COMP%]{background:#e07e37;cursor:pointer}.new[_ngcontent-%COMP%]{background:#63d171;cursor:pointer}.change-model[_ngcontent-%COMP%]{background:#086aa3c7;cursor:pointer}.traceability[_ngcontent-%COMP%]{background:#959595c7;cursor:pointer}"]})}return a})();const rn=["userIpt"],an=["labelIpt"],ln=["coilIpt"],cn=()=>[""];function dn(a,z){if(1&a&&(n.j41(0,"tr")(1,"td",19),n.nrm(2,"nz-alert",20),n.k0s()()),2&a){const t=n.XpG();n.R7$(2),n.Y8G("nzMessage",t.errMsg)}}function pn(a,z){if(1&a&&(n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td",21),n.EFF(4),n.nI1(5,"number"),n.k0s(),n.j41(6,"td",21),n.EFF(7),n.k0s(),n.j41(8,"td",21)(9,"a"),n.EFF(10,"S\u1eeda"),n.k0s()()()),2&a){const t=z.$implicit;n.R7$(2),n.JRh(t.clotno),n.R7$(2),n.JRh(n.i5U(5,3,t.qty,"1.0-3")),n.R7$(3),n.JRh(t.windingBobbin)}}function hn(a,z){if(1&a&&(n.j41(0,"tr")(1,"td",25),n.EFF(2),n.k0s()()),2&a){const t=z.$implicit;n.R7$(2),n.JRh(t)}}function _n(a,z){if(1&a){const t=n.RV6();n.qex(0),n.j41(1,"nz-table",22,4)(3,"thead")(4,"tr")(5,"th")(6,"input",23,5),n.bIt("keydown.enter",function(i){n.eBV(t);const s=n.XpG();return n.Njj(s.scanCoil(i))})("click",function(){n.eBV(t);const i=n.sdS(7);return n.Njj(i.select())}),n.k0s()(),n.j41(8,"th"),n.EFF(9),n.k0s()()(),n.j41(10,"tbody")(11,"tr",24)(12,"td",25),n.EFF(13,"Lot No"),n.k0s()(),n.DNE(14,hn,3,1,"tr",15),n.k0s()(),n.bVm()}if(2&a){const t=n.sdS(2),o=n.XpG();n.R7$(),n.Y8G("nzData",o.lots)("nzPageSize",10),n.R7$(8),n.SpI("S\u1ed1 l\u01b0\u1ee3ng: ",o.lots.length,""),n.R7$(5),n.Y8G("ngForOf",t.data)}}function un(a,z){if(1&a){const t=n.RV6();n.j41(0,"div")(1,"button",26),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.handleCancel())}),n.EFF(2,"H\u1ee7y"),n.k0s(),n.j41(3,"button",27),n.bIt("click",function(){n.eBV(t);const i=n.XpG();return n.Njj(i.handleOk())}),n.EFF(4,"L\u01b0u"),n.k0s()()}if(2&a){const t=n.XpG();n.R7$(3),n.Y8G("nzLoading",t.isLoading)}}let gn=(()=>{class a{constructor(t,o){this.pihPRSvc=t,this.toastr=o,this.isVisible=!1,this.isLoading=!1,this.scanner=new M,this.isError=!1,this.mapLotsScanned=new Map,this.lots=new Array}ngOnInit(){}scanUser(t){let o=t.target.value;if(!/^[0-9]{7}$/.test(o))return this.isError=!0,this.errMsg="B\u1ea1n c\u1ea7n scan User ID",this.userIpt.nativeElement.focus(),void this.userIpt.nativeElement.select();this.scanner.userId=o,this.labelIpt.nativeElement.focus(),this.labelIpt.nativeElement.select(),this.isError=!1,this.errMsg=""}scanLabel(t){if(!t.target.value.includes(";")||!t.target.value.includes("*"))return this.isError=!0,this.errMsg="B\u1ea1n c\u1ea7n scan tem NVL",this.labelIpt.nativeElement.focus(),void this.labelIpt.nativeElement.select();this.isError=!1,this.errMsg="";let o=t.target.value.split(";")[3],i=o.split("*");this.scanner.label=`${i[0]}*${i[1]}*${i[2]}*${i[3]}`,this.scanner.qty=parseInt(o[2]);let s={cpn:this.scanner.label};this.parentModel=i[1],this.getMaterials(s)}scanCoil(t){let o="";o=t.target.value.includes(";")?t.target.value.split(";")[3]:t.target.value.substring(1),this.pihPRSvc.checkSetupSaiNVL(this.parentModel,o).subscribe(i=>{if(console.log("response: ",i),"OK"===i.result)return this.mapLotsScanned.set(o,o),this.lots=Array.from(this.mapLotsScanned.values()).reverse(),this.coilIpt.nativeElement.select(),void console.log("aaa",this.lots);"NG"!==i.result||this.toastr.error("Sai nguy\xean v\u1eadt li\u1ec7u","ERROR")})}getMaterials(t){this.pihPRSvc.getMaterials(t).subscribe(o=>{this.materials=o})}showModal(){this.isVisible=!0,setTimeout(()=>{this.coilIpt.nativeElement.focus()},400)}handleOk(){this.isLoading=!0;let t={userId:this.scanner.userId,label:this.scanner.label,lots:this.lots.reverse(),qty:this.scanner.qty},o={cpn:t.label};this.pihPRSvc.changeModel(t).subscribe(i=>{this.mapLotsScanned=new Map,this.lots=new Array,this.scanner=new M,this.toastr.success("Setup th\xe0nh c\xf4ng","Success")}),setTimeout(()=>{this.isVisible=!1,this.isLoading=!1,this.getMaterials(o)},5e3)}handleCancel(){this.mapLotsScanned=new Map,this.lots=new Array,this.isVisible=!1}static#n=this.\u0275fac=function(o){return new(o||a)(n.rXU(F),n.rXU(N.tw))};static#e=this.\u0275cmp=n.VBU({type:a,selectors:[["app-pih-process-recording-model-change"]],viewQuery:function(o,i){if(1&o&&(n.GBs(rn,5),n.GBs(an,5),n.GBs(ln,5)),2&o){let s;n.mGM(s=n.lsd())&&(i.userIpt=s.first),n.mGM(s=n.lsd())&&(i.labelIpt=s.first),n.mGM(s=n.lsd())&&(i.coilIpt=s.first)}},decls:40,vars:9,consts:[["infoTbl",""],["userIpt",""],["labelIpt",""],["materialTbl",""],["lotsTbl",""],["coilIpt",""],["id","infoTbl","nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData"],[2,"width","10%"],[2,"width","20%"],["nz-input","","placeholder","Scan User ID",3,"keydown.enter","click","ngModelChange","ngModel"],["nz-input","","placeholder","Scan tem NVL",3,"keydown.enter","click","ngModelChange","ngModel"],[2,"text-align","center","width","10%"],["nz-button","",3,"click","nzType"],[4,"ngIf"],["id","materialTbl","nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData"],[4,"ngFor","ngForOf"],["nzTitle","Setup v\u1ecb tr\xed khi \u0111\u1ed5i Model",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["colspan","5"],["nzBanner","","nzType","error","nzCloseable","",1,"error",3,"nzMessage"],[2,"text-align","center"],["id","lotsTbl","nzBordered","","nzSize","small","nzFrontPagination","true",3,"nzData","nzPageSize"],["nz-input","","placeholder","Scan cu\u1ed9n COIL",3,"keydown.enter","click"],[2,"font-weight","bold"],["colspan","2"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click","nzLoading"]],template:function(o,i){if(1&o){const s=n.RV6();n.j41(0,"label"),n.EFF(1,"\u0110\u1ed5i model"),n.k0s(),n.j41(2,"nz-table",6,0)(4,"tbody")(5,"tr")(6,"td",7)(7,"label"),n.EFF(8,"User ID"),n.k0s()(),n.j41(9,"td",8)(10,"input",9,1),n.bIt("keydown.enter",function(l){return n.eBV(s),n.Njj(i.scanUser(l))})("click",function(){n.eBV(s);const l=n.sdS(11);return n.Njj(l.select())}),n.mxI("ngModelChange",function(l){return n.eBV(s),n.DH7(i.scanner.userId,l)||(i.scanner.userId=l),n.Njj(l)}),n.k0s()(),n.j41(12,"td",7)(13,"label"),n.EFF(14,"Tem"),n.k0s()(),n.j41(15,"td")(16,"input",10,2),n.bIt("keydown.enter",function(l){return n.eBV(s),n.Njj(i.scanLabel(l))})("click",function(){n.eBV(s);const l=n.sdS(17);return n.Njj(l.select())}),n.mxI("ngModelChange",function(l){return n.eBV(s),n.DH7(i.scanner.label,l)||(i.scanner.label=l),n.Njj(l)}),n.k0s()(),n.j41(18,"td",11)(19,"button",12),n.bIt("click",function(){return n.eBV(s),n.Njj(i.showModal())}),n.j41(20,"span"),n.EFF(21,"Setup v\u1ecb tr\xed"),n.k0s()()()(),n.DNE(22,dn,3,1,"tr",13),n.k0s()(),n.j41(23,"nz-table",14,3)(25,"thead")(26,"tr")(27,"th"),n.EFF(28,"Lot No"),n.k0s(),n.j41(29,"th"),n.EFF(30,"Qty"),n.k0s(),n.j41(31,"th"),n.EFF(32,"V\u1ecb tr\xed"),n.k0s(),n.j41(33,"th"),n.EFF(34,"Action"),n.k0s()()(),n.j41(35,"tbody"),n.DNE(36,pn,11,6,"tr",15),n.k0s()(),n.j41(37,"nz-modal",16),n.mxI("nzVisibleChange",function(l){return n.eBV(s),n.DH7(i.isVisible,l)||(i.isVisible=l),n.Njj(l)}),n.DNE(38,_n,15,4,"ng-container",17)(39,un,5,1,"div",18),n.k0s()}if(2&o){const s=n.sdS(24);n.R7$(2),n.Y8G("nzData",n.lJ4(8,cn)),n.R7$(8),n.R50("ngModel",i.scanner.userId),n.R7$(6),n.R50("ngModel",i.scanner.label),n.R7$(3),n.Y8G("nzType","primary"),n.R7$(3),n.Y8G("ngIf",i.isError),n.R7$(),n.Y8G("nzData",i.materials),n.R7$(13),n.Y8G("ngForOf",s.data),n.R7$(),n.R50("nzVisible",i.isVisible)}},dependencies:[C.Sq,C.bT,e.me,e.BC,e.vS,g.CP,g.SO,g._4,g.IL,g.aj,g.kt,P.Sy,I.aO,D.c,w.p,y.Y,R.F2,R.Oj,R.A9,C.QX],styles:["label[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-weight:700}.error[_ngcontent-%COMP%]{border:1px solid red;font-weight:700}"]})}return a})();var B=d(31837),Y=d(74696),W=d(58960);const mn=()=>[10,25,50,100];function Cn(a,z){if(1&a&&n.nrm(0,"nz-option",27),2&a){const t=z.$implicit;n.Y8G("nzValue",t.name)("nzLabel",t.description)}}const zn=[{path:"main",component:sn},{path:"insert",component:Z},{path:"label-change",component:on},{path:"model-change",component:gn},{path:"traceability",component:(()=>{class a{constructor(t){this.pihPRSvc=t,this.searchVo={},this.date=[new Date,new Date]}ngOnInit(){this.getLines()}getLines(){this.pihPRSvc.getLines(4).subscribe(t=>{this.lines=t})}onChangeTime(t){this.searchVo.fromDate=t[0],this.searchVo.toDate=t[1]}onExportClient(t){}onSearch(){let t={...this.searchVo};t.recordType="PIC",this.pihPRSvc.getMaterials(t).subscribe(o=>{this.materials=o})}static#n=this.\u0275fac=function(o){return new(o||a)(n.rXU(F))};static#e=this.\u0275cmp=n.VBU({type:a,selectors:[["app-pih-process-recording-traceability"]],decls:52,vars:20,consts:[["nzHeader","T\xecm ki\u1ebfm",3,"nzActive","nzShowArrow"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzLg","6"],["nzXs","24","nzSm","24","nzLg","24"],["nzPlaceHolder","Line","nzAllowClear","","nzShowSearch","",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzFormat","yyyy-MM-dd","nzMode","date",3,"ngModelChange","ngModel"],["nz-button","","nzType","primary",3,"click"],["keyExpr","id",3,"onExporting","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"enabled"],[3,"visible"],["dataField","line","caption","Line"],["dataField","plotno","caption","Label"],["dataField","ppn","caption","Part No"],["dataField","clotno","caption","Lot No"],["dataField","cpn","caption","Model"],["dataField","frBox","caption","From Box"],["dataField","toBox","caption","To Box"],["dataField","windingBobbin","caption","Position"],["dataField","qty","caption","Qty","dataType","number"],["dataField","date","dataType","date","caption","Date","format","yyyy-MM-dd"],["dataField","employee","caption","User"],["dataField","createdAt","dataType","date","caption","Created At","format","yyyy-MM-dd HH:mm"],["column","lotNo","summaryType","count"],["column","qty","summaryType","sum","valueFormat","#,##0"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],[3,"nzValue","nzLabel"]],template:function(o,i){1&o&&(n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2," PIH"),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4," Qu\u1ea3n l\xfd NVL (D\xe2y \u0111\u1ed3ng) "),n.k0s(),n.j41(5,"nz-breadcrumb-item"),n.EFF(6," Truy v\u1ebft "),n.k0s()(),n.j41(7,"nz-collapse")(8,"nz-collapse-panel",0)(9,"div",1)(10,"div",2)(11,"label",3),n.EFF(12,"Line"),n.k0s(),n.j41(13,"div",3)(14,"nz-select",4),n.mxI("ngModelChange",function(p){return n.DH7(i.searchVo.line,p)||(i.searchVo.line=p),p}),n.DNE(15,Cn,1,2,"nz-option",5),n.k0s()()(),n.j41(16,"div",2)(17,"label",3),n.EFF(18,"Date"),n.k0s(),n.j41(19,"div",3)(20,"nz-range-picker",6),n.mxI("ngModelChange",function(p){return n.DH7(i.date,p)||(i.date=p),p}),n.bIt("ngModelChange",function(p){return i.onChangeTime(p)}),n.k0s()()(),n.j41(21,"div",2)(22,"label",3),n.EFF(23,"\xa0"),n.k0s(),n.j41(24,"div",3)(25,"button",7),n.bIt("click",function(){return i.onSearch()}),n.EFF(26,"Search"),n.k0s()()(),n.j41(27,"div",2),n.nrm(28,"label",3)(29,"div",3),n.k0s()()()(),n.nrm(30,"br"),n.j41(31,"dx-data-grid",8),n.bIt("onExporting",function(p){return i.onExportClient(p)}),n.nrm(32,"dxo-export",9)(33,"dxo-filter-row",10)(34,"dxo-column-fixing",9)(35,"dxi-column",11)(36,"dxi-column",12)(37,"dxi-column",13)(38,"dxi-column",14)(39,"dxi-column",15)(40,"dxi-column",16)(41,"dxi-column",17)(42,"dxi-column",18)(43,"dxi-column",19)(44,"dxi-column",20)(45,"dxi-column",21)(46,"dxi-column",22),n.j41(47,"dxo-summary"),n.nrm(48,"dxi-total-item",23)(49,"dxi-total-item",24),n.k0s(),n.nrm(50,"dxo-paging",25)(51,"dxo-pager",26),n.k0s()),2&o&&(n.R7$(8),n.Y8G("nzActive",!0)("nzShowArrow",!0),n.R7$(),n.Y8G("nzGutter",24),n.R7$(5),n.R50("ngModel",i.searchVo.line),n.R7$(),n.Y8G("ngForOf",i.lines),n.R7$(5),n.R50("ngModel",i.date),n.R7$(11),n.Y8G("dataSource",i.materials)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),n.R7$(),n.Y8G("enabled",!0),n.R7$(),n.Y8G("visible",!0),n.R7$(),n.Y8G("enabled",!0),n.R7$(16),n.Y8G("pageSize",10),n.R7$(),n.Y8G("showPageSizeSelector",!0)("allowedPageSizes",n.lJ4(19,mn)))},dependencies:[C.Sq,e.BC,e.vS,O.s,B.Omo,B.nj_,B.ZJU,B.FTx,B.sVQ,B.PVd,B.XvM,B.CWS,j.hL,j.K7,f.Uq,f.e,I.aO,D.c,w.p,E.ld,E.WI,Y.Vz,Y.pc,W.SN,W.vw],styles:["nz-collapse[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}nz-select[_ngcontent-%COMP%], nz-range-picker[_ngcontent-%COMP%]{width:100%}"]})}return a})()}];let bn=(()=>{class a{static#n=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=n.$C({type:a});static#t=this.\u0275inj=n.G2t({imports:[k.iI.forChild(zn),k.iI]})}return a})(),fn=(()=>{class a{static#n=this.\u0275fac=function(o){return new(o||a)};static#e=this.\u0275mod=n.$C({type:a});static#t=this.\u0275inj=n.G2t({imports:[C.MD,bn,e.YN,O.N,j.EJ,f.f3,g.$G,P.j,I.Zw,E.DH,y.$,R.U6,Y.GB,W.LE,S.Y3]})}return a})()},23617:(J,V,d)=>{d.d(V,{$:()=>u,Y:()=>_});var C=d(15215),e=d(54438),O=d(45286),y=d(7605),j=d(40713),I=d(16042),f=d(57806),P=d(70317),E=d(72544),g=d(28203);function k(r,m){1&r&&e.eu8(0)}function M(r,m){if(1&r&&e.DNE(0,k,1,0,"ng-container",6),2&r){const c=e.XpG(3);e.Y8G("nzStringTemplateOutlet",c.nzIcon)}}function n(r,m){if(1&r&&e.nrm(0,"span",7),2&r){const c=e.XpG(3);e.Y8G("nzType",c.nzIconType||c.inferredIconType)("nzTheme",c.iconTheme)}}function L(r,m){if(1&r&&(e.j41(0,"div",2),e.DNE(1,M,1,1,"ng-container")(2,n,1,2),e.k0s()),2&r){const c=e.XpG(2);e.R7$(),e.vxM(1,c.nzIcon?1:2)}}function $(r,m){if(1&r&&(e.qex(0),e.EFF(1),e.bVm()),2&r){const c=e.XpG(4);e.R7$(),e.JRh(c.nzMessage)}}function F(r,m){if(1&r&&(e.j41(0,"span",8),e.DNE(1,$,2,1,"ng-container",6),e.k0s()),2&r){const c=e.XpG(3);e.R7$(),e.Y8G("nzStringTemplateOutlet",c.nzMessage)}}function N(r,m){if(1&r&&(e.qex(0),e.EFF(1),e.bVm()),2&r){const c=e.XpG(4);e.R7$(),e.JRh(c.nzDescription)}}function D(r,m){if(1&r&&(e.j41(0,"span",9),e.DNE(1,N,2,1,"ng-container",6),e.k0s()),2&r){const c=e.XpG(3);e.R7$(),e.Y8G("nzStringTemplateOutlet",c.nzDescription)}}function w(r,m){if(1&r&&(e.j41(0,"div",3),e.DNE(1,F,2,1,"span",8)(2,D,2,1,"span",9),e.k0s()),2&r){const c=e.XpG(2);e.R7$(),e.vxM(1,c.nzMessage?1:-1),e.R7$(),e.vxM(2,c.nzDescription?2:-1)}}function R(r,m){if(1&r&&(e.qex(0),e.EFF(1),e.bVm()),2&r){const c=e.XpG(3);e.R7$(),e.JRh(c.nzAction)}}function S(r,m){if(1&r&&(e.j41(0,"div",4),e.DNE(1,R,2,1,"ng-container",6),e.k0s()),2&r){const c=e.XpG(2);e.R7$(),e.Y8G("nzStringTemplateOutlet",c.nzAction)}}function A(r,m){if(1&r&&(e.qex(0),e.j41(1,"span",11),e.EFF(2),e.k0s(),e.bVm()),2&r){const c=e.XpG(4);e.R7$(2),e.JRh(c.nzCloseText)}}function G(r,m){if(1&r&&e.DNE(0,A,3,1,"ng-container",6),2&r){const c=e.XpG(3);e.Y8G("nzStringTemplateOutlet",c.nzCloseText)}}function x(r,m){1&r&&e.nrm(0,"span",12)}function U(r,m){if(1&r){const c=e.RV6();e.j41(0,"button",10),e.bIt("click",function(){e.eBV(c);const v=e.XpG(2);return e.Njj(v.closeAlert())}),e.DNE(1,G,1,1,"ng-container")(2,x,1,0),e.k0s()}if(2&r){const c=e.XpG(2);e.R7$(),e.vxM(1,c.nzCloseText?1:2)}}function h(r,m){if(1&r){const c=e.RV6();e.j41(0,"div",1),e.bIt("@slideAlertMotion.done",function(){e.eBV(c);const v=e.XpG();return e.Njj(v.onFadeAnimationDone())}),e.DNE(1,L,3,1,"div",2)(2,w,3,2,"div",3)(3,S,2,1,"div",4)(4,U,3,1,"button",5),e.k0s()}if(2&r){const c=e.XpG();e.AVh("ant-alert-rtl","rtl"===c.dir)("ant-alert-success","success"===c.nzType)("ant-alert-info","info"===c.nzType)("ant-alert-warning","warning"===c.nzType)("ant-alert-error","error"===c.nzType)("ant-alert-no-icon",!c.nzShowIcon)("ant-alert-banner",c.nzBanner)("ant-alert-closable",c.nzCloseable)("ant-alert-with-description",!!c.nzDescription),e.Y8G("@.disabled",c.nzNoAnimation)("@slideAlertMotion",void 0),e.R7$(),e.vxM(1,c.nzShowIcon?1:-1),e.R7$(),e.vxM(2,c.nzMessage||c.nzDescription?2:-1),e.R7$(),e.vxM(3,c.nzAction?3:-1),e.R7$(),e.vxM(4,c.nzCloseable||c.nzCloseText?4:-1)}}const T="alert";let _=(()=>{class r{constructor(c,b,v){this.nzConfigService=c,this.cdr=b,this.directionality=v,this._nzModuleName=T,this.nzAction=null,this.nzCloseText=null,this.nzIconType=null,this.nzMessage=null,this.nzDescription=null,this.nzType="info",this.nzCloseable=!1,this.nzShowIcon=!1,this.nzBanner=!1,this.nzNoAnimation=!1,this.nzIcon=null,this.nzOnClose=new e.bkB,this.closed=!1,this.iconTheme="fill",this.inferredIconType="info-circle",this.dir="ltr",this.isTypeSet=!1,this.isShowIconSet=!1,this.destroy$=new O.B7,this.nzConfigService.getConfigChangeEventForComponent(T).pipe((0,y.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,y.Q)(this.destroy$)).subscribe(c=>{this.dir=c,this.cdr.detectChanges()}),this.dir=this.directionality.value}closeAlert(){this.closed=!0}onFadeAnimationDone(){this.closed&&this.nzOnClose.emit(!0)}ngOnChanges(c){const{nzShowIcon:b,nzDescription:v,nzType:H,nzBanner:X}=c;if(b&&(this.isShowIconSet=!0),H)switch(this.isTypeSet=!0,this.nzType){case"error":this.inferredIconType="close-circle";break;case"success":this.inferredIconType="check-circle";break;case"info":this.inferredIconType="info-circle";break;case"warning":this.inferredIconType="exclamation-circle"}v&&(this.iconTheme=this.nzDescription?"outline":"fill"),X&&(this.isTypeSet||(this.nzType="warning"),this.isShowIconSet||(this.nzShowIcon=!0))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#n=this.\u0275fac=function(b){return new(b||r)(e.rXU(I.yx),e.rXU(e.gRc),e.rXU(g.dS,8))};static#e=this.\u0275cmp=e.VBU({type:r,selectors:[["nz-alert"]],inputs:{nzAction:"nzAction",nzCloseText:"nzCloseText",nzIconType:"nzIconType",nzMessage:"nzMessage",nzDescription:"nzDescription",nzType:"nzType",nzCloseable:"nzCloseable",nzShowIcon:"nzShowIcon",nzBanner:"nzBanner",nzNoAnimation:"nzNoAnimation",nzIcon:"nzIcon"},outputs:{nzOnClose:"nzOnClose"},exportAs:["nzAlert"],standalone:!0,features:[e.OA$,e.aNF],decls:1,vars:1,consts:[[1,"ant-alert",3,"ant-alert-rtl","ant-alert-success","ant-alert-info","ant-alert-warning","ant-alert-error","ant-alert-no-icon","ant-alert-banner","ant-alert-closable","ant-alert-with-description"],[1,"ant-alert"],[1,"ant-alert-icon"],[1,"ant-alert-content"],[1,"ant-alert-action"],["type","button","tabindex","0",1,"ant-alert-close-icon"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType","nzTheme"],[1,"ant-alert-message"],[1,"ant-alert-description"],["type","button","tabindex","0",1,"ant-alert-close-icon",3,"click"],[1,"ant-alert-close-text"],["nz-icon","","nzType","close"]],template:function(b,v){1&b&&e.DNE(0,h,5,24,"div",0),2&b&&e.vxM(0,v.closed?-1:0)},dependencies:[E.Y3,E.Dn,f.C,f.m],encapsulation:2,data:{animation:[j.Sn]},changeDetection:0})}return(0,C.Cg)([(0,I.H4)(),(0,P.H3)()],r.prototype,"nzCloseable",void 0),(0,C.Cg)([(0,I.H4)(),(0,P.H3)()],r.prototype,"nzShowIcon",void 0),(0,C.Cg)([(0,P.H3)()],r.prototype,"nzBanner",void 0),(0,C.Cg)([(0,P.H3)()],r.prototype,"nzNoAnimation",void 0),r})(),u=(()=>{class r{static#n=this.\u0275fac=function(b){return new(b||r)};static#e=this.\u0275mod=e.$C({type:r});static#t=this.\u0275inj=e.G2t({imports:[_]})}return r})()},74696:(J,V,d)=>{d.d(V,{GB:()=>U,Vz:()=>x,pc:()=>A});var C=d(15215),e=d(54438),O=d(73586),y=d(7605),j=d(58728),I=d(40713),f=d(16042),P=d(57806),E=d(21025),g=d(70317),k=d(72544),M=d(28203),n=d(26841);const L=["*"],$=["collapseHeader"];function F(h,T){if(1&h&&(e.qex(0),e.nrm(1,"span",7),e.bVm()),2&h){const _=T.$implicit,u=e.XpG(2);e.R7$(),e.Y8G("nzType",_||"right")("nzRotate",u.nzActive?90:0)}}function N(h,T){if(1&h&&(e.j41(0,"div"),e.DNE(1,F,2,2,"ng-container",3),e.k0s()),2&h){const _=e.XpG();e.R7$(),e.Y8G("nzStringTemplateOutlet",_.nzExpandedIcon)}}function D(h,T){if(1&h&&(e.qex(0),e.EFF(1),e.bVm()),2&h){const _=e.XpG();e.R7$(),e.JRh(_.nzHeader)}}function w(h,T){if(1&h&&(e.qex(0),e.EFF(1),e.bVm()),2&h){const _=e.XpG(2);e.R7$(),e.JRh(_.nzExtra)}}function R(h,T){if(1&h&&(e.j41(0,"div",4),e.DNE(1,w,2,1,"ng-container",3),e.k0s()),2&h){const _=e.XpG();e.R7$(),e.Y8G("nzStringTemplateOutlet",_.nzExtra)}}const S="collapse";let A=(()=>{class h{constructor(_,u,r,m){this.nzConfigService=_,this.cdr=u,this.directionality=r,this.destroy$=m,this._nzModuleName=S,this.nzAccordion=!1,this.nzBordered=!0,this.nzGhost=!1,this.nzExpandIconPosition="left",this.dir="ltr",this.listOfNzCollapsePanelComponent=[],this.nzConfigService.getConfigChangeEventForComponent(S).pipe((0,y.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,y.Q)(this.destroy$)).subscribe(_=>{this.dir=_,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(_){this.listOfNzCollapsePanelComponent.push(_)}removePanel(_){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(_),1)}click(_){this.nzAccordion&&!_.nzActive&&this.listOfNzCollapsePanelComponent.filter(u=>u!==_).forEach(u=>{u.nzActive&&(u.nzActive=!1,u.nzActiveChange.emit(u.nzActive),u.markForCheck())}),_.nzActive=!_.nzActive,_.nzActiveChange.emit(_.nzActive)}static#n=this.\u0275fac=function(u){return new(u||h)(e.rXU(f.yx),e.rXU(e.gRc),e.rXU(M.dS,8),e.rXU(E.y4))};static#e=this.\u0275cmp=e.VBU({type:h,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(u,r){2&u&&e.AVh("ant-collapse-icon-position-start","left"===r.nzExpandIconPosition)("ant-collapse-icon-position-end","right"===r.nzExpandIconPosition)("ant-collapse-ghost",r.nzGhost)("ant-collapse-borderless",!r.nzBordered)("ant-collapse-rtl","rtl"===r.dir)},inputs:{nzAccordion:"nzAccordion",nzBordered:"nzBordered",nzGhost:"nzGhost",nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],standalone:!0,features:[e.Jv_([E.y4]),e.aNF],ngContentSelectors:L,decls:1,vars:0,template:function(u,r){1&u&&(e.NAR(),e.SdG(0))},encapsulation:2,changeDetection:0})}return(0,C.Cg)([(0,f.H4)(),(0,g.H3)()],h.prototype,"nzAccordion",void 0),(0,C.Cg)([(0,f.H4)(),(0,g.H3)()],h.prototype,"nzBordered",void 0),(0,C.Cg)([(0,f.H4)(),(0,g.H3)()],h.prototype,"nzGhost",void 0),h})();const G="collapsePanel";let x=(()=>{class h{markForCheck(){this.cdr.markForCheck()}constructor(_,u,r,m,c,b){this.nzConfigService=_,this.ngZone=u,this.cdr=r,this.destroy$=m,this.nzCollapseComponent=c,this.noAnimation=b,this._nzModuleName=G,this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=!0,this.nzActiveChange=new e.bkB,this.nzConfigService.getConfigChangeEventForComponent(G).pipe((0,y.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.nzCollapseComponent.addPanel(this),this.ngZone.runOutsideAngular(()=>(0,O.R)(this.collapseHeader.nativeElement,"click").pipe((0,j.p)(()=>!this.nzDisabled),(0,y.Q)(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})}))}ngOnDestroy(){this.nzCollapseComponent.removePanel(this)}static#n=this.\u0275fac=function(u){return new(u||h)(e.rXU(f.yx),e.rXU(e.SKi),e.rXU(e.gRc),e.rXU(E.y4),e.rXU(A,1),e.rXU(n.z,8))};static#e=this.\u0275cmp=e.VBU({type:h,selectors:[["nz-collapse-panel"]],viewQuery:function(u,r){if(1&u&&e.GBs($,7),2&u){let m;e.mGM(m=e.lsd())&&(r.collapseHeader=m.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(u,r){2&u&&e.AVh("ant-collapse-no-arrow",!r.nzShowArrow)("ant-collapse-item-active",r.nzActive)("ant-collapse-item-disabled",r.nzDisabled)},inputs:{nzActive:"nzActive",nzDisabled:"nzDisabled",nzShowArrow:"nzShowArrow",nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],standalone:!0,features:[e.Jv_([E.y4]),e.aNF],ngContentSelectors:L,decls:9,vars:8,consts:[["collapseHeader",""],["role","button",1,"ant-collapse-header"],[1,"ant-collapse-header-text"],[4,"nzStringTemplateOutlet"],[1,"ant-collapse-extra"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"]],template:function(u,r){1&u&&(e.NAR(),e.j41(0,"div",1,0),e.DNE(2,N,2,1,"div"),e.j41(3,"span",2),e.DNE(4,D,2,1,"ng-container",3),e.k0s(),e.DNE(5,R,2,1,"div",4),e.k0s(),e.j41(6,"div",5)(7,"div",6),e.SdG(8),e.k0s()()),2&u&&(e.BMQ("aria-expanded",r.nzActive),e.R7$(2),e.vxM(2,r.nzShowArrow?2:-1),e.R7$(2),e.Y8G("nzStringTemplateOutlet",r.nzHeader),e.R7$(),e.vxM(5,r.nzExtra?5:-1),e.R7$(),e.AVh("ant-collapse-content-active",r.nzActive),e.Y8G("@.disabled",!(null==r.noAnimation||!r.noAnimation.nzNoAnimation))("@collapseMotion",r.nzActive?"expanded":"hidden"))},dependencies:[P.C,P.m,k.Y3,k.Dn],encapsulation:2,data:{animation:[I.GE]},changeDetection:0})}return(0,C.Cg)([(0,g.H3)()],h.prototype,"nzActive",void 0),(0,C.Cg)([(0,g.H3)()],h.prototype,"nzDisabled",void 0),(0,C.Cg)([(0,f.H4)(),(0,g.H3)()],h.prototype,"nzShowArrow",void 0),h})(),U=(()=>{class h{static#n=this.\u0275fac=function(u){return new(u||h)};static#e=this.\u0275mod=e.$C({type:h});static#t=this.\u0275inj=e.G2t({imports:[x]})}return h})()}}]);