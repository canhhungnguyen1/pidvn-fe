"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[8390],{68390:(E,d,n)=>{n.r(d),n.d(d,{IsModule:()=>B});var g=n(60177),m=n(33514),c=n(12673),v=n(29462),h=n(28663),p=n(34756),x=n(11668),f=n(44042),L=n(87907),y=n(47711),C=n(87018),F=n(53281),R=n(72898),l=n(46661),t=n(54438);let T=(()=>{class e{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-is"]],decls:1,vars:0,template:function(o,a){1&o&&t.nrm(0,"router-outlet")},dependencies:[l.n3]})}return e})();var b=n(45794),I=n(45312),G=n(21626);let U=(()=>{class e{constructor(i){this.httpClient=i,this.baseUrl=I.c.baseUrl}getLogFiles(i){return this.httpClient.post(`${this.baseUrl}/Pidvn/Logger/LogFiles`,i)}viewLogFile(i){return this.httpClient.post(`${this.baseUrl}/Pidvn/Logger/ViewLog`,i,{responseType:"text"})}static#t=this.\u0275fac=function(o){return new(o||e)(t.KVO(G.Qq))};static#e=this.\u0275prov=t.jDH({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var $=n(37736),j=n(27380),s=n(31837),u=n(72544);function w(e,A){if(1&e){const i=t.RV6();t.j41(0,"div",10)(1,"a",11),t.bIt("click",function(){const a=t.eBV(i).$implicit,r=t.XpG();return t.Njj(r.viewLogFile(a.data))}),t.nrm(2,"span",12),t.k0s()()}}const S=[{path:"",component:T,children:[{path:"logger",component:(()=>{class e{constructor(i,o,a,r){this.toastr=i,this.loggerSvc=o,this.jwtHelperSvc=a,this.router=r}ngOnInit(){this.getLogFiles()}getLogFiles(){this.loggerSvc.getLogFiles({path:"P:\\IS\\CanhHung\\FDCS\\LogServer"}).subscribe(a=>{this.logFiles=a.result})}viewLogFile(i){console.log(i),this.loggerSvc.viewLogFile({path:i.path,fileName:"service-log.log"}).subscribe(a=>{const r=new Blob([a],{type:"text/plain"}),D=window.URL.createObjectURL(r);window.open(D,"_blank")},a=>{console.error("Kh\xf4ng th\u1ec3 m\u1edf file log:",a)})}static#t=this.\u0275fac=function(o){return new(o||e)(t.rXU(b.tw),t.rXU(U),t.rXU($.X7),t.rXU(l.Ix))};static#e=this.\u0275cmp=t.VBU({type:e,selectors:[["app-logger"]],decls:11,vars:15,consts:[["requestGrid",""],["keyExpr","name",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"visible"],[3,"enabled"],["dataField","name","caption","Name",3,"visible"],["dataField","type","caption","Type",3,"visible"],["dataField","createdAt","caption","Ng\xe0y t\u1ea1o","dataType","date","format","yyyy-MM-dd HH:mm:ss",3,"visible"],["dataField","path","caption","\u0110\u01b0\u1eddng d\u1eabn",3,"visible"],["caption","","cellTemplate","viewLogTemplate"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],[2,"text-align","center"],[3,"click"],["nz-icon","","nzType","eye","nzTheme","outline"]],template:function(o,a){1&o&&(t.j41(0,"dx-data-grid",1,0),t.nrm(2,"dxo-header-filter",2)(3,"dxo-filter-row",2)(4,"dxo-export",3)(5,"dxi-column",4)(6,"dxi-column",5)(7,"dxi-column",6)(8,"dxi-column",7)(9,"dxi-column",8),t.DNE(10,w,3,0,"div",9),t.k0s()),2&o&&(t.Y8G("dataSource",a.logFiles)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),t.R7$(2),t.Y8G("visible",!0),t.R7$(),t.Y8G("visible",!0),t.R7$(),t.Y8G("enabled",!0),t.R7$(),t.Y8G("visible",!0),t.R7$(),t.Y8G("visible",!0),t.R7$(),t.Y8G("visible",!0),t.R7$(),t.Y8G("visible",!0),t.R7$(2),t.Y8G("dxTemplateOf","viewLogTemplate"))},dependencies:[j.eC,c.s,s.nj_,s.gtJ,s.ZJU,s.FTx,u.Dn]})}return e})()},{path:"is-device-mng",loadChildren:()=>n.e(4883).then(n.bind(n,54883)).then(e=>e.IsDeviceMngModule)}]}];let Y=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[l.iI.forChild(S),l.iI]})}return e})(),B=(()=>{class e{static#t=this.\u0275fac=function(o){return new(o||e)};static#e=this.\u0275mod=t.$C({type:e});static#n=this.\u0275inj=t.G2t({imports:[g.MD,Y,m.L,c.N,v.W,h.B,p.V,x.F,f.D,L.X,y.p,C.S,F.Z,R.L,u.Y3]})}return e})()}}]);