"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[516],{60516:(X,B,c)=>{c.r(B),c.d(B,{PihProcessRecordingModule:()=>ze});var m=c(60177),o=c(89417),D=c(12673),I=c(23617),M=c(31958),R=c(50513),C=c(97529),v=c(21011),b=c(1997),g=c(23359),j=c(46661);class z{}var e=c(54438),S=c(45312),G=c(21626);let F=(()=>{class r{constructor(n){this.httpClient=n,this.baseUrl=S.c.baseUrl}getLines(n){return this.httpClient.get(`${this.baseUrl}/PIH/ProcessRecording/Lines?productId=${n}`)}insertCoil(n){return this.httpClient.post(`${this.baseUrl}/PIH/ProcessRecording/InsertCoil`,n)}getMaterials(n){return this.httpClient.post(`${this.baseUrl}/PIH/ProcessRecording/Materials`,n)}changeLabel(n){return this.httpClient.post(`${this.baseUrl}/PIH/ProcessRecording/ChangeLabel`,n)}changeModel(n){return this.httpClient.post(`${this.baseUrl}/PIH/ProcessRecording/ChangeModel`,n)}scanCoil(n){return this.httpClient.post(`${this.baseUrl}/PIH/ProcessRecording/ScanCoil`,n)}insertCoilManual(n){return this.httpClient.post(`${this.baseUrl}/PIH/ProcessRecording/InsertCoilManual`,n)}getPsMasters(n){return this.httpClient.get(`${this.baseUrl}/PIH/ProcessRecording/PsMasters?model=${n}`)}checkSetupSaiNVL(n,i){return this.httpClient.get(`${this.baseUrl}/PIH/ProcessRecording/CheckSetupSaiNVL?model=${n}&coil=${i}`)}static#e=this.\u0275fac=function(i){return new(i||r)(e.KVO(G.Qq))};static#n=this.\u0275prov=e.jDH({token:r,factory:r.\u0275fac,providedIn:"root"})}return r})();var w=c(45794),y=c(16389),T=c(25930),E=c(43053),V=c(72544);const L=["userIpt"],N=["userIpt2"],O=["labelIpt"],A=["labelIpt2"],d=["newCoilIpt"],k=["newCoilIpt2"],p=["oldCoilIpt"],h=()=>[""];function u(r,_){if(1&r&&(e.j41(0,"tr")(1,"td",30)(2,"div",31),e.nrm(3,"span",32),e.j41(4,"span",33),e.EFF(5),e.k0s()()()()),2&r){const n=e.XpG();e.R7$(5),e.JRh(n.errMsg)}}function f(r,_){1&r&&(e.j41(0,"label"),e.EFF(1,"D\u1eef li\u1ec7u tem: "),e.k0s())}function $(r,_){if(1&r&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",34),e.EFF(4),e.nI1(5,"number"),e.k0s(),e.j41(6,"td",35),e.EFF(7),e.k0s(),e.j41(8,"td",35),e.EFF(9),e.k0s(),e.j41(10,"td",35),e.EFF(11),e.k0s(),e.j41(12,"td",35),e.EFF(13),e.nI1(14,"date"),e.k0s(),e.j41(15,"td"),e.EFF(16),e.k0s()()),2&r){const n=_.$implicit;e.R7$(2),e.JRh(n.clotno),e.R7$(2),e.JRh(e.i5U(5,7,n.qty,"1.0-3")),e.R7$(3),e.JRh(n.frBox),e.R7$(2),e.JRh(n.toBox),e.R7$(2),e.JRh(n.windingBobbin),e.R7$(2),e.SpI(" ",e.i5U(14,10,n.createdAt,"yyyy-MM-dd HH:mm")," "),e.R7$(3),e.JRh(n.employee)}}function U(r,_){if(1&r&&e.nrm(0,"nz-option",43),2&r){const n=_.$implicit;e.Y8G("nzValue",n.value)("nzLabel",n.label)}}function Y(r,_){if(1&r&&(e.j41(0,"tr")(1,"td",30)(2,"div",31),e.nrm(3,"span",32),e.j41(4,"span",33),e.EFF(5),e.k0s()()()()),2&r){const n=e.XpG(2);e.R7$(5),e.JRh(n.errMsg)}}function J(r,_){if(1&r){const n=e.RV6();e.qex(0),e.j41(1,"nz-table",36)(2,"tbody")(3,"tr")(4,"td",11)(5,"label"),e.EFF(6,"User ID"),e.k0s()(),e.j41(7,"td",37)(8,"input",38,6),e.bIt("keydown.enter",function(t){e.eBV(n);const s=e.XpG();return e.Njj(s.scanUserIpt2(t))})("click",function(){e.eBV(n);const t=e.sdS(9);return e.Njj(t.select())}),e.k0s()(),e.j41(10,"td",11)(11,"label"),e.EFF(12,"Tem"),e.k0s()(),e.j41(13,"td",37)(14,"input",39,7),e.bIt("keydown.enter",function(t){e.eBV(n);const s=e.XpG();return e.Njj(s.scanLabelIpt2(t))})("click",function(){e.eBV(n);const t=e.sdS(15);return e.Njj(t.select())}),e.mxI("ngModelChange",function(t){e.eBV(n);const s=e.XpG();return e.DH7(s.scanner2.label,t)||(s.scanner2.label=t),e.Njj(t)}),e.k0s()()(),e.j41(16,"tr")(17,"td")(18,"label"),e.EFF(19,"Coil"),e.k0s()(),e.j41(20,"td")(21,"input",40,8),e.bIt("click",function(){e.eBV(n);const t=e.sdS(22);return e.Njj(t.select())}),e.mxI("ngModelChange",function(t){e.eBV(n);const s=e.XpG();return e.DH7(s.scanner2.newCoil,t)||(s.scanner2.newCoil=t),e.Njj(t)}),e.k0s()(),e.j41(23,"td")(24,"label"),e.EFF(25,"V\u1ecb tr\xed"),e.k0s()(),e.j41(26,"td")(27,"nz-select",41),e.mxI("ngModelChange",function(t){e.eBV(n);const s=e.XpG();return e.DH7(s.scanner2.position,t)||(s.scanner2.position=t),e.Njj(t)}),e.DNE(28,U,1,2,"nz-option",42),e.k0s()()(),e.DNE(29,Y,6,1,"tr",20),e.k0s()(),e.bVm()}if(2&r){const n=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(6,h)),e.R7$(13),e.R50("ngModel",n.scanner2.label),e.R7$(7),e.R50("ngModel",n.scanner2.newCoil),e.R7$(6),e.R50("ngModel",n.scanner2.position),e.R7$(),e.Y8G("ngForOf",n.positions),e.R7$(),e.Y8G("ngIf",n.isError2)}}function W(r,_){if(1&r){const n=e.RV6();e.j41(0,"div")(1,"button",44),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.isOpenManualModal=!1)}),e.EFF(2,"H\u1ee7y"),e.k0s(),e.j41(3,"button",45),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.onSave2())}),e.EFF(4,"L\u01b0u"),e.k0s()()}}function Q(r,_){1&r&&(e.qex(0),e.j41(1,"nz-table",36)(2,"tbody")(3,"tr")(4,"td"),e.EFF(5,"Lot No"),e.k0s(),e.nrm(6,"td"),e.k0s(),e.j41(7,"tr")(8,"td"),e.EFF(9,"Qty"),e.k0s(),e.nrm(10,"td"),e.k0s()()(),e.bVm()),2&r&&(e.R7$(),e.Y8G("nzData",e.lJ4(1,h)))}function K(r,_){if(1&r){const n=e.RV6();e.j41(0,"div")(1,"button",44),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.isOpenEditModal=!1)}),e.EFF(2,"H\u1ee7y"),e.k0s(),e.j41(3,"button",46),e.EFF(4,"Update"),e.k0s()()}}let Z=(()=>{class r{constructor(n,i){this.pihPRSvc=n,this.toastr=i,this.scanner=new z,this.scanner2=new z,this.isError=!1,this.isError2=!1,this.isLoading=!1,this.isOpenManualModal=!1,this.isOpenEditModal=!1,this.positions=[{value:1,label:"V\u1ecb tr\xed 1"},{value:2,label:"V\u1ecb tr\xed 2"},{value:3,label:"V\u1ecb tr\xed 3"},{value:4,label:"V\u1ecb tr\xed 4"},{value:5,label:"V\u1ecb tr\xed 5"},{value:6,label:"V\u1ecb tr\xed 6"},{value:7,label:"V\u1ecb tr\xed 7"},{value:8,label:"V\u1ecb tr\xed 8"},{value:9,label:"V\u1ecb tr\xed 9"},{value:10,label:"V\u1ecb tr\xed 10"},{value:11,label:"V\u1ecb tr\xed 11"},{value:12,label:"V\u1ecb tr\xed 12"},{value:13,label:"V\u1ecb tr\xed 13"},{value:14,label:"V\u1ecb tr\xed 14"},{value:15,label:"V\u1ecb tr\xed 15"},{value:16,label:"V\u1ecb tr\xed 16"},{value:17,label:"V\u1ecb tr\xed 17"},{value:18,label:"V\u1ecb tr\xed 18"},{value:19,label:"V\u1ecb tr\xed 19"},{value:20,label:"V\u1ecb tr\xed 20"},{value:21,label:"V\u1ecb tr\xed 21"},{value:22,label:"V\u1ecb tr\xed 22"},{value:23,label:"V\u1ecb tr\xed 23"},{value:24,label:"V\u1ecb tr\xed 24"}]}ngOnInit(){setTimeout(()=>{this.userIpt.nativeElement.focus()},0)}scanUser(n){let i=n.target.value;if(!/^[0-9]{7}$/.test(i))return this.isError=!0,this.errMsg="B\u1ea1n c\u1ea7n scan User ID",this.userIpt.nativeElement.focus(),void this.userIpt.nativeElement.select();this.scanner.userId=i,this.labelIpt.nativeElement.focus(),this.labelIpt.nativeElement.select(),this.isError=!1,this.errMsg=""}scanLabel(n){if(!n.target.value.includes(";")||!n.target.value.includes("*"))return this.isError=!0,this.errMsg="B\u1ea1n c\u1ea7n scan tem NVL",this.labelIpt.nativeElement.focus(),void this.labelIpt.nativeElement.select();let i=n.target.value.split(";");this.scanner.qty=Number(i[2]),this.scanner.label=i[3];let t=i[3].split("*");this.label=`${t[0]}*${t[1]}*${t[2]}*${t[3]}`,this.scanner.sequence=parseInt(t[4]),this.pihPRSvc.getMaterials({plotno:this.label,recordType:"PIC"}).subscribe(a=>{this.materials=a}),this.newCoilIpt.nativeElement.focus(),this.newCoilIpt.nativeElement.select(),this.isError=!1,this.errMsg=""}scanNewCoil(n){let i="";i=n.target.value.includes(";")?n.target.value.split(";")[3]:n.target.value.substring(1),this.pihPRSvc.scanCoil({clotno:i,cpn:this.label}).subscribe(s=>{if(console.log(s),"ERROR"==s.status)return this.isError=!0,this.errMsg=s.message,this.newCoilIpt.nativeElement.select(),void(this.scanner.newCoil="");this.scanner.newCoil=i,this.oldCoilIpt.nativeElement.focus(),this.oldCoilIpt.nativeElement.select(),this.isError=!1,this.errMsg=""})}scanOldCoil(n){let i="";if(i=n.target.value.includes(";")?n.target.value.split(";")[3]:n.target.value.substring(1),i==this.scanner.newCoil)return this.oldCoilIpt.nativeElement.select(),this.isError=!0,void(this.errMsg="B\u1ea1n c\u1ea7n scan Lot \u0111\xe3 d\xf9ng h\u1ebft");this.scanner.oldCoil=i,this.isError=!1,this.errMsg=""}onSave(){if(!(this.scanner.userId&&this.scanner.label&&this.scanner.newCoil&&this.scanner.oldCoil))return void this.toastr.warning("C\u1ea7n nh\u1eadp \u0111\u1ee7 th\xf4ng tin","Warning");this.isLoading=!0;let n={...this.scanner};this.pihPRSvc.insertCoil(n).subscribe(i=>{this.pihPRSvc.getMaterials({cpn:this.label}).subscribe(s=>{this.isLoading=!1,this.materials=s,this.scanner=new z,this.toastr.success("Th\xe0nh c\xf4ng","Success")})})}scanUserIpt2(n){let i=n.target.value;if(!/^[0-9]{7}$/.test(i))return this.isError2=!0,this.errMsg="B\u1ea1n c\u1ea7n scan User ID",this.userIpt2.nativeElement.focus(),void this.userIpt2.nativeElement.select();this.scanner2.userId=i,this.labelIpt2.nativeElement.focus(),this.labelIpt2.nativeElement.select(),this.isError2=!1,this.errMsg=""}scanLabelIpt2(n){if(!n.target.value.includes(";")||!n.target.value.includes("*"))return this.isError2=!0,this.errMsg="B\u1ea1n c\u1ea7n scan tem NVL",this.labelIpt2.nativeElement.focus(),void this.labelIpt2.nativeElement.select();let i=n.target.value.split(";");this.scanner2.qty=Number(i[2]),this.scanner2.label=i[3];let t=i[3].split("*");this.label2=`${t[0]}*${t[1]}*${t[2]}*${t[3]}`,this.scanner2.sequence=parseInt(t[4]),this.newCoilIpt2.nativeElement.focus(),this.newCoilIpt2.nativeElement.select(),this.isError=!1,this.errMsg=""}openManualModal(){this.scanner2=new z,this.isOpenManualModal=!0}onSave2(){if(!(this.scanner2.userId&&this.scanner2.label&&this.scanner2.newCoil&&this.scanner2.position))return void this.toastr.warning("C\u1ea7n nh\u1eadp \u0111\u1ee7 th\xf4ng tin","Warning");let n={...this.scanner2};n.newCoil=n.newCoil.includes(";")?n.newCoil.split(";")[3]:n.newCoil.substring(1),this.pihPRSvc.insertCoilManual(n).subscribe(i=>{this.pihPRSvc.getMaterials({cpn:this.label2}).subscribe(s=>{this.materials=s,this.isOpenManualModal=!1,this.toastr.success("Th\xe0nh c\xf4ng","Success")})})}static#e=this.\u0275fac=function(i){return new(i||r)(e.rXU(F),e.rXU(w.tw))};static#n=this.\u0275cmp=e.VBU({type:r,selectors:[["app-pih-process-recording-insert"]],viewQuery:function(i,t){if(1&i&&(e.GBs(L,5),e.GBs(N,5),e.GBs(O,5),e.GBs(A,5),e.GBs(d,5),e.GBs(k,5),e.GBs(p,5)),2&i){let s;e.mGM(s=e.lsd())&&(t.userIpt=s.first),e.mGM(s=e.lsd())&&(t.userIpt2=s.first),e.mGM(s=e.lsd())&&(t.labelIpt=s.first),e.mGM(s=e.lsd())&&(t.labelIpt2=s.first),e.mGM(s=e.lsd())&&(t.newCoilIpt=s.first),e.mGM(s=e.lsd())&&(t.newCoilIpt2=s.first),e.mGM(s=e.lsd())&&(t.oldCoilIpt=s.first)}},decls:70,vars:14,consts:[["infoTbl",""],["userIpt",""],["newCoilIpt",""],["labelIpt",""],["oldCoilIpt",""],["coilTable",""],["userIpt2",""],["labelIpt2",""],["newCoilIpt2",""],[2,"color","red"],["id","infoTbl","nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData"],[2,"width","10%"],[2,"width","50%"],["nz-input","","placeholder","Scan m\xe3 nh\xe2n vi\xean",3,"keydown.enter","click","ngModelChange","ngModel"],[2,"width","30%"],["nz-input","","placeholder","Scan cu\u1ed9n d\xe2y m\u1edbi",3,"keydown.enter","click","ngModelChange","ngModel"],["rowspan","2",2,"width","10%"],["nz-button","","nzType","primary",2,"width","100%","height","80px !important",3,"click","nzLoading"],["nz-input","","placeholder","Scan tem th\xe0nh ph\u1ea9m",3,"keydown.enter","click","ngModelChange","ngModel"],["nz-input","","placeholder","Scan cu\u1ed9n d\xe2y c\u0169",3,"keydown.enter","click","ngModelChange","ngModel"],[4,"ngIf"],[2,"margin-top","-25px"],[3,"click"],[2,"color","blue"],["nzBordered","","nzSize","small",3,"nzData"],[4,"ngFor","ngForOf"],["nzTitle","Thay cu\u1ed9n d\xe2y \u0111\u1ed3ng","nzWidth","700px",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["nzTitle","S\u1eeda s\u1ed1 l\u01b0\u1ee3ng",3,"nzVisibleChange","nzVisible"],["colspan","5"],[1,"error"],["nz-icon","","nzType","warning","nzTheme","outline",2,"color","red"],[2,"color","red","margin-left","5px"],[2,"text-align","right"],[2,"text-align","center"],["nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData"],[2,"width","40%"],["nz-input","","placeholder","Scan m\xe3 nh\xe2n vi\xean",3,"keydown.enter","click"],["nz-input","","placeholder","Scan tem",3,"keydown.enter","click","ngModelChange","ngModel"],["nz-input","","placeholder","Scan m\xe3 d\xe2y \u0111\u1ed3ng",3,"click","ngModelChange","ngModel"],["nzAllowClear","","nzShowSearch","",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[3,"nzValue","nzLabel"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","primary"]],template:function(i,t){if(1&i){const s=e.RV6();e.j41(0,"label"),e.EFF(1,"Thay cu\u1ed9n d\xe2y: "),e.k0s(),e.j41(2,"label",9),e.EFF(3," Scan theo th\u1ee9 t\u1ef1: ID, Tem, Coil m\u1edbi, Coil c\u0169"),e.k0s(),e.j41(4,"nz-table",10,0)(6,"tbody")(7,"tr")(8,"td",11)(9,"label"),e.EFF(10,"User ID"),e.k0s()(),e.j41(11,"td",12)(12,"input",13,1),e.bIt("keydown.enter",function(l){return e.eBV(s),e.Njj(t.scanUser(l))})("click",function(){e.eBV(s);const l=e.sdS(13);return e.Njj(l.select())}),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(t.scanner.userId,l)||(t.scanner.userId=l),e.Njj(l)}),e.k0s()(),e.j41(14,"td",11)(15,"label"),e.EFF(16,"Lot m\u1edbi"),e.k0s()(),e.j41(17,"td",14)(18,"input",15,2),e.bIt("keydown.enter",function(l){return e.eBV(s),e.Njj(t.scanNewCoil(l))})("click",function(){e.eBV(s);const l=e.sdS(19);return e.Njj(l.select())}),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(t.scanner.newCoil,l)||(t.scanner.newCoil=l),e.Njj(l)}),e.k0s()(),e.j41(20,"td",16)(21,"button",17),e.bIt("click",function(){return e.eBV(s),e.Njj(t.onSave())}),e.EFF(22," L\u01b0u "),e.k0s()()(),e.j41(23,"tr")(24,"td",11)(25,"label"),e.EFF(26,"Tem"),e.k0s()(),e.j41(27,"td",12)(28,"input",18,3),e.bIt("keydown.enter",function(l){return e.eBV(s),e.Njj(t.scanLabel(l))})("click",function(){e.eBV(s);const l=e.sdS(29);return e.Njj(l.select())}),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(t.scanner.label,l)||(t.scanner.label=l),e.Njj(l)}),e.k0s()(),e.j41(30,"td",11)(31,"label"),e.EFF(32,"Lot c\u0169"),e.k0s()(),e.j41(33,"td",14)(34,"input",19,4),e.bIt("keydown.enter",function(l){return e.eBV(s),e.Njj(t.scanOldCoil(l))})("click",function(){e.eBV(s);const l=e.sdS(35);return e.Njj(l.select())}),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(t.scanner.oldCoil,l)||(t.scanner.oldCoil=l),e.Njj(l)}),e.k0s()()(),e.DNE(36,u,6,1,"tr",20),e.k0s()(),e.j41(37,"div",21)(38,"a",22),e.bIt("click",function(){return e.eBV(s),e.Njj(t.openManualModal())}),e.EFF(39,"Tr\u01b0\u1eddng h\u1ee3p b\u1ecb l\u1ed7i"),e.k0s()(),e.j41(40,"div"),e.DNE(41,f,2,0,"label",20),e.j41(42,"span",23),e.EFF(43),e.k0s()(),e.j41(44,"nz-table",24,5)(46,"thead")(47,"tr")(48,"th"),e.EFF(49,"Lot No"),e.k0s(),e.j41(50,"th"),e.EFF(51,"Qty"),e.k0s(),e.j41(52,"th"),e.EFF(53,"From Box"),e.k0s(),e.j41(54,"th"),e.EFF(55,"To Box"),e.k0s(),e.j41(56,"th"),e.EFF(57,"V\u1ecb tr\xed"),e.k0s(),e.j41(58,"th"),e.EFF(59,"Th\u1eddi gian"),e.k0s(),e.j41(60,"th"),e.EFF(61,"Nh\xe2n vi\xean"),e.k0s()()(),e.j41(62,"tbody"),e.DNE(63,$,17,13,"tr",25),e.k0s()(),e.j41(64,"nz-modal",26),e.mxI("nzVisibleChange",function(l){return e.eBV(s),e.DH7(t.isOpenManualModal,l)||(t.isOpenManualModal=l),e.Njj(l)}),e.DNE(65,J,30,7,"ng-container",27)(66,W,5,0,"div",28),e.k0s(),e.j41(67,"nz-modal",29),e.mxI("nzVisibleChange",function(l){return e.eBV(s),e.DH7(t.isOpenEditModal,l)||(t.isOpenEditModal=l),e.Njj(l)}),e.DNE(68,Q,11,2,"ng-container",27)(69,K,5,0,"div",28),e.k0s()}if(2&i){const s=e.sdS(45);e.R7$(4),e.Y8G("nzData",e.lJ4(13,h)),e.R7$(8),e.R50("ngModel",t.scanner.userId),e.R7$(6),e.R50("ngModel",t.scanner.newCoil),e.R7$(3),e.Y8G("nzLoading",t.isLoading),e.R7$(7),e.R50("ngModel",t.scanner.label),e.R7$(6),e.R50("ngModel",t.scanner.oldCoil),e.R7$(2),e.Y8G("ngIf",t.isError),e.R7$(5),e.Y8G("ngIf",t.label),e.R7$(2),e.JRh(t.label),e.R7$(),e.Y8G("nzData",t.materials),e.R7$(19),e.Y8G("ngForOf",s.data),e.R7$(),e.R50("nzVisible",t.isOpenManualModal),e.R7$(3),e.R50("nzVisible",t.isOpenEditModal)}},dependencies:[m.Sq,m.bT,o.me,o.BC,o.vS,g.CP,g.SO,g._4,g.IL,g.aj,g.kt,v.Sy,R.aO,y.c,T.p,b.ld,b.WI,E.F2,E.Oj,E.A9,V.Dn,m.QX,m.vh],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-select[_ngcontent-%COMP%]{width:100%}input[_ngcontent-%COMP%], nz-select[_ngcontent-%COMP%]{font-weight:700;color:green}.error[_ngcontent-%COMP%]{border:1px solid red;font-weight:700;padding:5px}"]})}return r})();const q=["userIpt"],ee=["newLabelIpt"],ne=["oldLabelIpt"],te=()=>[""];let ie=(()=>{class r{constructor(n,i){this.pihPRSvc=n,this.toastr=i,this.scanner=new z,this.isError=!1}ngOnInit(){setTimeout(()=>{this.userIpt.nativeElement.focus()},0)}scanUser(n){let i=n.target.value;if(!/^[0-9]{7}$/.test(i))return this.isError=!0,this.errMsg="B\u1ea1n c\u1ea7n scan User ID",this.userIpt.nativeElement.focus(),void this.userIpt.nativeElement.select();this.scanner.userId=i,this.newLabelIpt.nativeElement.focus(),this.newLabelIpt.nativeElement.select()}scanNewLabel(n){let i=n.target.value.split(";")[3];this.scanner.newLabel=i,this.oldLabelIpt.nativeElement.focus(),this.oldLabelIpt.nativeElement.select()}scanOldLabel(n){let i=n.target.value.split(";")[3];this.scanner.oldLabel=i,this.scanner.newLabel!=this.scanner.oldLabel||this.oldLabelIpt.nativeElement.select()}changeLabel(){this.scanner.userId&&this.scanner.newLabel&&this.scanner.oldLabel?this.pihPRSvc.changeLabel(this.scanner).subscribe(n=>{this.scanner=new z,this.toastr.success("OK","Th\xe0nh c\xf4ng")}):this.toastr.warning("Warning","C\u1ea7n scan \u0111\u1ee7 th\xf4ng tin")}static#e=this.\u0275fac=function(i){return new(i||r)(e.rXU(F),e.rXU(w.tw))};static#n=this.\u0275cmp=e.VBU({type:r,selectors:[["app-pih-process-recording-label-change"]],viewQuery:function(i,t){if(1&i&&(e.GBs(q,5),e.GBs(ee,5),e.GBs(ne,5)),2&i){let s;e.mGM(s=e.lsd())&&(t.userIpt=s.first),e.mGM(s=e.lsd())&&(t.newLabelIpt=s.first),e.mGM(s=e.lsd())&&(t.oldLabelIpt=s.first)}},decls:28,vars:5,consts:[["infoTbl",""],["userIpt",""],["newLabelIpt",""],["oldLabelIpt",""],["id","infoTbl","nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData"],["colspan","3"],["nz-input","","placeholder","Scan m\xe3 nh\xe2n vi\xean",3,"keydown.enter","ngModelChange","click","ngModel"],["rowspan","2"],["nz-button","","nzType","primary",2,"width","100%","height","80px !important","font-weight","bold",3,"click"],["nz-input","","placeholder","Scan tem m\u1edbi",3,"keydown.enter","click","ngModelChange","ngModel"],["nz-input","","placeholder","Scan tem c\u0169",3,"keydown.enter","click","ngModelChange","ngModel"]],template:function(i,t){if(1&i){const s=e.RV6();e.j41(0,"label"),e.EFF(1,"Thay tem h\xe0ng ng\xe0y "),e.k0s(),e.j41(2,"nz-table",4,0)(4,"tbody")(5,"tr")(6,"td")(7,"label"),e.EFF(8,"User ID"),e.k0s()(),e.j41(9,"td",5)(10,"input",6,1),e.bIt("keydown.enter",function(l){return e.eBV(s),e.Njj(t.scanUser(l))}),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(t.scanner.userId,l)||(t.scanner.userId=l),e.Njj(l)}),e.bIt("click",function(){e.eBV(s);const l=e.sdS(11);return e.Njj(l.select())}),e.k0s()(),e.j41(12,"td",7)(13,"button",8),e.bIt("click",function(){return e.eBV(s),e.Njj(t.changeLabel())}),e.EFF(14," L\u01b0u "),e.k0s()()(),e.j41(15,"tr")(16,"td")(17,"label"),e.EFF(18,"Tem m\u1edbi"),e.k0s()(),e.j41(19,"td")(20,"input",9,2),e.bIt("keydown.enter",function(l){return e.eBV(s),e.Njj(t.scanNewLabel(l))})("click",function(){e.eBV(s);const l=e.sdS(21);return e.Njj(l.select())}),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(t.scanner.newLabel,l)||(t.scanner.newLabel=l),e.Njj(l)}),e.k0s()(),e.j41(22,"td")(23,"label"),e.EFF(24,"Tem c\u0169"),e.k0s()(),e.j41(25,"td")(26,"input",10,3),e.bIt("keydown.enter",function(l){return e.eBV(s),e.Njj(t.scanOldLabel(l))})("click",function(){e.eBV(s);const l=e.sdS(27);return e.Njj(l.select())}),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(t.scanner.oldLabel,l)||(t.scanner.oldLabel=l),e.Njj(l)}),e.k0s()()()()()}2&i&&(e.R7$(2),e.Y8G("nzData",e.lJ4(4,te)),e.R7$(8),e.R50("ngModel",t.scanner.userId),e.R7$(10),e.R50("ngModel",t.scanner.newLabel),e.R7$(6),e.R50("ngModel",t.scanner.oldLabel))},dependencies:[o.me,o.BC,o.vS,g.CP,g.SO,g.aj,g.kt,v.Sy,R.aO,y.c,T.p],styles:["label[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-weight:700}"]})}return r})(),se=(()=>{class r{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(i){return new(i||r)};static#n=this.\u0275cmp=e.VBU({type:r,selectors:[["app-pih-process-recording-main"]],decls:35,vars:1,consts:[["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","12","nzMd","12","nzLg","6"],["routerLink","/admin/pih/pih-process-recording/insert",1,"item","import"],["src","./../../../../../../assets/images/coil.png","alt",""],["routerLink","/admin/pih/pih-process-recording/label-change",1,"item","new"],["src","./../../../../../../assets/images/new.png","alt",""],["routerLink","/admin/pih/pih-process-recording/model-change",1,"item","change-model"],["src","./../../../../../../assets/images/replace.png","alt",""],["routerLink","/admin/pih/pih-process-recording/traceability",1,"item","traceability"],["src","./../../../../../../assets/images/traceability.png","alt",""]],template:function(i,t){1&i&&(e.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),e.EFF(2," PIH "),e.k0s(),e.j41(3,"nz-breadcrumb-item"),e.EFF(4," Process Recording (D\xe2y \u0111\u1ed3ng) "),e.k0s()(),e.nrm(5,"br"),e.j41(6,"div",0)(7,"div",1)(8,"div",2),e.nrm(9,"img",3),e.j41(10,"h6"),e.EFF(11,"Thay cu\u1ed9n d\xe2y \u0111\u1ed3ng"),e.k0s(),e.j41(12,"h4"),e.EFF(13,"Insert Coil"),e.k0s()()(),e.j41(14,"div",1)(15,"div",4),e.nrm(16,"img",5),e.j41(17,"h6"),e.EFF(18,"Tem m\u1edbi"),e.k0s(),e.j41(19,"h4"),e.EFF(20,"New Label"),e.k0s()()(),e.j41(21,"div",1)(22,"div",6),e.nrm(23,"img",7),e.j41(24,"h6"),e.EFF(25,"\u0110\u1ed5i model"),e.k0s(),e.j41(26,"h4"),e.EFF(27,"Change Model"),e.k0s()()(),e.j41(28,"div",1)(29,"div",8),e.nrm(30,"img",9),e.j41(31,"h6"),e.EFF(32,"Truy v\u1ebft d\u1eef li\u1ec7u"),e.k0s(),e.j41(33,"h4"),e.EFF(34,"Traceability"),e.k0s()()()()),2&i&&(e.R7$(6),e.Y8G("nzGutter",8))},dependencies:[j.Wk,M.hL,M.K7,C.Uq,C.e],styles:[".item[_ngcontent-%COMP%]{text-align:center;border:1px solid #ccc;padding:15px 10px}.item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#fff}.item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:15px;font-size:18px;color:#fff;font-weight:700}.import[_ngcontent-%COMP%]{background:#e07e37;cursor:pointer}.new[_ngcontent-%COMP%]{background:#63d171;cursor:pointer}.change-model[_ngcontent-%COMP%]{background:#086aa3c7;cursor:pointer}.traceability[_ngcontent-%COMP%]{background:#959595c7;cursor:pointer}"]})}return r})();const oe=["userIpt"],re=["labelIpt"],le=["coilIpt"],ae=()=>[""];function ce(r,_){if(1&r&&(e.j41(0,"tr")(1,"td",19),e.nrm(2,"nz-alert",20),e.k0s()()),2&r){const n=e.XpG();e.R7$(2),e.Y8G("nzMessage",n.errMsg)}}function de(r,_){if(1&r&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",21),e.EFF(4),e.nI1(5,"number"),e.k0s(),e.j41(6,"td",21),e.EFF(7),e.k0s(),e.j41(8,"td",21)(9,"a"),e.EFF(10,"S\u1eeda"),e.k0s()()()),2&r){const n=_.$implicit;e.R7$(2),e.JRh(n.clotno),e.R7$(2),e.JRh(e.i5U(5,3,n.qty,"1.0-3")),e.R7$(3),e.JRh(n.windingBobbin)}}function pe(r,_){if(1&r&&(e.j41(0,"tr")(1,"td",25),e.EFF(2),e.k0s()()),2&r){const n=_.$implicit;e.R7$(2),e.JRh(n)}}function he(r,_){if(1&r){const n=e.RV6();e.qex(0),e.j41(1,"nz-table",22,4)(3,"thead")(4,"tr")(5,"th")(6,"input",23,5),e.bIt("keydown.enter",function(t){e.eBV(n);const s=e.XpG();return e.Njj(s.scanCoil(t))})("click",function(){e.eBV(n);const t=e.sdS(7);return e.Njj(t.select())}),e.k0s()(),e.j41(8,"th"),e.EFF(9),e.k0s()()(),e.j41(10,"tbody")(11,"tr",24)(12,"td",25),e.EFF(13,"Lot No"),e.k0s()(),e.DNE(14,pe,3,1,"tr",15),e.k0s()(),e.bVm()}if(2&r){const n=e.sdS(2),i=e.XpG();e.R7$(),e.Y8G("nzData",i.lots)("nzPageSize",10),e.R7$(8),e.SpI("S\u1ed1 l\u01b0\u1ee3ng: ",i.lots.length,""),e.R7$(5),e.Y8G("ngForOf",n.data)}}function ue(r,_){if(1&r){const n=e.RV6();e.j41(0,"div")(1,"button",26),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.handleCancel())}),e.EFF(2,"H\u1ee7y"),e.k0s(),e.j41(3,"button",27),e.bIt("click",function(){e.eBV(n);const t=e.XpG();return e.Njj(t.handleOk())}),e.EFF(4,"L\u01b0u"),e.k0s()()}if(2&r){const n=e.XpG();e.R7$(3),e.Y8G("nzLoading",n.isLoading)}}let ge=(()=>{class r{constructor(n,i){this.pihPRSvc=n,this.toastr=i,this.isVisible=!1,this.isLoading=!1,this.scanner=new z,this.isError=!1,this.mapLotsScanned=new Map,this.lots=new Array}ngOnInit(){}scanUser(n){let i=n.target.value;if(!/^[0-9]{7}$/.test(i))return this.isError=!0,this.errMsg="B\u1ea1n c\u1ea7n scan User ID",this.userIpt.nativeElement.focus(),void this.userIpt.nativeElement.select();this.scanner.userId=i,this.labelIpt.nativeElement.focus(),this.labelIpt.nativeElement.select(),this.isError=!1,this.errMsg=""}scanLabel(n){if(!n.target.value.includes(";")||!n.target.value.includes("*"))return this.isError=!0,this.errMsg="B\u1ea1n c\u1ea7n scan tem NVL",this.labelIpt.nativeElement.focus(),void this.labelIpt.nativeElement.select();this.isError=!1,this.errMsg="";let i=n.target.value.split(";")[3],t=i.split("*");this.scanner.label=`${t[0]}*${t[1]}*${t[2]}*${t[3]}`,this.scanner.qty=parseInt(i[2]);let s={cpn:this.scanner.label};this.parentModel=t[1],this.getMaterials(s)}scanCoil(n){let i="";i=n.target.value.includes(";")?n.target.value.split(";")[3]:n.target.value.substring(1),this.pihPRSvc.checkSetupSaiNVL(this.parentModel,i).subscribe(t=>{if(console.log("response: ",t),"OK"===t.result)return this.mapLotsScanned.set(i,i),this.lots=Array.from(this.mapLotsScanned.values()).reverse(),this.coilIpt.nativeElement.select(),void console.log("aaa",this.lots);"NG"!==t.result||this.toastr.error("Sai nguy\xean v\u1eadt li\u1ec7u","ERROR")})}getMaterials(n){this.pihPRSvc.getMaterials(n).subscribe(i=>{this.materials=i})}showModal(){this.isVisible=!0,setTimeout(()=>{this.coilIpt.nativeElement.focus()},400)}handleOk(){this.isLoading=!0;let n={userId:this.scanner.userId,label:this.scanner.label,lots:this.lots.reverse(),qty:this.scanner.qty},i={cpn:n.label};this.pihPRSvc.changeModel(n).subscribe(t=>{this.mapLotsScanned=new Map,this.lots=new Array,this.scanner=new z,this.toastr.success("Setup th\xe0nh c\xf4ng","Success")}),setTimeout(()=>{this.isVisible=!1,this.isLoading=!1,this.getMaterials(i)},5e3)}handleCancel(){this.mapLotsScanned=new Map,this.lots=new Array,this.isVisible=!1}static#e=this.\u0275fac=function(i){return new(i||r)(e.rXU(F),e.rXU(w.tw))};static#n=this.\u0275cmp=e.VBU({type:r,selectors:[["app-pih-process-recording-model-change"]],viewQuery:function(i,t){if(1&i&&(e.GBs(oe,5),e.GBs(re,5),e.GBs(le,5)),2&i){let s;e.mGM(s=e.lsd())&&(t.userIpt=s.first),e.mGM(s=e.lsd())&&(t.labelIpt=s.first),e.mGM(s=e.lsd())&&(t.coilIpt=s.first)}},decls:40,vars:9,consts:[["infoTbl",""],["userIpt",""],["labelIpt",""],["materialTbl",""],["lotsTbl",""],["coilIpt",""],["id","infoTbl","nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData"],[2,"width","10%"],[2,"width","20%"],["nz-input","","placeholder","Scan User ID",3,"keydown.enter","click","ngModelChange","ngModel"],["nz-input","","placeholder","Scan tem NVL",3,"keydown.enter","click","ngModelChange","ngModel"],[2,"text-align","center","width","10%"],["nz-button","",3,"click","nzType"],[4,"ngIf"],["id","materialTbl","nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData"],[4,"ngFor","ngForOf"],["nzTitle","Setup v\u1ecb tr\xed khi \u0111\u1ed5i Model",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["colspan","5"],["nzBanner","","nzType","error","nzCloseable","",1,"error",3,"nzMessage"],[2,"text-align","center"],["id","lotsTbl","nzBordered","","nzSize","small","nzFrontPagination","true",3,"nzData","nzPageSize"],["nz-input","","placeholder","Scan cu\u1ed9n COIL",3,"keydown.enter","click"],[2,"font-weight","bold"],["colspan","2"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click","nzLoading"]],template:function(i,t){if(1&i){const s=e.RV6();e.j41(0,"label"),e.EFF(1,"\u0110\u1ed5i model"),e.k0s(),e.j41(2,"nz-table",6,0)(4,"tbody")(5,"tr")(6,"td",7)(7,"label"),e.EFF(8,"User ID"),e.k0s()(),e.j41(9,"td",8)(10,"input",9,1),e.bIt("keydown.enter",function(l){return e.eBV(s),e.Njj(t.scanUser(l))})("click",function(){e.eBV(s);const l=e.sdS(11);return e.Njj(l.select())}),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(t.scanner.userId,l)||(t.scanner.userId=l),e.Njj(l)}),e.k0s()(),e.j41(12,"td",7)(13,"label"),e.EFF(14,"Tem"),e.k0s()(),e.j41(15,"td")(16,"input",10,2),e.bIt("keydown.enter",function(l){return e.eBV(s),e.Njj(t.scanLabel(l))})("click",function(){e.eBV(s);const l=e.sdS(17);return e.Njj(l.select())}),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(t.scanner.label,l)||(t.scanner.label=l),e.Njj(l)}),e.k0s()(),e.j41(18,"td",11)(19,"button",12),e.bIt("click",function(){return e.eBV(s),e.Njj(t.showModal())}),e.j41(20,"span"),e.EFF(21,"Setup v\u1ecb tr\xed"),e.k0s()()()(),e.DNE(22,ce,3,1,"tr",13),e.k0s()(),e.j41(23,"nz-table",14,3)(25,"thead")(26,"tr")(27,"th"),e.EFF(28,"Lot No"),e.k0s(),e.j41(29,"th"),e.EFF(30,"Qty"),e.k0s(),e.j41(31,"th"),e.EFF(32,"V\u1ecb tr\xed"),e.k0s(),e.j41(33,"th"),e.EFF(34,"Action"),e.k0s()()(),e.j41(35,"tbody"),e.DNE(36,de,11,6,"tr",15),e.k0s()(),e.j41(37,"nz-modal",16),e.mxI("nzVisibleChange",function(l){return e.eBV(s),e.DH7(t.isVisible,l)||(t.isVisible=l),e.Njj(l)}),e.DNE(38,he,15,4,"ng-container",17)(39,ue,5,1,"div",18),e.k0s()}if(2&i){const s=e.sdS(24);e.R7$(2),e.Y8G("nzData",e.lJ4(8,ae)),e.R7$(8),e.R50("ngModel",t.scanner.userId),e.R7$(6),e.R50("ngModel",t.scanner.label),e.R7$(3),e.Y8G("nzType","primary"),e.R7$(3),e.Y8G("ngIf",t.isError),e.R7$(),e.Y8G("nzData",t.materials),e.R7$(13),e.Y8G("ngForOf",s.data),e.R7$(),e.R50("nzVisible",t.isVisible)}},dependencies:[m.Sq,m.bT,o.me,o.BC,o.vS,g.CP,g.SO,g._4,g.IL,g.aj,g.kt,v.Sy,R.aO,y.c,T.p,I.Y,E.F2,E.Oj,E.A9,m.QX],styles:["label[_ngcontent-%COMP%], input[_ngcontent-%COMP%]{font-weight:700}.error[_ngcontent-%COMP%]{border:1px solid red;font-weight:700}"]})}return r})();var P=c(31837),x=c(74696),H=c(58960);const _e=()=>[10,25,50,100];function me(r,_){if(1&r&&e.nrm(0,"nz-option",27),2&r){const n=_.$implicit;e.Y8G("nzValue",n.name)("nzLabel",n.description)}}const Ce=[{path:"main",component:se},{path:"insert",component:Z},{path:"label-change",component:ie},{path:"model-change",component:ge},{path:"traceability",component:(()=>{class r{constructor(n){this.pihPRSvc=n,this.searchVo={},this.date=[new Date,new Date]}ngOnInit(){this.getLines()}getLines(){this.pihPRSvc.getLines(4).subscribe(n=>{this.lines=n})}onChangeTime(n){this.searchVo.fromDate=n[0],this.searchVo.toDate=n[1]}onExportClient(n){}onSearch(){let n={...this.searchVo};n.recordType="PIC",this.pihPRSvc.getMaterials(n).subscribe(i=>{this.materials=i})}static#e=this.\u0275fac=function(i){return new(i||r)(e.rXU(F))};static#n=this.\u0275cmp=e.VBU({type:r,selectors:[["app-pih-process-recording-traceability"]],decls:52,vars:20,consts:[["nzHeader","T\xecm ki\u1ebfm",3,"nzActive","nzShowArrow"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzLg","6"],["nzXs","24","nzSm","24","nzLg","24"],["nzPlaceHolder","Line","nzAllowClear","","nzShowSearch","",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzFormat","yyyy-MM-dd","nzMode","date",3,"ngModelChange","ngModel"],["nz-button","","nzType","primary",3,"click"],["keyExpr","id",3,"onExporting","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"enabled"],[3,"visible"],["dataField","line","caption","Line"],["dataField","plotno","caption","Label"],["dataField","ppn","caption","Part No"],["dataField","clotno","caption","Lot No"],["dataField","cpn","caption","Model"],["dataField","frBox","caption","From Box"],["dataField","toBox","caption","To Box"],["dataField","windingBobbin","caption","Position"],["dataField","qty","caption","Qty","dataType","number"],["dataField","date","dataType","date","caption","Date","format","yyyy-MM-dd"],["dataField","employee","caption","User"],["dataField","createdAt","dataType","date","caption","Created At","format","yyyy-MM-dd HH:mm"],["column","lotNo","summaryType","count"],["column","qty","summaryType","sum","valueFormat","#,##0"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],[3,"nzValue","nzLabel"]],template:function(i,t){1&i&&(e.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),e.EFF(2," PIH"),e.k0s(),e.j41(3,"nz-breadcrumb-item"),e.EFF(4," Qu\u1ea3n l\xfd NVL (D\xe2y \u0111\u1ed3ng) "),e.k0s(),e.j41(5,"nz-breadcrumb-item"),e.EFF(6," Truy v\u1ebft "),e.k0s()(),e.j41(7,"nz-collapse")(8,"nz-collapse-panel",0)(9,"div",1)(10,"div",2)(11,"label",3),e.EFF(12,"Line"),e.k0s(),e.j41(13,"div",3)(14,"nz-select",4),e.mxI("ngModelChange",function(a){return e.DH7(t.searchVo.line,a)||(t.searchVo.line=a),a}),e.DNE(15,me,1,2,"nz-option",5),e.k0s()()(),e.j41(16,"div",2)(17,"label",3),e.EFF(18,"Date"),e.k0s(),e.j41(19,"div",3)(20,"nz-range-picker",6),e.mxI("ngModelChange",function(a){return e.DH7(t.date,a)||(t.date=a),a}),e.bIt("ngModelChange",function(a){return t.onChangeTime(a)}),e.k0s()()(),e.j41(21,"div",2)(22,"label",3),e.EFF(23,"\xa0"),e.k0s(),e.j41(24,"div",3)(25,"button",7),e.bIt("click",function(){return t.onSearch()}),e.EFF(26,"Search"),e.k0s()()(),e.j41(27,"div",2),e.nrm(28,"label",3)(29,"div",3),e.k0s()()()(),e.nrm(30,"br"),e.j41(31,"dx-data-grid",8),e.bIt("onExporting",function(a){return t.onExportClient(a)}),e.nrm(32,"dxo-export",9)(33,"dxo-filter-row",10)(34,"dxo-column-fixing",9)(35,"dxi-column",11)(36,"dxi-column",12)(37,"dxi-column",13)(38,"dxi-column",14)(39,"dxi-column",15)(40,"dxi-column",16)(41,"dxi-column",17)(42,"dxi-column",18)(43,"dxi-column",19)(44,"dxi-column",20)(45,"dxi-column",21)(46,"dxi-column",22),e.j41(47,"dxo-summary"),e.nrm(48,"dxi-total-item",23)(49,"dxi-total-item",24),e.k0s(),e.nrm(50,"dxo-paging",25)(51,"dxo-pager",26),e.k0s()),2&i&&(e.R7$(8),e.Y8G("nzActive",!0)("nzShowArrow",!0),e.R7$(),e.Y8G("nzGutter",24),e.R7$(5),e.R50("ngModel",t.searchVo.line),e.R7$(),e.Y8G("ngForOf",t.lines),e.R7$(5),e.R50("ngModel",t.date),e.R7$(11),e.Y8G("dataSource",t.materials)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(16),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(19,_e)))},dependencies:[m.Sq,o.BC,o.vS,D.s,P.Omo,P.nj_,P.ZJU,P.FTx,P.sVQ,P.PVd,P.XvM,P.CWS,M.hL,M.K7,C.Uq,C.e,R.aO,y.c,T.p,b.ld,b.WI,x.Vz,x.pc,H.SN,H.vw],styles:["nz-collapse[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}nz-select[_ngcontent-%COMP%], nz-range-picker[_ngcontent-%COMP%]{width:100%}"]})}return r})()}];let be=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#n=this.\u0275mod=e.$C({type:r});static#t=this.\u0275inj=e.G2t({imports:[j.iI.forChild(Ce),j.iI]})}return r})(),ze=(()=>{class r{static#e=this.\u0275fac=function(i){return new(i||r)};static#n=this.\u0275mod=e.$C({type:r});static#t=this.\u0275inj=e.G2t({imports:[m.MD,be,o.YN,D.N,M.EJ,C.f3,g.$G,v.j,R.Zw,b.DH,I.$,E.U6,x.GB,H.LE,V.Y3]})}return r})()},74696:(X,B,c)=>{c.d(B,{GB:()=>A,Vz:()=>O,pc:()=>L});var m=c(15215),o=c(54438),D=c(73586),I=c(7605),M=c(58728),R=c(40713),C=c(16042),v=c(57806),b=c(21025),g=c(70317),j=c(72544),z=c(28203),e=c(26841);const S=["*"],G=["collapseHeader"];function F(d,k){if(1&d&&(o.qex(0),o.nrm(1,"span",7),o.bVm()),2&d){const p=k.$implicit,h=o.XpG(2);o.R7$(),o.Y8G("nzType",p||"right")("nzRotate",h.nzActive?90:0)}}function w(d,k){if(1&d&&(o.j41(0,"div"),o.DNE(1,F,2,2,"ng-container",3),o.k0s()),2&d){const p=o.XpG();o.R7$(),o.Y8G("nzStringTemplateOutlet",p.nzExpandedIcon)}}function y(d,k){if(1&d&&(o.qex(0),o.EFF(1),o.bVm()),2&d){const p=o.XpG();o.R7$(),o.JRh(p.nzHeader)}}function T(d,k){if(1&d&&(o.qex(0),o.EFF(1),o.bVm()),2&d){const p=o.XpG(2);o.R7$(),o.JRh(p.nzExtra)}}function E(d,k){if(1&d&&(o.j41(0,"div",4),o.DNE(1,T,2,1,"ng-container",3),o.k0s()),2&d){const p=o.XpG();o.R7$(),o.Y8G("nzStringTemplateOutlet",p.nzExtra)}}const V="collapse";let L=(()=>{class d{constructor(p,h,u,f){this.nzConfigService=p,this.cdr=h,this.directionality=u,this.destroy$=f,this._nzModuleName=V,this.nzAccordion=!1,this.nzBordered=!0,this.nzGhost=!1,this.nzExpandIconPosition="left",this.dir="ltr",this.listOfNzCollapsePanelComponent=[],this.nzConfigService.getConfigChangeEventForComponent(V).pipe((0,I.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,I.Q)(this.destroy$)).subscribe(p=>{this.dir=p,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(p){this.listOfNzCollapsePanelComponent.push(p)}removePanel(p){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(p),1)}click(p){this.nzAccordion&&!p.nzActive&&this.listOfNzCollapsePanelComponent.filter(h=>h!==p).forEach(h=>{h.nzActive&&(h.nzActive=!1,h.nzActiveChange.emit(h.nzActive),h.markForCheck())}),p.nzActive=!p.nzActive,p.nzActiveChange.emit(p.nzActive)}static#e=this.\u0275fac=function(h){return new(h||d)(o.rXU(C.yx),o.rXU(o.gRc),o.rXU(z.dS,8),o.rXU(b.y4))};static#n=this.\u0275cmp=o.VBU({type:d,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(h,u){2&h&&o.AVh("ant-collapse-icon-position-start","left"===u.nzExpandIconPosition)("ant-collapse-icon-position-end","right"===u.nzExpandIconPosition)("ant-collapse-ghost",u.nzGhost)("ant-collapse-borderless",!u.nzBordered)("ant-collapse-rtl","rtl"===u.dir)},inputs:{nzAccordion:"nzAccordion",nzBordered:"nzBordered",nzGhost:"nzGhost",nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],standalone:!0,features:[o.Jv_([b.y4]),o.aNF],ngContentSelectors:S,decls:1,vars:0,template:function(h,u){1&h&&(o.NAR(),o.SdG(0))},encapsulation:2,changeDetection:0})}return(0,m.Cg)([(0,C.H4)(),(0,g.H3)()],d.prototype,"nzAccordion",void 0),(0,m.Cg)([(0,C.H4)(),(0,g.H3)()],d.prototype,"nzBordered",void 0),(0,m.Cg)([(0,C.H4)(),(0,g.H3)()],d.prototype,"nzGhost",void 0),d})();const N="collapsePanel";let O=(()=>{class d{markForCheck(){this.cdr.markForCheck()}constructor(p,h,u,f,$,U){this.nzConfigService=p,this.ngZone=h,this.cdr=u,this.destroy$=f,this.nzCollapseComponent=$,this.noAnimation=U,this._nzModuleName=N,this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=!0,this.nzActiveChange=new o.bkB,this.nzConfigService.getConfigChangeEventForComponent(N).pipe((0,I.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.nzCollapseComponent.addPanel(this),this.ngZone.runOutsideAngular(()=>(0,D.R)(this.collapseHeader.nativeElement,"click").pipe((0,M.p)(()=>!this.nzDisabled),(0,I.Q)(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})}))}ngOnDestroy(){this.nzCollapseComponent.removePanel(this)}static#e=this.\u0275fac=function(h){return new(h||d)(o.rXU(C.yx),o.rXU(o.SKi),o.rXU(o.gRc),o.rXU(b.y4),o.rXU(L,1),o.rXU(e.z,8))};static#n=this.\u0275cmp=o.VBU({type:d,selectors:[["nz-collapse-panel"]],viewQuery:function(h,u){if(1&h&&o.GBs(G,7),2&h){let f;o.mGM(f=o.lsd())&&(u.collapseHeader=f.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(h,u){2&h&&o.AVh("ant-collapse-no-arrow",!u.nzShowArrow)("ant-collapse-item-active",u.nzActive)("ant-collapse-item-disabled",u.nzDisabled)},inputs:{nzActive:"nzActive",nzDisabled:"nzDisabled",nzShowArrow:"nzShowArrow",nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],standalone:!0,features:[o.Jv_([b.y4]),o.aNF],ngContentSelectors:S,decls:9,vars:8,consts:[["collapseHeader",""],["role","button",1,"ant-collapse-header"],[1,"ant-collapse-header-text"],[4,"nzStringTemplateOutlet"],[1,"ant-collapse-extra"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"]],template:function(h,u){1&h&&(o.NAR(),o.j41(0,"div",1,0),o.DNE(2,w,2,1,"div"),o.j41(3,"span",2),o.DNE(4,y,2,1,"ng-container",3),o.k0s(),o.DNE(5,E,2,1,"div",4),o.k0s(),o.j41(6,"div",5)(7,"div",6),o.SdG(8),o.k0s()()),2&h&&(o.BMQ("aria-expanded",u.nzActive),o.R7$(2),o.vxM(2,u.nzShowArrow?2:-1),o.R7$(2),o.Y8G("nzStringTemplateOutlet",u.nzHeader),o.R7$(),o.vxM(5,u.nzExtra?5:-1),o.R7$(),o.AVh("ant-collapse-content-active",u.nzActive),o.Y8G("@.disabled",!(null==u.noAnimation||!u.noAnimation.nzNoAnimation))("@collapseMotion",u.nzActive?"expanded":"hidden"))},dependencies:[v.C,v.m,j.Y3,j.Dn],encapsulation:2,data:{animation:[R.GE]},changeDetection:0})}return(0,m.Cg)([(0,g.H3)()],d.prototype,"nzActive",void 0),(0,m.Cg)([(0,g.H3)()],d.prototype,"nzDisabled",void 0),(0,m.Cg)([(0,C.H4)(),(0,g.H3)()],d.prototype,"nzShowArrow",void 0),d})(),A=(()=>{class d{static#e=this.\u0275fac=function(h){return new(h||d)};static#n=this.\u0275mod=o.$C({type:d});static#t=this.\u0275inj=o.G2t({imports:[O]})}return d})()}}]);