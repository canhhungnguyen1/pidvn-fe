"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[6339],{86339:(en,U,p)=>{p.r(U),p.d(U,{RelayMaterialManagementModule:()=>ce});var C=p(60177),a=p(89417),D=p(12673),S=p(23617),l=p(31958),k=p(50513),N=p(25703),T=p(74696),M=p(58960),A=p(19448),E=p(97529),j=p(72544),b=p(21011),F=p(43053),G=p(72874),Q=p(33190),P=p(1997),u=p(23359),W=p(75699),V=p(46661),X=p(75458),q=p(92887),Y=p(2578),H=p(71451),n=p(54438),f=p(45312),x=p(21626);let R=(()=>{class i{constructor(t){this.httpClient=t,this.baseUrl=f.c.baseUrl}getLines(t){return this.httpClient.get(`${this.baseUrl}/Relay/MaterialManagement/Lines?productId=${t}`)}materialTraceability(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialControl/Traceability`,t)}exportMaterials(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialControl/MaterialsExport`,t)}getQaCards(){return this.httpClient.get(`${this.baseUrl}/Relay/MaterialControl/QaCards`)}exportData(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialControl/MaterialsExport`,t,{responseType:"blob"})}editQtyImportedToLine(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialControl/EditQtyImportedToLine`,t)}static#n=this.\u0275fac=function(o){return new(o||i)(n.KVO(x.Qq))};static#t=this.\u0275prov=n.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var m=p(31837),h=p(27380),y=p(16389),_=p(25930);const O=()=>[10,25,50,100];function B(i,d){if(1&i&&n.nrm(0,"nz-option",40),2&i){const t=d.$implicit;n.Y8G("nzValue",t.name)("nzLabel",t.name)}}function K(i,d){if(1&i&&n.nrm(0,"nz-option",40),2&i){const t=d.$implicit;n.Y8G("nzValue",t.qaCard)("nzLabel",t.qaCard)}}function Z(i,d){if(1&i){const t=n.RV6();n.j41(0,"div",41)(1,"a",42),n.bIt("click",function(){const e=n.eBV(t).$implicit,r=n.XpG();return n.Njj(r.editQty(e.data))}),n.EFF(2,"S\u1eeda"),n.k0s()()}}let z=(()=>{class i{constructor(t){this.reMatAdmSvc=t,this.searchVo={},this.date=[new Date,new Date]}ngOnInit(){this.searchVo.recordType="RDC",this.getLines(5),this.getQaCards()}getQaCards(){this.reMatAdmSvc.getQaCards().subscribe(t=>{this.qaCards=t})}getLines(t){this.reMatAdmSvc.getLines(t).subscribe(o=>{this.lines=o,console.log("Lines: ",this.lines)})}onSearch(){this.employee="RDC"==this.searchVo.recordType||"RNP"==this.searchVo.recordType?"username":"sender",this.dataGrid.instance.beginCustomLoading("Loading..."),this.reMatAdmSvc.materialTraceability(this.searchVo).subscribe(t=>{this.records=t,console.log("DATAS: ",this.records),this.dataGrid.instance.endCustomLoading()})}onExport(){this.reMatAdmSvc.exportData(this.searchVo).subscribe(t=>{const o=new Blob([t],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),e=window.URL.createObjectURL(o),r=document.createElement("a");r.href=e,r.download="Data.xlsx",r.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(e),r.remove()},100)})}onExportClient(t){const o=new q.Workbook,e=o.addWorksheet("Main sheet");(0,H.V)({component:t.component,worksheet:e}).then(function(){o.xlsx.writeBuffer().then(function(r){Y(new Blob([r],{type:"application/octet-stream"}),"Data.xlsx")})})}onChangeTime(t){this.searchVo.fromDate=t[0],this.searchVo.toDate=t[1]}editQty(t){this.recordSelected={...t},console.log("EDIT: ",t)}static#n=this.\u0275fac=function(o){return new(o||i)(n.rXU(R))};static#t=this.\u0275cmp=n.VBU({type:i,selectors:[["app-relay-material-traceability"]],viewQuery:function(o,e){if(1&o&&n.GBs(D.s,5),2&o){let r;n.mGM(r=n.lsd())&&(e.dataGrid=r.first)}},decls:77,vars:29,consts:[["dataGrid",""],["nzHeader","T\xecm ki\u1ebfm",3,"nzActive","nzShowArrow"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzLg","5"],["nzXs","24","nzSm","24","nzLg","24"],["nzPlaceHolder","Lo\u1ea1i","nzAllowClear","",3,"ngModelChange","ngModel","nzDropdownMatchSelectWidth"],["nzValue","RNP","nzLabel","NVL nh\u1eadn t\u1eeb kho"],["nzValue","RDC","nzLabel","NVL nh\u1eadp v\xe0o QA Card"],["nzValue","CDL","nzLabel","NVL nh\u1eadp v\xe0o LINE"],["nzValue","CTR","nzLabel","NVL tr\u1ea3 kho trung chuy\u1ec3n RE-WH"],["nzValue","MRTW","nzLabel","NVL tr\u1ea3 kho PUR-WH"],["nz-col","","nzXs","12","nzSm","12","nzLg","3"],["nzPlaceHolder","Line","nzAllowClear","",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzFormat","yyyy-MM-dd","nzMode","date",3,"ngModelChange","ngModel"],["nzPlaceHolder","QA cards","nzShowSearch","","nzAllowClear","",3,"ngModelChange","ngModel","nzDropdownMatchSelectWidth"],["nz-col","","nzXs","12","nzSm","12","nzLg","4"],["nz-button","",3,"click"],["nz-button","","nzType","primary",2,"margin-left","5px",3,"click"],["keyExpr","id",3,"onExporting","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"enabled"],[3,"visible"],["dataField","reqNo","caption","Request No"],["dataField","model","caption","Model"],["dataField","partNo","caption","Part No"],["dataField","lotNo","caption","Lot No"],["dataField","qty","caption","Qty","dataType","number","format","#,##0"],["dataField","line","caption","Line"],["dataField","shift","caption","Shift"],["dataField","date","dataType","date","caption","Date","format","yyyy-MM-dd"],["dataField","qaCard","coption","QA Card"],["caption","User",3,"dataField"],["dataField","createdAt","dataType","date","caption","Created At","format","yyyy-MM-dd HH:mm"],["dataField","updatedAt","dataType","date","caption","Updated At","format","yyyy-MM-dd HH:mm"],["caption","Action","cellTemplate","cellTemplate","alignment","center","alignment","center","fixedPosition","right",3,"fixed"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],["column","lotNo","summaryType","count"],["column","qty","summaryType","sum","valueFormat","#,##0"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],[3,"nzValue","nzLabel"],[2,"text-align","center"],[2,"color","blue",3,"click"]],template:function(o,e){if(1&o){const r=n.RV6();n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2," Relay Factory"),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4," Qu\u1ea3n l\xfd NVL "),n.k0s(),n.j41(5,"nz-breadcrumb-item"),n.EFF(6," Truy v\u1ebft "),n.k0s()(),n.j41(7,"nz-collapse")(8,"nz-collapse-panel",1)(9,"div",2)(10,"div",3)(11,"label",4),n.EFF(12,"Type"),n.k0s(),n.j41(13,"span"),n.EFF(14,"(Lo\u1ea1i)"),n.k0s(),n.j41(15,"div",4)(16,"nz-select",5),n.mxI("ngModelChange",function(s){return n.eBV(r),n.DH7(e.searchVo.recordType,s)||(e.searchVo.recordType=s),n.Njj(s)}),n.nrm(17,"nz-option",6)(18,"nz-option",7)(19,"nz-option",8)(20,"nz-option",9)(21,"nz-option",10),n.k0s()()(),n.j41(22,"div",11)(23,"label",4),n.EFF(24,"Line"),n.k0s(),n.j41(25,"span"),n.EFF(26,"(D\xe2y truy\u1ec1n)"),n.k0s(),n.j41(27,"div",4)(28,"nz-select",12),n.mxI("ngModelChange",function(s){return n.eBV(r),n.DH7(e.searchVo.line,s)||(e.searchVo.line=s),n.Njj(s)}),n.DNE(29,B,1,2,"nz-option",13),n.k0s()()(),n.j41(30,"div",3)(31,"label",4),n.EFF(32,"Date"),n.k0s(),n.j41(33,"span"),n.EFF(34,"(QA card)"),n.k0s(),n.j41(35,"div",4)(36,"nz-range-picker",14),n.mxI("ngModelChange",function(s){return n.eBV(r),n.DH7(e.date,s)||(e.date=s),n.Njj(s)}),n.bIt("ngModelChange",function(s){return n.eBV(r),n.Njj(e.onChangeTime(s))}),n.k0s()()(),n.j41(37,"div",3)(38,"label",4),n.EFF(39,"QA Card"),n.k0s(),n.j41(40,"div",4)(41,"nz-select",15),n.mxI("ngModelChange",function(s){return n.eBV(r),n.DH7(e.searchVo.qaCard,s)||(e.searchVo.qaCard=s),n.Njj(s)}),n.DNE(42,K,1,2,"nz-option",13),n.k0s()()(),n.j41(43,"div",16)(44,"label",4),n.EFF(45,"\xa0"),n.k0s(),n.j41(46,"div",4)(47,"button",17),n.bIt("click",function(){return n.eBV(r),n.Njj(e.onExport())}),n.EFF(48,"Export"),n.k0s(),n.j41(49,"button",18),n.bIt("click",function(){return n.eBV(r),n.Njj(e.onSearch())}),n.EFF(50," Search "),n.k0s()()()()()(),n.nrm(51,"br"),n.j41(52,"dx-data-grid",19,0),n.bIt("onExporting",function(s){return n.eBV(r),n.Njj(e.onExportClient(s))}),n.nrm(54,"dxo-load-panel",20)(55,"dxo-export",20)(56,"dxo-filter-row",21)(57,"dxo-column-fixing",20)(58,"dxi-column",22)(59,"dxi-column",23)(60,"dxi-column",24)(61,"dxi-column",25)(62,"dxi-column",26)(63,"dxi-column",27)(64,"dxi-column",28)(65,"dxi-column",29)(66,"dxi-column",30)(67,"dxi-column",31)(68,"dxi-column",32)(69,"dxi-column",33)(70,"dxi-column",34),n.DNE(71,Z,3,0,"div",35),n.j41(72,"dxo-summary"),n.nrm(73,"dxi-total-item",36)(74,"dxi-total-item",37),n.k0s(),n.nrm(75,"dxo-paging",38)(76,"dxo-pager",39),n.k0s()}2&o&&(n.R7$(8),n.Y8G("nzActive",!0)("nzShowArrow",!0),n.R7$(),n.Y8G("nzGutter",24),n.R7$(7),n.R50("ngModel",e.searchVo.recordType),n.Y8G("nzDropdownMatchSelectWidth",!1),n.R7$(12),n.R50("ngModel",e.searchVo.line),n.R7$(),n.Y8G("ngForOf",e.lines),n.R7$(7),n.R50("ngModel",e.date),n.R7$(5),n.R50("ngModel",e.searchVo.qaCard),n.Y8G("nzDropdownMatchSelectWidth",!1),n.R7$(),n.Y8G("ngForOf",e.qaCards),n.R7$(10),n.Y8G("dataSource",e.records)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),n.R7$(2),n.Y8G("enabled",!0),n.R7$(),n.Y8G("enabled",!0),n.R7$(),n.Y8G("visible",!0),n.R7$(),n.Y8G("enabled",!0),n.R7$(10),n.Y8G("dataField",e.employee),n.R7$(3),n.Y8G("fixed",!0),n.R7$(),n.Y8G("dxTemplateOf","cellTemplate"),n.R7$(4),n.Y8G("pageSize",10),n.R7$(),n.Y8G("showPageSizeSelector",!0)("allowedPageSizes",n.lJ4(28,O)))},dependencies:[C.Sq,a.BC,a.vS,D.s,m.Omo,m.nj_,m.ZJU,m.FTx,m.xzc,m.sVQ,m.PVd,m.XvM,m.CWS,h.eC,E.Uq,E.e,l.hL,l.K7,P.ld,P.WI,k.aO,y.c,_.p,T.Vz,T.pc,M.SN,M.vw],styles:["nz-collapse[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}nz-collapse[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{margin-left:5px}nz-select[_ngcontent-%COMP%], nz-range-picker[_ngcontent-%COMP%]{width:100%}"]})}return i})();var L=p(45794);let g=(()=>{class i{constructor(t){this.httpClient=t,this.baseUrl=f.c.baseUrl}getUsers(t){return this.httpClient.post(`${this.baseUrl}/Commons/Users`,t)}getPurWhRecords(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialManagement/PurWhRecords`,t)}scanMaterial(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialManagement/ScanMaterial`,t)}savePurWhRecords(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialManagement/SavePurWhRecords`,t)}deletePurWhRecords(t){return this.httpClient.delete(`${this.baseUrl}/Relay/MaterialManagement/PurWhRecords/${t}`)}saveInspectQACard(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialManagement/InspectQACard`,t)}getInspectQACards(t){return this.httpClient.get(`${this.baseUrl}/Relay/MaterialManagement/InspectQACards/${t}`)}deleteInspectQaCard(t){return this.httpClient.delete(`${this.baseUrl}/Relay/MaterialManagement/InspectQACards/${t}`)}getPartsByModel(t){return this.httpClient.get(`${this.baseUrl}/Relay/MaterialControl/Parts?model=${t}`)}getProcesses(){return this.httpClient.get(`${this.baseUrl}/Relay/MaterialControl/Processes`)}mappingQaCard(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialControl/MappingQaCard`,t)}getChildQaCards(t){return this.httpClient.get(`${this.baseUrl}/Relay/MaterialControl/ChildQaCards?parentQaCard=${t}`)}deleteChildQaCard(t){return this.httpClient.delete(`${this.baseUrl}/Relay/MaterialControl/ChildQaCards/${t}`)}getMaterials(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialControl/Materials`,t)}scanMaterialV3(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialControl/ScanMaterial`,t)}saveMaterials(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialControl/SaveMaterials`,t)}deleteMaterial(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialControl/DeleteMaterial`,t)}editMaterialControl(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialControl/EditMaterialControl`,t)}changeQaCard(t,o){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialControl/ChangeQaCard?oldQaCard=${t}&newQaCard=${o}`,{})}static#n=this.\u0275fac=function(o){return new(o||i)(n.KVO(x.Qq))};static#t=this.\u0275prov=n.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const w=["oldQaCardIpt"],v=["newQaCardIpt"];let $=(()=>{class i{constructor(t,o){this.toastr=t,this.rePrSvc=o,this.isLoading=!1}ngOnInit(){}ngAfterViewInit(){this.oldQaCardIpt.nativeElement.focus()}changeQACard(){this.oldQaCard&&this.newQaCard&&this.oldQaCard!=this.newQaCard?(this.isLoading=!0,this.rePrSvc.changeQaCard(this.oldQaCard,this.newQaCard).subscribe(t=>{this.toastr.success("Chuy\u1ec3n QA Card th\xe0nh c\xf4ng !","Success"),console.log("DATA CHANGE QA CARD",t),this.oldQaCard="",this.newQaCard="",this.isLoading=!1})):this.toastr.warning("M\xe3 QA Card kh\xf4ng h\u1ee3p l\u1ec7","Warning")}scanOldQaCard(t){this.newQaCardIpt.nativeElement.focus()}static#n=this.\u0275fac=function(o){return new(o||i)(n.rXU(L.tw),n.rXU(g))};static#t=this.\u0275cmp=n.VBU({type:i,selectors:[["app-lwh-change-qacard"]],viewQuery:function(o,e){if(1&o&&(n.GBs(w,5),n.GBs(v,5)),2&o){let r;n.mGM(r=n.lsd())&&(e.oldQaCardIpt=r.first),n.mGM(r=n.lsd())&&(e.newQaCardIpt=r.first)}},decls:30,vars:8,consts:[["oldQaCardIpt",""],["newQaCardIpt",""],[3,"nzColor"],[2,"margin-top","10px"],["nzHeader","QA Card",3,"nzActive","nzShowArrow"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzLg","12"],["nzXs","24","nzSm","24","nzLg","24"],["nz-input","","placeholder","QA Card c\u0169",3,"ngModelChange","keydown.enter","click","ngModel"],["nz-input","","placeholder","QA Card m\u1edbi",3,"ngModelChange","click","ngModel"],["nz-col","","nzXs","12","nzSm","12","nzLg","4"],["nz-button","","nzType","primary",3,"click","nzLoading"]],template:function(o,e){if(1&o){const r=n.RV6();n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2," Relay Factory"),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4," Ph\xf2ng S\u1ea1ch "),n.k0s(),n.j41(5,"nz-breadcrumb-item"),n.EFF(6," \u0110\u1ed5i QA Card "),n.k0s()(),n.nrm(7,"br"),n.j41(8,"nz-tag",2),n.EFF(9,"H\u1ec7 th\u1ed1ng s\u1ebd chuy\u1ec3n NVL c\xf2n trong xe NVL (LINE-WH) sang QA Card m\u1edbi"),n.k0s(),n.j41(10,"nz-collapse",3)(11,"nz-collapse-panel",4)(12,"div",5)(13,"div",6)(14,"label",7),n.EFF(15,"QA Card c\u0169:"),n.k0s(),n.j41(16,"div",7)(17,"input",8,0),n.mxI("ngModelChange",function(s){return n.eBV(r),n.DH7(e.oldQaCard,s)||(e.oldQaCard=s),n.Njj(s)}),n.bIt("keydown.enter",function(s){return n.eBV(r),n.Njj(e.scanOldQaCard(s))})("click",function(){n.eBV(r);const s=n.sdS(18);return n.Njj(s.select())}),n.k0s()()(),n.j41(19,"div",6)(20,"label",7),n.EFF(21,"QA Card m\u1edbi:"),n.k0s(),n.j41(22,"div",7)(23,"input",9,1),n.mxI("ngModelChange",function(s){return n.eBV(r),n.DH7(e.newQaCard,s)||(e.newQaCard=s),n.Njj(s)}),n.bIt("click",function(){n.eBV(r);const s=n.sdS(24);return n.Njj(s.select())}),n.k0s()()()(),n.nrm(25,"br"),n.j41(26,"div",5)(27,"div",10)(28,"button",11),n.bIt("click",function(){return n.eBV(r),n.Njj(e.changeQACard())}),n.EFF(29," Chuy\u1ec3n QA Card "),n.k0s()()()()()}2&o&&(n.R7$(8),n.Y8G("nzColor","blue"),n.R7$(3),n.Y8G("nzActive",!0)("nzShowArrow",!0),n.R7$(),n.Y8G("nzGutter",24),n.R7$(5),n.R50("ngModel",e.oldQaCard),n.R7$(6),n.R50("ngModel",e.newQaCard),n.R7$(3),n.Y8G("nzGutter",24),n.R7$(2),n.Y8G("nzLoading",e.isLoading))},dependencies:[a.me,a.BC,a.vS,E.Uq,E.e,l.hL,l.K7,W.s,k.aO,y.c,_.p,b.Sy,T.Vz,T.pc],styles:["label[_ngcontent-%COMP%]{font-weight:700}"]})}return i})();var J=p(90696);function nn(i,d){if(1&i){const t=n.RV6();n.j41(0,"li")(1,"span"),n.EFF(2),n.nI1(3,"date"),n.k0s(),n.j41(4,"span",3),n.EFF(5),n.nI1(6,"number"),n.k0s(),n.j41(7,"span"),n.EFF(8),n.k0s(),n.j41(9,"i",4),n.bIt("nzOnConfirm",function(){const e=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.deleteHistory(e))}),n.k0s()()}if(2&i){const t=d.$implicit;n.R7$(2),n.JRh(n.i5U(3,3,t.createdAt,"yyyy-MM-dd HH:mm")),n.R7$(3),n.SpI(" Input: ",n.i5U(6,6,t.qty,"1.0-3")," "),n.R7$(3),n.SpI(" (",t.wip,")")}}function sn(i,d){if(1&i&&(n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td")(4,"ul")(5,"li"),n.EFF(6),n.k0s(),n.j41(7,"span",3),n.EFF(8),n.nI1(9,"number"),n.k0s()()(),n.j41(10,"td")(11,"ul"),n.DNE(12,nn,10,9,"li",2),n.k0s()()()),2&i){const t=d.$implicit;n.R7$(2),n.JRh(t.model),n.R7$(4),n.JRh(t.lotNo),n.R7$(2),n.SpI("(Qty: ",n.i5U(9,4,t.qty,"1.0-3"),")"),n.R7$(4),n.Y8G("ngForOf",t.lineInputRecords)}}let ln=(()=>{class i{constructor(t,o){this.toastr=t,this.rePrSvc=o,this.qaCard="ACTBPDR4*TB1*2022-04-27*N*001"}ngOnInit(){this.prepareDataV2()}prepareDataV2(){let t=this.rePrSvc.getPurWhRecords({qaCard:this.qaCard,recordType:"RDC"}),o=this.rePrSvc.getPurWhRecords({qaCard:this.qaCard,recordType:"CDL"});(0,J.p)([t,o]).subscribe(e=>{console.log("lineWhRecords",e[0]),console.log("lineRecords",e[1]),this.buildData(e[0],e[1])})}buildData(t,o){let e=new Array;for(const r of t)e.push({model:r.model,lotNo:r.lotNo,qty:r.qty,qaCard:r.qaCard,lineInputRecords:new Array});for(const r of e)for(const c of o)r.lotNo===c.lotNo&&r.lineInputRecords.push(c);e.sort((r,c)=>r.model===c.model?c.lotNo-r.lotNo:r.model>c.model?1:-1),this.lots=e}deleteHistory(t){console.log("DATA",t)}static#n=this.\u0275fac=function(o){return new(o||i)(n.rXU(L.tw),n.rXU(g))};static#t=this.\u0275cmp=n.VBU({type:i,selectors:[["app-lwh-receive-line"]],decls:19,vars:2,consts:[["lotTbl",""],["nzBordered","","nzSize","small",3,"nzData"],[4,"ngFor","ngForOf"],[2,"color","green","font-weight","bold"],["nz-icon","","nzType","minus-circle","nzTheme","outline","nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n c\xf3 mu\u1ed1n x\xf3a kh\xf4ng ?","nzPopconfirmPlacement","left",2,"margin-left","5px","color","red","font-weight","bold",3,"nzOnConfirm"]],template:function(o,e){if(1&o&&(n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2," Relay Factory"),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4," Ph\xf2ng S\u1ea1ch "),n.k0s(),n.j41(5,"nz-breadcrumb-item"),n.EFF(6," Tr\u1ea3 NVL v\u1ec1 LINE-WH "),n.k0s()(),n.j41(7,"nz-table",1,0)(9,"thead")(10,"tr")(11,"th"),n.EFF(12,"Part No"),n.k0s(),n.j41(13,"th"),n.EFF(14,"Lot"),n.k0s(),n.j41(15,"th"),n.EFF(16,"LINE Input"),n.k0s()()(),n.j41(17,"tbody"),n.DNE(18,sn,13,7,"tr",2),n.k0s()()),2&o){const r=n.sdS(8);n.R7$(7),n.Y8G("nzData",e.lots),n.R7$(11),n.Y8G("ngForOf",r.data)}},dependencies:[C.Sq,l.hL,l.K7,j.Dn,u.CP,u.SO,u._4,u.IL,u.aj,u.kt,y.c,G.PV,C.QX,C.vh],styles:["td.ant-table-cell[_ngcontent-%COMP%]{vertical-align:top}nz-table[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:-34px}"]})}return i})();var on=p(9541);const cn=["qrCodeIpt"],dn=["infoIpt"],pn=["importQtyIpt"],an=()=>[""];function hn(i,d){if(1&i){const t=n.RV6();n.j41(0,"li")(1,"span",26),n.EFF(2),n.k0s(),n.j41(3,"span",25),n.EFF(4),n.nI1(5,"number"),n.k0s(),n.j41(6,"span",27),n.bIt("click",function(){const e=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.openEditMaterialModal(e))}),n.EFF(7,"S\u1eeda"),n.k0s(),n.j41(8,"span",28),n.EFF(9,"|"),n.k0s(),n.j41(10,"span",29),n.bIt("nzOnConfirm",function(){const e=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.deleteMaterial(e))}),n.EFF(11," X\xf3a"),n.k0s()()}if(2&i){const t=d.$implicit;n.R7$(2),n.JRh(t.lotNo),n.R7$(2),n.SpI("(Qty: ",n.i5U(5,2,t.qty,"1.0-3"),")")}}function _n(i,d){if(1&i&&(n.j41(0,"tr")(1,"td")(2,"span",24),n.EFF(3),n.k0s(),n.j41(4,"span",25),n.EFF(5),n.nI1(6,"number"),n.k0s()(),n.j41(7,"td")(8,"ul"),n.DNE(9,hn,12,5,"li",18),n.k0s()()()),2&i){const t=d.$implicit;n.R7$(3),n.JRh(t.partNo),n.R7$(2),n.SpI("(Qty: ",n.i5U(6,3,t.qty,"1.0-3"),")"),n.R7$(4),n.Y8G("ngForOf",t.lots)}}function un(i,d){if(1&i&&(n.j41(0,"p",33),n.EFF(1),n.k0s()),2&i){const t=n.XpG().$implicit;n.R7$(),n.SpI(" ",t.remark," ")}}function mn(i,d){if(1&i){const t=n.RV6();n.j41(0,"tr")(1,"td",26),n.EFF(2),n.k0s(),n.j41(3,"td",26),n.EFF(4),n.k0s(),n.j41(5,"td")(6,"span",26),n.EFF(7),n.k0s(),n.DNE(8,un,2,1,"p",30),n.k0s(),n.j41(9,"td",31),n.EFF(10),n.nI1(11,"number"),n.k0s(),n.j41(12,"td",32)(13,"span",27),n.bIt("click",function(){const e=n.eBV(t).$implicit,r=n.XpG();return n.Njj(r.openEditMaterialModal(e))}),n.EFF(14,"S\u1eeda"),n.k0s(),n.j41(15,"span",28),n.EFF(16,"|"),n.k0s(),n.j41(17,"span",29),n.bIt("nzOnConfirm",function(){const e=n.eBV(t).$implicit,r=n.XpG();return n.Njj(r.deleteMaterial(e))}),n.EFF(18," X\xf3a"),n.k0s()()()}if(2&i){const t=d.$implicit;n.R7$(2),n.JRh(t.ordinal),n.R7$(2),n.JRh(t.partNo),n.R7$(3),n.JRh(t.lotNo),n.R7$(),n.Y8G("ngIf",t.remark),n.R7$(2),n.SpI(" ",n.i5U(11,5,t.qty,"1.0-3")," ")}}function gn(i,d){if(1&i&&n.nrm(0,"nz-alert",39),2&i){const t=n.XpG(2);n.Y8G("nzMessage",t.lotErrMsg)}}function Cn(i,d){if(1&i&&n.nrm(0,"nz-alert",40),2&i){const t=n.XpG(2);n.Y8G("nzMessage",t.lotWarningMsg)}}function zn(i,d){if(1&i&&n.nrm(0,"nz-alert",41),2&i){const t=n.XpG(2);n.Y8G("nzMessage",t.lotInfoMsg)}}function fn(i,d){if(1&i){const t=n.RV6();n.j41(0,"tr")(1,"td")(2,"label"),n.EFF(3),n.k0s()(),n.j41(4,"td")(5,"label"),n.EFF(6),n.k0s(),n.j41(7,"span",42),n.EFF(8),n.nI1(9,"number"),n.k0s()(),n.j41(10,"td",43)(11,"div",44),n.bIt("click",function(){const e=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.startEdit(e))}),n.EFF(12),n.nI1(13,"number"),n.k0s(),n.j41(14,"input",45,6),n.mxI("ngModelChange",function(e){const r=n.eBV(t).$implicit;return n.DH7(r.qty,e)||(r.qty=e),n.Njj(e)}),n.bIt("blur",function(){const e=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.stopEdit(e))}),n.k0s()(),n.j41(16,"td",46),n.EFF(17),n.k0s(),n.j41(18,"td",47),n.bIt("nzOnConfirm",function(){const e=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.deleteQRCodeScanned(e))}),n.j41(19,"a",48),n.EFF(20,"X\xf3a"),n.k0s()()()}if(2&i){const t=d.$implicit,o=n.XpG(2);n.R7$(3),n.JRh(t.partNo),n.R7$(3),n.JRh(t.lotNo),n.R7$(2),n.SpI(" (Qty: ",n.i5U(9,8,t.originQty,"1.0-3"),") "),n.R7$(3),n.Y8G("hidden",o.lotNoEdit===t.lotNo),n.R7$(),n.SpI(" ",n.i5U(13,11,t.qty,"1.0-3")," "),n.R7$(2),n.Y8G("hidden",o.lotNoEdit!==t.lotNo),n.R50("ngModel",t.qty),n.R7$(3),n.JRh(t.remainingQty)}}function Rn(i,d){if(1&i){const t=n.RV6();n.qex(0),n.j41(1,"div",7)(2,"input",34,4),n.bIt("keydown.enter",function(e){n.eBV(t);const r=n.XpG();return n.Njj(r.scanQRCode(e))})("click",function(){n.eBV(t);const e=n.sdS(3);return n.Njj(e.select())}),n.k0s(),n.DNE(4,gn,1,1,"nz-alert",35)(5,Cn,1,1,"nz-alert",36)(6,zn,1,1,"nz-alert",37),n.j41(7,"nz-table",38,5)(9,"thead")(10,"tr")(11,"th"),n.EFF(12,"Part No"),n.k0s(),n.j41(13,"th"),n.EFF(14,"Lot No"),n.k0s(),n.j41(15,"th"),n.EFF(16,"Qty"),n.k0s(),n.j41(17,"th"),n.EFF(18,"T\u1ed3n"),n.k0s(),n.j41(19,"th"),n.EFF(20,"Action"),n.k0s()()(),n.j41(21,"tbody"),n.DNE(22,fn,21,14,"tr",18),n.k0s()()(),n.bVm()}if(2&i){const t=n.sdS(8),o=n.XpG();n.R7$(),n.Y8G("nzGutter",24),n.R7$(3),n.Y8G("ngIf",o.lotErrMsg),n.R7$(),n.Y8G("ngIf",o.lotWarningMsg),n.R7$(),n.Y8G("ngIf",o.lotInfoMsg),n.R7$(),n.Y8G("nzData",o.listLotsScanned)("nzFrontPagination",!0)("nzPageSize",5),n.R7$(15),n.Y8G("ngForOf",t.data)}}function En(i,d){if(1&i){const t=n.RV6();n.j41(0,"button",49),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.isOpenScanQRCodeModal=!1)}),n.EFF(1," H\u1ee7y "),n.k0s(),n.j41(2,"button",50),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.sendToLine())}),n.EFF(3," L\u01b0u "),n.k0s()}if(2&i){const t=n.XpG();n.R7$(2),n.Y8G("nzLoading",t.isLoadingSaveBtn)}}function yn(i,d){if(1&i){const t=n.RV6();n.qex(0),n.j41(1,"nz-table",51)(2,"tbody")(3,"tr")(4,"td"),n.EFF(5,"Part No"),n.k0s(),n.j41(6,"td"),n.EFF(7),n.k0s()(),n.j41(8,"tr")(9,"td"),n.EFF(10,"Lot No"),n.k0s(),n.j41(11,"td"),n.EFF(12),n.k0s()(),n.j41(13,"tr")(14,"td"),n.EFF(15,"Qty"),n.k0s(),n.j41(16,"td")(17,"input",52),n.mxI("ngModelChange",function(e){n.eBV(t);const r=n.XpG();return n.DH7(r.materialEdit.qty,e)||(r.materialEdit.qty=e),n.Njj(e)}),n.k0s()()(),n.j41(18,"tr")(19,"td"),n.EFF(20,"Th\u1eddi gian"),n.k0s(),n.j41(21,"td")(22,"nz-date-picker",53),n.mxI("ngModelChange",function(e){n.eBV(t);const r=n.XpG();return n.DH7(r.materialEdit.insertTime,e)||(r.materialEdit.insertTime=e),n.Njj(e)}),n.k0s()()()()(),n.bVm()}if(2&i){const t=n.XpG();n.R7$(),n.Y8G("nzData",n.lJ4(5,an)),n.R7$(6),n.JRh(t.materialEdit.partNo),n.R7$(5),n.JRh(t.materialEdit.lotNo),n.R7$(5),n.R50("ngModel",t.materialEdit.qty),n.R7$(5),n.R50("ngModel",t.materialEdit.insertTime)}}function Mn(i,d){if(1&i){const t=n.RV6();n.j41(0,"button",49),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.isOpenEditMaterialModal=!1)}),n.EFF(1," H\u1ee7y "),n.k0s(),n.j41(2,"button",50),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.editMaterial())}),n.EFF(3," L\u01b0u "),n.k0s()}if(2&i){const t=n.XpG();n.R7$(2),n.Y8G("nzLoading",t.isLoadingSaveBtn)}}let bn=(()=>{class i{constructor(t,o){this.toastr=t,this.rePrSvc=o,this.processes=new Array,this.isOpenScanQRCodeModal=!1,this.mapLotsScanned=new Map,this.listLotsScanned=new Array,this.lotNoEdit=null,this.lotErrMsg=null,this.lotWarningMsg=null,this.lotInfoMsg=null,this.isLoadingSaveBtn=!1,this.isOpenEditMaterialModal=!1,this.infoScan={qaCard:"",model:"",line:"",date:"",shift:"",user:"",processId:"",processName:""},this.scanOrdinal=0}ngOnInit(){this.getProcesses()}ngAfterViewInit(){setTimeout(()=>{this.infoIpt.nativeElement.focus()},0)}getProcesses(){this.rePrSvc.getProcesses().subscribe(t=>{for(const o of t)/^WIP-/.test(o.name)&&this.processes.push(o)})}deleteHistory(t){this.rePrSvc.deleteMaterial(t).subscribe(o=>{this.toastr.success("X\xf3a th\xe0nh c\xf4ng !","Success")})}getPartsByModel(t){this.rePrSvc.getPartsByModel(t).subscribe(o=>{let e=new Array;for(const r of o)e.push(r.pncomp);this.partsOfModel=e,console.log("Parts of Model: ",this.partsOfModel)})}openScanQRCodeModal(){this.nzTitleScanQRCodeModal=`Nh\u1eadp NVL v\xe0o LINE: ${this.infoScan.line}; Process: ${this.infoScan.processName}`,this.isOpenScanQRCodeModal=!0,setTimeout(()=>{this.qrCodeIpt.nativeElement.focus()},500)}scanQRCode(t){this.scanOrdinal=this.scanOrdinal+1,this.qrCodeIpt.nativeElement.select();let o=t.target.value.split(";"),e=this.infoScan.qaCard.split("*"),r={partNo:o[0],lotNo:o[3],recordType:"CDL",qty:o[2],originQty:o[2],model:e[0],line:e[1],date:new Date(e[2]),shift:e[3],qaCard:this.infoScan.qaCard,processId:this.infoScan.processId,sender:this.infoScan.user,qrCode:t.target.value,ordinal:this.scanOrdinal};if(!this.partsOfModel.includes(r.partNo))return this.lotErrMsg=`Lot ${r.lotNo} kh\xf4ng d\xf9ng cho model ${r.model}`,this.lotWarningMsg=null,void this.toastr.error("C\xf3 l\u1ed7i !","Error",{timeOut:1500});this.rePrSvc.scanMaterialV3(r).subscribe(c=>"ERROR"==c.status?(this.lotWarningMsg=null,this.lotInfoMsg=null,this.lotErrMsg=c.message,void this.toastr.error("C\xf3 l\u1ed7i !","Error",{timeOut:1500})):"OK"==c.status?(c.warning?(this.lotInfoMsg=null,this.lotWarningMsg=c.warning):c.information?(this.lotInfoMsg=c.information,this.lotWarningMsg=null):(this.lotInfoMsg=null,this.lotWarningMsg=null),this.lotErrMsg=null,this.mapLotsScanned.set(t.target.value,c.data),void(this.listLotsScanned=Array.from(this.mapLotsScanned.values()).reverse())):void 0)}startEdit(t){setTimeout(()=>{this.importQtyIpt.nativeElement.select()},300),this.lotNoEdit=t.lotNo}stopEdit(t){t.qty>t.remainingQty?t.qty=t.remainingQty:t.qty<0&&(t.qty=0),this.lotNoEdit=null}deleteQRCodeScanned(t){this.mapLotsScanned.delete(t.qrCode),this.listLotsScanned=Array.from(this.mapLotsScanned.values()).reverse()}sendToLine(){this.isLoadingSaveBtn=!0,console.log(this.listLotsScanned),this.listLotsScanned.length&&(this.scanOrdinal=0,this.rePrSvc.saveMaterials(this.listLotsScanned).subscribe(t=>{this.getMaterials(),this.isOpenScanQRCodeModal=!1,this.mapLotsScanned=new Map,this.listLotsScanned=new Array,this.isLoadingSaveBtn=!1,this.infoScan.model="",this.infoScan.line="",this.infoScan.date="",this.infoScan.shift="",this.infoScan.user="",this.infoScan.processId="",this.infoScan.processName="",this.lotErrMsg=null,this.lotWarningMsg=null},t=>{this.isOpenScanQRCodeModal=!1,this.isLoadingSaveBtn=!1,this.lotErrMsg=null,this.lotWarningMsg=null}))}scanInfo(t){let o=t.target.value,e=o.split("*");if(5===e.length){if(o.includes(";"))return this.toastr.warning("C\u1ea7n scan ID, QA card, WIP","Warning"),void this.infoIpt.nativeElement.select();this.infoScan.qaCard=o,this.infoScan.model=e[0],this.infoScan.line=e[1],this.infoScan.date=e[2],this.infoScan.shift=e[3],this.getPartsByModel(this.infoScan.model),this.getMaterials()}if(7===o.length&&(this.infoScan.user=o),/^WIP-/.test(o)){console.log("SCAN Process"),console.log("Processes: ",this.processes),this.infoScan.processName=o;for(const c of this.processes)if(this.infoScan.processName==c.name){this.infoScan.processId=c.id;break}}Object.values(this.infoScan).some(c=>null==c||""===c||"string"==typeof c&&""===c.trim()||Array.isArray(c)&&0===c.length||"object"==typeof c&&!Array.isArray(c)&&0===Object.keys(c).length)||this.openScanQRCodeModal(),this.infoIpt.nativeElement.select()}getMaterials(){this.rePrSvc.getMaterials({qaCard:this.infoScan.qaCard,recordTypes:["CDL"]}).subscribe(t=>{this.materialOrder=t,this.materials=this.buildData(t),console.log("materialOrder",this.materialOrder),console.log("materials",this.materials)})}buildData(t){let o=new Set;for(const c of t)o.add(c.partNo);let e=Array.from(o),r=new Array;for(const c of e){let s={partNo:c,qty:0,lots:new Array};r.push(s)}for(const c of r)for(const s of t)c.partNo===s.partNo&&c.lots.push(s);for(const c of r){let s=0;for(const I of c.lots)s+=I.qty;c.qty=s}return r}openEditMaterialModal(t){console.log("DATA Edit: ",t),this.materialEdit={...t},this.isOpenEditMaterialModal=!0}editMaterial(){console.log("DATA EDIT: ",this.materialEdit),this.rePrSvc.editMaterialControl(this.materialEdit).subscribe(t=>{this.getMaterials(),this.toastr.success("\u0110\xe3 s\u1eeda !","Success"),this.isOpenEditMaterialModal=!1,this.infoIpt.nativeElement.select()})}deleteMaterial(t){this.rePrSvc.deleteMaterial(t).subscribe(o=>{this.getMaterials(),this.toastr.success("\u0110\xe3 x\xf3a !","Success")})}static#n=this.\u0275fac=function(o){return new(o||i)(n.rXU(L.tw),n.rXU(g))};static#t=this.\u0275cmp=n.VBU({type:i,selectors:[["app-lwh-send-line"]],viewQuery:function(o,e){if(1&o&&(n.GBs(cn,5),n.GBs(dn,5),n.GBs(pn,5)),2&o){let r;n.mGM(r=n.lsd())&&(e.qrCodeIpt=r.first),n.mGM(r=n.lsd())&&(e.infoIpt=r.first),n.mGM(r=n.lsd())&&(e.importQtyIpt=r.first)}},decls:80,vars:16,consts:[["infoTbl",""],["infoIpt",""],["lotTbl",""],["lotTblOrder",""],["qrCodeIpt",""],["qrTbl",""],["importQtyIpt",""],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","18","nzLg","18"],[1,"attention"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],["id","infoTbl","nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData"],["colspan","3"],["id","infoIpt","nz-input","","placeholder","Scan theo th\u1ee9 t\u1ef1 User ID, QA card, Process","autocomplete","off",3,"keydown.enter","click"],["width","33%"],[2,"margin-top","-25px"],["nzTitle","Danh s\xe1ch t\u1ed5ng h\u1ee3p theo Model"],["nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData"],[4,"ngFor","ngForOf"],["nzTitle","Danh s\xe1ch theo th\u1ee9 t\u1ef1"],["id","importMaterialModal","nzWidth","100%",3,"nzVisibleChange","nzVisible","nzTitle"],[4,"nzModalContent"],[3,"nzModalFooter"],["id","importMaterialModal","nzTitle","S\u1eeda s\u1ed1 l\u01b0\u1ee3ng NVL nh\u1eadp v\xe0o LINE",3,"nzVisibleChange","nzVisible"],[2,"color","#0039b8","font-weight","bold"],[2,"margin-left","3px","color","green"],[2,"font-weight","bold"],[2,"margin-left","8px","color","blue",3,"click"],[2,"margin-left","8px","color","black"],["nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n c\xf3 mu\u1ed1n x\xf3a kh\xf4ng ?","nzPopconfirmPlacement","top",2,"margin-left","8px","color","red",3,"nzOnConfirm"],["style","color: green; font-size: 10px; list-style: none",4,"ngIf"],[2,"font-weight","bold","color","green","text-align","right"],[2,"text-align","center"],[2,"color","green","font-size","10px","list-style","none"],["nz-input","","placeholder","Scan m\xe3 QR nguy\xean v\u1eadt li\u1ec7u","autocomplete","off",2,"font-weight","bold",3,"keydown.enter","click"],["id","error-msg","nzBanner","","nzShowIcon","","style","margin-top: 10px","nzType","error",3,"nzMessage",4,"ngIf"],["id","warning-msg","nzBanner","","nzShowIcon","","style","margin-top: 10px","nzType","warning",3,"nzMessage",4,"ngIf"],["id","info-msg","nzBanner","","nzShowIcon","","style","margin-top: 10px","nzType","info",3,"nzMessage",4,"ngIf"],["nzBordered","","nzSize","small",2,"margin-top","15px",3,"nzData","nzFrontPagination","nzPageSize"],["id","error-msg","nzBanner","","nzShowIcon","","nzType","error",2,"margin-top","10px",3,"nzMessage"],["id","warning-msg","nzBanner","","nzShowIcon","","nzType","warning",2,"margin-top","10px",3,"nzMessage"],["id","info-msg","nzBanner","","nzShowIcon","","nzType","info",2,"margin-top","10px",3,"nzMessage"],[2,"color","green","margin-left","5px"],[1,"editable-row",2,"text-align","right"],[1,"editable-cell",3,"click","hidden"],["type","number","nz-input","",3,"ngModelChange","blur","hidden","ngModel"],[2,"text-align","right"],["nz-popconfirm","","nzPopconfirmTitle","C\xf3 ch\u1eafc ch\u1eafn x\xf3a kh\xf4ng ?","nzPopconfirmPlacement","top","nzRight","",2,"text-align","center",3,"nzOnConfirm"],[2,"color","red","font-weight","bold"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click","nzLoading"],["id","materialEditTbl","nzBordered","","nzFrontPagination","false","nzSize","small",3,"nzData"],["nz-input","",3,"ngModelChange","ngModel"],["nzShowTime","","nzFormat","yyyy-MM-dd HH:mm:ss","ngModel","",2,"width","100%",3,"ngModelChange","ngModel"]],template:function(o,e){if(1&o){const r=n.RV6();n.j41(0,"div",7)(1,"div",8)(2,"span",9),n.EFF(3,"* L\u01b0u \xfd: Scan theo th\u1ee9 t\u1ef1 User ID, QA card, Process"),n.k0s()(),n.j41(4,"div",10)(5,"nz-table",11,0)(7,"thead")(8,"tr")(9,"th",12)(10,"input",13,1),n.bIt("keydown.enter",function(s){return n.eBV(r),n.Njj(e.scanInfo(s))})("click",function(){n.eBV(r);const s=n.sdS(11);return n.Njj(s.select())}),n.k0s()()()(),n.j41(12,"tbody")(13,"tr")(14,"td",14)(15,"label"),n.EFF(16,"Model: "),n.k0s(),n.j41(17,"span"),n.EFF(18),n.k0s()(),n.j41(19,"td",14)(20,"label"),n.EFF(21,"Line: "),n.k0s(),n.j41(22,"span"),n.EFF(23),n.k0s()(),n.j41(24,"td",14)(25,"label"),n.EFF(26,"Date: "),n.k0s(),n.j41(27,"span"),n.EFF(28),n.k0s()()(),n.j41(29,"tr")(30,"td")(31,"label"),n.EFF(32,"User: "),n.k0s(),n.j41(33,"span"),n.EFF(34),n.k0s()(),n.j41(35,"td")(36,"label"),n.EFF(37,"Shift: "),n.k0s(),n.j41(38,"span"),n.EFF(39),n.k0s()(),n.j41(40,"td")(41,"label"),n.EFF(42,"Process: "),n.k0s(),n.j41(43,"span"),n.EFF(44),n.k0s()()()()()()(),n.j41(45,"nz-tabset",15)(46,"nz-tab",16)(47,"nz-table",17,2)(49,"thead")(50,"tr")(51,"th"),n.EFF(52,"Part No"),n.k0s(),n.j41(53,"th"),n.EFF(54,"Lot No (\u0110\xe3 nh\u1eadp v\xe0o LINE)"),n.k0s()()(),n.j41(55,"tbody"),n.DNE(56,_n,10,6,"tr",18),n.k0s()()(),n.j41(57,"nz-tab",19)(58,"nz-table",17,3)(60,"thead")(61,"tr")(62,"th"),n.EFF(63,"STT"),n.k0s(),n.j41(64,"th"),n.EFF(65,"Part No"),n.k0s(),n.j41(66,"th"),n.EFF(67,"Lot No (\u0110\xe3 nh\u1eadp v\xe0o LINE)"),n.k0s(),n.j41(68,"th"),n.EFF(69,"Qty"),n.k0s(),n.j41(70,"th"),n.EFF(71,"Action"),n.k0s()()(),n.j41(72,"tbody"),n.DNE(73,mn,19,8,"tr",18),n.k0s()()()(),n.j41(74,"nz-modal",20),n.mxI("nzVisibleChange",function(s){return n.eBV(r),n.DH7(e.isOpenScanQRCodeModal,s)||(e.isOpenScanQRCodeModal=s),n.Njj(s)}),n.DNE(75,Rn,23,8,"ng-container",21)(76,En,4,1,"ng-template",22),n.k0s(),n.j41(77,"nz-modal",23),n.mxI("nzVisibleChange",function(s){return n.eBV(r),n.DH7(e.isOpenEditMaterialModal,s)||(e.isOpenEditMaterialModal=s),n.Njj(s)}),n.DNE(78,yn,23,6,"ng-container",21)(79,Mn,4,1,"ng-template",22),n.k0s()}if(2&o){const r=n.sdS(48),c=n.sdS(59);n.Y8G("nzGutter",24),n.R7$(5),n.Y8G("nzData",n.lJ4(15,an)),n.R7$(13),n.JRh(e.infoScan.model),n.R7$(5),n.JRh(e.infoScan.line),n.R7$(5),n.JRh(e.infoScan.date),n.R7$(6),n.JRh(e.infoScan.user),n.R7$(5),n.JRh(e.infoScan.shift),n.R7$(5),n.JRh(e.infoScan.processName),n.R7$(3),n.Y8G("nzData",e.materials),n.R7$(9),n.Y8G("ngForOf",r.data),n.R7$(2),n.Y8G("nzData",e.materialOrder),n.R7$(15),n.Y8G("ngForOf",c.data),n.R7$(),n.R50("nzVisible",e.isOpenScanQRCodeModal),n.Y8G("nzTitle",e.nzTitleScanQRCodeModal),n.R7$(3),n.R50("nzVisible",e.isOpenEditMaterialModal)}},dependencies:[C.Sq,C.bT,a.me,a.Q0,a.BC,a.vS,E.Uq,E.e,F.F2,F.Oj,F.A9,u.CP,u.SO,u._4,u.IL,u.aj,u.kt,u.OL,k.aO,y.c,_.p,b.Sy,G.PV,S.Y,M.SN,on.JZ,on.rE,C.QX],styles:["span.attention[_ngcontent-%COMP%]{font-style:italic;color:red}nz-select[_ngcontent-%COMP%]{width:100%}nz-radio-group[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}nz-table[_ngcontent-%COMP%]{width:100%}nz-table[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:-34px}nz-table[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{vertical-align:top}nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#00f}#error-msg[_ngcontent-%COMP%]{border:1px solid red;font-weight:700;width:100%}#error-msg[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}#warning-msg[_ngcontent-%COMP%]{border:1px solid orange;font-weight:700;width:100%}#warning-msg[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:orange}#info-msg[_ngcontent-%COMP%]{border:1px solid rgb(3,205,255);font-weight:700;width:100%}#info-msg[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:#03cdff}#infoIpt[_ngcontent-%COMP%]{font-weight:700}#infoTbl[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{color:#000;font-weight:700}#infoTbl[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{font-weight:700;color:#00f}#materialEditTbl[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{font-weight:700}"]})}return i})();const Fn=()=>({area:"RELAY"});let wn=(()=>{class i{constructor(){}ngOnInit(){}static#n=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=n.VBU({type:i,selectors:[["app-re-pr-menu"]],decls:35,vars:3,consts:[["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","12","nzMd","12","nzLg","6"],["routerLink","/admin/relay/material-management/lwh-send-line",1,"item","import"],["src","./../../../../../../assets/images/import.png","alt",""],["routerLink","/admin/relay/material-management/rwh-receive-lwh",1,"item","return"],["src","./../../../../../../assets/images/return.png","alt",""],["routerLink","/admin/relay/relay-defect-record/menu",1,"item","wip-ivt"],["src","./../../../../../../assets/images/warehouse.png","alt",""],["routerLink","/admin/relay/relay-datecode",1,"item","date-code",3,"queryParams"],["src","./../../../../../../assets/images/add-calendar.png","alt",""]],template:function(o,e){1&o&&(n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2," Relay Factory"),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4," Ph\xf2ng S\u1ea1ch "),n.k0s()(),n.nrm(5,"br"),n.j41(6,"div",0)(7,"div",1)(8,"div",2),n.nrm(9,"img",3),n.j41(10,"h6"),n.EFF(11,"Nh\u1eadp NVL v\xe0o LINE"),n.k0s(),n.j41(12,"h4"),n.EFF(13,"Import to LINE"),n.k0s()()(),n.j41(14,"div",1)(15,"div",4),n.nrm(16,"img",5),n.j41(17,"h6"),n.EFF(18,"Tr\u1ea3 kho trung chuy\u1ec3n"),n.k0s(),n.j41(19,"h4"),n.EFF(20,"Return RE-WH"),n.k0s()()(),n.j41(21,"div",1)(22,"div",6),n.nrm(23,"img",7),n.j41(24,"h6"),n.EFF(25,"Nh\u1eadp l\u1ed7i c\xf4ng \u0111o\u1ea1n"),n.k0s(),n.j41(26,"h4"),n.EFF(27,"Defect Record"),n.k0s()()(),n.j41(28,"div",1)(29,"div",8),n.nrm(30,"img",9),n.j41(31,"h6"),n.EFF(32,"Nh\u1eadp Date Code"),n.k0s(),n.j41(33,"h4"),n.EFF(34,"Insert Date Code"),n.k0s()()()()),2&o&&(n.R7$(6),n.Y8G("nzGutter",8),n.R7$(23),n.Y8G("queryParams",n.lJ4(2,Fn)))},dependencies:[V.Wk,E.Uq,E.e,l.hL,l.K7],styles:[".item[_ngcontent-%COMP%]{text-align:center;border:1px solid #ccc;padding:15px 10px}.item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#fff}.item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:15px;font-size:18px;color:#fff;font-weight:700}.import[_ngcontent-%COMP%]{background:#e07e37}.return[_ngcontent-%COMP%]{background:#63d171}.inventory[_ngcontent-%COMP%]{background:#959595c7}.date-code[_ngcontent-%COMP%]{background:#086aa3c7}.qa-card[_ngcontent-%COMP%]{background:#95aebe}.qa-card-check[_ngcontent-%COMP%]{background:#63d171}.wip-ivt[_ngcontent-%COMP%]{background:#9f756f}"]})}return i})();const vn=["parentQaCardIpt"],Sn=["childQaCardIpt"],Tn=["qtyIpt"];function kn(i,d){if(1&i&&(n.j41(0,"table")(1,"tbody")(2,"tr")(3,"td",22),n.EFF(4,"Model"),n.k0s(),n.j41(5,"td",23),n.EFF(6),n.k0s(),n.j41(7,"td",22),n.EFF(8,"Line"),n.k0s(),n.j41(9,"td",23),n.EFF(10),n.k0s()(),n.j41(11,"tr")(12,"td",22),n.EFF(13,"Date"),n.k0s(),n.j41(14,"td",23),n.EFF(15),n.k0s(),n.j41(16,"td",22),n.EFF(17,"Shift"),n.k0s(),n.j41(18,"td",23),n.EFF(19),n.k0s()()()()),2&i){const t=n.XpG();n.R7$(6),n.JRh(t.parentQaCard.split("*")[0]),n.R7$(4),n.JRh(t.parentQaCard.split("*")[1]),n.R7$(5),n.JRh(t.parentQaCard.split("*")[2]),n.R7$(4),n.JRh(t.parentQaCard.split("*")[3])}}function jn(i,d){if(1&i&&(n.j41(0,"table")(1,"tbody")(2,"tr")(3,"td",22),n.EFF(4,"Model"),n.k0s(),n.j41(5,"td",23),n.EFF(6),n.k0s(),n.j41(7,"td",22),n.EFF(8,"Line"),n.k0s(),n.j41(9,"td",23),n.EFF(10),n.k0s()(),n.j41(11,"tr")(12,"td",22),n.EFF(13,"Date"),n.k0s(),n.j41(14,"td",23),n.EFF(15),n.k0s(),n.j41(16,"td",22),n.EFF(17,"Shift"),n.k0s(),n.j41(18,"td",23),n.EFF(19),n.k0s()()()()),2&i){const t=n.XpG();n.R7$(6),n.JRh(t.childQaCard.split("*")[0]),n.R7$(4),n.JRh(t.childQaCard.split("*")[1]),n.R7$(5),n.JRh(t.childQaCard.split("*")[2]),n.R7$(4),n.JRh(t.childQaCard.split("*")[3])}}function Pn(i,d){if(1&i){const t=n.RV6();n.j41(0,"tr")(1,"td",24),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td",25),n.EFF(6),n.nI1(7,"number"),n.k0s(),n.j41(8,"td",24),n.EFF(9),n.nI1(10,"date"),n.k0s(),n.j41(11,"td",26),n.bIt("nzOnConfirm",function(){const e=n.eBV(t).$implicit,r=n.XpG();return n.Njj(r.deleteQACard(e))}),n.j41(12,"a",27),n.EFF(13,"X\xf3a"),n.k0s()()()}if(2&i){const t=d.$implicit,o=d.index;n.R7$(2),n.JRh(o+1),n.R7$(2),n.JRh(t.clotno),n.R7$(2),n.JRh(n.i5U(7,4,t.qty,"1.0-3")),n.R7$(3),n.SpI(" ",n.i5U(10,7,t.createdAt,"yyyy-MM-dd HH:mm")," ")}}function Nn(i,d){if(1&i&&n.nrm(0,"nz-option",32),2&i){const t=d.$implicit;n.Y8G("nzValue",t.id)("nzLabel",t.name)}}function On(i,d){if(1&i){const t=n.RV6();n.j41(0,"table")(1,"tbody")(2,"tr")(3,"td",22),n.EFF(4,"Model"),n.k0s(),n.j41(5,"td",23),n.EFF(6),n.k0s(),n.j41(7,"td",22),n.EFF(8,"Line"),n.k0s(),n.j41(9,"td",23),n.EFF(10),n.k0s()(),n.j41(11,"tr")(12,"td",22),n.EFF(13,"Date"),n.k0s(),n.j41(14,"td",23),n.EFF(15),n.k0s(),n.j41(16,"td",22),n.EFF(17,"Shift"),n.k0s(),n.j41(18,"td",23),n.EFF(19),n.k0s()(),n.j41(20,"tr")(21,"td",22),n.EFF(22,"Process"),n.k0s(),n.j41(23,"td",28)(24,"nz-select",29,3),n.mxI("ngModelChange",function(e){n.eBV(t);const r=n.XpG(2);return n.DH7(r.processId,e)||(r.processId=e),n.Njj(e)}),n.bIt("keydown.enter",function(e){n.eBV(t);const r=n.XpG(2);return n.Njj(r.scanProcess(e))}),n.DNE(26,Nn,1,2,"nz-option",30),n.k0s()()(),n.j41(27,"tr")(28,"td",22),n.EFF(29,"Qty"),n.k0s(),n.j41(30,"td",28)(31,"input",31,4),n.mxI("ngModelChange",function(e){n.eBV(t);const r=n.XpG(2);return n.DH7(r.qty,e)||(r.qty=e),n.Njj(e)}),n.k0s()()()()()}if(2&i){const t=n.XpG(2);n.R7$(6),n.JRh(t.childQaCard.split("*")[0]),n.R7$(4),n.JRh(t.childQaCard.split("*")[1]),n.R7$(5),n.JRh(t.childQaCard.split("*")[2]),n.R7$(4),n.JRh(t.childQaCard.split("*")[3]),n.R7$(5),n.Y8G("nzAutoFocus",!0),n.R50("ngModel",t.processId),n.R7$(2),n.Y8G("ngForOf",t.processes),n.R7$(5),n.R50("ngModel",t.qty)}}function Ln(i,d){if(1&i&&(n.qex(0),n.DNE(1,On,33,8,"table",11),n.bVm()),2&i){const t=n.XpG();n.R7$(),n.Y8G("ngIf",t.childQaCard)}}function In(i,d){if(1&i){const t=n.RV6();n.j41(0,"div")(1,"button",33),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.handleCancel())}),n.EFF(2,"H\u1ee7y"),n.k0s(),n.j41(3,"button",34),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.handleSave())}),n.EFF(4,"L\u01b0u"),n.k0s()()}}let Dn=(()=>{class i{constructor(t,o){this.rePrSvc=t,this.toastr=o,this.processes=new Array,this.qaCards=new Array,this.isVisibleModal=!1}getProcesses(){this.rePrSvc.getProcesses().subscribe(t=>{for(const o of t)/^WIP-/.test(o.name)&&this.processes.push(o)})}ngOnInit(){this.getProcesses(),setTimeout(()=>{this.parentQaCardIpt.nativeElement.focus()},0)}scanInspectQACard(t){console.log(t.target.value),t.target.value?(this.parentQaCard=t.target.value,this.rePrSvc.getChildQaCards(this.parentQaCard).subscribe(o=>{this.qaCards=o,this.childQaCardIpt.nativeElement.select()})):this.toastr.warning("C\u1ea7n scan Parent QA Card","Warning")}scanChildQACard(t){t.target.value?(this.childQaCard=t.target.value,this.isOkModelQACard(this.parentQaCard,this.childQaCard)?this.isVisibleModal=!0:this.childQaCardIpt.nativeElement.select()):this.toastr.warning("C\u1ea7n scan Child QA Card","Warning")}scanProcess(t){}isOkModelQACard(t,o){return t.split("*")[0]===o.split("*")[0]||(this.toastr.warning("Sai m\xe3 Model","Warning"),!1)}deleteQACard(t){console.log("Delete: ",t),this.rePrSvc.deleteChildQaCard(t.id).subscribe(o=>{this.toastr.success(t.qaCard,"\u0110\xe3 x\xf3a"),this.rePrSvc.getChildQaCards(this.parentQaCard).subscribe(e=>{this.qaCards=e,this.childQaCardIpt.nativeElement.select()})})}handleSave(){this.parentQaCard!=this.childQaCard?this.rePrSvc.mappingQaCard({plotno:this.parentQaCard,clotno:this.childQaCard,qty:this.qty,processId:this.processId}).subscribe(o=>{this.toastr.success("L\u01b0u th\xe0nh c\xf4ng","Success"),this.isVisibleModal=!1,this.qty=null,this.parentQaCardIpt.nativeElement.select(),this.childQaCard="",this.processId=null,this.getChildQaCards()}):this.toastr.warning("QA Card b\u1ecb tr\xf9ng","Warning")}getChildQaCards(){this.rePrSvc.getChildQaCards(this.parentQaCard).subscribe(t=>{this.qaCards=t})}handleCancel(){this.isVisibleModal=!1,this.qty=null,this.processId=null,this.childQaCardIpt.nativeElement.select()}static#n=this.\u0275fac=function(o){return new(o||i)(n.rXU(g),n.rXU(L.tw))};static#t=this.\u0275cmp=n.VBU({type:i,selectors:[["app-relay-mapping-qacard"]],viewQuery:function(o,e){if(1&o&&(n.GBs(vn,5),n.GBs(Sn,5),n.GBs(Tn,5)),2&o){let r;n.mGM(r=n.lsd())&&(e.parentQaCardIpt=r.first),n.mGM(r=n.lsd())&&(e.childQaCardIpt=r.first),n.mGM(r=n.lsd())&&(e.qtyIpt=r.first)}},decls:52,vars:8,consts:[["parentQaCardIpt",""],["childQaCardIpt",""],["childQACard",""],["processIpt",""],["qtyIpt",""],["nzHeader","Mapping QA Card",3,"nzActive","nzShowArrow"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzLg","12"],["nzXs","24","nzSm","24","nzLg","24"],["nz-input","","placeholder","QA Card Parent",2,"font-weight","bold",3,"keydown.enter","click"],["nz-input","","placeholder","QA Card Child",2,"font-weight","bold",3,"keydown.enter","click"],[4,"ngIf"],["id","childQACardTbl","nzBordered","","nzSize","small",3,"nzData"],[2,"width","5%"],[2,"width","45%"],[2,"width","15%"],[2,"width","25%"],[2,"width","10%"],[4,"ngFor","ngForOf"],["nzTitle","Mapping QA Card",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],[1,"label"],[1,"info"],[2,"text-align","center"],[2,"text-align","right"],["nz-popconfirm","","nzPopconfirmTitle","Are you sure delete this QA Card?","nzPopconfirmPlacement","left",2,"text-align","center",3,"nzOnConfirm"],[2,"color","red"],["colspan","3"],["nzShowSearch","","nzAllowClear","","ngModel","lucy","nzPlaceHolder","Process",3,"ngModelChange","keydown.enter","nzAutoFocus","ngModel"],["class","option",3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-input","","type","number","placeholder","Nh\u1eadp s\u1ed1 l\u01b0\u1ee3ng",3,"ngModelChange","ngModel"],[1,"option",3,"nzValue","nzLabel"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(o,e){if(1&o){const r=n.RV6();n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2," Relay Factory"),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4," Ph\xf2ng S\u1ea1ch "),n.k0s(),n.j41(5,"nz-breadcrumb-item"),n.EFF(6," Mapping QA Card "),n.k0s()(),n.j41(7,"nz-collapse")(8,"nz-collapse-panel",5)(9,"div",6)(10,"div",7)(11,"div",8)(12,"label"),n.EFF(13,"QA Card Parent "),n.k0s(),n.j41(14,"span"),n.EFF(15,"(Hi\xean t\u1ea1i \u0111ang ch\u1ea1y)"),n.k0s()(),n.j41(16,"div",8)(17,"input",9,0),n.bIt("keydown.enter",function(s){return n.eBV(r),n.Njj(e.scanInspectQACard(s))})("click",function(){n.eBV(r);const s=n.sdS(18);return n.Njj(s.select())}),n.k0s()()(),n.j41(19,"div",7)(20,"div",8)(21,"label"),n.EFF(22,"QA Card Child "),n.k0s(),n.j41(23,"span"),n.EFF(24,"(QA Card \u0111\u01b0\u1ee3c th\xeam v\xe0o)"),n.k0s()(),n.j41(25,"div",8)(26,"input",10,1),n.bIt("keydown.enter",function(s){return n.eBV(r),n.Njj(e.scanChildQACard(s))})("click",function(){n.eBV(r);const s=n.sdS(27);return n.Njj(s.select())}),n.k0s()()(),n.nrm(28,"div"),n.j41(29,"div",7),n.DNE(30,kn,20,4,"table",11),n.k0s(),n.j41(31,"div",7),n.DNE(32,jn,20,4,"table",11),n.k0s()()()(),n.j41(33,"nz-table",12,2)(35,"thead")(36,"tr")(37,"th",13),n.EFF(38,"STT"),n.k0s(),n.j41(39,"th",14),n.EFF(40,"QA Card child"),n.k0s(),n.j41(41,"th",15),n.EFF(42,"Qty"),n.k0s(),n.j41(43,"th",16),n.EFF(44,"Date"),n.k0s(),n.j41(45,"th",17),n.EFF(46,"Action"),n.k0s()()(),n.j41(47,"tbody"),n.DNE(48,Pn,14,10,"tr",18),n.k0s()(),n.j41(49,"nz-modal",19),n.mxI("nzVisibleChange",function(s){return n.eBV(r),n.DH7(e.isVisibleModal,s)||(e.isVisibleModal=s),n.Njj(s)}),n.DNE(50,Ln,2,1,"ng-container",20)(51,In,5,0,"div",21),n.k0s()}if(2&o){const r=n.sdS(34);n.R7$(8),n.Y8G("nzActive",!0)("nzShowArrow",!0),n.R7$(),n.Y8G("nzGutter",24),n.R7$(21),n.Y8G("ngIf",e.parentQaCard),n.R7$(2),n.Y8G("ngIf",e.childQaCard),n.R7$(),n.Y8G("nzData",e.qaCards),n.R7$(15),n.Y8G("ngForOf",r.data),n.R7$(),n.R50("nzVisible",e.isVisibleModal)}},dependencies:[C.Sq,C.bT,a.me,a.Q0,a.BC,a.vS,E.Uq,E.e,l.hL,l.K7,F.F2,F.Oj,F.A9,P.ld,P.WI,u.CP,u.SO,u._4,u.IL,u.aj,u.kt,k.aO,y.c,_.p,b.Sy,G.PV,T.Vz,T.pc,C.QX,C.vh],styles:["nz-select[_ngcontent-%COMP%]{width:100%}label[_ngcontent-%COMP%]{font-weight:700}table[_ngcontent-%COMP%]{margin-top:5px;width:100%}table[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #d9d9d9;border-collapse:collapse;padding-left:5px}table[_ngcontent-%COMP%]   .label[_ngcontent-%COMP%]{font-weight:700}table[_ngcontent-%COMP%]   .info[_ngcontent-%COMP%]{color:#00f}#childQACardTbl[_ngcontent-%COMP%]{margin-top:10px}"]})}return i})();function An(i,d){if(1&i&&(n.j41(0,"tr")(1,"td",3),n.EFF(2),n.k0s(),n.j41(3,"td",4)(4,"a"),n.EFF(5),n.k0s()()()),2&i){const t=d.$implicit,o=d.index;n.R7$(2),n.JRh(o+1),n.R7$(),n.Y8G("routerLink",t.route),n.R7$(2),n.JRh(t.name)}}let Gn=(()=>{class i{constructor(){this.menu=[{name:"Nh\u1eadn NVL t\u1eeb kho PUR-WH",route:"/admin/relay/relay-process-recording/requests"},{name:"Chuy\u1ec3n NVL v\xe0o xe NVL (LINE-WH)",route:"/admin/relay/material-management/rwh-send-lwh"},{name:"Kho trung chuy\u1ec3n (RE-WH) nh\u1eadn NVL t\u1eeb LINE tr\u1ea3",route:"/admin/relay/material-management/rwh-receive-lwh"},{name:"Th\u1ed1ng k\xea NVL",route:"/admin/relay/material-management/relay-material-traceability"}]}ngOnInit(){}static#n=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=n.VBU({type:i,selectors:[["app-re-wh-menu"]],decls:16,vars:2,consts:[["menuTable",""],["nzBordered","","nzFrontPagination","false",3,"nzData"],[4,"ngFor","ngForOf"],[2,"width","100px","text-align","center"],[3,"routerLink"]],template:function(o,e){if(1&o&&(n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2,"Relay"),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4,"Kho trung chuy\u1ec3n"),n.k0s()(),n.nrm(5,"br"),n.j41(6,"nz-table",1,0)(8,"thead")(9,"tr")(10,"th"),n.EFF(11,"STT"),n.k0s(),n.j41(12,"th"),n.EFF(13,"Action"),n.k0s()()(),n.j41(14,"tbody"),n.DNE(15,An,6,3,"tr",2),n.k0s()()),2&o){const r=n.sdS(7);n.R7$(6),n.Y8G("nzData",e.menu),n.R7$(9),n.Y8G("ngForOf",r.data)}},dependencies:[C.Sq,V.Wk,l.hL,l.K7,u.CP,u.SO,u._4,u.IL,u.aj,u.kt],styles:["nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]{font-weight:700}"]})}return i})(),tn=(()=>{class i{constructor(t){this.httpClient=t,this.baseUrl=f.c.baseUrl}getUsers(t){return this.httpClient.post(`${this.baseUrl}/Commons/Users`,t)}getPurWhRecords(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialManagement/PurWhRecords`,t)}deletePurWhRecords(t){return this.httpClient.delete(`${this.baseUrl}/Relay/MaterialManagement/PurWhRecords/${t}`)}getLines(t){return this.httpClient.get(`${this.baseUrl}/Relay/MaterialControl/Lines?productId=${t}`)}getSlips(){return this.httpClient.get(`${this.baseUrl}/Relay/MaterialControl/Slips`)}getMaterialsBySlipNo(t){return this.httpClient.get(`${this.baseUrl}/Relay/MaterialControl/Slips/${t}`)}scanMaterialV3(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialControl/ScanMaterial`,t)}saveMaterials(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialControl/SaveMaterials`,t)}getPartsByModel(t){return this.httpClient.get(`${this.baseUrl}/Relay/MaterialControl/Parts?model=${t}`)}savePurWhRecord(t){return this.httpClient.post(`${this.baseUrl}/Relay/MaterialControl/SavePurWhRecord`,t)}generateSlipNo(t,o){return this.httpClient.get(`${this.baseUrl}/Relay/MaterialControl/GenerateSlipNo?recordType=${t}&username=${o}`)}getSlipsRelayReturnWarehouse(){return this.httpClient.get(`${this.baseUrl}/Relay/MaterialControl/SlipsRelayReturnWarehouse`)}getSlipsRelayReturnWarehouseDetail(t){return this.httpClient.get(`${this.baseUrl}/Relay/MaterialControl/SlipsRelayReturnWarehouse/${t}`)}deletePurWhRecordById(t){return this.httpClient.delete(`${this.baseUrl}/Relay/MaterialControl/DeletePurWhRecord/${t}`)}getLotRequestAndLotReceive(t){return this.httpClient.get(`${this.baseUrl}/Relay/MaterialControl/GetLotRequestAndLotReceive?requestNo=${t}`)}static#n=this.\u0275fac=function(o){return new(o||i)(n.KVO(x.Qq))};static#t=this.\u0275prov=n.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const xn=()=>[10,15,25,50,100];function Vn(i,d){if(1&i&&(n.j41(0,"div",10)(1,"span"),n.EFF(2),n.k0s()()),2&i){const t=d.$implicit;n.Y8G("ngClass",t.data.receive==t.data.amount?"ok":"not-yet"),n.R7$(2),n.Lme(" ",t.data.receive?t.data.receive:0," / ",t.data.amount," ")}}function Bn(i,d){if(1&i&&(n.j41(0,"div",10)(1,"span"),n.EFF(2),n.k0s()()),2&i){const t=d.$implicit;n.Y8G("ngClass",t.data.receive==t.data.amount?"ok":"not-yet"),n.R7$(2),n.JRh(t.data.receive==t.data.amount?"\u0110\xe3 nh\u1eadn \u0111\u1ee7":"Not yet")}}let Qn=(()=>{class i{constructor(t,o){this.router=t,this.reWhSvc=o}ngOnInit(){}ngAfterViewInit(){this.getListPXK()}getListPXK(){this.requestGrid?.instance.beginCustomLoading("\u0110ang load d\u1eef li\u1ec7u ..."),this.reWhSvc.getSlips().subscribe(t=>{this.slips=t,this.requestGrid.instance.endCustomLoading()})}onRowClick(t){this.router.navigate([`admin/relay/relay-process-recording/request?requestNo=${t.data.slipNo}`])}static#n=this.\u0275fac=function(o){return new(o||i)(n.rXU(V.Ix),n.rXU(tn))};static#t=this.\u0275cmp=n.VBU({type:i,selectors:[["app-re-wh-requests"]],viewQuery:function(o,e){if(1&o&&n.GBs(D.s,5),2&o){let r;n.mGM(r=n.lsd())&&(e.requestGrid=r.first)}},decls:19,vars:11,consts:[["requestGrid",""],["id","gridMaster",2,"margin-top","10px",3,"onRowClick","dataSource","showColumnLines","showRowLines","showBorders"],[3,"visible"],["caption","S\u1ed1 phi\u1ebfu","dataField","slipNo"],["caption","Ng\xe0y t\u1ea1o","dataField","date","dataType","date","format","yyyy-MM-dd"],["caption","S\u1ed1 lot \u0111\xe3 nh\u1eadn","cellTemplate","amountTemplate"],[3,"ngClass",4,"dxTemplate","dxTemplateOf"],["caption","Tr\u1ea1ng th\xe1i","cellTemplate","statusTemplate"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],[3,"ngClass"]],template:function(o,e){if(1&o){const r=n.RV6();n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2,"Relay"),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4,"Kho trung chuy\u1ec3n"),n.k0s(),n.j41(5,"nz-breadcrumb-item"),n.EFF(6,"Phi\u1ebfu xu\u1ea5t kho"),n.k0s()(),n.nrm(7,"br"),n.j41(8,"dx-data-grid",1,0),n.bIt("onRowClick",function(s){return n.eBV(r),n.Njj(e.onRowClick(s))}),n.nrm(10,"dxo-filter-row",2)(11,"dxi-column",3)(12,"dxi-column",4)(13,"dxi-column",5),n.DNE(14,Vn,3,3,"div",6),n.nrm(15,"dxi-column",7),n.DNE(16,Bn,3,2,"div",6),n.nrm(17,"dxo-paging",8)(18,"dxo-pager",9),n.k0s()}2&o&&(n.R7$(8),n.Y8G("dataSource",e.slips)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0),n.R7$(2),n.Y8G("visible",!0),n.R7$(4),n.Y8G("dxTemplateOf","amountTemplate"),n.R7$(2),n.Y8G("dxTemplateOf","statusTemplate"),n.R7$(),n.Y8G("pageSize",15),n.R7$(),n.Y8G("showPageSizeSelector",!0)("allowedPageSizes",n.lJ4(10,xn)))},dependencies:[C.YU,D.s,m.nj_,m.FTx,m.sVQ,m.PVd,h.eC,l.hL,l.K7],styles:[".ok[_ngcontent-%COMP%]{color:#00f;text-align:center;font-weight:700}.not-yet[_ngcontent-%COMP%]{color:red;text-align:center;font-weight:700}"]})}return i})();const $n=["userIpt"],Un=["qrCodeIpt"],Wn=["importQtyIpt"];function Xn(i,d){if(1&i&&n.nrm(0,"nz-option",15),2&i){const t=d.$implicit;n.Y8G("nzValue",t.username)("nzLabel",t.name+" - "+t.username)}}function qn(i,d){if(1&i&&n.nrm(0,"nz-option",15),2&i){const t=d.$implicit;n.Y8G("nzValue",t.username)("nzLabel",t.name+" - "+t.username)}}function Yn(i,d){if(1&i&&n.nrm(0,"nz-option",16),2&i){const t=d.$implicit;n.Y8G("nzValue",t.name)("nzLabel",t.name)}}function Hn(i,d){if(1&i&&n.nrm(0,"nz-alert",21),2&i){const t=n.XpG(2);n.Y8G("nzMessage",t.lotErrMsg)}}function Kn(i,d){if(1&i){const t=n.RV6();n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td",22)(6,"div",23),n.bIt("click",function(){const e=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.startEdit(e))}),n.EFF(7),n.nI1(8,"number"),n.k0s(),n.j41(9,"input",24,3),n.mxI("ngModelChange",function(e){const r=n.eBV(t).$implicit;return n.DH7(r.qty,e)||(r.qty=e),n.Njj(e)}),n.bIt("blur",function(){n.eBV(t);const e=n.XpG(2);return n.Njj(e.stopEdit())}),n.k0s()(),n.j41(11,"td",25),n.bIt("nzOnConfirm",function(){const e=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.deleteQRCodeScanned(e))}),n.j41(12,"a",26),n.EFF(13,"X\xf3a"),n.k0s()()()}if(2&i){const t=d.$implicit,o=n.XpG(2);n.R7$(2),n.JRh(t.partNo),n.R7$(2),n.JRh(t.lotNo),n.R7$(2),n.Y8G("hidden",o.lotNoEdit===t.lotNo),n.R7$(),n.SpI(" ",n.i5U(8,6,t.qty,"1.0-3")," "),n.R7$(2),n.Y8G("hidden",o.lotNoEdit!==t.lotNo),n.R50("ngModel",t.qty)}}function Jn(i,d){if(1&i){const t=n.RV6();n.qex(0),n.j41(1,"div",4)(2,"input",17,1),n.bIt("keydown.enter",function(e){n.eBV(t);const r=n.XpG();return n.Njj(r.scanQRCode(e))})("click",function(){n.eBV(t);const e=n.sdS(3);return n.Njj(e.select())}),n.k0s(),n.DNE(4,Hn,1,1,"nz-alert",18),n.j41(5,"nz-table",19,2)(7,"thead")(8,"tr")(9,"th"),n.EFF(10,"Part No"),n.k0s(),n.j41(11,"th"),n.EFF(12,"Lot No"),n.k0s(),n.j41(13,"th"),n.EFF(14,"Qty"),n.k0s(),n.j41(15,"th"),n.EFF(16,"Action"),n.k0s()()(),n.j41(17,"tbody"),n.DNE(18,Kn,14,9,"tr",20),n.k0s()()(),n.bVm()}if(2&i){const t=n.sdS(6),o=n.XpG();n.R7$(),n.Y8G("nzGutter",24),n.R7$(3),n.Y8G("ngIf",o.lotErrMsg),n.R7$(),n.Y8G("nzData",o.listLotsScanned)("nzFrontPagination",!1),n.R7$(13),n.Y8G("ngForOf",t.data)}}function Zn(i,d){if(1&i){const t=n.RV6();n.j41(0,"div")(1,"button",27),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.isOpenScanQRCodeModal=!1)}),n.EFF(2," H\u1ee7y "),n.k0s(),n.j41(3,"button",28),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.receiveLotsFromLineWh())}),n.EFF(4," L\u01b0u "),n.k0s()()}}let nt=(()=>{class i{constructor(t,o){this.reWhSvc=t,this.toastr=o,this.mapLotsScanned=new Map,this.listLotsScanned=new Array,this.isOpenScanQRCodeModal=!1,this.lotNoEdit=null,this.lotErrMsg=null}ngOnInit(){this.getUsers(),this.getLines()}getUsers(){this.reWhSvc.getUsers({}).subscribe(t=>{this.users=t})}getLines(){this.reWhSvc.getLines(5).subscribe(t=>{this.lines=t})}scanUser(t){if(!this.username)return this.toastr.warning("M\xe3 nh\xe2n vi\xean kh\xf4ng h\u1ee3p l\u1ec7 !"),void this.userIpt.clearInput()}showModal(){this.sender&&this.receiver&&this.line?(this.isOpenScanQRCodeModal=!0,setTimeout(()=>{this.qrCodeIpt.nativeElement.focus()},500)):this.toastr.warning("C\u1ea7n nh\u1eadp th\xf4ng tin ng\u01b0\u1eddi giao nh\u1eadn, Line s\u1ea3n xu\u1ea5t")}scanQRCode(t){this.qrCodeIpt.nativeElement.select();let o=t.target.value.toLocaleUpperCase().split(";"),e={lotNo:o[3],recordType:"CTR",qty:o[2],partNo:o[0],sender:this.sender,receiver:this.receiver,whUserCode:this.sender,line:this.line,date:new Date,flag:"5",qrCode:t.target.value.toLocaleUpperCase()};this.reWhSvc.scanMaterialV3(e).subscribe(r=>"ERROR"==r.status?(this.lotErrMsg=r.message,void this.toastr.error("C\xf3 l\u1ed7i !","Error",{timeOut:1500})):"OK"==r.status?(this.lotErrMsg=null,this.mapLotsScanned.set(t.target.value,r.data),void(this.listLotsScanned=Array.from(this.mapLotsScanned.values()).reverse())):void 0)}receiveLotsFromLineWh(){this.listLotsScanned.length?(console.log("SAVE DATA: ",this.listLotsScanned),this.reWhSvc.saveMaterials(this.listLotsScanned).subscribe(t=>{this.isOpenScanQRCodeModal=!1,this.mapLotsScanned=new Map,this.listLotsScanned=new Array})):this.toastr.warning("Kh\xf4ng c\xf3 Lot n\xe0o \u0111\u01b0\u1ee3c l\u01b0u !")}deleteQRCodeScanned(t){this.mapLotsScanned.delete(t.qrCode),this.listLotsScanned=Array.from(this.mapLotsScanned.values()).reverse()}startEdit(t){console.log("AAAA"),setTimeout(()=>{this.importQtyIpt.nativeElement.focus()},500),this.lotNoEdit=t.lotNo}stopEdit(){this.lotNoEdit=null}static#n=this.\u0275fac=function(o){return new(o||i)(n.rXU(tn),n.rXU(L.tw))};static#t=this.\u0275cmp=n.VBU({type:i,selectors:[["app-rwh-receive-lwh"]],viewQuery:function(o,e){if(1&o&&(n.GBs($n,5),n.GBs(Un,5),n.GBs(Wn,5)),2&o){let r;n.mGM(r=n.lsd())&&(e.userIpt=r.first),n.mGM(r=n.lsd())&&(e.qrCodeIpt=r.first),n.mGM(r=n.lsd())&&(e.importQtyIpt=r.first)}},decls:24,vars:10,consts:[["userIpt",""],["qrCodeIpt",""],["qrTbl",""],["importQtyIpt",""],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","6","nzLg","6"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Ch\u1ecdn ng\u01b0\u1eddi giao",3,"ngModelChange","keydown.enter","nzAutoFocus","ngModel"],["class","option",3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Ch\u1ecdn ng\u01b0\u1eddi nh\u1eadn",3,"ngModelChange","keydown.enter","nzAutoFocus","ngModel"],["nzPlaceHolder","Line","nzAllowClear","",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-button","","nzType","primary",2,"margin-right","5px",3,"click"],["nzTitle","Nh\u1eadn nguy\xean v\u1eadt li\u1ec7u LINE tr\u1ea3","nzWidth","850px",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],[1,"option",3,"nzValue","nzLabel"],[3,"nzValue","nzLabel"],["id","qrCodeIpt","nz-input","","placeholder","Scan QR Code","autocomplete","off",3,"keydown.enter","click"],["id","error-msg","nzBanner","","nzShowIcon","","style","margin-top: 10px","nzType","error",3,"nzMessage",4,"ngIf"],["nzBordered","","nzSize","small",2,"margin-top","15px",3,"nzData","nzFrontPagination"],[4,"ngFor","ngForOf"],["id","error-msg","nzBanner","","nzShowIcon","","nzType","error",2,"margin-top","10px",3,"nzMessage"],[1,"editable-row",2,"text-align","right"],[1,"editable-cell",3,"click","hidden"],["type","number","nz-input","",3,"ngModelChange","blur","hidden","ngModel"],["nz-popconfirm","","nzPopconfirmTitle","C\xf3 ch\u1eafc ch\u1eafn x\xf3a kh\xf4ng ?","nzPopconfirmPlacement","top","nzRight","",2,"text-align","center",3,"nzOnConfirm"],[2,"color","red","font-weight","bold"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click"]],template:function(o,e){if(1&o){const r=n.RV6();n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2,"Relay Factory"),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4,"NVL tr\u1ea3 v\u1ec1 kho trung chuy\u1ec3n (RE-WH)"),n.k0s()(),n.nrm(5,"br"),n.j41(6,"div",4)(7,"div",5)(8,"nz-select",6,0),n.mxI("ngModelChange",function(s){return n.eBV(r),n.DH7(e.sender,s)||(e.sender=s),n.Njj(s)}),n.bIt("keydown.enter",function(s){return n.eBV(r),n.Njj(e.scanUser(s))}),n.DNE(10,Xn,1,2,"nz-option",7),n.k0s()(),n.j41(11,"div",5)(12,"nz-select",8,0),n.mxI("ngModelChange",function(s){return n.eBV(r),n.DH7(e.receiver,s)||(e.receiver=s),n.Njj(s)}),n.bIt("keydown.enter",function(s){return n.eBV(r),n.Njj(e.scanUser(s))}),n.DNE(14,qn,1,2,"nz-option",7),n.k0s()(),n.j41(15,"div",5)(16,"nz-select",9),n.mxI("ngModelChange",function(s){return n.eBV(r),n.DH7(e.line,s)||(e.line=s),n.Njj(s)}),n.DNE(17,Yn,1,2,"nz-option",10),n.k0s()(),n.j41(18,"div",5)(19,"button",11),n.bIt("click",function(){return n.eBV(r),n.Njj(e.showModal())}),n.EFF(20," Nh\u1eadn NVL t\u1eeb LINE tr\u1ea3 "),n.k0s()()(),n.j41(21,"nz-modal",12),n.mxI("nzVisibleChange",function(s){return n.eBV(r),n.DH7(e.isOpenScanQRCodeModal,s)||(e.isOpenScanQRCodeModal=s),n.Njj(s)}),n.DNE(22,Jn,19,5,"ng-container",13)(23,Zn,5,0,"div",14),n.k0s()}2&o&&(n.R7$(6),n.Y8G("nzGutter",24),n.R7$(2),n.Y8G("nzAutoFocus",!0),n.R50("ngModel",e.sender),n.R7$(2),n.Y8G("ngForOf",e.users),n.R7$(2),n.Y8G("nzAutoFocus",!0),n.R50("ngModel",e.receiver),n.R7$(2),n.Y8G("ngForOf",e.users),n.R7$(2),n.R50("ngModel",e.line),n.R7$(),n.Y8G("ngForOf",e.lines),n.R7$(4),n.R50("nzVisible",e.isOpenScanQRCodeModal))},dependencies:[C.Sq,C.bT,a.me,a.Q0,a.BC,a.vS,E.Uq,E.e,l.hL,l.K7,F.F2,F.Oj,F.A9,P.ld,P.WI,u.CP,u.SO,u._4,u.IL,u.aj,u.kt,u.OL,k.aO,y.c,_.p,b.Sy,G.PV,S.Y,C.QX],styles:["nz-select[_ngcontent-%COMP%]{width:100%}#error-msg[_ngcontent-%COMP%]{border:1px solid red;font-weight:700;width:100%}#error-msg[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}nz-table[_ngcontent-%COMP%]{width:100%}nz-table[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:-34px}nz-table[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{vertical-align:top}nz-table[_ngcontent-%COMP%]   .qty[_ngcontent-%COMP%]{color:green}nz-table[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{color:red}nz-table[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}#qrCodeIpt[_ngcontent-%COMP%]{font-weight:700;color:#00f}"]})}return i})();var rn=p(97685);const tt=["qrCodeIpt"],et=["qaCardIpt"],ot=["importQtyIpt"];function it(i,d){if(1&i&&n.nrm(0,"nz-option",24),2&i){const t=d.$implicit;n.Y8G("nzValue",t.username)("nzLabel",t.name+" - "+t.username+" - "+t.subsectionCode)}}function rt(i,d){if(1&i){const t=n.RV6();n.j41(0,"nz-select",22),n.mxI("ngModelChange",function(e){n.eBV(t);const r=n.XpG();return n.DH7(r.sender,e)||(r.sender=e),n.Njj(e)}),n.DNE(1,it,1,2,"nz-option",23),n.k0s()}if(2&i){const t=n.XpG();n.R50("ngModel",t.sender),n.R7$(),n.Y8G("ngForOf",t.users)}}function at(i,d){if(1&i&&n.nrm(0,"nz-option",24),2&i){const t=d.$implicit;n.Y8G("nzValue",t.username)("nzLabel",t.name+" - "+t.username+" - "+t.subsectionCode)}}function st(i,d){if(1&i){const t=n.RV6();n.j41(0,"nz-select",25),n.mxI("ngModelChange",function(e){n.eBV(t);const r=n.XpG();return n.DH7(r.receiver,e)||(r.receiver=e),n.Njj(e)}),n.DNE(1,at,1,2,"nz-option",23),n.k0s()}if(2&i){const t=n.XpG();n.R50("ngModel",t.receiver),n.R7$(),n.Y8G("ngForOf",t.users)}}function lt(i,d){if(1&i){const t=n.RV6();n.j41(0,"button",26),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.showModal())}),n.EFF(1," Nh\u1eadn NVL "),n.k0s()}}function ct(i,d){if(1&i){const t=n.RV6();n.j41(0,"button",27),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.openQACardModal())}),n.EFF(1," Chuy\u1ec3n NVL v\xe0o WH-LINE "),n.k0s()}}function dt(i,d){if(1&i){const t=n.RV6();n.j41(0,"button",28),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.isOpenErrorModal=!0)}),n.nrm(1,"i",29),n.k0s()}}function pt(i,d){if(1&i&&(n.j41(0,"li"),n.EFF(1),n.j41(2,"span",31),n.EFF(3),n.nI1(4,"number"),n.k0s()()),2&i){const t=d.$implicit;n.R7$(),n.SpI(" ",t.lotGroup," "),n.R7$(2),n.SpI("(Qty: ",n.i5U(4,2,t.qty,"1.0-3"),")")}}function ht(i,d){1&i&&(n.j41(0,"span",34),n.EFF(1," \u0110\xe3 nh\u1eadn "),n.k0s())}function _t(i,d){if(1&i){const t=n.RV6();n.j41(0,"span",35),n.bIt("nzOnConfirm",function(){n.eBV(t);const e=n.XpG().$implicit,r=n.XpG(2);return n.Njj(r.deleteLot(e))}),n.EFF(1," X\xf3a "),n.k0s()}if(2&i){const t=n.XpG().$implicit;n.Y8G("nzPopconfirmTitle","X\xf3a: "+t.lotNo)}}function ut(i,d){if(1&i&&(n.j41(0,"li")(1,"span"),n.EFF(2),n.k0s(),n.j41(3,"span",31),n.EFF(4),n.nI1(5,"number"),n.k0s(),n.DNE(6,ht,2,0,"span",32)(7,_t,2,1,"span",33),n.k0s()),2&i){const t=d.$implicit;n.R7$(),n.Aen(t.receiver?"background: #c5e1a5":""),n.R7$(),n.SpI(" ",t.lotNo," "),n.R7$(2),n.SpI("(Qty: ",n.i5U(5,6,t.qty,"1.0-3"),")"),n.R7$(2),n.Y8G("ngIf",t.receiver),n.R7$(),n.Y8G("ngIf",t.receiver)}}function mt(i,d){if(1&i&&(n.j41(0,"tr")(1,"td",30),n.EFF(2),n.j41(3,"span",31),n.EFF(4),n.nI1(5,"number"),n.k0s()(),n.j41(6,"td",30)(7,"ul"),n.DNE(8,pt,5,5,"li",16),n.k0s()(),n.j41(9,"td",30)(10,"ul"),n.DNE(11,ut,8,9,"li",16),n.k0s()()()),2&i){const t=d.$implicit;n.R7$(2),n.SpI(" ",t.partNo," "),n.R7$(2),n.SpI("(Qty: ",n.i5U(5,4,t.qty,"1.0-3"),")"),n.R7$(4),n.Y8G("ngForOf",t.lotGroups),n.R7$(3),n.Y8G("ngForOf",t.lots)}}function gt(i,d){if(1&i&&n.nrm(0,"nz-alert",39),2&i){const t=n.XpG(2);n.Y8G("nzMessage",t.lotErrMsg)}}function Ct(i,d){if(1&i){const t=n.RV6();n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td",40)(6,"div",41),n.bIt("click",function(){const e=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.startEdit(e))}),n.EFF(7),n.nI1(8,"number"),n.k0s(),n.j41(9,"input",42,3),n.mxI("ngModelChange",function(e){const r=n.eBV(t).$implicit;return n.DH7(r.qty,e)||(r.qty=e),n.Njj(e)}),n.bIt("blur",function(){n.eBV(t);const e=n.XpG(2);return n.Njj(e.stopEdit())}),n.k0s()(),n.j41(11,"td",43),n.bIt("nzOnConfirm",function(){const e=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.deleteQRCodeScanned(e))}),n.j41(12,"a",44),n.EFF(13,"X\xf3a"),n.k0s()()()}if(2&i){const t=d.$implicit,o=n.XpG(2);n.R7$(2),n.JRh(t.partNo),n.R7$(2),n.JRh(t.lotNo),n.R7$(2),n.Y8G("hidden",o.lotNoEdit===t.lotNo),n.R7$(),n.SpI(" ",n.i5U(8,6,t.qty,"1.0-3")," "),n.R7$(2),n.Y8G("hidden",o.lotNoEdit!==t.lotNo),n.R50("ngModel",t.qty)}}function zt(i,d){if(1&i){const t=n.RV6();n.qex(0),n.j41(1,"div",7)(2,"input",36,1),n.bIt("keydown.enter",function(e){n.eBV(t);const r=n.XpG();return n.Njj(r.scanQRCode(e))})("click",function(){n.eBV(t);const e=n.sdS(3);return n.Njj(e.select())}),n.k0s(),n.DNE(4,gt,1,1,"nz-alert",37),n.j41(5,"nz-table",38,2)(7,"thead")(8,"tr")(9,"th"),n.EFF(10,"Part No"),n.k0s(),n.j41(11,"th"),n.EFF(12,"Lot No"),n.k0s(),n.j41(13,"th"),n.EFF(14,"Qty"),n.k0s(),n.j41(15,"th"),n.EFF(16,"Action"),n.k0s()()(),n.j41(17,"tbody"),n.DNE(18,Ct,14,9,"tr",16),n.k0s()()(),n.bVm()}if(2&i){const t=n.sdS(6),o=n.XpG();n.R7$(),n.Y8G("nzGutter",24),n.R7$(3),n.Y8G("ngIf",o.lotErrMsg),n.R7$(),n.Y8G("nzData",o.listLotsScanned)("nzFrontPagination",!0)("nzPageSize",12),n.R7$(13),n.Y8G("ngForOf",t.data)}}function ft(i,d){if(1&i){const t=n.RV6();n.j41(0,"div")(1,"button",45),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.isOpenScanQRCodeModal=!1)}),n.EFF(2," H\u1ee7y "),n.k0s(),n.j41(3,"button",46),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.receiveLotsFromPWH())}),n.EFF(4," L\u01b0u "),n.k0s()()}if(2&i){const t=n.XpG();n.R7$(3),n.Y8G("nzLoading",t.isLoading)}}function Rt(i,d){if(1&i&&(n.j41(0,"tr")(1,"td")(2,"span"),n.EFF(3),n.k0s()()()),2&i){const t=d.$implicit;n.R7$(3),n.JRh(t)}}function Et(i,d){if(1&i&&(n.qex(0),n.j41(1,"nz-table",47,4)(3,"thead")(4,"tr")(5,"th"),n.EFF(6,"Th\xf4ng tin l\u1ed7i"),n.k0s()()(),n.j41(7,"tbody"),n.DNE(8,Rt,4,1,"tr",16),n.k0s()(),n.bVm()),2&i){const t=n.sdS(2),o=n.XpG();n.R7$(),n.Y8G("nzData",o.errorScanList)("nzFrontPagination",!1),n.R7$(7),n.Y8G("ngForOf",t.data)}}function yt(i,d){if(1&i){const t=n.RV6();n.j41(0,"div")(1,"button",45),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.clearErrorScan())}),n.EFF(2,"X\xf3a"),n.k0s(),n.j41(3,"button",26),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.isOpenErrorModal=!1)}),n.EFF(4," Close "),n.k0s()()}}function Mt(i,d){if(1&i){const t=n.RV6();n.qex(0),n.j41(1,"div",7)(2,"label"),n.EFF(3,"QA CARD"),n.k0s(),n.j41(4,"input",48,5),n.mxI("ngModelChange",function(e){n.eBV(t);const r=n.XpG();return n.DH7(r.qaCard,e)||(r.qaCard=e),n.Njj(e)}),n.k0s()(),n.bVm()}if(2&i){const t=n.XpG();n.R7$(),n.Y8G("nzGutter",24),n.R7$(3),n.R50("ngModel",t.qaCard)}}function bt(i,d){if(1&i){const t=n.RV6();n.j41(0,"div")(1,"button",45),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.cancelMoveMaterialToLineWh())}),n.EFF(2," H\u1ee7y "),n.k0s(),n.j41(3,"button",46),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.moveMaterialToLineWh())}),n.EFF(4," Chuy\u1ec3n "),n.k0s()()}if(2&i){const t=n.XpG();n.R7$(3),n.Y8G("nzLoading",t.isLoading)}}const wt=["qaCardIpt"],vt=["userIpt"],St=["qrCodeIpt"],Tt=["importQtyIpt"];function kt(i,d){if(1&i&&n.nrm(0,"nz-option",22),2&i){const t=d.$implicit;n.Y8G("nzValue",t.username)("nzLabel",t.name+" - "+t.username)}}function jt(i,d){if(1&i){const t=n.RV6();n.j41(0,"i",24),n.bIt("click",function(){n.eBV(t);const e=n.XpG(2);return n.Njj(e.qaCard="")}),n.k0s()}}function Pt(i,d){if(1&i&&n.DNE(0,jt,1,0,"i",23),2&i){const t=n.XpG();n.Y8G("ngIf",t.qaCard)}}function Nt(i,d){if(1&i&&(n.j41(0,"li"),n.EFF(1),n.j41(2,"span",26),n.EFF(3),n.nI1(4,"number"),n.k0s()()),2&i){const t=d.$implicit;n.R7$(),n.SpI(" ",t.lotGroup," - "),n.R7$(2),n.SpI("(Qty: ",n.i5U(4,2,t.qty,"1.0-3"),")")}}function Ot(i,d){if(1&i){const t=n.RV6();n.j41(0,"li")(1,"span"),n.EFF(2),n.k0s(),n.EFF(3," - "),n.j41(4,"span",26),n.EFF(5),n.nI1(6,"number"),n.k0s(),n.j41(7,"i",27),n.bIt("nzOnConfirm",function(){const e=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.deleteRecord(e))}),n.k0s()()}if(2&i){const t=d.$implicit;n.R7$(2),n.JRh(t.lotNo),n.R7$(3),n.SpI("(Qty: ",n.i5U(6,2,t.qty,"1.0-3"),")")}}function Lt(i,d){if(1&i&&(n.j41(0,"tr")(1,"td",25),n.EFF(2),n.j41(3,"span",26),n.EFF(4),n.nI1(5,"number"),n.k0s()(),n.j41(6,"td",25)(7,"ul"),n.DNE(8,Nt,5,5,"li",18),n.k0s()(),n.j41(9,"td",25)(10,"ul"),n.DNE(11,Ot,8,5,"li",18),n.k0s()()()),2&i){const t=d.$implicit;n.R7$(2),n.SpI(" ",t.model," "),n.R7$(2),n.SpI("(Qty: ",n.i5U(5,4,t.qty,"1.0-3"),")"),n.R7$(4),n.Y8G("ngForOf",t.lotGroups),n.R7$(3),n.Y8G("ngForOf",t.lots)}}function It(i,d){if(1&i&&n.nrm(0,"nz-alert",31),2&i){const t=n.XpG(2);n.Y8G("nzMessage",t.lotErrMsg)}}function Dt(i,d){if(1&i){const t=n.RV6();n.j41(0,"tr")(1,"td")(2,"span",32),n.EFF(3),n.k0s()(),n.j41(4,"td")(5,"span",32),n.EFF(6),n.k0s(),n.j41(7,"span",33),n.EFF(8),n.nI1(9,"number"),n.k0s()(),n.j41(10,"td",34)(11,"div",35),n.bIt("click",function(){const e=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.startEdit(e))}),n.EFF(12),n.nI1(13,"number"),n.k0s(),n.j41(14,"input",36,6),n.mxI("ngModelChange",function(e){const r=n.eBV(t).$implicit;return n.DH7(r.qty,e)||(r.qty=e),n.Njj(e)}),n.bIt("blur",function(){n.eBV(t);const e=n.XpG(2);return n.Njj(e.stopEdit())}),n.k0s()(),n.j41(16,"td",37)(17,"a",38),n.bIt("click",function(){const e=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.deleteQRCodeScanned(e))}),n.EFF(18,"X\xf3a"),n.k0s()()()}if(2&i){const t=d.$implicit,o=n.XpG(2);n.R7$(3),n.JRh(t.partNo),n.R7$(3),n.JRh(t.lotNo),n.R7$(2),n.SpI("(Qty: ",n.i5U(9,7,t.originQty,"1.0-3"),")"),n.R7$(3),n.Y8G("hidden",o.lotNoEdit===t.lotNo),n.R7$(),n.SpI(" ",n.i5U(13,10,t.qty,"1.0-3")," "),n.R7$(2),n.Y8G("hidden",o.lotNoEdit!==t.lotNo),n.R50("ngModel",t.qty)}}function At(i,d){if(1&i){const t=n.RV6();n.qex(0),n.j41(1,"div",7)(2,"input",28,4),n.bIt("keydown.enter",function(e){n.eBV(t);const r=n.XpG();return n.Njj(r.scanQRCode(e))})("click",function(){n.eBV(t);const e=n.sdS(3);return n.Njj(e.select())}),n.k0s(),n.DNE(4,It,1,1,"nz-alert",29),n.j41(5,"nz-table",30,5)(7,"thead")(8,"tr")(9,"th"),n.EFF(10,"Part No"),n.k0s(),n.j41(11,"th"),n.EFF(12,"Lot No"),n.k0s(),n.j41(13,"th"),n.EFF(14,"Qty c\xf2n l\u1ea1i"),n.k0s(),n.j41(15,"th"),n.EFF(16,"Action"),n.k0s()()(),n.j41(17,"tbody"),n.DNE(18,Dt,19,13,"tr",18),n.k0s()()(),n.bVm()}if(2&i){const t=n.sdS(6),o=n.XpG();n.R7$(),n.Y8G("nzGutter",24),n.R7$(3),n.Y8G("ngIf",o.lotErrMsg),n.R7$(),n.Y8G("nzData",o.listLotsScanned)("nzFrontPagination",!0)("nzPageSize",10),n.R7$(13),n.Y8G("ngForOf",t.data)}}function Gt(i,d){if(1&i){const t=n.RV6();n.j41(0,"div")(1,"button",39),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.isOpenScanQRCodeModal=!1)}),n.EFF(2," H\u1ee7y "),n.k0s(),n.j41(3,"button",15),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.sendMaterialToLineWh())}),n.EFF(4," L\u01b0u "),n.k0s()()}}const Vt=["qrCodeIpt"],Bt=["importQtyIpt"],Qt=()=>[""];function $t(i,d){if(1&i&&n.nrm(0,"nz-option",23),2&i){const t=d.$implicit;n.Y8G("nzValue",t.username)("nzLabel",t.name+" - "+t.username)}}function Ut(i,d){if(1&i&&n.nrm(0,"nz-option",23),2&i){const t=d.$implicit;n.Y8G("nzValue",t.username)("nzLabel",t.name+" - "+t.username)}}function Wt(i,d){if(1&i){const t=n.RV6();n.j41(0,"div",24),n.bIt("click",function(){const e=n.eBV(t).$implicit,r=n.XpG();return n.Njj(r.onRowClick(e))}),n.j41(1,"span"),n.EFF(2),n.k0s()()}if(2&i){const t=d.$implicit;n.R7$(2),n.JRh(t.data.slipNo)}}function Xt(i,d){if(1&i){const t=n.RV6();n.j41(0,"div")(1,"span",25),n.bIt("click",function(){const e=n.eBV(t).$implicit,r=n.XpG();return n.Njj(r.onExportExcel(e))}),n.EFF(2,"Xu\u1ea5t Excel"),n.k0s()()}}function qt(i,d){if(1&i&&(n.j41(0,"label"),n.EFF(1),n.k0s()),2&i){const t=n.XpG(2);n.R7$(),n.SpI("S\u1ed1 phi\u1ebfu: ",t.slipNoSelected,"")}}function Yt(i,d){if(1&i&&n.nrm(0,"nz-alert",33),2&i){const t=n.XpG(2);n.Y8G("nzMessage",t.lotErrMsg)}}function Ht(i,d){if(1&i){const t=n.RV6();n.j41(0,"tr")(1,"td"),n.EFF(2),n.k0s(),n.j41(3,"td"),n.EFF(4),n.k0s(),n.j41(5,"td",34)(6,"div",35),n.bIt("click",function(){const e=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.startEdit(e))}),n.EFF(7),n.nI1(8,"number"),n.k0s(),n.j41(9,"input",36,3),n.mxI("ngModelChange",function(e){const r=n.eBV(t).$implicit;return n.DH7(r.qty,e)||(r.qty=e),n.Njj(e)}),n.bIt("blur",function(){const e=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.stopEdit(e))}),n.k0s()(),n.j41(11,"td",37),n.EFF(12),n.k0s(),n.j41(13,"td",38),n.bIt("nzOnConfirm",function(){const e=n.eBV(t).$implicit,r=n.XpG(2);return n.Njj(r.deleteQRCodeScanned(e))}),n.j41(14,"a",39),n.EFF(15,"X\xf3a"),n.k0s()()()}if(2&i){const t=d.$implicit,o=n.XpG(2);n.R7$(2),n.JRh(t.partNo),n.R7$(2),n.JRh(t.lotNo),n.R7$(2),n.Y8G("hidden",o.lotNoEdit===t.lotNo),n.R7$(),n.SpI(" ",n.i5U(8,7,t.qty,"1.0-3")," "),n.R7$(2),n.Y8G("hidden",o.lotNoEdit!==t.lotNo),n.R50("ngModel",t.qty),n.R7$(3),n.JRh(t.remainingQty)}}function Kt(i,d){if(1&i){const t=n.RV6();n.qex(0),n.j41(1,"div",5)(2,"div",26),n.DNE(3,qt,2,1,"label",27),n.j41(4,"nz-table",28)(5,"thead")(6,"tr")(7,"th")(8,"input",29,1),n.bIt("keydown.enter",function(e){n.eBV(t);const r=n.XpG();return n.Njj(r.scanQRCode(e))})("click",function(){n.eBV(t);const e=n.sdS(9);return n.Njj(e.select())}),n.k0s()()()()(),n.DNE(10,Yt,1,1,"nz-alert",30),n.j41(11,"nz-table",31,2)(13,"thead")(14,"tr")(15,"th"),n.EFF(16,"Part No"),n.k0s(),n.j41(17,"th"),n.EFF(18,"Lot No"),n.k0s(),n.j41(19,"th"),n.EFF(20,"Qty"),n.k0s(),n.j41(21,"th"),n.EFF(22,"T\u1ed3n"),n.k0s(),n.j41(23,"th"),n.EFF(24,"Action"),n.k0s()()(),n.j41(25,"tbody"),n.DNE(26,Ht,16,10,"tr",32),n.k0s()()()(),n.bVm()}if(2&i){const t=n.sdS(12),o=n.XpG();n.R7$(),n.Y8G("nzGutter",24),n.R7$(2),n.Y8G("ngIf",o.slipNoSelected),n.R7$(),n.Y8G("nzData",n.lJ4(7,Qt)),n.R7$(6),n.Y8G("ngIf",o.lotErrMsg),n.R7$(),n.Y8G("nzData",o.listLotsScanned)("nzFrontPagination",!1),n.R7$(15),n.Y8G("ngForOf",t.data)}}function Jt(i,d){if(1&i){const t=n.RV6();n.j41(0,"div")(1,"button",40),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.cancelSendLotToPWH())}),n.EFF(2," H\u1ee7y "),n.k0s(),n.j41(3,"button",41),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.sendLotToPWH())}),n.EFF(4," L\u01b0u "),n.k0s()()}if(2&i){const t=n.XpG();n.R7$(3),n.Y8G("nzLoading",t.isLoading)}}function Zt(i,d){if(1&i&&(n.j41(0,"li"),n.EFF(1),n.j41(2,"span",46),n.EFF(3),n.nI1(4,"number"),n.k0s()()),2&i){const t=d.$implicit;n.R7$(),n.SpI(" ",t.lotGroup," "),n.R7$(2),n.SpI("(Qty: ",n.i5U(4,2,t.qty,"1.0-3"),")")}}function ne(i,d){if(1&i){const t=n.RV6();n.j41(0,"li"),n.EFF(1),n.j41(2,"span",46),n.EFF(3),n.nI1(4,"number"),n.k0s(),n.EFF(5," - "),n.j41(6,"span",47),n.bIt("nzOnConfirm",function(){const e=n.eBV(t).$implicit,r=n.XpG(3);return n.Njj(r.deleteLot(e))}),n.EFF(7," X\xf3a "),n.k0s()()}if(2&i){const t=d.$implicit;n.R7$(),n.SpI(" ",t.lotNo," "),n.R7$(2),n.SpI("(Qty: ",n.i5U(4,3,t.qty,"1.0-3"),")"),n.R7$(3),n.Y8G("nzPopconfirmTitle","X\xf3a: "+t.lotNo)}}function te(i,d){if(1&i&&(n.j41(0,"tr")(1,"td",45),n.EFF(2),n.j41(3,"span",46),n.EFF(4),n.nI1(5,"number"),n.k0s()(),n.j41(6,"td",45)(7,"ul"),n.DNE(8,Zt,5,5,"li",32),n.k0s()(),n.j41(9,"td",45)(10,"ul"),n.DNE(11,ne,8,6,"li",32),n.k0s()()()),2&i){const t=d.$implicit;n.R7$(2),n.SpI(" ",t.partNo," "),n.R7$(2),n.SpI("(Qty: ",n.i5U(5,4,t.qty,"1.0-3"),")"),n.R7$(4),n.Y8G("ngForOf",t.lotGroups),n.R7$(3),n.Y8G("ngForOf",t.lots)}}function ee(i,d){if(1&i){const t=n.RV6();n.qex(0),n.j41(1,"div")(2,"div",5)(3,"div",42)(4,"label"),n.EFF(5,"S\u1ed1 phi\u1ebfu: "),n.k0s(),n.j41(6,"span"),n.EFF(7),n.k0s()(),n.j41(8,"div",42)(9,"button",43),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.openScanQRCodeModal())}),n.EFF(10," Th\xeam NVL tr\u1ea3 kho "),n.k0s()()()(),n.j41(11,"nz-table",44,4)(13,"thead")(14,"tr")(15,"th"),n.EFF(16,"Part No"),n.k0s(),n.j41(17,"th"),n.EFF(18,"Lot Group"),n.k0s(),n.j41(19,"th"),n.EFF(20,"Lot No"),n.k0s()()(),n.j41(21,"tbody"),n.DNE(22,te,12,7,"tr",32),n.k0s()(),n.bVm()}if(2&i){const t=n.sdS(12),o=n.XpG();n.R7$(2),n.Y8G("nzGutter",24),n.R7$(5),n.JRh(o.slipNoSelected),n.R7$(4),n.Y8G("nzData",o.lots),n.R7$(11),n.Y8G("ngForOf",t.data)}}function oe(i,d){if(1&i){const t=n.RV6();n.j41(0,"div")(1,"button",40),n.bIt("click",function(){n.eBV(t);const e=n.XpG();return n.Njj(e.closeDetailModal())}),n.EFF(2,"H\u1ee7y"),n.k0s()()}}const re=[{path:"re-wh-menu",component:Gn,canActivate:[X.K],data:{roles:["super_admin","MA Relay Level 1"]}},{path:"re-wh-requests",component:Qn},{path:"re-wh-requests/:slipNo",component:(()=>{class i{constructor(t,o,e,r){this.activatedRoute=t,this.reWhSvc=o,this.toastr=e,this.modalService=r,this.mapLotsScanned=new Map,this.listLotsScanned=new Array,this.arrLots=[],this.isOpenScanQRCodeModal=!1,this.isOpenErrorModal=!1,this.errorScanList=new Array,this.lotErrMsg=null,this.isOpenQACardModal=!1,this.isLoading=!1,this.lotNoEdit=null,this.isLocked=!1}ngOnInit(){this.slipNo=this.activatedRoute.snapshot.paramMap.get("slipNo"),this.getMaterialsBySlipNo(),this.getUsers()}ngAfterViewInit(){}getUsers(){this.reWhSvc.getUsers({}).subscribe(t=>{this.users=t})}getMaterialsBySlipNo(){this.reWhSvc.getMaterialsBySlipNo(this.slipNo).subscribe(t=>{this.lots=t.lots;for(const o of this.lots)this.arrLots.push(o.lotNo);this.prepareData(t)})}prepareData(t){let o=t.parts,e=t.lotGroups,r=t.lots;console.log("parts: ",o);let c=new Array;for(const s of o){let I={partNo:s.partNo,qty:s.qty,lotGroups:new Array,lots:new Array};c.push(I)}for(const s of c){for(const I of e)s.partNo==I.partNo&&s.lotGroups.push(I);for(const I of r)s.partNo==I.partNo&&s.lots.push(I)}this.lots=c,console.log("LOTS: ",this.lots)}showModal(){this.isLocked?this.toastr.warning("Phi\u1ebfu \u0111\xe3 kh\xf3a do \u0111\xe3 nh\u1eadn \u0111\u1ee7 NVL","Warning"):this.sender&&this.receiver?(this.isOpenScanQRCodeModal=!0,setTimeout(()=>{this.qrCodeIpt.nativeElement.focus()},500)):this.toastr.warning("C\u1ea7n nh\u1eadp th\xf4ng tin ng\u01b0\u1eddi giao nh\u1eadn","Warning")}scanQRCode(t){this.qrCodeIpt.nativeElement.select();let o=t.target.value.toUpperCase().split(";"),e={lotNo:o[3],recordType:"RNP",qty:o[2],partNo:o[0],date:new Date,sender:this.sender,receiver:this.receiver,whUserCode:this.sender,reqNo:this.slipNo,flag:"5",qrCode:t.target.value};if(!this.arrLots.includes(e.lotNo)){let r=`Lot ${e.lotNo} kh\xf4ng thu\u1ed9c phi\u1ebfu xu\u1ea5t kho ${this.slipNo}`;return this.lotErrMsg=r,this.errorScanList.push(r),void this.toastr.error("C\xf3 l\u1ed7i !","Error",{timeOut:1500})}this.reWhSvc.scanMaterialV3(e).subscribe(r=>"ERROR"==r.status?(this.lotErrMsg=r.message,this.errorScanList.push(r.message),void this.toastr.error("C\xf3 l\u1ed7i !","Error",{timeOut:1500})):"OK"==r.status?(console.log("DATA: ",r),this.lotErrMsg=null,this.mapLotsScanned.set(t.target.value,r.data),void(this.listLotsScanned=Array.from(this.mapLotsScanned.values()).reverse())):void 0)}receiveLotsFromPWH(){this.listLotsScanned.length?(this.isLoading=!0,this.reWhSvc.saveMaterials(this.listLotsScanned).subscribe(t=>{this.isLoading=!1,this.lotsReceived=t.data,this.getMaterialsBySlipNo(),this.isOpenScanQRCodeModal=!1,this.mapLotsScanned=new Map,this.listLotsScanned=new Array})):this.toastr.warning("Kh\xf4ng c\xf3 Lot n\xe0o \u0111\u01b0\u1ee3c l\u01b0u !")}deleteQRCodeScanned(t){this.mapLotsScanned.delete(t.qrCode),this.listLotsScanned=Array.from(this.mapLotsScanned.values()).reverse()}clearErrorScan(){this.errorScanList=new Array}openQACardModal(){this.isOpenQACardModal=!0,setTimeout(()=>{this.qaCardIpt.nativeElement.focus()},500)}startEdit(t){setTimeout(()=>{this.importQtyIpt.nativeElement.select()},300),this.lotNoEdit=t.lotNo}stopEdit(){this.lotNoEdit=null,this.importQtyIpt.nativeElement.select()}moveMaterialToLineWh(){if(this.isLoading=!0,!this.qaCard)return this.toastr.warning("C\u1ea7n scan QA Card","Warning"),void this.qaCardIpt.nativeElement.focus();if(!this.lotsReceived)return void this.toastr.warning("Kh\xf4ng c\xf3 Lots n\xe0o \u0111\u01b0\u1ee3c l\u01b0u <br /> C\u1ea7n scan t\u1eebng Lot \u0111\u1ec3 l\u01b0u !","Warning");let t=new Array,o=this.qaCard.toUpperCase().split("*");for(const e of this.lotsReceived){let r={lotNo:e.lotNo,recordType:"RDC",qty:e.qty,date:new Date(o[2]),line:o[1],shift:o[3],whUserCode:"3012982",partNo:e.model,model:o[0],qaCard:this.qaCard,sender:this.receiver};t.push(r)}this.reWhSvc.saveMaterials(t).subscribe(e=>{this.isLoading=!1,this.toastr.success("Chuy\u1ec3n NVL th\xe0nh c\xf4ng","Success"),this.qaCard="",this.isOpenQACardModal=!1,this.lotsReceived=null})}cancelMoveMaterialToLineWh(){this.qaCard="",this.isOpenQACardModal=!1}deleteLot(t){this.reWhSvc.deletePurWhRecordById(t.id).subscribe(o=>{this.getMaterialsBySlipNo(),this.toastr.success("\u0110\xe3 x\xf3a","Success")})}static#n=this.\u0275fac=function(o){return new(o||i)(n.rXU(V.nX),n.rXU(tn),n.rXU(L.tw),n.rXU(F.N_))};static#t=this.\u0275cmp=n.VBU({type:i,selectors:[["app-rwh-receive-pwh"]],viewQuery:function(o,e){if(1&o&&(n.GBs(tt,5),n.GBs(et,5),n.GBs(ot,5)),2&o){let r;n.mGM(r=n.lsd())&&(e.qrCodeIpt=r.first),n.mGM(r=n.lsd())&&(e.qaCardIpt=r.first),n.mGM(r=n.lsd())&&(e.importQtyIpt=r.first)}},decls:43,vars:8,consts:[["basicTable",""],["qrCodeIpt",""],["qrTbl",""],["importQtyIpt",""],["errorScanTbl",""],["qaCardIpt",""],[3,"nzHeader","nzActive"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","12"],["nzAlign","baseline"],["nzShowSearch","","nzAllowClear","","ngModel","lucy","nzPlaceHolder","Ch\u1ecdn ng\u01b0\u1eddi giao",3,"ngModel","ngModelChange",4,"nzSpaceItem"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Ch\u1ecdn ng\u01b0\u1eddi nh\u1eadn",3,"ngModel","ngModelChange",4,"nzSpaceItem"],["nz-button","","nzType","primary",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","primary","style","background: #28a745; margin-right: 5px; border: #28a745",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","default","nzDanger","",3,"click",4,"nzSpaceItem"],["nzBordered","","nzSize","small","nzFrontPagination","false",2,"margin-top","15px",3,"nzData"],[4,"ngFor","ngForOf"],["nzTitle","Nh\u1eadn nguy\xean v\u1eadt li\u1ec7u","nzWidth","750px",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["nzTitle","Danh s\xe1ch l\u1ed7i","nzWidth","950px",3,"nzVisibleChange","nzVisible"],["nzTitle","Chuy\u1ec3n NVL \u0111\xe3 nh\u1eadn v\xe0o LINE-WH","nzWidth","750px",3,"nzVisibleChange","nzVisible"],["nzShowSearch","","nzAllowClear","","ngModel","lucy","nzPlaceHolder","Ch\u1ecdn ng\u01b0\u1eddi giao",3,"ngModelChange","ngModel"],["class","option",3,"nzValue","nzLabel",4,"ngFor","ngForOf"],[1,"option",3,"nzValue","nzLabel"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Ch\u1ecdn ng\u01b0\u1eddi nh\u1eadn",3,"ngModelChange","ngModel"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","primary",2,"background","#28a745","margin-right","5px","border","#28a745",3,"click"],["nz-button","","nzType","default","nzDanger","",3,"click"],["nz-icon","","nzType","warning","nzTheme","outline"],[2,"font-weight","bold"],[1,"qty"],["style","color: #1890ff; margin-left: 10px",4,"ngIf"],["style","color: red; margin-left: 5px","nz-popconfirm","",3,"nzPopconfirmTitle","nzOnConfirm",4,"ngIf"],[2,"color","#1890ff","margin-left","10px"],["nz-popconfirm","",2,"color","red","margin-left","5px",3,"nzOnConfirm","nzPopconfirmTitle"],["nz-input","","placeholder","Scan QR Code","autocomplete","off",2,"font-weight","bold",3,"keydown.enter","click"],["id","error-msg","nzBanner","","nzShowIcon","","style","margin-top: 10px","nzType","error",3,"nzMessage",4,"ngIf"],["nzBordered","","nzSize","small",2,"margin-top","15px",3,"nzData","nzFrontPagination","nzPageSize"],["id","error-msg","nzBanner","","nzShowIcon","","nzType","error",2,"margin-top","10px",3,"nzMessage"],[1,"editable-row",2,"text-align","right"],[1,"editable-cell",3,"click","hidden"],["type","number","nz-input","",3,"ngModelChange","blur","hidden","ngModel"],["nz-popconfirm","","nzPopconfirmTitle","C\xf3 ch\u1eafc ch\u1eafn x\xf3a kh\xf4ng ?","nzPopconfirmPlacement","top","nzRight","",2,"text-align","center",3,"nzOnConfirm"],[2,"color","red","font-weight","bold"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click","nzLoading"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination"],["nz-input","","placeholder","Scan QR Card",3,"ngModelChange","ngModel"]],template:function(o,e){if(1&o){const r=n.RV6();n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2,"Relay Factory"),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4,"Kho trung chuy\u1ec3n"),n.k0s(),n.j41(5,"nz-breadcrumb-item"),n.EFF(6,"Nh\u1eadn NVL t\u1eeb Warehouse"),n.k0s(),n.j41(7,"nz-breadcrumb-item"),n.EFF(8,"Chi ti\u1ebft"),n.k0s()(),n.nrm(9,"br"),n.j41(10,"nz-collapse")(11,"nz-collapse-panel",6)(12,"div",7)(13,"div",8)(14,"nz-space",9),n.DNE(15,rt,2,2,"nz-select",10)(16,st,2,2,"nz-select",11),n.k0s()(),n.j41(17,"div",8)(18,"nz-space"),n.DNE(19,lt,2,0,"button",12)(20,ct,2,0,"button",13)(21,dt,2,0,"button",14),n.k0s()()()()(),n.j41(22,"nz-table",15,0)(24,"thead")(25,"tr")(26,"th"),n.EFF(27,"Part No"),n.k0s(),n.j41(28,"th"),n.EFF(29,"Lot Group"),n.k0s(),n.j41(30,"th"),n.EFF(31,"Lot No"),n.k0s()()(),n.j41(32,"tbody"),n.DNE(33,mt,12,7,"tr",16),n.k0s()(),n.j41(34,"nz-modal",17),n.mxI("nzVisibleChange",function(s){return n.eBV(r),n.DH7(e.isOpenScanQRCodeModal,s)||(e.isOpenScanQRCodeModal=s),n.Njj(s)}),n.DNE(35,zt,19,6,"ng-container",18)(36,ft,5,1,"div",19),n.k0s(),n.j41(37,"nz-modal",20),n.mxI("nzVisibleChange",function(s){return n.eBV(r),n.DH7(e.isOpenErrorModal,s)||(e.isOpenErrorModal=s),n.Njj(s)}),n.DNE(38,Et,9,3,"ng-container",18)(39,yt,5,0,"div",19),n.k0s(),n.j41(40,"nz-modal",21),n.mxI("nzVisibleChange",function(s){return n.eBV(r),n.DH7(e.isOpenQACardModal,s)||(e.isOpenQACardModal=s),n.Njj(s)}),n.DNE(41,Mt,6,2,"ng-container",18)(42,bt,5,1,"div",19),n.k0s()}if(2&o){const r=n.sdS(23);n.R7$(11),n.Y8G("nzHeader","Phi\u1ebfu xu\u1ea5t kho: "+e.slipNo)("nzActive",!0),n.R7$(),n.Y8G("nzGutter",24),n.R7$(10),n.Y8G("nzData",e.lots),n.R7$(11),n.Y8G("ngForOf",r.data),n.R7$(),n.R50("nzVisible",e.isOpenScanQRCodeModal),n.R7$(3),n.R50("nzVisible",e.isOpenErrorModal),n.R7$(3),n.R50("nzVisible",e.isOpenQACardModal)}},dependencies:[C.Sq,C.bT,a.me,a.Q0,a.BC,a.vS,E.Uq,E.e,l.hL,l.K7,j.Dn,F.F2,F.Oj,F.A9,P.ld,P.WI,u.CP,u.SO,u._4,u.IL,u.aj,u.kt,u.OL,k.aO,y.c,_.p,b.Sy,G.PV,S.Y,T.Vz,T.pc,rn.U5,rn.Dq,C.QX],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-select[_ngcontent-%COMP%]{width:100%}nz-table[_ngcontent-%COMP%]{width:100%}nz-table[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:-34px}nz-table[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{vertical-align:top}nz-table[_ngcontent-%COMP%]   .qty[_ngcontent-%COMP%]{color:green}#error-msg[_ngcontent-%COMP%]{border:1px solid red;font-weight:700;width:100%}#error-msg[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}"]})}return i})()},{path:"re-pr-menu",component:wn},{path:"rwh-send-lwh",component:(()=>{class i{constructor(t,o){this.reWhSvc=t,this.toastr=o,this.isOpenScanQRCodeModal=!1,this.lotErrMsg=null,this.mapLotsScanned=new Map,this.listLotsScanned=new Array,this.lotNoEdit=null}ngOnInit(){this.getUsers()}ngAfterViewInit(){setTimeout(()=>{this.userIpt.focus()},0)}getUsers(){this.reWhSvc.getUsers({}).subscribe(t=>{this.users=t})}scanUser(t){if(!this.username)return this.toastr.warning("M\xe3 nh\xe2n vi\xean kh\xf4ng h\u1ee3p l\u1ec7 !"),void this.userIpt.clearInput();this.qaCardIpt.nativeElement.focus()}scanQACard(t){if(!this.qaCard||this.qaCard.split("*").length<4||this.qaCard.includes(";"))return this.qaCardIpt.nativeElement.select(),void this.toastr.warning("QA Card kh\xf4ng h\u1ee3p l\u1ec7 !");this.getPartsByModel(this.qaCard.split("*")[0]),this.getPurWhRecords({qaCard:this.qaCard,recordType:"RDC"})}getPartsByModel(t){this.reWhSvc.getPartsByModel(t).subscribe(o=>{let e=new Array;for(const r of o)e.push(r.pncomp);this.partsOfModel=e,console.log("Parts of Model: ",this.partsOfModel)})}getPurWhRecords(t){this.reWhSvc.getPurWhRecords(t).subscribe(o=>{console.log("AAA : ",o),this.prepareData(o)})}checkQACardAndUser(){return this.username?!(!this.qaCard||this.qaCard.split("*").length<4)||(this.toastr.warning("QA Card kh\xf4ng h\u1ee3p l\u1ec7 !"),this.qaCardIpt.nativeElement.select(),!1):(this.toastr.warning("M\xe3 nh\xe2n vi\xean kh\xf4ng h\u1ee3p l\u1ec7 !"),this.userIpt.clearInput(),this.userIpt.focus(),!1)}openScanQRCodeModal(){this.checkQACardAndUser()&&(this.isOpenScanQRCodeModal=!0,setTimeout(()=>{this.qrCodeIpt.nativeElement.focus()},500))}scanQRCode(t){console.log("B\u1eaeT \u0110\u1ea6U SCAN"),this.qrCodeIpt.nativeElement.select();let o=t.target.value.split(";"),e=this.qaCard.split("*"),r={lotNo:o[3],recordType:"RDC",qty:o[2],partNo:o[0],model:e[0],qaCard:this.qaCard,date:new Date(e[2]),line:e[1],shift:e[3],sender:this.username,receiver:this.username,qrCode:t.target.value,whUserCode:this.username,flag:"5"};if(!this.partsOfModel.includes(r.partNo))return this.lotErrMsg=`Lot ${r.lotNo} kh\xf4ng d\xf9ng cho model ${r.model}`,void this.toastr.error("C\xf3 l\u1ed7i !","Error",{timeOut:1500});this.reWhSvc.scanMaterialV3(r).subscribe(c=>"ERROR"==c.status?(this.lotErrMsg=c.message,void this.toastr.error("C\xf3 l\u1ed7i !","Error",{timeOut:1500})):"OK"==c.status?(this.lotErrMsg=null,this.mapLotsScanned.set(t.target.value,c.data),void(this.listLotsScanned=Array.from(this.mapLotsScanned.values()).reverse())):void 0)}sendMaterialToLineWh(){this.listLotsScanned.length?this.reWhSvc.saveMaterials(this.listLotsScanned).subscribe(t=>{this.getPurWhRecords({qaCard:this.qaCard,recordType:"RDC"}),this.isOpenScanQRCodeModal=!1,this.mapLotsScanned=new Map,this.listLotsScanned=new Array}):this.toastr.warning("Kh\xf4ng c\xf3 Lot n\xe0o \u0111\u01b0\u1ee3c l\u01b0u !")}deleteQRCodeScanned(t){this.mapLotsScanned.delete(t.qrCode),this.listLotsScanned=Array.from(this.mapLotsScanned.values())}startEdit(t){setTimeout(()=>{this.importQtyIpt.nativeElement.select()},300),this.lotNoEdit=t.lotNo}stopEdit(){this.lotNoEdit=null,this.importQtyIpt.nativeElement.select()}deleteRecord(t){console.log("Data Delete: ",t),this.reWhSvc.deletePurWhRecords(t.id).subscribe(o=>{this.toastr.success("X\xf3a th\xe0nh c\xf4ng !","Success"),this.getPurWhRecords({qaCard:this.qaCard,recordType:"RDC"})})}prepareData(t){let o=[];t.reduce((c,s)=>(c[s.model]||(c[s.model]={model:s.model,qty:0},o.push(c[s.model])),c[s.model].qty+=s.qty,c),{});let e=[];t.reduce((c,s)=>(c[s.lotGroup]||(c[s.lotGroup]={model:s.model,lotGroup:s.lotGroup,qty:0},e.push(c[s.lotGroup])),c[s.lotGroup].qty+=s.qty,c),{});let r=new Array;for(const c of o){let s={model:c.model,qty:c.qty,lotGroups:new Array,lots:new Array};r.push(s)}for(const c of r){for(const s of e)c.model==s.model&&c.lotGroups.push(s);for(const s of t)c.model==s.model&&c.lots.push(s)}console.log("Result: ",r),this.purWhRecords=r}static#n=this.\u0275fac=function(o){return new(o||i)(n.rXU(tn),n.rXU(L.tw))};static#t=this.\u0275cmp=n.VBU({type:i,selectors:[["app-rwh-send-lwh"]],viewQuery:function(o,e){if(1&o&&(n.GBs(wt,5),n.GBs(vt,5),n.GBs(St,5),n.GBs(Tt,5)),2&o){let r;n.mGM(r=n.lsd())&&(e.qaCardIpt=r.first),n.mGM(r=n.lsd())&&(e.userIpt=r.first),n.mGM(r=n.lsd())&&(e.qrCodeIpt=r.first),n.mGM(r=n.lsd())&&(e.importQtyIpt=r.first)}},decls:38,vars:9,consts:[["userIpt",""],["qaCardIpt",""],["qaCardIptTpl",""],["lineWhRecordTbl",""],["qrCodeIpt",""],["qrTbl",""],["importQtyIpt",""],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","7","nzLg","6"],["nzShowSearch","","nzAllowClear","","ngModel","lucy","nzPlaceHolder","Ng\u01b0\u1eddi th\u1ef1c hi\u1ec7n",3,"ngModelChange","keydown.enter","nzAutoFocus","ngModel"],["class","option",3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nz-col","","nzXs","12","nzSm","10","nzLg","6"],[3,"nzSuffix"],["nz-input","","placeholder","QA Card",3,"ngModelChange","keydown.enter","click","ngModel"],["nz-col","","nzXs","12","nzSm","3","nzLg","4"],["nz-button","","nzType","primary",3,"click"],["nzText","Danh s\xe1ch NVL \u0111\xe3 chuy\u1ec3n v\xe0o LINE-WH","nzOrientation","left"],["nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData"],[4,"ngFor","ngForOf"],["nzTitle","Chuy\u1ec3n NVL l\xean xe (LINE-WH)","nzWidth","750px",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],[1,"option",3,"nzValue","nzLabel"],["nz-icon","","class","ant-input-clear-icon","nzTheme","fill","nzType","close-circle",3,"click",4,"ngIf"],["nz-icon","","nzTheme","fill","nzType","close-circle",1,"ant-input-clear-icon",3,"click"],[2,"font-weight","bold"],[1,"qty"],["nz-icon","","nzType","minus-circle","nzTheme","outline","nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn x\xf3a ?",2,"color","red","margin-left","5px",3,"nzOnConfirm"],["nz-input","","placeholder","Scan QR Code",2,"font-weight","bold",3,"keydown.enter","click"],["id","error-msg","nzBanner","","nzShowIcon","","style","margin-top: 10px","nzType","error",3,"nzMessage",4,"ngIf"],["nzBordered","","nzSize","small",2,"width","100%","margin-top","15px",3,"nzData","nzFrontPagination","nzPageSize"],["id","error-msg","nzBanner","","nzShowIcon","","nzType","error",2,"margin-top","10px",3,"nzMessage"],[2,"color","black","font-weight","bold"],[2,"color","green","margin-left","3px"],[1,"editable-row",2,"text-align","right"],[1,"editable-cell",3,"click","hidden"],["type","number","nz-input","",3,"ngModelChange","blur","hidden","ngModel"],[2,"text-align","center"],[2,"color","red",3,"click"],["nz-button","","nzType","default",3,"click"]],template:function(o,e){if(1&o){const r=n.RV6();n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2,"Relay Factory"),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4,"Kho trung chuy\u1ec3n"),n.k0s(),n.j41(5,"nz-breadcrumb-item"),n.EFF(6,"Chuy\u1ec3n NVL v\xe0o LINE-WH"),n.k0s()(),n.nrm(7,"br"),n.j41(8,"div",7)(9,"div",8)(10,"nz-select",9,0),n.mxI("ngModelChange",function(s){return n.eBV(r),n.DH7(e.username,s)||(e.username=s),n.Njj(s)}),n.bIt("keydown.enter",function(s){return n.eBV(r),n.Njj(e.scanUser(s))}),n.DNE(12,kt,1,2,"nz-option",10),n.k0s()(),n.j41(13,"div",11)(14,"nz-input-group",12)(15,"input",13,1),n.mxI("ngModelChange",function(s){return n.eBV(r),n.DH7(e.qaCard,s)||(e.qaCard=s),n.Njj(s)}),n.bIt("keydown.enter",function(s){return n.eBV(r),n.Njj(e.scanQACard(s))})("click",function(){n.eBV(r);const s=n.sdS(16);return n.Njj(s.select())}),n.k0s(),n.DNE(17,Pt,1,1,"ng-template",null,2,n.C5r),n.k0s()(),n.j41(19,"div",14)(20,"button",15),n.bIt("click",function(){return n.eBV(r),n.Njj(e.openScanQRCodeModal())}),n.EFF(21," Chuy\u1ec3n NVL v\xe0o LINE-WH "),n.k0s()()(),n.nrm(22,"nz-divider",16),n.j41(23,"nz-table",17,3)(25,"thead")(26,"tr")(27,"th"),n.EFF(28,"Part No"),n.k0s(),n.j41(29,"th"),n.EFF(30,"Lot Group"),n.k0s(),n.j41(31,"th"),n.EFF(32,"Lot No"),n.k0s()()(),n.j41(33,"tbody"),n.DNE(34,Lt,12,7,"tr",18),n.k0s()(),n.j41(35,"nz-modal",19),n.mxI("nzVisibleChange",function(s){return n.eBV(r),n.DH7(e.isOpenScanQRCodeModal,s)||(e.isOpenScanQRCodeModal=s),n.Njj(s)}),n.DNE(36,At,19,6,"ng-container",20)(37,Gt,5,0,"div",21),n.k0s()}if(2&o){const r=n.sdS(18),c=n.sdS(24);n.R7$(8),n.Y8G("nzGutter",24),n.R7$(2),n.Y8G("nzAutoFocus",!0),n.R50("ngModel",e.username),n.R7$(2),n.Y8G("ngForOf",e.users),n.R7$(2),n.Y8G("nzSuffix",r),n.R7$(),n.R50("ngModel",e.qaCard),n.R7$(8),n.Y8G("nzData",e.purWhRecords),n.R7$(11),n.Y8G("ngForOf",c.data),n.R7$(),n.R50("nzVisible",e.isOpenScanQRCodeModal)}},dependencies:[C.Sq,C.bT,a.me,a.Q0,a.BC,a.vS,E.Uq,E.e,l.hL,l.K7,j.Dn,F.F2,F.Oj,F.A9,A.j,P.ld,P.WI,u.CP,u.SO,u._4,u.IL,u.aj,u.kt,k.aO,y.c,_.p,b.Sy,b.tg,b.vN,G.PV,S.Y,C.QX],styles:["nz-select[_ngcontent-%COMP%]{width:100%}#error-msg[_ngcontent-%COMP%]{border:1px solid red;font-weight:700;width:100%}#error-msg[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}nz-table[_ngcontent-%COMP%]{width:100%}nz-table[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:-34px}nz-table[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{vertical-align:top}nz-table[_ngcontent-%COMP%]   .qty[_ngcontent-%COMP%]{color:green}"]})}return i})()},{path:"rwh-receive-lwh",component:nt},{path:"rwh-send-pwh",component:(()=>{class i{constructor(t,o,e){this.router=t,this.reWhSvc=o,this.toastr=e,this.baseUrl=f.c.baseUrl,this.mapLotsScanned=new Map,this.listLotsScanned=new Array,this.isOpenScanQRCodeModal=!1,this.isOpenDetailModal=!1,this.lotNoEdit=null,this.lotErrMsg=null,this.isLoading=!1}ngOnInit(){this.getUsers(),this.getSlipsRelayReturnWarehouse()}getUsers(){this.reWhSvc.getUsers({}).subscribe(t=>{this.users=t})}getSlipsRelayReturnWarehouse(){this.reWhSvc.getSlipsRelayReturnWarehouse().subscribe(t=>{this.slips=t,console.log("Slips: ",this.slips)})}openScanQRCodeModal(){this.receiver&&this.sender?(this.isOpenScanQRCodeModal=!0,this.isOpenDetailModal=!1,setTimeout(()=>{this.qrCodeIpt.nativeElement.focus()},500)):this.toastr.warning("C\u1ea7n ch\u1ecdn ng\u01b0\u1eddi giao nh\u1eadn","Warning")}scanQRCode(t){this.qrCodeIpt.nativeElement.select();let o=t.target.value.toUpperCase().split(";");this.reWhSvc.scanMaterialV3({lotNo:o[3],recordType:"MRTW",qty:o[2],partNo:o[0],date:new Date,sender:this.sender,receiver:this.receiver,qrCode:t.target.value,whUserCode:this.receiver,flag:"1"}).subscribe(r=>"ERROR"==r.status?(this.lotErrMsg=r.message,void this.toastr.error("C\xf3 l\u1ed7i !","Error",{timeOut:1500})):"OK"==r.status?(this.lotErrMsg=null,this.mapLotsScanned.set(t.target.value,r.data),void(this.listLotsScanned=Array.from(this.mapLotsScanned.values()).reverse())):void 0)}deleteQRCodeScanned(t){this.mapLotsScanned.delete(t.qrCode),this.listLotsScanned=Array.from(this.mapLotsScanned.values()).reverse()}startEdit(t){setTimeout(()=>{this.importQtyIpt.nativeElement.focus()},500),this.lotNoEdit=t.lotNo}stopEdit(t){console.log("stopEdit: ",t),t.qty>t.remainingQty?t.qty=t.remainingQty:t.qty<0&&(t.qty=0),this.lotNoEdit=null}sendLotToPWH(){if(this.listLotsScanned.length)if(this.isLoading=!0,this.slipNoSelected){let t=[...this.listLotsScanned];for(const o of t)o.slipNo=this.slipNoSelected;this.reWhSvc.saveMaterials(t).subscribe(o=>{this.getSlipsRelayReturnWarehouse(),this.isOpenScanQRCodeModal=!1,this.toastr.success("Tr\u1ea3 th\xe0nh c\xf4ng","Success"),this.listLotsScanned=new Array,this.mapLotsScanned=new Map,this.isLoading=!1})}else this.reWhSvc.generateSlipNo("MRTW",this.sender).subscribe(t=>{let o=[...this.listLotsScanned];for(const e of o)e.slipNo=t.slipNo;this.reWhSvc.saveMaterials(o).subscribe(e=>{this.getSlipsRelayReturnWarehouse(),this.isOpenScanQRCodeModal=!1,this.toastr.success("Tr\u1ea3 th\xe0nh c\xf4ng","Success"),this.listLotsScanned=new Array,this.mapLotsScanned=new Map,this.isLoading=!1})});else this.toastr.warning("Kh\xf4ng c\xf3 Lot \u0111\u01b0\u1ee3c tr\u1ea3","Info")}cancelSendLotToPWH(){this.isOpenScanQRCodeModal=!1,this.slipNoSelected=null}onRowClick(t){console.log(t.data.slipNo),this.receiver&&this.sender?(this.slipNoSelected=t.data.slipNo,this.reWhSvc.getSlipsRelayReturnWarehouseDetail(t.data.slipNo).subscribe(o=>{this.buildData(o),this.isOpenDetailModal=!0})):this.toastr.warning("C\u1ea7n ch\u1ecdn ng\u01b0\u1eddi giao nh\u1eadn","Warning")}buildData(t){let o=t.parts,e=t.lotGroups,r=t.lots;console.log("parts: ",o);let c=new Array;for(const s of o){let I={partNo:s.partNo,qty:s.qty,lotGroups:new Array,lots:new Array};c.push(I)}for(const s of c){for(const I of e)s.partNo==I.partNo&&s.lotGroups.push(I);for(const I of r)s.partNo==I.partNo&&s.lots.push(I)}this.lots=c,console.log("LOTS: ",this.lots)}closeDetailModal(){this.isOpenDetailModal=!1,this.slipNoSelected=null}onExportExcel(t){let e=`https://10.92.176.57:8080/pur_wh_records.summary?date=${t.data.slipNo.replace("MRTW","").slice(0,-2)}&model=&slip_no=${t.data.slipNo}&product_type_id=&record_type=MRTW&area_id=`;window.open(e,"_blank")}deleteLot(t){console.log("LOT: ",t),this.reWhSvc.deletePurWhRecordById(t.id).subscribe(o=>{this.reWhSvc.getSlipsRelayReturnWarehouseDetail(this.slipNoSelected).subscribe(e=>{this.buildData(e)}),this.toastr.success("OK","Success")})}static#n=this.\u0275fac=function(o){return new(o||i)(n.rXU(V.Ix),n.rXU(tn),n.rXU(L.tw))};static#t=this.\u0275cmp=n.VBU({type:i,selectors:[["app-rwh-send-pwh"]],viewQuery:function(o,e){if(1&o&&(n.GBs(Vt,5),n.GBs(Bt,5)),2&o){let r;n.mGM(r=n.lsd())&&(e.qrCodeIpt=r.first),n.mGM(r=n.lsd())&&(e.importQtyIpt=r.first)}},decls:34,vars:16,consts:[["userIpt",""],["qrCodeIpt",""],["qrTbl",""],["importQtyIpt",""],["basicTable",""],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","8","nzLg","5"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Ch\u1ecdn ng\u01b0\u1eddi giao",3,"ngModelChange","nzAutoFocus","ngModel"],["class","option",3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","Ch\u1ecdn ng\u01b0\u1eddi nh\u1eadn",3,"ngModelChange","nzAutoFocus","ngModel"],["nz-col","","nzXs","12","nzSm","8","nzLg","6"],["nz-button","","nzType","primary",2,"margin-right","5px",3,"click"],["id","gridMaster",2,"margin-top","10px",3,"dataSource","showColumnLines","showRowLines","showBorders"],[3,"visible"],["caption","S\u1ed1 phi\u1ebfu","dataField","slipNo","cellTemplate","slipNoTemplate"],[3,"click",4,"dxTemplate","dxTemplateOf"],["caption","Ng\xe0y t\u1ea1o","dataField","date","dataType","date","format","yyyy-MM-dd"],["caption","Action","cellTemplate","actionTemplate"],[4,"dxTemplate","dxTemplateOf"],["nzTitle","Tr\u1ea3 NVL v\u1ec1 Kho","nzWidth","100%",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["nzTitle","Danh s\xe1ch NVL tr\u1ea3 kho","nzWidth","1100px",3,"nzVisibleChange","nzVisible"],[1,"option",3,"nzValue","nzLabel"],[3,"click"],[1,"excel",3,"click"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],[4,"ngIf"],["nzBordered","","nzFrontPagination","false",3,"nzData"],["id","qrCodeIpt","nz-input","","placeholder","Scan QR Code",3,"keydown.enter","click"],["id","error-msg","nzBanner","","nzShowIcon","","style","margin-top: 10px","nzType","error",3,"nzMessage",4,"ngIf"],["nzBordered","","nzSize","small",2,"margin-top","15px",3,"nzData","nzFrontPagination"],[4,"ngFor","ngForOf"],["id","error-msg","nzBanner","","nzShowIcon","","nzType","error",2,"margin-top","10px",3,"nzMessage"],[1,"editable-row",2,"text-align","right"],[1,"editable-cell",3,"click","hidden"],["type","number","nz-input","",3,"ngModelChange","blur","hidden","ngModel"],[2,"text-align","right"],["nz-popconfirm","","nzPopconfirmTitle","C\xf3 ch\u1eafc ch\u1eafn x\xf3a kh\xf4ng ?","nzPopconfirmPlacement","top","nzRight","",2,"text-align","center",3,"nzOnConfirm"],[2,"color","red","font-weight","bold"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click","nzLoading"],["nz-col","","nzXs","12","nzSm","6","nzLg","12"],["nz-button","","nzType","primary",2,"float","right",3,"click"],["nzBordered","","nzSize","small","nzFrontPagination","false",2,"margin-top","15px",3,"nzData"],[2,"font-weight","bold"],[1,"qty"],["nz-popconfirm","",2,"color","red",3,"nzOnConfirm","nzPopconfirmTitle"]],template:function(o,e){if(1&o){const r=n.RV6();n.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),n.EFF(2,"Relay Factory"),n.k0s(),n.j41(3,"nz-breadcrumb-item"),n.EFF(4,"Kho trung chuy\u1ec3n"),n.k0s(),n.j41(5,"nz-breadcrumb-item"),n.EFF(6,"Tr\u1ea3 h\xe0ng v\u1ec1 kho"),n.k0s()(),n.nrm(7,"br"),n.j41(8,"div",5)(9,"div",6)(10,"nz-select",7,0),n.mxI("ngModelChange",function(s){return n.eBV(r),n.DH7(e.sender,s)||(e.sender=s),n.Njj(s)}),n.DNE(12,$t,1,2,"nz-option",8),n.k0s()(),n.j41(13,"div",6)(14,"nz-select",9,0),n.mxI("ngModelChange",function(s){return n.eBV(r),n.DH7(e.receiver,s)||(e.receiver=s),n.Njj(s)}),n.DNE(16,Ut,1,2,"nz-option",8),n.k0s()(),n.j41(17,"div",10)(18,"button",11),n.bIt("click",function(){return n.eBV(r),n.Njj(e.openScanQRCodeModal())}),n.EFF(19," Tr\u1ea3 NVL v\u1ec1 kho "),n.k0s()()(),n.nrm(20,"br"),n.j41(21,"dx-data-grid",12),n.nrm(22,"dxo-filter-row",13)(23,"dxi-column",14),n.DNE(24,Wt,3,1,"div",15),n.nrm(25,"dxi-column",16)(26,"dxi-column",17),n.DNE(27,Xt,3,0,"div",18),n.k0s(),n.j41(28,"nz-modal",19),n.mxI("nzVisibleChange",function(s){return n.eBV(r),n.DH7(e.isOpenScanQRCodeModal,s)||(e.isOpenScanQRCodeModal=s),n.Njj(s)}),n.DNE(29,Kt,27,8,"ng-container",20)(30,Jt,5,1,"div",21),n.k0s(),n.j41(31,"nz-modal",22),n.mxI("nzVisibleChange",function(s){return n.eBV(r),n.DH7(e.isOpenDetailModal,s)||(e.isOpenDetailModal=s),n.Njj(s)}),n.DNE(32,ee,23,4,"ng-container",20)(33,oe,3,0,"div",21),n.k0s()}2&o&&(n.R7$(8),n.Y8G("nzGutter",24),n.R7$(2),n.Y8G("nzAutoFocus",!0),n.R50("ngModel",e.sender),n.R7$(2),n.Y8G("ngForOf",e.users),n.R7$(2),n.Y8G("nzAutoFocus",!0),n.R50("ngModel",e.receiver),n.R7$(2),n.Y8G("ngForOf",e.users),n.R7$(5),n.Y8G("dataSource",e.slips)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0),n.R7$(),n.Y8G("visible",!0),n.R7$(2),n.Y8G("dxTemplateOf","slipNoTemplate"),n.R7$(3),n.Y8G("dxTemplateOf","actionTemplate"),n.R7$(),n.R50("nzVisible",e.isOpenScanQRCodeModal),n.R7$(3),n.R50("nzVisible",e.isOpenDetailModal))},dependencies:[C.Sq,C.bT,a.me,a.Q0,a.BC,a.vS,D.s,m.nj_,m.FTx,h.eC,E.Uq,E.e,l.hL,l.K7,F.F2,F.Oj,F.A9,P.ld,P.WI,u.CP,u.SO,u._4,u.IL,u.aj,u.kt,u.OL,k.aO,y.c,_.p,b.Sy,G.PV,S.Y,C.QX],styles:["nz-select[_ngcontent-%COMP%]{width:100%}nz-table[_ngcontent-%COMP%]{width:100%}nz-table[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin-left:-34px}nz-table[_ngcontent-%COMP%]   td.ant-table-cell[_ngcontent-%COMP%]{vertical-align:top}nz-table[_ngcontent-%COMP%]   .qty[_ngcontent-%COMP%]{color:green}nz-table[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]{color:red}nz-table[_ngcontent-%COMP%]   .edit[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}#error-msg[_ngcontent-%COMP%]{border:1px solid red;font-weight:700;width:100%}#error-msg[_ngcontent-%COMP%]   span[_ngcontent-%COMP%]{color:red}.excel[_ngcontent-%COMP%]{color:green}.excel[_ngcontent-%COMP%]:hover{cursor:pointer;text-decoration:underline}"]})}return i})()},{path:"lwh-send-line",component:bn},{path:"lwh-receive-line",component:ln},{path:"lwh-change-qacard",component:$},{path:"relay-mapping-qacard",component:Dn},{path:"relay-material-traceability",component:z}];let ae=(()=>{class i{static#n=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=n.$C({type:i});static#e=this.\u0275inj=n.G2t({imports:[V.iI.forChild(re),V.iI]})}return i})();var se=p(35154),le=p(19692);let ce=(()=>{class i{static#n=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=n.$C({type:i});static#e=this.\u0275inj=n.G2t({imports:[C.MD,a.YN,a.X1,ae,D.N,N.Ti,E.f3,l.EJ,j.Y3,F.U6,W.T,A.g,P.DH,u.$G,k.Zw,b.j,G.g9,S.$,Q.Sw,T.GB,M.LE,se.Qt,on.hM,le.y,rn.pc]})}return i})()},23617:(en,U,p)=>{p.d(U,{$:()=>m,Y:()=>R});var C=p(15215),a=p(54438),D=p(45286),S=p(7605),l=p(40713),k=p(16042),N=p(57806),T=p(70317),M=p(72544),A=p(28203);function E(h,y){1&h&&a.eu8(0)}function j(h,y){if(1&h&&a.DNE(0,E,1,0,"ng-container",6),2&h){const _=a.XpG(3);a.Y8G("nzStringTemplateOutlet",_.nzIcon)}}function b(h,y){if(1&h&&a.nrm(0,"span",7),2&h){const _=a.XpG(3);a.Y8G("nzType",_.nzIconType||_.inferredIconType)("nzTheme",_.iconTheme)}}function F(h,y){if(1&h&&(a.j41(0,"div",2),a.DNE(1,j,1,1,"ng-container")(2,b,1,2),a.k0s()),2&h){const _=a.XpG(2);a.R7$(),a.vxM(1,_.nzIcon?1:2)}}function G(h,y){if(1&h&&(a.qex(0),a.EFF(1),a.bVm()),2&h){const _=a.XpG(4);a.R7$(),a.JRh(_.nzMessage)}}function Q(h,y){if(1&h&&(a.j41(0,"span",8),a.DNE(1,G,2,1,"ng-container",6),a.k0s()),2&h){const _=a.XpG(3);a.R7$(),a.Y8G("nzStringTemplateOutlet",_.nzMessage)}}function P(h,y){if(1&h&&(a.qex(0),a.EFF(1),a.bVm()),2&h){const _=a.XpG(4);a.R7$(),a.JRh(_.nzDescription)}}function u(h,y){if(1&h&&(a.j41(0,"span",9),a.DNE(1,P,2,1,"ng-container",6),a.k0s()),2&h){const _=a.XpG(3);a.R7$(),a.Y8G("nzStringTemplateOutlet",_.nzDescription)}}function W(h,y){if(1&h&&(a.j41(0,"div",3),a.DNE(1,Q,2,1,"span",8)(2,u,2,1,"span",9),a.k0s()),2&h){const _=a.XpG(2);a.R7$(),a.vxM(1,_.nzMessage?1:-1),a.R7$(),a.vxM(2,_.nzDescription?2:-1)}}function V(h,y){if(1&h&&(a.qex(0),a.EFF(1),a.bVm()),2&h){const _=a.XpG(3);a.R7$(),a.JRh(_.nzAction)}}function X(h,y){if(1&h&&(a.j41(0,"div",4),a.DNE(1,V,2,1,"ng-container",6),a.k0s()),2&h){const _=a.XpG(2);a.R7$(),a.Y8G("nzStringTemplateOutlet",_.nzAction)}}function q(h,y){if(1&h&&(a.qex(0),a.j41(1,"span",11),a.EFF(2),a.k0s(),a.bVm()),2&h){const _=a.XpG(4);a.R7$(2),a.JRh(_.nzCloseText)}}function Y(h,y){if(1&h&&a.DNE(0,q,3,1,"ng-container",6),2&h){const _=a.XpG(3);a.Y8G("nzStringTemplateOutlet",_.nzCloseText)}}function H(h,y){1&h&&a.nrm(0,"span",12)}function n(h,y){if(1&h){const _=a.RV6();a.j41(0,"button",10),a.bIt("click",function(){a.eBV(_);const B=a.XpG(2);return a.Njj(B.closeAlert())}),a.DNE(1,Y,1,1,"ng-container")(2,H,1,0),a.k0s()}if(2&h){const _=a.XpG(2);a.R7$(),a.vxM(1,_.nzCloseText?1:2)}}function f(h,y){if(1&h){const _=a.RV6();a.j41(0,"div",1),a.bIt("@slideAlertMotion.done",function(){a.eBV(_);const B=a.XpG();return a.Njj(B.onFadeAnimationDone())}),a.DNE(1,F,3,1,"div",2)(2,W,3,2,"div",3)(3,X,2,1,"div",4)(4,n,3,1,"button",5),a.k0s()}if(2&h){const _=a.XpG();a.AVh("ant-alert-rtl","rtl"===_.dir)("ant-alert-success","success"===_.nzType)("ant-alert-info","info"===_.nzType)("ant-alert-warning","warning"===_.nzType)("ant-alert-error","error"===_.nzType)("ant-alert-no-icon",!_.nzShowIcon)("ant-alert-banner",_.nzBanner)("ant-alert-closable",_.nzCloseable)("ant-alert-with-description",!!_.nzDescription),a.Y8G("@.disabled",_.nzNoAnimation)("@slideAlertMotion",void 0),a.R7$(),a.vxM(1,_.nzShowIcon?1:-1),a.R7$(),a.vxM(2,_.nzMessage||_.nzDescription?2:-1),a.R7$(),a.vxM(3,_.nzAction?3:-1),a.R7$(),a.vxM(4,_.nzCloseable||_.nzCloseText?4:-1)}}const x="alert";let R=(()=>{class h{constructor(_,O,B){this.nzConfigService=_,this.cdr=O,this.directionality=B,this._nzModuleName=x,this.nzAction=null,this.nzCloseText=null,this.nzIconType=null,this.nzMessage=null,this.nzDescription=null,this.nzType="info",this.nzCloseable=!1,this.nzShowIcon=!1,this.nzBanner=!1,this.nzNoAnimation=!1,this.nzIcon=null,this.nzOnClose=new a.bkB,this.closed=!1,this.iconTheme="fill",this.inferredIconType="info-circle",this.dir="ltr",this.isTypeSet=!1,this.isShowIconSet=!1,this.destroy$=new D.B7,this.nzConfigService.getConfigChangeEventForComponent(x).pipe((0,S.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,S.Q)(this.destroy$)).subscribe(_=>{this.dir=_,this.cdr.detectChanges()}),this.dir=this.directionality.value}closeAlert(){this.closed=!0}onFadeAnimationDone(){this.closed&&this.nzOnClose.emit(!0)}ngOnChanges(_){const{nzShowIcon:O,nzDescription:B,nzType:K,nzBanner:Z}=_;if(O&&(this.isShowIconSet=!0),K)switch(this.isTypeSet=!0,this.nzType){case"error":this.inferredIconType="close-circle";break;case"success":this.inferredIconType="check-circle";break;case"info":this.inferredIconType="info-circle";break;case"warning":this.inferredIconType="exclamation-circle"}B&&(this.iconTheme=this.nzDescription?"outline":"fill"),Z&&(this.isTypeSet||(this.nzType="warning"),this.isShowIconSet||(this.nzShowIcon=!0))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#n=this.\u0275fac=function(O){return new(O||h)(a.rXU(k.yx),a.rXU(a.gRc),a.rXU(A.dS,8))};static#t=this.\u0275cmp=a.VBU({type:h,selectors:[["nz-alert"]],inputs:{nzAction:"nzAction",nzCloseText:"nzCloseText",nzIconType:"nzIconType",nzMessage:"nzMessage",nzDescription:"nzDescription",nzType:"nzType",nzCloseable:"nzCloseable",nzShowIcon:"nzShowIcon",nzBanner:"nzBanner",nzNoAnimation:"nzNoAnimation",nzIcon:"nzIcon"},outputs:{nzOnClose:"nzOnClose"},exportAs:["nzAlert"],standalone:!0,features:[a.OA$,a.aNF],decls:1,vars:1,consts:[[1,"ant-alert",3,"ant-alert-rtl","ant-alert-success","ant-alert-info","ant-alert-warning","ant-alert-error","ant-alert-no-icon","ant-alert-banner","ant-alert-closable","ant-alert-with-description"],[1,"ant-alert"],[1,"ant-alert-icon"],[1,"ant-alert-content"],[1,"ant-alert-action"],["type","button","tabindex","0",1,"ant-alert-close-icon"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType","nzTheme"],[1,"ant-alert-message"],[1,"ant-alert-description"],["type","button","tabindex","0",1,"ant-alert-close-icon",3,"click"],[1,"ant-alert-close-text"],["nz-icon","","nzType","close"]],template:function(O,B){1&O&&a.DNE(0,f,5,24,"div",0),2&O&&a.vxM(0,B.closed?-1:0)},dependencies:[M.Y3,M.Dn,N.C,N.m],encapsulation:2,data:{animation:[l.Sn]},changeDetection:0})}return(0,C.Cg)([(0,k.H4)(),(0,T.H3)()],h.prototype,"nzCloseable",void 0),(0,C.Cg)([(0,k.H4)(),(0,T.H3)()],h.prototype,"nzShowIcon",void 0),(0,C.Cg)([(0,T.H3)()],h.prototype,"nzBanner",void 0),(0,C.Cg)([(0,T.H3)()],h.prototype,"nzNoAnimation",void 0),h})(),m=(()=>{class h{static#n=this.\u0275fac=function(O){return new(O||h)};static#t=this.\u0275mod=a.$C({type:h});static#e=this.\u0275inj=a.G2t({imports:[R]})}return h})()},74696:(en,U,p)=>{p.d(U,{GB:()=>n,Vz:()=>H,pc:()=>q});var C=p(15215),a=p(54438),D=p(73586),S=p(7605),l=p(58728),k=p(40713),N=p(16042),T=p(57806),M=p(21025),A=p(70317),E=p(72544),j=p(28203),b=p(26841);const F=["*"],G=["collapseHeader"];function Q(f,x){if(1&f&&(a.qex(0),a.nrm(1,"span",7),a.bVm()),2&f){const R=x.$implicit,m=a.XpG(2);a.R7$(),a.Y8G("nzType",R||"right")("nzRotate",m.nzActive?90:0)}}function P(f,x){if(1&f&&(a.j41(0,"div"),a.DNE(1,Q,2,2,"ng-container",3),a.k0s()),2&f){const R=a.XpG();a.R7$(),a.Y8G("nzStringTemplateOutlet",R.nzExpandedIcon)}}function u(f,x){if(1&f&&(a.qex(0),a.EFF(1),a.bVm()),2&f){const R=a.XpG();a.R7$(),a.JRh(R.nzHeader)}}function W(f,x){if(1&f&&(a.qex(0),a.EFF(1),a.bVm()),2&f){const R=a.XpG(2);a.R7$(),a.JRh(R.nzExtra)}}function V(f,x){if(1&f&&(a.j41(0,"div",4),a.DNE(1,W,2,1,"ng-container",3),a.k0s()),2&f){const R=a.XpG();a.R7$(),a.Y8G("nzStringTemplateOutlet",R.nzExtra)}}const X="collapse";let q=(()=>{class f{constructor(R,m,h,y){this.nzConfigService=R,this.cdr=m,this.directionality=h,this.destroy$=y,this._nzModuleName=X,this.nzAccordion=!1,this.nzBordered=!0,this.nzGhost=!1,this.nzExpandIconPosition="left",this.dir="ltr",this.listOfNzCollapsePanelComponent=[],this.nzConfigService.getConfigChangeEventForComponent(X).pipe((0,S.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,S.Q)(this.destroy$)).subscribe(R=>{this.dir=R,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(R){this.listOfNzCollapsePanelComponent.push(R)}removePanel(R){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(R),1)}click(R){this.nzAccordion&&!R.nzActive&&this.listOfNzCollapsePanelComponent.filter(m=>m!==R).forEach(m=>{m.nzActive&&(m.nzActive=!1,m.nzActiveChange.emit(m.nzActive),m.markForCheck())}),R.nzActive=!R.nzActive,R.nzActiveChange.emit(R.nzActive)}static#n=this.\u0275fac=function(m){return new(m||f)(a.rXU(N.yx),a.rXU(a.gRc),a.rXU(j.dS,8),a.rXU(M.y4))};static#t=this.\u0275cmp=a.VBU({type:f,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(m,h){2&m&&a.AVh("ant-collapse-icon-position-start","left"===h.nzExpandIconPosition)("ant-collapse-icon-position-end","right"===h.nzExpandIconPosition)("ant-collapse-ghost",h.nzGhost)("ant-collapse-borderless",!h.nzBordered)("ant-collapse-rtl","rtl"===h.dir)},inputs:{nzAccordion:"nzAccordion",nzBordered:"nzBordered",nzGhost:"nzGhost",nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],standalone:!0,features:[a.Jv_([M.y4]),a.aNF],ngContentSelectors:F,decls:1,vars:0,template:function(m,h){1&m&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})}return(0,C.Cg)([(0,N.H4)(),(0,A.H3)()],f.prototype,"nzAccordion",void 0),(0,C.Cg)([(0,N.H4)(),(0,A.H3)()],f.prototype,"nzBordered",void 0),(0,C.Cg)([(0,N.H4)(),(0,A.H3)()],f.prototype,"nzGhost",void 0),f})();const Y="collapsePanel";let H=(()=>{class f{markForCheck(){this.cdr.markForCheck()}constructor(R,m,h,y,_,O){this.nzConfigService=R,this.ngZone=m,this.cdr=h,this.destroy$=y,this.nzCollapseComponent=_,this.noAnimation=O,this._nzModuleName=Y,this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=!0,this.nzActiveChange=new a.bkB,this.nzConfigService.getConfigChangeEventForComponent(Y).pipe((0,S.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.nzCollapseComponent.addPanel(this),this.ngZone.runOutsideAngular(()=>(0,D.R)(this.collapseHeader.nativeElement,"click").pipe((0,l.p)(()=>!this.nzDisabled),(0,S.Q)(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})}))}ngOnDestroy(){this.nzCollapseComponent.removePanel(this)}static#n=this.\u0275fac=function(m){return new(m||f)(a.rXU(N.yx),a.rXU(a.SKi),a.rXU(a.gRc),a.rXU(M.y4),a.rXU(q,1),a.rXU(b.z,8))};static#t=this.\u0275cmp=a.VBU({type:f,selectors:[["nz-collapse-panel"]],viewQuery:function(m,h){if(1&m&&a.GBs(G,7),2&m){let y;a.mGM(y=a.lsd())&&(h.collapseHeader=y.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(m,h){2&m&&a.AVh("ant-collapse-no-arrow",!h.nzShowArrow)("ant-collapse-item-active",h.nzActive)("ant-collapse-item-disabled",h.nzDisabled)},inputs:{nzActive:"nzActive",nzDisabled:"nzDisabled",nzShowArrow:"nzShowArrow",nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],standalone:!0,features:[a.Jv_([M.y4]),a.aNF],ngContentSelectors:F,decls:9,vars:8,consts:[["collapseHeader",""],["role","button",1,"ant-collapse-header"],[1,"ant-collapse-header-text"],[4,"nzStringTemplateOutlet"],[1,"ant-collapse-extra"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"]],template:function(m,h){1&m&&(a.NAR(),a.j41(0,"div",1,0),a.DNE(2,P,2,1,"div"),a.j41(3,"span",2),a.DNE(4,u,2,1,"ng-container",3),a.k0s(),a.DNE(5,V,2,1,"div",4),a.k0s(),a.j41(6,"div",5)(7,"div",6),a.SdG(8),a.k0s()()),2&m&&(a.BMQ("aria-expanded",h.nzActive),a.R7$(2),a.vxM(2,h.nzShowArrow?2:-1),a.R7$(2),a.Y8G("nzStringTemplateOutlet",h.nzHeader),a.R7$(),a.vxM(5,h.nzExtra?5:-1),a.R7$(),a.AVh("ant-collapse-content-active",h.nzActive),a.Y8G("@.disabled",!(null==h.noAnimation||!h.noAnimation.nzNoAnimation))("@collapseMotion",h.nzActive?"expanded":"hidden"))},dependencies:[T.C,T.m,E.Y3,E.Dn],encapsulation:2,data:{animation:[k.GE]},changeDetection:0})}return(0,C.Cg)([(0,A.H3)()],f.prototype,"nzActive",void 0),(0,C.Cg)([(0,A.H3)()],f.prototype,"nzDisabled",void 0),(0,C.Cg)([(0,N.H4)(),(0,A.H3)()],f.prototype,"nzShowArrow",void 0),f})(),n=(()=>{class f{static#n=this.\u0275fac=function(m){return new(m||f)};static#t=this.\u0275mod=a.$C({type:f});static#e=this.\u0275inj=a.G2t({imports:[H]})}return f})()},19448:(en,U,p)=>{p.d(U,{g:()=>T,j:()=>N});var C=p(15215),a=p(54438),D=p(57806),S=p(70317);function l(M,A){if(1&M&&(a.qex(0),a.EFF(1),a.bVm()),2&M){const E=a.XpG(2);a.R7$(),a.JRh(E.nzText)}}function k(M,A){if(1&M&&(a.j41(0,"span",0),a.DNE(1,l,2,1,"ng-container",1),a.k0s()),2&M){const E=a.XpG();a.R7$(),a.Y8G("nzStringTemplateOutlet",E.nzText)}}let N=(()=>{class M{constructor(){this.nzType="horizontal",this.nzOrientation="center",this.nzDashed=!1,this.nzPlain=!1}static#n=this.\u0275fac=function(j){return new(j||M)};static#t=this.\u0275cmp=a.VBU({type:M,selectors:[["nz-divider"]],hostAttrs:[1,"ant-divider"],hostVars:16,hostBindings:function(j,b){2&j&&a.AVh("ant-divider-horizontal","horizontal"===b.nzType)("ant-divider-vertical","vertical"===b.nzType)("ant-divider-with-text",b.nzText)("ant-divider-plain",b.nzPlain)("ant-divider-with-text-left",b.nzText&&"left"===b.nzOrientation)("ant-divider-with-text-right",b.nzText&&"right"===b.nzOrientation)("ant-divider-with-text-center",b.nzText&&"center"===b.nzOrientation)("ant-divider-dashed",b.nzDashed)},inputs:{nzText:"nzText",nzType:"nzType",nzOrientation:"nzOrientation",nzDashed:"nzDashed",nzPlain:"nzPlain"},exportAs:["nzDivider"],standalone:!0,features:[a.aNF],decls:1,vars:1,consts:[[1,"ant-divider-inner-text"],[4,"nzStringTemplateOutlet"]],template:function(j,b){1&j&&a.DNE(0,k,2,1,"span",0),2&j&&a.vxM(0,b.nzText?0:-1)},dependencies:[D.C,D.m],encapsulation:2,changeDetection:0})}return(0,C.Cg)([(0,S.H3)()],M.prototype,"nzDashed",void 0),(0,C.Cg)([(0,S.H3)()],M.prototype,"nzPlain",void 0),M})(),T=(()=>{class M{static#n=this.\u0275fac=function(j){return new(j||M)};static#t=this.\u0275mod=a.$C({type:M});static#e=this.\u0275inj=a.G2t({imports:[N]})}return M})()},72874:(en,U,p)=>{p.d(U,{PV:()=>B,g9:()=>Z});var C=p(15215),a=p(10851),D=p(32753),S=p(60177),l=p(54438),k=p(45286),N=p(7605),T=p(84046),M=p(77312),A=p(50513),E=p(40713),j=p(16042),b=p(26841),F=p(57806),G=p(65463),Q=p(70317),P=p(89450),u=p(72544),W=p(35154),V=p(28203),X=p(16389),q=p(25930);const Y=["okBtn"],H=["cancelBtn"];function n(z,L){1&z&&(l.j41(0,"div",6),l.nrm(1,"span",14),l.k0s())}function f(z,L){if(1&z&&(l.qex(0),l.j41(1,"span",16),l.nrm(2,"span",17),l.k0s(),l.bVm()),2&z){const g=L.$implicit;l.R7$(2),l.Y8G("nzType",g||"exclamation-circle")}}function x(z,L){if(1&z&&(l.qex(0),l.DNE(1,f,3,1,"ng-container",10),l.j41(2,"div",15),l.EFF(3),l.k0s(),l.bVm()),2&z){const g=l.XpG(2);l.R7$(),l.Y8G("nzStringTemplateOutlet",g.nzIcon),l.R7$(2),l.JRh(g.nzTitle)}}function R(z,L){if(1&z&&l.EFF(0),2&z){const g=l.XpG(2);l.SpI(" ",g.nzCancelText," ")}}function m(z,L){1&z&&(l.EFF(0),l.nI1(1,"nzI18n")),2&z&&l.SpI(" ",l.bMT(1,1,"Modal.cancelText")," ")}function h(z,L){if(1&z&&l.EFF(0),2&z){const g=l.XpG(2);l.SpI(" ",g.nzOkText," ")}}function y(z,L){1&z&&(l.EFF(0),l.nI1(1,"nzI18n")),2&z&&l.SpI(" ",l.bMT(1,1,"Modal.okText")," ")}function _(z,L){if(1&z){const g=l.RV6();l.j41(0,"div",4)(1,"div",5),l.DNE(2,n,2,0,"div",6),l.j41(3,"div",7)(4,"div")(5,"div",8)(6,"div",9),l.DNE(7,x,4,2,"ng-container",10),l.k0s(),l.j41(8,"div",11)(9,"button",12,1),l.bIt("click",function(){l.eBV(g);const v=l.XpG();return l.Njj(v.onCancel())}),l.DNE(11,R,1,1)(12,m,2,3),l.k0s(),l.j41(13,"button",13,2),l.bIt("click",function(){l.eBV(g);const v=l.XpG();return l.Njj(v.onConfirm())}),l.DNE(15,h,1,1)(16,y,2,3),l.k0s()()()()()()()}if(2&z){const g=l.XpG();l.AVh("ant-popover-rtl","rtl"===g.dir),l.Y8G("cdkTrapFocusAutoCapture",null!==g.nzAutoFocus)("ngClass",g._classMap)("ngStyle",g.nzOverlayStyle)("@.disabled",!(null==g.noAnimation||!g.noAnimation.nzNoAnimation))("nzNoAnimation",null==g.noAnimation?null:g.noAnimation.nzNoAnimation)("@zoomBigMotion","active"),l.R7$(2),l.vxM(2,g.nzPopconfirmShowArrow?2:-1),l.R7$(5),l.Y8G("nzStringTemplateOutlet",g.nzTitle),l.R7$(2),l.Y8G("nzSize","small"),l.BMQ("cdkFocusInitial","cancel"===g.nzAutoFocus||null),l.R7$(2),l.vxM(11,g.nzCancelText?11:12),l.R7$(2),l.Y8G("nzSize","small")("nzType","danger"!==g.nzOkType?g.nzOkType:"primary")("nzDanger",g.nzOkDanger||"danger"===g.nzOkType)("nzLoading",g.confirmLoading)("disabled",g.nzOkDisabled),l.BMQ("cdkFocusInitial","ok"===g.nzAutoFocus||null),l.R7$(2),l.vxM(15,g.nzOkText?15:16)}}let B=(()=>{class z extends W.ME{getProxyPropertyMap(){return{nzOkText:["nzOkText",()=>this.nzOkText],nzOkType:["nzOkType",()=>this.nzOkType],nzOkDanger:["nzOkDanger",()=>this.nzOkDanger],nzOkDisabled:["nzOkDisabled",()=>this.nzOkDisabled],nzCancelText:["nzCancelText",()=>this.nzCancelText],nzBeforeConfirm:["nzBeforeConfirm",()=>this.nzBeforeConfirm],nzCondition:["nzCondition",()=>this.nzCondition],nzIcon:["nzIcon",()=>this.nzIcon],nzPopconfirmShowArrow:["nzPopconfirmShowArrow",()=>this.nzPopconfirmShowArrow],nzPopconfirmBackdrop:["nzBackdrop",()=>this.nzPopconfirmBackdrop],nzAutoFocus:["nzAutoFocus",()=>this.nzAutofocus],...super.getProxyPropertyMap()}}constructor(){super(K),this._nzModuleName="popconfirm",this.trigger="click",this.placement="top",this.nzCondition=!1,this.nzPopconfirmShowArrow=!0,this.nzPopconfirmBackdrop=!1,this.nzAutofocus=null,this.visibleChange=new l.bkB,this.nzOnCancel=new l.bkB,this.nzOnConfirm=new l.bkB}createComponent(){super.createComponent(),this.component.nzOnCancel.pipe((0,N.Q)(this.destroy$)).subscribe(()=>{this.nzOnCancel.emit()}),this.component.nzOnConfirm.pipe((0,N.Q)(this.destroy$)).subscribe(()=>{this.nzOnConfirm.emit()})}static#n=this.\u0275fac=function(w){return new(w||z)};static#t=this.\u0275dir=l.FsC({type:z,selectors:[["","nz-popconfirm",""]],hostVars:2,hostBindings:function(w,v){2&w&&l.AVh("ant-popover-open",v.visible)},inputs:{arrowPointAtCenter:[l.Mj6.None,"nzPopconfirmArrowPointAtCenter","arrowPointAtCenter"],title:[l.Mj6.None,"nzPopconfirmTitle","title"],directiveTitle:[l.Mj6.None,"nz-popconfirm","directiveTitle"],trigger:[l.Mj6.None,"nzPopconfirmTrigger","trigger"],placement:[l.Mj6.None,"nzPopconfirmPlacement","placement"],origin:[l.Mj6.None,"nzPopconfirmOrigin","origin"],mouseEnterDelay:[l.Mj6.None,"nzPopconfirmMouseEnterDelay","mouseEnterDelay"],mouseLeaveDelay:[l.Mj6.None,"nzPopconfirmMouseLeaveDelay","mouseLeaveDelay"],overlayClassName:[l.Mj6.None,"nzPopconfirmOverlayClassName","overlayClassName"],overlayStyle:[l.Mj6.None,"nzPopconfirmOverlayStyle","overlayStyle"],visible:[l.Mj6.None,"nzPopconfirmVisible","visible"],nzOkText:"nzOkText",nzOkType:"nzOkType",nzOkDisabled:"nzOkDisabled",nzOkDanger:"nzOkDanger",nzCancelText:"nzCancelText",nzBeforeConfirm:"nzBeforeConfirm",nzIcon:"nzIcon",nzCondition:"nzCondition",nzPopconfirmShowArrow:"nzPopconfirmShowArrow",nzPopconfirmBackdrop:"nzPopconfirmBackdrop",nzAutofocus:"nzAutofocus"},outputs:{visibleChange:"nzPopconfirmVisibleChange",nzOnCancel:"nzOnCancel",nzOnConfirm:"nzOnConfirm"},exportAs:["nzPopconfirm"],standalone:!0,features:[l.Vt3]})}return(0,C.Cg)([(0,Q.H3)()],z.prototype,"arrowPointAtCenter",void 0),(0,C.Cg)([(0,Q.H3)()],z.prototype,"nzOkDisabled",void 0),(0,C.Cg)([(0,Q.H3)()],z.prototype,"nzOkDanger",void 0),(0,C.Cg)([(0,Q.H3)()],z.prototype,"nzCondition",void 0),(0,C.Cg)([(0,Q.H3)()],z.prototype,"nzPopconfirmShowArrow",void 0),(0,C.Cg)([(0,j.H4)()],z.prototype,"nzPopconfirmBackdrop",void 0),(0,C.Cg)([(0,j.H4)()],z.prototype,"nzAutofocus",void 0),z})(),K=(()=>{class z extends W.VJ{constructor(g,w,v,$,J){super(g,v,J),this.elementRef=w,this.nzCondition=!1,this.nzPopconfirmShowArrow=!0,this.nzOkType="primary",this.nzOkDanger=!1,this.nzOkDisabled=!1,this.nzAutoFocus=null,this.nzBeforeConfirm=null,this.nzOnCancel=new k.B7,this.nzOnConfirm=new k.B7,this._trigger="click",this.elementFocusedBeforeModalWasOpened=null,this._prefix="ant-popover",this.confirmLoading=!1,this.document=$}ngOnDestroy(){super.ngOnDestroy(),this.nzOnCancel.complete(),this.nzOnConfirm.complete()}show(){this.nzCondition?this.onConfirm():(this.capturePreviouslyFocusedElement(),super.show())}hide(){super.hide(),this.restoreFocus()}handleConfirm(){this.nzOnConfirm.next(),super.hide()}onCancel(){this.nzOnCancel.next(),super.hide()}onConfirm(){if(this.nzBeforeConfirm){const g=(0,Q.cG)(this.nzBeforeConfirm()).pipe((0,T.$)());this.confirmLoading=!0,g.pipe((0,M.j)(()=>{this.confirmLoading=!1,this.cdr.markForCheck()}),(0,N.Q)(this.nzVisibleChange),(0,N.Q)(this.destroy$)).subscribe(w=>{w&&this.handleConfirm()})}else this.handleConfirm()}capturePreviouslyFocusedElement(){this.document&&(this.elementFocusedBeforeModalWasOpened=this.document.activeElement)}restoreFocus(){const g=this.elementFocusedBeforeModalWasOpened;if(g&&"function"==typeof g.focus){const w=this.document.activeElement,v=this.elementRef.nativeElement;(!w||w===this.document.body||w===v||v.contains(w))&&g.focus()}}static#n=this.\u0275fac=function(w){return new(w||z)(l.rXU(l.gRc),l.rXU(l.aKT),l.rXU(V.dS,8),l.rXU(S.qQ,8),l.rXU(b.z,9))};static#t=this.\u0275cmp=l.VBU({type:z,selectors:[["nz-popconfirm"]],viewQuery:function(w,v){if(1&w&&(l.GBs(Y,5,l.aKT),l.GBs(H,5,l.aKT)),2&w){let $;l.mGM($=l.lsd())&&(v.okBtn=$),l.mGM($=l.lsd())&&(v.cancelBtn=$)}},exportAs:["nzPopconfirmComponent"],standalone:!0,features:[l.Vt3,l.aNF],decls:2,vars:6,consts:[["overlay","cdkConnectedOverlay"],["cancelBtn",""],["okBtn",""],["cdkConnectedOverlay","","nzConnectedOverlay","",3,"overlayOutsideClick","detach","positionChange","cdkConnectedOverlayHasBackdrop","cdkConnectedOverlayOrigin","cdkConnectedOverlayPositions","cdkConnectedOverlayOpen","cdkConnectedOverlayPush","nzArrowPointAtCenter"],["cdkTrapFocus","",1,"ant-popover",3,"cdkTrapFocusAutoCapture","ngClass","ngStyle","nzNoAnimation"],[1,"ant-popover-content"],[1,"ant-popover-arrow"],[1,"ant-popover-inner"],[1,"ant-popover-inner-content"],[1,"ant-popover-message"],[4,"nzStringTemplateOutlet"],[1,"ant-popover-buttons"],["nz-button","",3,"click","nzSize"],["nz-button","",3,"click","nzSize","nzType","nzDanger","nzLoading","disabled"],[1,"ant-popover-arrow-content"],[1,"ant-popover-message-title"],[1,"ant-popover-message-icon"],["nz-icon","","nzTheme","fill",3,"nzType"]],template:function(w,v){if(1&w){const $=l.RV6();l.DNE(0,_,17,20,"ng-template",3,0,l.C5r),l.bIt("overlayOutsideClick",function(nn){return l.eBV($),l.Njj(v.onClickOutside(nn))})("detach",function(){return l.eBV($),l.Njj(v.hide())})("positionChange",function(nn){return l.eBV($),l.Njj(v.onPositionChange(nn))})}2&w&&l.Y8G("cdkConnectedOverlayHasBackdrop",v.nzBackdrop)("cdkConnectedOverlayOrigin",v.origin)("cdkConnectedOverlayPositions",v._positions)("cdkConnectedOverlayOpen",v._visible)("cdkConnectedOverlayPush",v.cdkConnectedOverlayPush)("nzArrowPointAtCenter",v.nzArrowPointAtCenter)},dependencies:[D.z_,D.WB,G.$_,G.vT,a.Pd,a.kB,S.YU,S.B3,b.z,F.C,F.m,u.Y3,u.Dn,A.Zw,A.aO,X.c,q.p,P.bP,P.Vc],encapsulation:2,data:{animation:[E.uX]},changeDetection:0})}return z})(),Z=(()=>{class z{static#n=this.\u0275fac=function(w){return new(w||z)};static#t=this.\u0275mod=l.$C({type:z});static#e=this.\u0275inj=l.G2t({imports:[K]})}return z})()}}]);