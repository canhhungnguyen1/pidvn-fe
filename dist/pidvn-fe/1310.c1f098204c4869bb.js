"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[1310],{61310:(H,T,a)=>{a.r(T),a.d(T,{QaIqcCheckModule:()=>Ot});var p=a(60177),m=a(89417),V=a(33514),i=a(12673),B=a(34756),w=a(72915),O=a(11668),z=a(31958),j=a(50513),x=a(2986),R=a(74696),S=a(58960),b=a(92602),q=a(97529),G=a(72544),f=a(21011),F=a(43053),Q=a(72874),I=a(33190),k=a(1997),y=a(17481),_=a(23359),C=a(46661),t=a(54438),d=a(16389);let N=(()=>{class o{constructor(e){this.router=e}ngOnInit(){}clickBtnRequest(){this.router.navigate(["admin/qa/qa-iqc-check/iqc-request"])}clickBtnHandle(){this.router.navigate(["admin/qa/qa-iqc-check/iqc-handle"])}static#t=this.\u0275fac=function(l){return new(l||o)(t.rXU(C.Ix))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-main-qa-iqc"]],decls:15,vars:1,consts:[["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","12","nzMd","8","nzLg","6",3,"click"],[1,"item","request"],["nz-icon","","nzType","ordered-list","nzTheme","outline"],[1,"item","handle"],["nz-icon","","nzType","file-search","nzTheme","outline"]],template:function(l,n){1&l&&(t.j41(0,"div",0)(1,"div",1),t.bIt("click",function(){return n.clickBtnRequest()}),t.j41(2,"div",2),t.nrm(3,"i",3),t.j41(4,"h5"),t.EFF(5,"IQC Request"),t.k0s(),t.j41(6,"h6"),t.EFF(7,"Danh s\xe1ch IQC request"),t.k0s()()(),t.j41(8,"div",1),t.bIt("click",function(){return n.clickBtnHandle()}),t.j41(9,"div",4),t.nrm(10,"i",5),t.j41(11,"h5"),t.EFF(12,"IQC Handling"),t.k0s(),t.j41(13,"h6"),t.EFF(14,"Danh s\xe1ch IQC handle"),t.k0s()()()()),2&l&&t.Y8G("nzGutter",8)},dependencies:[q.Uq,q.e,G.Dn,d.c],styles:[".item[_ngcontent-%COMP%]{text-align:center;border:1px solid #ccc;padding:15px 10px}.item[_ngcontent-%COMP%]   i[_ngcontent-%COMP%]{font-size:30px;color:#fff}.item[_ngcontent-%COMP%]   h5[_ngcontent-%COMP%]{margin-top:15px;text-transform:uppercase;font-weight:700;color:#fff}.item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{font-size:12px;color:#fff}.request[_ngcontent-%COMP%]{background:#2ecc71}.handle[_ngcontent-%COMP%]{background:#3498db}.item[_ngcontent-%COMP%]:hover{cursor:pointer}"]})}return o})(),u=(()=>{class o{constructor(e){this.router=e}ngOnInit(){}static#t=this.\u0275fac=function(l){return new(l||o)(t.rXU(C.Ix))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-qa-iqc-check"]],decls:1,vars:0,template:function(l,n){1&l&&t.nrm(0,"router-outlet")},dependencies:[C.n3]})}return o})();var h=a(73315),E=a(25930);const M=()=>({x:"1100px"}),P=(o,r,e)=>({"text-danger":o,"text-success":r,"text-primary":e});function A(o,r){1&o&&t.nrm(0,"span",32)}function J(o,r){1&o&&t.nrm(0,"span",33)}function W(o,r){1&o&&t.nrm(0,"span",34)}function Z(o,r){if(1&o){const e=t.RV6();t.j41(0,"button",39),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,s=t.XpG();return t.Njj(s.handleRequest(n))}),t.EFF(1," Ti\u1ebfp nh\u1eadn "),t.k0s()}}function tt(o,r){if(1&o){const e=t.RV6();t.j41(0,"a",40),t.bIt("click",function(){t.eBV(e);const n=t.XpG().$implicit,s=t.XpG();return t.Njj(s.redirectResultMaster(n))}),t.EFF(1,"Chi ti\u1ebft"),t.k0s()}}function et(o,r){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"td",35),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG();return t.Njj(1!=n.status?s.redirectResultMaster(n):"")}),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.k0s(),t.j41(7,"td",36),t.EFF(8),t.k0s(),t.j41(9,"td"),t.EFF(10),t.k0s(),t.j41(11,"td",27),t.EFF(12),t.nI1(13,"date"),t.k0s(),t.j41(14,"td"),t.EFF(15),t.k0s(),t.j41(16,"td",27),t.DNE(17,Z,2,0,"button",37)(18,tt,2,0,"a",38),t.k0s()()}if(2&o){const e=r.$implicit;t.R7$(2),t.SpI(" ",e.requestNo," "),t.R7$(2),t.JRh(e.invoice),t.R7$(2),t.JRh(e.supplier),t.R7$(),t.Y8G("ngClass",t.sMw(13,P,1==e.status,2==e.status,3==e.status)),t.R7$(),t.SpI(" ",e.statusName," "),t.R7$(2),t.JRh(e.requestedByName),t.R7$(2),t.SpI(" ",t.i5U(13,10,e.createdAt,"yyyy-MM-dd HH:mm")," "),t.R7$(3),t.JRh(e.remark),t.R7$(2),t.Y8G("ngIf",1==e.status),t.R7$(),t.Y8G("ngIf",1!=e.status)}}function nt(o,r){if(1&o){const e=t.RV6();t.j41(0,"span",45),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.getMucDoKiemSoat())}),t.k0s()}}function ot(o,r){if(1&o&&(t.j41(0,"tr")(1,"td"),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"date"),t.k0s(),t.j41(8,"td"),t.EFF(9),t.k0s()()),2&o){const e=r.$implicit;t.R7$(2),t.JRh(e.levelOfControlNgoaiQuan),t.R7$(2),t.JRh(e.levelOfControlKichThuoc),t.R7$(2),t.JRh(t.i5U(7,4,e.updatedAt,"yyyy-MM-dd HH:mm")),t.R7$(3),t.JRh(e.createdBy)}}function lt(o,r){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"table",41)(2,"tr")(3,"th"),t.EFF(4,"Model"),t.k0s(),t.j41(5,"th")(6,"nz-input-group",42)(7,"input",43),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.model,n)||(s.model=n),t.Njj(n)}),t.k0s()(),t.DNE(8,nt,1,0,"ng-template",null,4,t.C5r),t.k0s()()(),t.nrm(10,"br"),t.j41(11,"nz-table",44,5)(13,"thead")(14,"tr")(15,"th"),t.EFF(16,"Ki\u1ec3m so\xe1t ngo\u1ea1i quan"),t.k0s(),t.j41(17,"th"),t.EFF(18,"Ki\u1ec3m so\xe1t k\xedch th\u01b0\u1edbc"),t.k0s(),t.j41(19,"th"),t.EFF(20,"Ng\xe0y \u0111\xe1nh gi\xe1"),t.k0s(),t.j41(21,"th"),t.EFF(22,"Ng\u01b0\u1eddi \u0111\xe1nh gi\xe1"),t.k0s()()(),t.j41(23,"tbody"),t.DNE(24,ot,10,7,"tr",28),t.k0s()(),t.bVm()}if(2&o){const e=t.sdS(9),l=t.sdS(12),n=t.XpG();t.R7$(6),t.Y8G("nzSuffix",e),t.R7$(),t.R50("ngModel",n.model),t.R7$(4),t.Y8G("nzData",n.mucKiemSoatList),t.R7$(13),t.Y8G("ngForOf",l.data)}}function st(o,r){if(1&o){const e=t.RV6();t.j41(0,"div")(1,"button",18),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.closeSpecialSearchModal())}),t.EFF(2,"\u0110\xf3ng"),t.k0s()()}}let it=(()=>{class o{constructor(e,l){this.router=e,this.qaIqcSvc=l,this.searchVo={},this.isAudit=!1,this.isOpenSpecialSearchModal=!1}ngOnInit(){this.getConfigAudit(),this.getIqcRequests()}onSearch(){console.log("SearchVo: ",this.searchVo),this.getIqcRequests()}getIqcRequests(){console.log("aaa : "),this.qaIqcSvc.getIqcRequests(this.searchVo).subscribe(e=>{this.iqcRequests=e})}redirectResultMaster(e){this.router.navigate(["admin/qa/qa-iqc-check/iqc-result-master"],{queryParams:{requestNo:e.requestNo,invoice:e.invoice,type:e.type,goodsType:e.goodsType}})}handleRequest(e){this.qaIqcSvc.updateIqcRequest(e.requestNo,2).subscribe(l=>{this.getIqcRequests()})}onChange(e){this.searchVo.fromDate=e[0],this.searchVo.toDate=e[1]}onCalendarChange(e){this.searchVo.fromDate=e[0],this.searchVo.toDate=e[1]}changeAuditConfig(e){console.log("changeAuditConfig: ",e),this.qaIqcSvc.changeConfigAudit(1==e?"TRUE":"FALSE").subscribe(n=>{this.getIqcRequests()})}getConfigAudit(){this.qaIqcSvc.getConfigAudit().subscribe(e=>{this.isAudit="TRUE"==e.configValue})}getMucDoKiemSoat(){this.qaIqcSvc.getMucDoKiemSoat(this.model).subscribe(e=>{this.mucKiemSoatList=e})}closeSpecialSearchModal(){this.isOpenSpecialSearchModal=!1,this.mucKiemSoatList=[],this.model=null}static#t=this.\u0275fac=function(l){return new(l||o)(t.rXU(C.Ix),t.rXU(h.p))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-qa-iqc-request"]],decls:79,vars:16,consts:[["checkedTemplate",""],["unCheckedTemplate",""],["extraTpl",""],["iqcRequestTable",""],["suffixIconSearch",""],["mucKiemSoatTbl",""],["nzHeader","T\xecm ki\u1ebfm",3,"nzActive","nzShowArrow","nzExtra"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzLg","4"],["nzXs","24","nzSm","24","nzLg","24"],["type","text","nz-input","","placeholder","Request No",3,"ngModelChange","ngModel"],["type","text","nz-input","","placeholder","Invoice",3,"ngModelChange","ngModel"],["nzAllowClear","","nzPlaceHolder","IQC Status",3,"ngModelChange","ngModel"],["nzLabel","Ch\u1edd x\u1eed l\xfd","nzValue","1"],["nzLabel","\u0110ang x\u1eed l\xfd","nzValue","2"],["nzLabel","\u0110\xe3 x\u1eed l\xfd","nzValue","3"],["nzFormat","yyyy-MM-dd","ngModel","",3,"ngModelChange","nzOnCalendarChange"],["nz-col","","nzXs","12","nzSm","12","nzLg","8"],["nz-button","","nzType","primary",3,"click"],["nz-button","","nzType","default",2,"margin-left","10px",3,"click"],["nz-row","","nzJustify","space-between","nzAlign","middle",2,"margin-top","10px",3,"nzGutter"],["nz-col","","nzXs","6","nzSm","6","nzLg","6"],[2,"color","#8f1db5"],["nzCheckedChildren","B\u1eadt","nzUnCheckedChildren","T\u1eaft",2,"margin-left","5px",3,"ngModelChange","ngModel"],["nz-col","","nzXs","16","nzSm","16","nzLg","16"],["nz-col","","nzXs","2","nzSm","2","nzLg","2"],["nzSize","small","nzTableLayout","fixed",2,"margin-top","5px",3,"nzBordered","nzData","nzFrontPagination","nzScroll"],[1,"text-center"],[4,"ngFor","ngForOf"],["nzTitle","T\xecm m\u1ee9c \u0111\u1ed9 ki\u1ec3m so\xe1t","nzWidth","750px",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["nz-icon","","nzType","check"],["nz-icon","","nzType","close"],["nz-icon","","nzType","setting"],[3,"click"],[2,"font-weight","bold",3,"ngClass"],["nz-button","","nzType","default",3,"click",4,"ngIf"],["nz-button","","nzType","link",3,"click",4,"ngIf"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","link",3,"click"],["id","muc-kiem-soat-search-tbl",2,"width","100%"],[3,"nzSuffix"],["type","text","nz-input","","placeholder","Nh\u1eadp m\xe3 Model",3,"ngModelChange","ngModel"],["nzSize","small","nzBordered","",3,"nzData"],["nz-icon","","nzType","search",3,"click"]],template:function(l,n){if(1&l){const s=t.RV6();t.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),t.EFF(2," QA "),t.k0s(),t.j41(3,"nz-breadcrumb-item"),t.EFF(4," IQC Request"),t.k0s()(),t.nrm(5,"br"),t.j41(6,"nz-collapse")(7,"nz-collapse-panel",6)(8,"div",7)(9,"div",8)(10,"label",9),t.EFF(11,"Request No"),t.k0s(),t.j41(12,"div",9)(13,"input",10),t.mxI("ngModelChange",function(c){return t.eBV(s),t.DH7(n.searchVo.requestNo,c)||(n.searchVo.requestNo=c),t.Njj(c)}),t.k0s()()(),t.j41(14,"div",8)(15,"label",9),t.EFF(16,"Invoice"),t.k0s(),t.j41(17,"div",9)(18,"input",11),t.mxI("ngModelChange",function(c){return t.eBV(s),t.DH7(n.searchVo.invoice,c)||(n.searchVo.invoice=c),t.Njj(c)}),t.k0s()()(),t.j41(19,"div",8)(20,"label",9),t.EFF(21,"IQC Status"),t.k0s(),t.j41(22,"div",9)(23,"nz-select",12),t.mxI("ngModelChange",function(c){return t.eBV(s),t.DH7(n.searchVo.status,c)||(n.searchVo.status=c),t.Njj(c)}),t.nrm(24,"nz-option",13)(25,"nz-option",14)(26,"nz-option",15),t.k0s()()(),t.j41(27,"div",8)(28,"label",9),t.EFF(29,"Ng\xe0y t\u1ea1o"),t.k0s(),t.j41(30,"div",9)(31,"nz-range-picker",16),t.bIt("ngModelChange",function(c){return t.eBV(s),t.Njj(n.onChange(c))})("nzOnCalendarChange",function(c){return t.eBV(s),t.Njj(n.onCalendarChange(c))}),t.k0s()()(),t.j41(32,"div",17)(33,"label",9),t.EFF(34,"\xa0"),t.k0s(),t.j41(35,"div",9)(36,"button",18),t.bIt("click",function(){return t.eBV(s),t.Njj(n.onSearch())}),t.EFF(37," Search "),t.k0s(),t.j41(38,"button",19),t.bIt("click",function(){return t.eBV(s),t.Njj(n.isOpenSpecialSearchModal=!0)}),t.EFF(39," M\u1ee9c ki\u1ec3m so\xe1t "),t.k0s()()()(),t.j41(40,"div",20)(41,"div",21)(42,"label",22),t.EFF(43,"Config"),t.k0s(),t.j41(44,"nz-switch",23),t.bIt("ngModelChange",function(c){return t.eBV(s),t.Njj(n.changeAuditConfig(c))}),t.k0s(),t.DNE(45,A,1,0,"ng-template",null,0,t.C5r)(47,J,1,0,"ng-template",null,1,t.C5r),t.k0s(),t.nrm(49,"div",24)(50,"div",25),t.k0s()(),t.DNE(51,W,1,0,"ng-template",null,2,t.C5r),t.k0s(),t.nrm(53,"br"),t.j41(54,"nz-table",26,3)(56,"thead")(57,"tr")(58,"th",27),t.EFF(59,"Request No"),t.k0s(),t.j41(60,"th",27),t.EFF(61,"Invoice"),t.k0s(),t.j41(62,"th",27),t.EFF(63,"Supplier"),t.k0s(),t.j41(64,"th",27),t.EFF(65,"IQC Status"),t.k0s(),t.j41(66,"th",27),t.EFF(67,"Ng\u01b0\u1eddi request"),t.k0s(),t.j41(68,"th",27),t.EFF(69,"Ng\xe0y t\u1ea1o"),t.k0s(),t.j41(70,"th",27),t.EFF(71,"Ghi ch\xfa"),t.k0s(),t.j41(72,"th",27),t.EFF(73,"Action"),t.k0s()()(),t.j41(74,"tbody"),t.DNE(75,et,19,17,"tr",28),t.k0s()(),t.j41(76,"nz-modal",29),t.mxI("nzVisibleChange",function(c){return t.eBV(s),t.DH7(n.isOpenSpecialSearchModal,c)||(n.isOpenSpecialSearchModal=c),t.Njj(c)}),t.DNE(77,lt,25,4,"ng-container",30)(78,st,3,0,"div",31),t.k0s()}if(2&l){const s=t.sdS(52),g=t.sdS(55);t.R7$(7),t.Y8G("nzActive",!0)("nzShowArrow",!0)("nzExtra",s),t.R7$(),t.Y8G("nzGutter",24),t.R7$(5),t.R50("ngModel",n.searchVo.requestNo),t.R7$(5),t.R50("ngModel",n.searchVo.invoice),t.R7$(5),t.R50("ngModel",n.searchVo.status),t.R7$(17),t.Y8G("nzGutter",24),t.R7$(4),t.Y8G("ngModel",n.isAudit),t.R7$(10),t.Y8G("nzBordered",!0)("nzData",n.iqcRequests)("nzFrontPagination",!0)("nzScroll",t.lJ4(15,M)),t.R7$(21),t.Y8G("ngForOf",g.data),t.R7$(),t.R50("nzVisible",n.isOpenSpecialSearchModal)}},dependencies:[p.YU,p.Sq,p.bT,m.me,m.BC,m.vS,z.hL,z.K7,q.Uq,q.e,G.Dn,_.CP,_.SO,_._4,_.IL,_.aj,_.kt,j.aO,d.c,E.p,F.F2,F.Oj,F.A9,f.Sy,f.tg,f.vN,R.Vz,R.pc,k.ld,k.WI,S.SN,S.vw,y.u,p.vh],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-input[_ngcontent-%COMP%], nz-select[_ngcontent-%COMP%], nz-range-picker[_ngcontent-%COMP%]{width:100%}nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}nz-table[_ngcontent-%COMP%]   .text-left[_ngcontent-%COMP%]{text-align:left}nz-table[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{color:#007bff}nz-table[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%]{color:#28a745}nz-table[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#dc3545}#muc-kiem-soat-search-tbl[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #muc-kiem-soat-search-tbl[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;border-collapse:collapse;padding:5px}"]})}return o})();var at=a(45794),L=a(37736);const X=()=>({x:"1500px"}),v=(o,r,e)=>({"text-center":!0,"text-danger":o,"text-success":r,"text-primary":e}),Y=()=>[""];function rt(o,r){1&o&&t.eu8(0)}function ct(o,r){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"td",15),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"number"),t.k0s(),t.j41(8,"td",16),t.EFF(9),t.k0s(),t.j41(10,"td",16),t.EFF(11),t.k0s(),t.j41(12,"td",16),t.EFF(13),t.k0s(),t.j41(14,"td"),t.EFF(15),t.k0s(),t.j41(16,"td"),t.EFF(17),t.k0s(),t.j41(18,"td",17),t.EFF(19),t.nI1(20,"date"),t.k0s(),t.j41(21,"td",18)(22,"a",19),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.openLotNoEvaluate(n))}),t.EFF(23,"\u0110\xe1nh gi\xe1"),t.k0s()()()}if(2&o){const e=r.$implicit;t.R7$(2),t.JRh(e.lotNo),t.R7$(2),t.JRh(e.model),t.R7$(2),t.JRh(t.i5U(7,12,e.qty,"1.0-3")),t.R7$(2),t.Y8G("ngClass",t.sMw(18,v,"NG"==e.result1,"OK"==e.result1,"CA"==e.result1)),t.R7$(),t.SpI(" ",e.result1," "),t.R7$(),t.Y8G("ngClass",t.sMw(22,v,"NG"==e.result2,"OK"==e.result2,"CA"==e.result2)),t.R7$(),t.SpI(" ",e.result2," "),t.R7$(),t.Y8G("ngClass",t.sMw(26,v,"NG"==e.result3,"OK"==e.result3,"CA"==e.result3)),t.R7$(),t.SpI(" ",e.result3," "),t.R7$(2),t.JRh(e.remark),t.R7$(2),t.JRh(e.createdByName),t.R7$(2),t.SpI(" ",t.i5U(20,15,e.iqcAt,"yyyy-MM-dd HH:mm")," ")}}function ut(o,r){if(1&o){const e=t.RV6();t.j41(0,"button",8),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.lotGroupEvaluate())}),t.EFF(1),t.k0s(),t.j41(2,"nz-table",9,2)(4,"thead")(5,"tr")(6,"th",10),t.EFF(7," Lot No "),t.k0s(),t.j41(8,"th",11),t.EFF(9,"Model"),t.k0s(),t.j41(10,"th",11),t.EFF(11,"Qty"),t.k0s(),t.j41(12,"th",12),t.EFF(13,"K\u1ebft qu\u1ea3 ki\u1ec3m tra"),t.k0s(),t.j41(14,"th",11),t.EFF(15," Th\xf4ng tin "),t.nrm(16,"br"),t.EFF(17," NG ho\u1eb7c CA "),t.k0s(),t.j41(18,"th",11),t.EFF(19,"Ng\u01b0\u1eddi"),t.nrm(20,"br"),t.EFF(21,"ki\u1ec3m tra"),t.k0s(),t.j41(22,"th",11),t.EFF(23,"Th\u1eddi gian"),t.k0s(),t.j41(24,"th",13),t.EFF(25,"Action"),t.k0s()(),t.j41(26,"tr")(27,"th",11),t.EFF(28,"GP"),t.k0s(),t.j41(29,"th",11),t.EFF(30,"Ngo\u1ea1i quan"),t.k0s(),t.j41(31,"th",11),t.EFF(32,"K\xedch th\u01b0\u1edbc"),t.k0s()()(),t.j41(33,"tbody"),t.DNE(34,ct,24,30,"tr",14),t.k0s()()}if(2&o){const e=t.sdS(3),l=t.XpG();t.R7$(),t.SpI(" \u0110\xe1nh gi\xe1 | Lot Group: ",l.lotGroup," "),t.R7$(),t.Y8G("nzBordered",!0)("nzData",l.iqcDataSortingDetails)("nzScroll",t.lJ4(5,X)),t.R7$(32),t.Y8G("ngForOf",e.data)}}function dt(o,r){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"td",15),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td"),t.EFF(6),t.nI1(7,"number"),t.k0s(),t.j41(8,"td",16),t.EFF(9),t.k0s(),t.j41(10,"td",16),t.EFF(11),t.k0s(),t.j41(12,"td",16),t.EFF(13),t.k0s(),t.j41(14,"td"),t.EFF(15),t.k0s(),t.j41(16,"td"),t.EFF(17),t.k0s(),t.j41(18,"td",17),t.EFF(19),t.nI1(20,"date"),t.k0s(),t.j41(21,"td",18)(22,"a",19),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.openLotNoEvaluate(n))}),t.EFF(23,"\u0110\xe1nh gi\xe1"),t.k0s()()()}if(2&o){const e=r.$implicit;t.R7$(2),t.JRh(e.lotNo),t.R7$(2),t.JRh(e.model),t.R7$(2),t.JRh(t.i5U(7,12,e.qty,"1.0-3")),t.R7$(2),t.Y8G("ngClass",t.sMw(18,v,"NG"==e.result1,"OK"==e.result1,"CA"==e.result1)),t.R7$(),t.SpI(" ",e.result1," "),t.R7$(),t.Y8G("ngClass",t.sMw(22,v,"NG"==e.result2,"OK"==e.result2,"CA"==e.result2)),t.R7$(),t.SpI(" ",e.result2," "),t.R7$(),t.Y8G("ngClass",t.sMw(26,v,"NG"==e.result3,"OK"==e.result3,"CA"==e.result3)),t.R7$(),t.SpI(" ",e.result3," "),t.R7$(2),t.JRh(e.remark),t.R7$(2),t.JRh(e.createdByName),t.R7$(2),t.SpI(" ",t.i5U(20,15,e.iqcAt,"yyyy-MM-dd HH:mm")," ")}}function ht(o,r){if(1&o){const e=t.RV6();t.j41(0,"button",8),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.lotGroupEvaluate())}),t.EFF(1),t.k0s(),t.j41(2,"nz-table",9,2)(4,"thead")(5,"tr")(6,"th",10),t.EFF(7," Lot No "),t.k0s(),t.j41(8,"th",11),t.EFF(9,"Model"),t.k0s(),t.j41(10,"th",11),t.EFF(11,"Qty"),t.k0s(),t.j41(12,"th",12),t.EFF(13,"K\u1ebft qu\u1ea3 ki\u1ec3m tra"),t.k0s(),t.j41(14,"th",11),t.EFF(15," Th\xf4ng tin "),t.nrm(16,"br"),t.EFF(17," NG ho\u1eb7c CA "),t.k0s(),t.j41(18,"th",11),t.EFF(19,"Ng\u01b0\u1eddi"),t.nrm(20,"br"),t.EFF(21,"ki\u1ec3m tra"),t.k0s(),t.j41(22,"th",11),t.EFF(23,"Th\u1eddi gian"),t.k0s(),t.j41(24,"th",13),t.EFF(25,"Action"),t.k0s()(),t.j41(26,"tr")(27,"th",11),t.EFF(28,"GP"),t.k0s(),t.j41(29,"th",11),t.EFF(30,"Ngo\u1ea1i quan"),t.k0s(),t.j41(31,"th",11),t.EFF(32,"K\xedch th\u01b0\u1edbc"),t.k0s()()(),t.j41(33,"tbody"),t.DNE(34,dt,24,30,"tr",14),t.k0s()()}if(2&o){const e=t.sdS(3),l=t.XpG();t.R7$(),t.SpI(" \u0110\xe1nh gi\xe1 | Lot Group: ",l.lotGroup," "),t.R7$(),t.Y8G("nzBordered",!0)("nzData",l.iqcDataDetails)("nzScroll",t.lJ4(5,X)),t.R7$(32),t.Y8G("ngForOf",e.data)}}function _t(o,r){if(1&o&&t.nrm(0,"nz-option",30),2&o){const e=r.$implicit;t.Y8G("nzValue",e.name)("nzLabel",e.name)}}function gt(o,r){if(1&o&&t.nrm(0,"nz-option",30),2&o){const e=r.$implicit;t.Y8G("nzValue",e.name)("nzLabel",e.name)}}function pt(o,r){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"nz-table",20)(2,"tbody")(3,"tr")(4,"td")(5,"label"),t.EFF(6,"Request No"),t.k0s()(),t.j41(7,"td",21),t.EFF(8),t.k0s()(),t.j41(9,"tr")(10,"td")(11,"label"),t.EFF(12,"Lot Group"),t.k0s()(),t.j41(13,"td",21),t.EFF(14),t.k0s()(),t.j41(15,"tr")(16,"td")(17,"label"),t.EFF(18,"Model"),t.k0s()(),t.j41(19,"td",21),t.EFF(20),t.k0s()(),t.j41(21,"tr")(22,"td")(23,"label"),t.EFF(24,"Qty"),t.k0s()(),t.j41(25,"td",21),t.EFF(26),t.nI1(27,"number"),t.k0s()(),t.j41(28,"tr")(29,"td")(30,"label"),t.EFF(31,"S\u1ed1 ki\u1ec7n"),t.k0s()(),t.j41(32,"td",21),t.EFF(33),t.k0s()(),t.j41(34,"tr")(35,"td")(36,"label"),t.EFF(37,"GP"),t.k0s()(),t.j41(38,"td",21)(39,"nz-radio-group",22),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.lotGroupSelected.result1,n)||(s.lotGroupSelected.result1=n),t.Njj(n)}),t.j41(40,"label",23),t.EFF(41,"OK"),t.k0s(),t.j41(42,"label",24),t.EFF(43,"NG"),t.k0s()()()(),t.j41(44,"tr")(45,"td")(46,"label"),t.EFF(47,"Ngo\u1ea1i quan"),t.k0s()(),t.j41(48,"td")(49,"nz-radio-group",22),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.lotGroupSelected.result2,n)||(s.lotGroupSelected.result2=n),t.Njj(n)}),t.j41(50,"label",23),t.EFF(51,"OK"),t.k0s(),t.j41(52,"label",24),t.EFF(53,"NG"),t.k0s(),t.j41(54,"label",25),t.EFF(55,"CA"),t.k0s()()(),t.j41(56,"td")(57,"label"),t.EFF(58,"M\u1ee9c ki\u1ec3m so\xe1t"),t.k0s()(),t.j41(59,"td")(60,"nz-select",26),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.lotGroupSelected.levelOfControlNgoaiQuan,n)||(s.lotGroupSelected.levelOfControlNgoaiQuan=n),t.Njj(n)}),t.DNE(61,_t,1,2,"nz-option",27),t.k0s()()(),t.j41(62,"tr")(63,"td")(64,"label"),t.EFF(65,"K\xedch th\u01b0\u1edbc"),t.k0s()(),t.j41(66,"td")(67,"nz-radio-group",22),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.lotGroupSelected.result3,n)||(s.lotGroupSelected.result3=n),t.Njj(n)}),t.j41(68,"label",23),t.EFF(69,"OK"),t.k0s(),t.j41(70,"label",24),t.EFF(71,"NG"),t.k0s(),t.j41(72,"label",25),t.EFF(73,"CA"),t.k0s()()(),t.j41(74,"td")(75,"label"),t.EFF(76,"M\u1ee9c ki\u1ec3m so\xe1t"),t.k0s()(),t.j41(77,"td")(78,"nz-select",28),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.lotGroupSelected.levelOfControlKichThuoc,n)||(s.lotGroupSelected.levelOfControlKichThuoc=n),t.Njj(n)}),t.DNE(79,gt,1,2,"nz-option",27),t.k0s()()(),t.j41(80,"tr")(81,"td")(82,"label"),t.EFF(83,"Th\xf4ng tin "),t.nrm(84,"br"),t.EFF(85,"NG ho\u1eb7c CA"),t.k0s()(),t.j41(86,"td",21)(87,"textarea",29),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.lotGroupSelected.remark,n)||(s.lotGroupSelected.remark=n),t.Njj(n)}),t.k0s()()()()(),t.bVm()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("nzBordered",!0)("nzData",t.lJ4(19,Y))("nzFrontPagination",!1),t.R7$(7),t.JRh(e.lotGroupSelected.requestNo),t.R7$(6),t.JRh(e.lotGroupSelected.lotGroup),t.R7$(6),t.JRh(e.lotGroupSelected.model),t.R7$(6),t.JRh(t.i5U(27,16,e.lotGroupSelected.qty,"1.0-3")),t.R7$(7),t.JRh(e.lotGroupSelected.amount),t.R7$(6),t.R50("ngModel",e.lotGroupSelected.result1),t.R7$(10),t.R50("ngModel",e.lotGroupSelected.result2),t.R7$(11),t.R50("ngModel",e.lotGroupSelected.levelOfControlNgoaiQuan),t.R7$(),t.Y8G("ngForOf",e.levelOfControls),t.R7$(6),t.R50("ngModel",e.lotGroupSelected.result3),t.R7$(11),t.R50("ngModel",e.lotGroupSelected.levelOfControlKichThuoc),t.R7$(),t.Y8G("ngForOf",e.levelOfControls),t.R7$(8),t.R50("ngModel",e.lotGroupSelected.remark)}}function mt(o,r){if(1&o){const e=t.RV6();t.j41(0,"button",31),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.onDeleteCheckMaster())}),t.EFF(1," X\xf3a d\u1eef li\u1ec7u "),t.k0s(),t.j41(2,"button",32),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.isOpenMasterModal=!1)}),t.EFF(3," \u0110\xf3ng "),t.k0s(),t.j41(4,"button",8),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.saveIqcDataMaster())}),t.EFF(5," L\u01b0u "),t.k0s()}}function Et(o,r){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"nz-table",20)(2,"tbody")(3,"tr")(4,"td")(5,"label"),t.EFF(6,"Lot No"),t.k0s()(),t.j41(7,"td",21),t.EFF(8),t.k0s()(),t.j41(9,"tr")(10,"td")(11,"label"),t.EFF(12,"Model"),t.k0s()(),t.j41(13,"td",21),t.EFF(14),t.k0s()(),t.j41(15,"tr")(16,"td")(17,"label"),t.EFF(18,"Qty"),t.k0s()(),t.j41(19,"td",21),t.EFF(20),t.nI1(21,"number"),t.k0s()(),t.j41(22,"tr")(23,"td")(24,"label"),t.EFF(25,"GP"),t.k0s()(),t.j41(26,"td",21)(27,"nz-radio-group",22),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.lotNoSelected.result1,n)||(s.lotNoSelected.result1=n),t.Njj(n)}),t.j41(28,"label",23),t.EFF(29,"OK"),t.k0s(),t.j41(30,"label",24),t.EFF(31,"NG"),t.k0s()()()(),t.j41(32,"tr")(33,"td")(34,"label"),t.EFF(35,"Ngo\u1ea1i quan"),t.k0s()(),t.j41(36,"td")(37,"nz-radio-group",22),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.lotNoSelected.result2,n)||(s.lotNoSelected.result2=n),t.Njj(n)}),t.j41(38,"label",23),t.EFF(39,"OK"),t.k0s(),t.j41(40,"label",24),t.EFF(41,"NG"),t.k0s(),t.j41(42,"label",25),t.EFF(43,"CA"),t.k0s()()(),t.j41(44,"td")(45,"label"),t.EFF(46,"M\u1ee9c ki\u1ec3m so\xe1t"),t.k0s()(),t.j41(47,"td"),t.nrm(48,"input",33),t.k0s()(),t.j41(49,"tr")(50,"td")(51,"label"),t.EFF(52,"K\xedch th\u01b0\u1edbc"),t.k0s()(),t.j41(53,"td")(54,"nz-radio-group",22),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.lotNoSelected.result3,n)||(s.lotNoSelected.result3=n),t.Njj(n)}),t.j41(55,"label",23),t.EFF(56,"OK"),t.k0s(),t.j41(57,"label",24),t.EFF(58,"NG"),t.k0s(),t.j41(59,"label",25),t.EFF(60,"CA"),t.k0s()()(),t.j41(61,"td")(62,"label"),t.EFF(63,"M\u1ee9c ki\u1ec3m so\xe1t"),t.k0s()(),t.j41(64,"td"),t.nrm(65,"input",34),t.k0s()(),t.j41(66,"tr")(67,"td")(68,"label"),t.EFF(69,"Th\xf4ng tin "),t.nrm(70,"br"),t.EFF(71,"NG ho\u1eb7c CA"),t.k0s()(),t.j41(72,"td",21)(73,"textarea",29),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.lotNoSelected.remark,n)||(s.lotNoSelected.remark=n),t.Njj(n)}),t.k0s()()()()(),t.bVm()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("nzBordered",!0)("nzData",t.lJ4(13,Y))("nzFrontPagination",!1),t.R7$(7),t.JRh(e.lotNoSelected.lotNo),t.R7$(6),t.JRh(e.lotNoSelected.model),t.R7$(6),t.JRh(t.i5U(21,10,e.lotNoSelected.qty,"1.0-3")),t.R7$(7),t.R50("ngModel",e.lotNoSelected.result1),t.R7$(10),t.R50("ngModel",e.lotNoSelected.result2),t.R7$(17),t.R50("ngModel",e.lotNoSelected.result3),t.R7$(19),t.R50("ngModel",e.lotNoSelected.remark)}}function Ct(o,r){if(1&o){const e=t.RV6();t.j41(0,"button",31),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.onDelete())}),t.EFF(1," X\xf3a d\u1eef li\u1ec7u "),t.k0s(),t.j41(2,"button",32),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.isOpenDetailModal=!1)}),t.EFF(3," \u0110\xf3ng "),t.k0s(),t.j41(4,"button",8),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.saveIqcDataDetail())}),t.EFF(5," L\u01b0u "),t.k0s()}}let zt=(()=>{class o{constructor(e,l,n,s,g){this.router=e,this.toastr=l,this.activatedRoute=n,this.jwtHelperService=s,this.qaIqcSvc=g,this.isOpenDetailModal=!1,this.isOpenMasterModal=!1}ngOnInit(){this.invoice=this.activatedRoute.snapshot.queryParams.invoice,this.requestNo=this.activatedRoute.snapshot.queryParams.requestNo,this.lotGroup=this.activatedRoute.snapshot.queryParams.lotGroup,this.model=this.activatedRoute.snapshot.queryParams.model,this.requestType=this.activatedRoute.snapshot.queryParams.type,this.getLotGroup(),this.getIqcDataDetail(),this.getLevelOfControls()}getIqcDataDetail(){"sorting"!==this.requestType&&"over6month"!==this.requestType?this.qaIqcSvc.getIqcDataDetail({invoice:this.invoice,requestNo:this.requestNo,lotGroup:this.lotGroup,model:this.model}).subscribe(l=>{this.iqcDataDetails=l}):this.qaIqcSvc.getIqcDataSortingDetail(this.requestNo,this.lotGroup).subscribe(l=>{this.iqcDataSortingDetails=l,console.log("iqcDataSortingDetails: ",this.iqcDataSortingDetails)})}getLotGroup(){"sorting"!==this.requestType&&"over6month"!==this.requestType?this.qaIqcSvc.getIqcDataMaster({invoice:this.invoice,requestNo:this.requestNo,lotGroup:this.lotGroup,model:this.model}).subscribe(l=>{this.lotGroupSelected=l[0],console.log("lotGroupSelected: ",this.lotGroupSelected)}):this.qaIqcSvc.getIqcDataSortingMaster(this.requestNo).subscribe(l=>{this.lotGroupSelected=l.find(n=>n.lotGroup===this.lotGroup),console.log("lotGroupSelected: ",this.lotGroupSelected)})}getLevelOfControls(){this.qaIqcSvc.getIqcLevelOfControl().subscribe(e=>{this.levelOfControls=e})}openLotNoEvaluate(e){console.log("Detail: ",e),this.lotNoSelected={...e},this.lotNoSelected.invoice=this.invoice,this.lotNoSelected.requestNo=this.requestNo,this.isOpenDetailModal=!0}saveIqcDataDetail(){if(("NG"==this.lotNoSelected.result1||"NG"==this.lotNoSelected.result2||"NG"==this.lotNoSelected.result3||"CA"==this.lotNoSelected.result1||"CA"==this.lotNoSelected.result2||"CA"==this.lotNoSelected.result3)&&!this.lotNoSelected.remark)return void this.toastr.warning("C\u1ea7n nh\u1eadp th\xf4ng tin NG ho\u1eb7c CA","Warning");let l=this.jwtHelperService.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;if(this.lotNoSelected.createdBy=l,"sorting"===this.requestType||"over6month"===this.requestType)return console.log(this.lotNoSelected),void this.qaIqcSvc.saveIqcDataSortingDetail(this.lotNoSelected).subscribe(n=>{this.isOpenDetailModal=!1,this.getIqcDataDetail()});this.qaIqcSvc.saveIqcDataDetail(this.lotNoSelected).subscribe(n=>{this.isOpenDetailModal=!1,this.getIqcDataDetail()})}lotGroupEvaluate(){this.isOpenMasterModal=!0}saveIqcDataMaster(){if(console.log("Master: ",this.lotGroupSelected),!(this.lotGroupSelected.result1&&this.lotGroupSelected.result2&&this.lotGroupSelected.result3&&this.lotGroupSelected.levelOfControlNgoaiQuan&&this.lotGroupSelected.levelOfControlKichThuoc))return void this.toastr.warning("C\u1ea7n \u0111\xe1nh gi\xe1 \u0111\u1ee7 GP, Ngo\u1ea1i quan, K\xedch th\u01b0\u1edbc, M\u1ee9c ki\u1ec3m so\xe1t","Warning");if(("NG"==this.lotGroupSelected.result1||"NG"==this.lotGroupSelected.result2||"NG"==this.lotGroupSelected.result3||"CA"==this.lotGroupSelected.result1||"CA"==this.lotGroupSelected.result2||"CA"==this.lotGroupSelected.result3)&&!this.lotGroupSelected.remark)return void this.toastr.warning("C\u1ea7n nh\u1eadp th\xf4ng tin NG ho\u1eb7c CA","Warning");let l=this.jwtHelperService.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;this.lotGroupSelected.createdBy=l,this.lotGroupSelected.invoice=this.invoice,this.lotGroupSelected.requestNo=this.requestNo,this.lotGroupSelected.lotGroup=this.lotGroup,this.lotGroupSelected.model=this.model,"sorting"!==this.requestType&&"over6month"!==this.requestType?this.qaIqcSvc.saveIqcDataMaster(this.lotGroupSelected).subscribe(n=>{this.toastr.success("\u0110\xe3 l\u01b0u !","Success"),this.isOpenMasterModal=!1,this.getLotGroup()}):this.qaIqcSvc.saveIqcDataSortingMaster(this.lotGroupSelected).subscribe(n=>{this.toastr.success("\u0110\xe3 l\u01b0u !","Success"),this.isOpenMasterModal=!1,this.getLotGroup()})}onDelete(){if(this.lotNoSelected.id){if(console.log(this.lotNoSelected),this.lotNoSelected.result1=null,this.lotNoSelected.result2=null,this.lotNoSelected.result3=null,this.lotNoSelected.remark=null,"sorting"===this.requestType||"over6month"===this.requestType)return void this.qaIqcSvc.deleteIqcDataSortingDetail(this.lotNoSelected.id).subscribe(e=>{this.toastr.success(e.result,"Success"),this.getIqcDataDetail(),this.isOpenDetailModal=!1});this.qaIqcSvc.deleteIqcDataDetail(this.lotNoSelected.id).subscribe(e=>{this.toastr.success(e.result,"Success"),this.getIqcDataDetail(),this.isOpenDetailModal=!1})}else this.lotNoSelected.result1=null,this.lotNoSelected.result2=null,this.lotNoSelected.result3=null,this.lotNoSelected.remark=null}onDeleteCheckMaster(){}static#t=this.\u0275fac=function(l){return new(l||o)(t.rXU(C.Ix),t.rXU(at.tw),t.rXU(C.nX),t.rXU(L.X7),t.rXU(h.p))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-qa-iqc-result-detail"]],decls:21,vars:7,consts:[["template1",""],["template2",""],["iqcResultDetailTable",""],[4,"ngIf","ngIfThen","ngIfElse"],["nzTitle","\u0110\xe1nh gi\xe1 chung",3,"nzVisibleChange","nzVisible","nzWidth"],[4,"nzModalContent"],[3,"nzModalFooter"],["nzTitle","\u0110\xe1nh gi\xe1 chi ti\u1ebft",3,"nzVisibleChange","nzVisible","nzWidth"],["nz-button","","nzType","primary",3,"click"],["nzSize","small",2,"margin-top","5px",3,"nzBordered","nzData","nzScroll"],["rowspan","2","nzLeft","",1,"text-center",2,"width","200px"],["rowspan","2",1,"text-center"],["colspan","3",1,"text-center"],["rowspan","2","nzRight","",1,"text-center"],[4,"ngFor","ngForOf"],["nzLeft","",2,"width","200px"],[2,"font-weight","bold",3,"ngClass"],[1,"text-center"],["nzRight","",1,"text-center"],["nz-button","","nzType","link",3,"click"],["nzSize","small",3,"nzBordered","nzData","nzFrontPagination"],["colspan","3"],[3,"ngModelChange","ngModel"],["nz-radio","","nzValue","OK",2,"color","green"],["nz-radio","","nzValue","NG",2,"color","red"],["nz-radio","","nzValue","CA",2,"color","black"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","M\u1ee9c ki\u1ec3m so\xe1t ngo\u1ea1i quan",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","M\u1ee9c ki\u1ec3m so\xe1t k\xedch th\u01b0\u1edbc",3,"ngModelChange","ngModel"],["rows","3","nz-input","",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel"],["nz-button","","nzType","default","nzDanger","",2,"float","left",3,"click"],["nz-button","","nzType","default",3,"click"],["nz-input","","placeholder","M\u1ee9c ki\u1ec3m so\xe1t ngo\u1ea1i quan"],["nz-input","","placeholder","M\u1ee9c ki\u1ec3m so\xe1t k\xedch th\u01b0\u1edbc"]],template:function(l,n){if(1&l){const s=t.RV6();t.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),t.EFF(2," QA "),t.k0s(),t.j41(3,"nz-breadcrumb-item"),t.EFF(4," IQC Request"),t.k0s(),t.j41(5,"nz-breadcrumb-item"),t.EFF(6," IQC Result Master"),t.k0s(),t.j41(7,"nz-breadcrumb-item"),t.EFF(8," IQC Result Detail"),t.k0s()(),t.nrm(9,"br"),t.DNE(10,rt,1,0,"ng-container",3)(11,ut,35,6,"ng-template",null,0,t.C5r)(13,ht,35,6,"ng-template",null,1,t.C5r),t.j41(15,"nz-modal",4),t.mxI("nzVisibleChange",function(c){return t.eBV(s),t.DH7(n.isOpenMasterModal,c)||(n.isOpenMasterModal=c),t.Njj(c)}),t.DNE(16,pt,88,20,"ng-container",5)(17,mt,6,0,"ng-template",6),t.k0s(),t.j41(18,"nz-modal",7),t.mxI("nzVisibleChange",function(c){return t.eBV(s),t.DH7(n.isOpenDetailModal,c)||(n.isOpenDetailModal=c),t.Njj(c)}),t.DNE(19,Et,74,14,"ng-container",5)(20,Ct,6,0,"ng-template",6),t.k0s()}if(2&l){const s=t.sdS(12),g=t.sdS(14);t.R7$(10),t.Y8G("ngIf","sorting"==n.requestType||"over6month"==n.requestType)("ngIfThen",s)("ngIfElse",g),t.R7$(5),t.R50("nzVisible",n.isOpenMasterModal),t.Y8G("nzWidth","900px"),t.R7$(3),t.R50("nzVisible",n.isOpenDetailModal),t.Y8G("nzWidth","900px")}},dependencies:[p.YU,p.Sq,p.bT,m.me,m.BC,m.vS,z.hL,z.K7,_.CP,_.SO,_._4,_.IL,_.aj,_.kt,_.OL,j.aO,d.c,E.p,F.F2,F.Oj,F.A9,f.Sy,I.lx,I.i3,k.ld,k.WI,p.QX,p.vh],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-input[_ngcontent-%COMP%], nz-select[_ngcontent-%COMP%]{width:100%}nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}nz-table[_ngcontent-%COMP%]   .text-left[_ngcontent-%COMP%]{text-align:left}nz-table[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{color:#007bff}nz-table[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%]{color:#28a745}nz-table[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#dc3545}"]})}return o})();var U=a(1868),D=a(31837);const K=()=>[10,25,50,100],Ft=()=>({x:"1500px"}),$=(o,r,e)=>({"text-center":!0,"text-danger":o,"text-success":r,"text-primary":e}),Rt=()=>[""];function qt(o,r){if(1&o){const e=t.RV6();t.j41(0,"div",5)(1,"div",18)(2,"input",19),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.searchVo.lotNo,n)||(s.searchVo.lotNo=n),t.Njj(n)}),t.k0s()(),t.j41(3,"div",18)(4,"button",20),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.onSearch())}),t.EFF(5,"Search"),t.k0s()(),t.j41(6,"div",21)(7,"button",22),t.EFF(8," Export "),t.nrm(9,"i",23),t.k0s(),t.j41(10,"nz-dropdown-menu",null,2)(12,"ul",24)(13,"li",25),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.exportExcel())}),t.nrm(14,"i",26),t.EFF(15,"Excel "),t.k0s(),t.j41(16,"li",25),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.exportPdf())}),t.nrm(17,"i",27),t.EFF(18,"Pdf "),t.k0s()()()()()}if(2&o){const e=t.sdS(11),l=t.XpG();t.Y8G("nzGutter",24),t.R7$(2),t.R50("ngModel",l.searchVo.lotNo),t.R7$(5),t.Y8G("nzDropdownMenu",e)}}function kt(o,r){1&o&&t.eu8(0)}function ft(o,r){if(1&o){const e=t.RV6();t.j41(0,"dx-data-grid",29),t.bIt("onSelectionChanged",function(n){t.eBV(e);const s=t.XpG(2);return t.Njj(s.onSelectionChanged(n))}),t.j41(1,"dxo-toolbar")(2,"dxi-item",30)(3,"button",31),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.openModalDanhGiaLotNo("OUTSIDE"))}),t.nrm(4,"span",32),t.EFF(5," \u0110\xe1nh gi\xe1 LotNo "),t.k0s()()(),t.nrm(6,"dxo-selection",33)(7,"dxo-filter-row",34)(8,"dxi-column",35)(9,"dxi-column",36)(10,"dxi-column",37),t.j41(11,"dxi-column",38),t.nrm(12,"dxi-column",39)(13,"dxi-column",40)(14,"dxi-column",41),t.k0s(),t.j41(15,"dxi-column",42),t.nrm(16,"dxi-column",43)(17,"dxi-column",44),t.k0s(),t.nrm(18,"dxo-paging",45)(19,"dxo-pager",46),t.k0s()}if(2&o){const e=t.XpG(2);t.Y8G("dataSource",e.iqc6Month)("showBorders",!0)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("columnAutoWidth",!0)("allowColumnResizing",!0)("columnResizingMode","widget")("allowColumnReordering",!0)("rowAlternationEnabled",!0),t.R7$(3),t.Y8G("disabled",!(null!=e.selectedRows&&e.selectedRows.length)),t.R7$(3),t.Y8G("selectAllMode","allPages")("showCheckBoxesMode","always"),t.R7$(),t.Y8G("visible",!0),t.R7$(),t.Y8G("allowEditing",!1),t.R7$(),t.Y8G("allowEditing",!1),t.R7$(),t.Y8G("allowEditing",!1),t.R7$(8),t.Y8G("pageSize",10),t.R7$(),t.Y8G("showPageSizeSelector",!0)("allowedPageSizes",t.lJ4(20,K))}}function Mt(o,r){if(1&o){const e=t.RV6();t.j41(0,"dx-data-grid",29),t.bIt("onSelectionChanged",function(n){t.eBV(e);const s=t.XpG(2);return t.Njj(s.onSelectionChanged(n))}),t.j41(1,"dxo-toolbar")(2,"dxi-item",30)(3,"button",31),t.bIt("click",function(){t.eBV(e);const n=t.XpG(2);return t.Njj(n.openModalDanhGiaLotNo("INSIDE"))}),t.nrm(4,"span",32),t.EFF(5," \u0110\xe1nh gi\xe1 LotNo "),t.k0s()()(),t.nrm(6,"dxo-selection",33)(7,"dxo-filter-row",34)(8,"dxi-column",35)(9,"dxi-column",36)(10,"dxi-column",37),t.j41(11,"dxi-column",38),t.nrm(12,"dxi-column",39)(13,"dxi-column",40),t.k0s(),t.nrm(14,"dxo-paging",45)(15,"dxo-pager",46),t.k0s()}if(2&o){const e=t.XpG(2);t.Y8G("dataSource",e.iqc6Month)("showBorders",!0)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("columnAutoWidth",!0)("allowColumnResizing",!0)("columnResizingMode","widget")("allowColumnReordering",!0)("rowAlternationEnabled",!0),t.R7$(3),t.Y8G("disabled",!(null!=e.selectedRows&&e.selectedRows.length)),t.R7$(3),t.Y8G("selectAllMode","allPages")("showCheckBoxesMode","always"),t.R7$(),t.Y8G("visible",!0),t.R7$(),t.Y8G("allowEditing",!1),t.R7$(),t.Y8G("allowEditing",!1),t.R7$(),t.Y8G("allowEditing",!1),t.R7$(4),t.Y8G("pageSize",10),t.R7$(),t.Y8G("showPageSizeSelector",!0)("allowedPageSizes",t.lJ4(20,K))}}function jt(o,r){if(1&o&&t.DNE(0,ft,20,21,"dx-data-grid",28)(1,Mt,16,21,"dx-data-grid",28),2&o){const e=t.XpG();t.Y8G("ngIf","OUTSIDE"===e.goodsType),t.R7$(),t.Y8G("ngIf","INSIDE"===e.goodsType)}}function bt(o,r){if(1&o){const e=t.RV6();t.j41(0,"tr")(1,"td",54),t.EFF(2),t.k0s(),t.j41(3,"td"),t.EFF(4),t.k0s(),t.j41(5,"td",55),t.EFF(6),t.nI1(7,"number"),t.k0s(),t.j41(8,"td",56),t.EFF(9),t.k0s(),t.j41(10,"td",56),t.EFF(11),t.nI1(12,"date"),t.k0s(),t.j41(13,"td",57),t.EFF(14),t.k0s(),t.j41(15,"td",57),t.EFF(16),t.k0s(),t.j41(17,"td",57),t.EFF(18),t.k0s(),t.j41(19,"td"),t.EFF(20),t.k0s(),t.j41(21,"td"),t.EFF(22),t.k0s(),t.j41(23,"td",56),t.EFF(24),t.k0s(),t.j41(25,"td"),t.EFF(26),t.k0s(),t.j41(27,"td",58)(28,"a",59),t.bIt("click",function(){const n=t.eBV(e).$implicit,s=t.XpG(2);return t.Njj(s.redirectDetailData(n))}),t.EFF(29,"Chi ti\u1ebft"),t.k0s()()()}if(2&o){const e=r.$implicit;t.R7$(2),t.JRh(e.lotGroup),t.R7$(2),t.JRh(e.model),t.R7$(2),t.JRh(t.i5U(7,15,e.qty,"1.0-3")),t.R7$(3),t.JRh(e.amount),t.R7$(2),t.SpI(" ",t.i5U(12,18,e.iqcAt,"yyyy-MM-dd HH:mm")," "),t.R7$(2),t.Y8G("ngClass",t.sMw(21,$,"NG"==e.result1,"OK"==e.result1,"CA"==e.result1)),t.R7$(),t.SpI(" ",e.result1," "),t.R7$(),t.Y8G("ngClass",t.sMw(25,$,"NG"==e.result2,"OK"==e.result2,"CA"==e.result2)),t.R7$(),t.SpI(" ",e.result2," "),t.R7$(),t.Y8G("ngClass",t.sMw(29,$,"NG"==e.result3,"OK"==e.result3,"CA"==e.result3)),t.R7$(),t.SpI(" ",e.result3," "),t.R7$(2),t.JRh(e.levelOfControlNgoaiQuan),t.R7$(2),t.JRh(e.levelOfControlKichThuoc),t.R7$(2),t.JRh(e.checkedAmount),t.R7$(2),t.JRh(e.remark)}}function It(o,r){if(1&o&&(t.j41(0,"nz-table",47,3)(2,"thead")(3,"tr")(4,"th",48),t.EFF(5," Lot Group "),t.k0s(),t.j41(6,"th",49),t.EFF(7,"Model"),t.k0s(),t.j41(8,"th",49),t.EFF(9,"Qty"),t.k0s(),t.j41(10,"th",49),t.EFF(11,"S\u1ed1 ki\u1ec7n"),t.k0s(),t.j41(12,"th",49),t.EFF(13,"Ng\xe0y \u0111\xe1nh gi\xe1"),t.k0s(),t.j41(14,"th",50),t.EFF(15,"K\u1ebft qu\u1ea3 IQC"),t.k0s(),t.j41(16,"th",51),t.EFF(17,"M\u1ee9c ki\u1ec3m so\xe1t"),t.k0s(),t.j41(18,"th",49),t.EFF(19," S\u1ed1 LotNo "),t.nrm(20,"br"),t.EFF(21," \u0110\xe3 check "),t.k0s(),t.j41(22,"th",49),t.EFF(23," Th\xf4ng tin "),t.nrm(24,"br"),t.EFF(25," NG ho\u1eb7c CA "),t.k0s(),t.j41(26,"th",52),t.EFF(27,"Action"),t.k0s()(),t.j41(28,"tr")(29,"th",49),t.EFF(30,"GP"),t.k0s(),t.j41(31,"th",49),t.EFF(32,"Ngo\u1ea1i quan"),t.k0s(),t.j41(33,"th",49),t.EFF(34,"K\xedch th\u01b0\u1edbc"),t.k0s(),t.j41(35,"th",49),t.EFF(36,"Ngo\u1ea1i quan"),t.k0s(),t.j41(37,"th",49),t.EFF(38,"K\xedch th\u01b0\u1edbc"),t.k0s()()(),t.j41(39,"tbody"),t.DNE(40,bt,30,33,"tr",53),t.k0s()()),2&o){const e=t.sdS(1),l=t.XpG();t.Y8G("nzBordered",!0)("nzData",l.iqcDataMasters)("nzScroll",t.lJ4(4,Ft)),t.R7$(40),t.Y8G("ngForOf",e.data)}}function Dt(o,r){if(1&o&&(t.j41(0,"li"),t.EFF(1),t.k0s()),2&o){const e=r.$implicit;t.R7$(),t.JRh(e.lotNo)}}function St(o,r){if(1&o&&t.nrm(0,"nz-option",71),2&o){const e=r.$implicit;t.Y8G("nzValue",e.name)("nzLabel",e.name)}}function Gt(o,r){if(1&o&&t.nrm(0,"nz-option",71),2&o){const e=r.$implicit;t.Y8G("nzValue",e.name)("nzLabel",e.name)}}function Nt(o,r){if(1&o){const e=t.RV6();t.qex(0),t.j41(1,"nz-table",60)(2,"tbody")(3,"tr")(4,"td")(5,"label"),t.EFF(6,"Request No"),t.k0s()(),t.j41(7,"td",61),t.EFF(8),t.k0s()(),t.j41(9,"tr")(10,"td")(11,"label"),t.EFF(12,"Lot No"),t.k0s()(),t.j41(13,"td",61)(14,"ul",62),t.DNE(15,Dt,2,1,"li",53),t.k0s()()(),t.j41(16,"tr")(17,"td")(18,"label"),t.EFF(19,"S\u1ed1 ki\u1ec7n"),t.k0s()(),t.j41(20,"td",61),t.EFF(21),t.k0s()(),t.j41(22,"tr")(23,"td")(24,"label"),t.EFF(25,"GP"),t.k0s()(),t.j41(26,"td",61)(27,"nz-radio-group",63),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.evaluate.gp,n)||(s.evaluate.gp=n),t.Njj(n)}),t.j41(28,"label",64),t.EFF(29,"OK"),t.k0s(),t.j41(30,"label",65),t.EFF(31,"NG"),t.k0s()()()(),t.j41(32,"tr")(33,"td")(34,"label"),t.EFF(35,"Ngo\u1ea1i quan"),t.k0s()(),t.j41(36,"td")(37,"nz-radio-group",63),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.evaluate.ngoaiQuan,n)||(s.evaluate.ngoaiQuan=n),t.Njj(n)}),t.j41(38,"label",64),t.EFF(39,"OK"),t.k0s(),t.j41(40,"label",65),t.EFF(41,"NG"),t.k0s(),t.j41(42,"label",66),t.EFF(43,"CA"),t.k0s()()(),t.j41(44,"td")(45,"label"),t.EFF(46,"M\u1ee9c ki\u1ec3m so\xe1t"),t.k0s()(),t.j41(47,"td")(48,"nz-select",67),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.evaluate.levelOfControlNgoaiQuan,n)||(s.evaluate.levelOfControlNgoaiQuan=n),t.Njj(n)}),t.DNE(49,St,1,2,"nz-option",68),t.k0s()()(),t.j41(50,"tr")(51,"td")(52,"label"),t.EFF(53,"K\xedch th\u01b0\u1edbc"),t.k0s()(),t.j41(54,"td")(55,"nz-radio-group",63),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.evaluate.kichThuoc,n)||(s.evaluate.kichThuoc=n),t.Njj(n)}),t.j41(56,"label",64),t.EFF(57,"OK"),t.k0s(),t.j41(58,"label",65),t.EFF(59,"NG"),t.k0s(),t.j41(60,"label",66),t.EFF(61,"CA"),t.k0s()()(),t.j41(62,"td")(63,"label"),t.EFF(64,"M\u1ee9c ki\u1ec3m so\xe1t"),t.k0s()(),t.j41(65,"td")(66,"nz-select",69),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.evaluate.levelOfControlKichThuoc,n)||(s.evaluate.levelOfControlKichThuoc=n),t.Njj(n)}),t.DNE(67,Gt,1,2,"nz-option",68),t.k0s()()(),t.j41(68,"tr")(69,"td")(70,"label"),t.EFF(71,"Th\xf4ng tin "),t.nrm(72,"br"),t.EFF(73,"NG ho\u1eb7c CA"),t.k0s()(),t.j41(74,"td",61)(75,"textarea",70),t.mxI("ngModelChange",function(n){t.eBV(e);const s=t.XpG();return t.DH7(s.evaluate.remark,n)||(s.evaluate.remark=n),t.Njj(n)}),t.k0s()()()()(),t.bVm()}if(2&o){const e=t.XpG();t.R7$(),t.Y8G("nzBordered",!0)("nzData",t.lJ4(14,Rt))("nzFrontPagination",!1),t.R7$(7),t.JRh(e.requestNo),t.R7$(7),t.Y8G("ngForOf",e.selectedRows),t.R7$(6),t.SpI(" ",e.selectedRows.length," "),t.R7$(6),t.R50("ngModel",e.evaluate.gp),t.R7$(10),t.R50("ngModel",e.evaluate.ngoaiQuan),t.R7$(11),t.R50("ngModel",e.evaluate.levelOfControlNgoaiQuan),t.R7$(),t.Y8G("ngForOf",e.levelOfControls),t.R7$(6),t.R50("ngModel",e.evaluate.kichThuoc),t.R7$(11),t.R50("ngModel",e.evaluate.levelOfControlKichThuoc),t.R7$(),t.Y8G("ngForOf",e.levelOfControls),t.R7$(8),t.R50("ngModel",e.evaluate.remark)}}function vt(o,r){if(1&o){const e=t.RV6();t.j41(0,"button",72),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.isOpen6MonthModal=!1)}),t.EFF(1," \u0110\xf3ng "),t.k0s(),t.j41(2,"button",20),t.bIt("click",function(){t.eBV(e);const n=t.XpG();return t.Njj(n.saveDanhGiaIqc6Month())}),t.EFF(3," L\u01b0u "),t.k0s()}}const xt=[{path:"",component:u,children:[{path:"main",component:N},{path:"iqc-request",component:it},{path:"iqc-result-master",component:(()=>{class o{constructor(e,l,n,s){this.router=e,this.activatedRoute=l,this.qaIqcSvc=n,this.jwtHelperSvc=s,this.isHandeled=!1,this.searchVo={},this.isOpen6MonthModal=!1,this.evaluate={}}ngOnInit(){this.invoice=this.activatedRoute.snapshot.queryParams.invoice,this.requestNo=this.activatedRoute.snapshot.queryParams.requestNo,this.requestType=this.activatedRoute.snapshot.queryParams.type,this.goodsType=this.activatedRoute.snapshot.queryParams.goodsType,this.getIqcDataMaster(),this.getIqcRequests(),this.getLevelOfControls()}onSearch(){this.searchVo.invoice=this.invoice,this.searchVo.requestNo=this.requestNo,console.log("SearchVo : ",this.searchVo),this.qaIqcSvc.getIqcDataMaster(this.searchVo).subscribe(e=>{this.iqcDataMasters=e})}getIqcRequests(){this.qaIqcSvc.getIqcRequests({invoice:this.invoice,requestNo:this.requestNo}).subscribe(l=>{this.iqcRequest=l[0],this.isHandeled=3==this.iqcRequest.status})}getIqcDataMaster(){"sorting"!==this.requestType&&"6Month"!==this.requestType?this.qaIqcSvc.getIqcDataMaster({invoice:this.invoice,requestNo:this.requestNo}).subscribe(l=>{this.iqcDataMasters=l}):this.qaIqcSvc.getLotIqcOver6Month(this.requestNo,this.goodsType).subscribe(l=>{this.iqc6Month=l.result})}redirectDetailData(e){this.router.navigate(["admin/qa/qa-iqc-check/iqc-result-detail"],{queryParams:{requestNo:this.requestNo,invoice:this.invoice,lotGroup:e.lotGroup,model:e.model,type:this.requestType}})}updateRequest(e){console.log("Event: ",e),this.qaIqcSvc.updateIqcRequest(this.requestNo,e?3:2).subscribe(n=>{this.getIqcRequests()})}exportExcel(){this.qaIqcSvc.exportExcel(this.requestNo,this.invoice).subscribe(e=>{const l=new Blob([e],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),n=window.URL.createObjectURL(l),s=document.createElement("a");s.href=n,s.download=`${this.invoice}.xlsx`,s.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(n),s.remove()},100)})}exportPdf(){console.log("Export Pdf")}onSelectionChanged(e){this.selectedRows=e.selectedRowsData}openModalDanhGiaLotNo(e){console.log("this.selectedRows: ",this.selectedRows),console.log("\u0110\xe1nh gi\xe1 h\xe0ng: ",this.goodsType),"OUTSIDE"===e&&(this.isOpen6MonthModal=!0)}getLevelOfControls(){this.qaIqcSvc.getIqcLevelOfControl().subscribe(e=>{this.levelOfControls=e})}saveDanhGiaIqc6Month(){console.log("saveDanhGiaIqc6Month: ",this.selectedRows),console.log("evaluate: ",this.evaluate);let e=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;for(let l of this.selectedRows)l.createdBy=e,l.result1=this.evaluate.gp,l.result2=this.evaluate.ngoaiQuan,l.result3=this.evaluate.kichThuoc,l.remark=this.evaluate.remark,l.levelOfControlNgoaiQuan=this.evaluate.levelOfControlNgoaiQuan,l.levelOfControlKichThuoc=this.evaluate.levelOfControlKichThuoc;this.qaIqcSvc.saveIqcResult(this.selectedRows,this.goodsType).subscribe(l=>{this.getIqcDataMaster(),this.isOpen6MonthModal=!1})}static#t=this.\u0275fac=function(l){return new(l||o)(t.rXU(C.Ix),t.rXU(C.nX),t.rXU(h.p),t.rXU(L.X7))};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-qa-iqc-result-master"]],decls:57,vars:27,consts:[["template1",""],["template2",""],["menu4","nzDropdownMenu"],["iqcResultMasterTable",""],["nzHeader","Th\xf4ng tin request",3,"nzActive","nzShowArrow"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzLg","3"],["nzXs","24","nzSm","24","nzLg","24"],["nz-col","","nzXs","12","nzSm","12","nzLg","5"],["type","text","nz-input","",3,"disabled","ngModel"],["nz-row","","nzJustify","start","nzAlign","middle",2,"margin-top","10px",3,"nzGutter"],["nz-row","","nzJustify","start","nzAlign","middle",2,"margin-top","15px",3,"nzGutter"],["nz-checkbox","",2,"color","#007bff",3,"ngModelChange","ngModel"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter",4,"ngIf"],[4,"ngIf","ngIfThen","ngIfElse"],["nzTitle","\u0110\xe1nh gi\xe1 h\xe0ng qu\xe1 6 th\xe1ng",3,"nzVisibleChange","nzVisible","nzWidth"],[4,"nzModalContent"],[3,"nzModalFooter"],["nz-col","","nzXs","12","nzSm","6","nzLg","6"],["nz-input","","placeholder","Lot No",3,"ngModelChange","ngModel"],["nz-button","","nzType","primary",3,"click"],["nz-col","","nzXs","12","nzSm","12","nzLg","12"],["nz-button","","nz-dropdown","",2,"float","right",3,"nzDropdownMenu"],["nz-icon","","nzType","download"],["nz-menu",""],["nz-menu-item","",3,"click"],["nz-icon","","nzType","file-excel",2,"margin-right","15px"],["nz-icon","","nzType","file-pdf",2,"margin-right","15px"],["id","gridContainer",3,"dataSource","showBorders","showColumnLines","showRowLines","columnAutoWidth","allowColumnResizing","columnResizingMode","allowColumnReordering","rowAlternationEnabled","onSelectionChanged",4,"ngIf"],["id","gridContainer",3,"onSelectionChanged","dataSource","showBorders","showColumnLines","showRowLines","columnAutoWidth","allowColumnResizing","columnResizingMode","allowColumnReordering","rowAlternationEnabled"],["location","before"],["nz-button","","nzType","primary",3,"click","disabled"],["nz-icon","","nzType","plus"],["mode","multiple",3,"selectAllMode","showCheckBoxesMode"],[3,"visible"],["dataField","model","caption","Model",3,"allowEditing"],["dataField","lotGroup","caption","Lot Group",3,"allowEditing"],["dataField","lotNo","caption","LotNo",3,"allowEditing"],["caption","K\u1ebft qu\u1ea3 IQC"],["dataField","result1","caption","GP"],["dataField","result2","caption","Ngo\u1ea1i quan"],["dataField","result3","caption","K\xedch th\u01b0\u1edbc"],["caption","M\u1ee9c ki\u1ec3m so\xe1t"],["dataField","levelOfControlNgoaiQuan","caption","Ngo\u1ea1i quan"],["dataField","levelOfControlKichThuoc","caption","K\xedch th\u01b0\u1edbc"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],["nzSize","small",3,"nzBordered","nzData","nzScroll"],["rowspan","2","nzLeft","",1,"text-center",2,"width","200px"],["rowspan","2",1,"text-center"],["colspan","3",1,"text-center"],["colspan","2",1,"text-center"],["rowspan","2","nzRight","",1,"text-center"],[4,"ngFor","ngForOf"],["nzLeft","",2,"width","200px"],[1,"text-right"],[1,"text-center"],[2,"font-weight","bold",3,"ngClass"],["nzRight","",1,"text-center"],["nz-button","","nzType","link",3,"click"],["nzSize","small",3,"nzBordered","nzData","nzFrontPagination"],["colspan","3"],[2,"margin-left","-20px"],[3,"ngModelChange","ngModel"],["nz-radio","","nzValue","OK",2,"color","green"],["nz-radio","","nzValue","NG",2,"color","red"],["nz-radio","","nzValue","CA",2,"color","black"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","M\u1ee9c ki\u1ec3m so\xe1t ngo\u1ea1i quan",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","M\u1ee9c ki\u1ec3m so\xe1t k\xedch th\u01b0\u1edbc",3,"ngModelChange","ngModel"],["rows","3","nz-input","",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel"],["nz-button","","nzType","default",3,"click"]],template:function(l,n){if(1&l){const s=t.RV6();t.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),t.EFF(2," QA "),t.k0s(),t.j41(3,"nz-breadcrumb-item"),t.EFF(4," IQC Request"),t.k0s(),t.j41(5,"nz-breadcrumb-item"),t.EFF(6," IQC Result Master"),t.k0s()(),t.nrm(7,"br"),t.j41(8,"nz-collapse")(9,"nz-collapse-panel",4)(10,"div",5)(11,"div",6)(12,"label",7),t.EFF(13,"Request No"),t.k0s()(),t.j41(14,"div",8),t.nrm(15,"input",9),t.k0s(),t.j41(16,"div",6)(17,"label",7),t.EFF(18,"Invoice"),t.k0s()(),t.j41(19,"div",8),t.nrm(20,"input",9),t.k0s(),t.j41(21,"div",6)(22,"label",7),t.EFF(23,"Supplier"),t.k0s()(),t.j41(24,"div",8),t.nrm(25,"input",9),t.k0s()(),t.j41(26,"div",10)(27,"div",6)(28,"label",7),t.EFF(29,"Ng\u01b0\u1eddi request"),t.k0s()(),t.j41(30,"div",8),t.nrm(31,"input",9),t.k0s(),t.j41(32,"div",6)(33,"label",7),t.EFF(34,"Ng\xe0y request"),t.k0s()(),t.j41(35,"div",8),t.nrm(36,"input",9),t.nI1(37,"date"),t.k0s(),t.j41(38,"div",6)(39,"label",7),t.EFF(40,"Tr\u1ea1ng th\xe1i"),t.k0s()(),t.j41(41,"div",8),t.nrm(42,"input",9),t.k0s()(),t.j41(43,"div",11)(44,"div",8)(45,"label",12),t.mxI("ngModelChange",function(c){return t.eBV(s),t.DH7(n.isHandeled,c)||(n.isHandeled=c),t.Njj(c)}),t.bIt("ngModelChange",function(c){return t.eBV(s),t.Njj(n.updateRequest(c))}),t.EFF(46,"\u0110\xe1nh d\u1ea5u \u0111\xe3 x\u1eed l\xfd"),t.k0s()()()()(),t.DNE(47,qt,19,3,"div",13),t.nrm(48,"br"),t.DNE(49,kt,1,0,"ng-container",14)(50,jt,2,2,"ng-template",null,0,t.C5r)(52,It,41,5,"ng-template",null,1,t.C5r),t.j41(54,"nz-modal",15),t.mxI("nzVisibleChange",function(c){return t.eBV(s),t.DH7(n.isOpen6MonthModal,c)||(n.isOpen6MonthModal=c),t.Njj(c)}),t.DNE(55,Nt,76,15,"ng-container",16)(56,vt,4,0,"ng-template",17),t.k0s()}if(2&l){const s=t.sdS(51),g=t.sdS(53);t.R7$(9),t.Y8G("nzActive",!0)("nzShowArrow",!0),t.R7$(),t.Y8G("nzGutter",24),t.R7$(5),t.Y8G("disabled",!0)("ngModel",null==n.iqcRequest?null:n.iqcRequest.requestNo),t.R7$(5),t.Y8G("disabled",!0)("ngModel",null==n.iqcRequest?null:n.iqcRequest.invoice),t.R7$(5),t.Y8G("disabled",!0)("ngModel",null==n.iqcRequest?null:n.iqcRequest.supplier),t.R7$(),t.Y8G("nzGutter",24),t.R7$(5),t.Y8G("disabled",!0)("ngModel",null==n.iqcRequest?null:n.iqcRequest.requestedByName),t.R7$(5),t.Y8G("disabled",!0)("ngModel",t.i5U(37,24,null==n.iqcRequest?null:n.iqcRequest.createdAt,"yyyy-MM-dd HH:mm")),t.R7$(6),t.Y8G("disabled",!0)("ngModel",null==n.iqcRequest?null:n.iqcRequest.statusName),t.R7$(),t.Y8G("nzGutter",24),t.R7$(2),t.R50("ngModel",n.isHandeled),t.R7$(2),t.Y8G("ngIf","sorting"!==n.requestType&&"6Month"!==n.requestType),t.R7$(2),t.Y8G("ngIf","sorting"==n.requestType||"6Month"==n.requestType)("ngIfThen",s)("ngIfElse",g),t.R7$(5),t.R50("nzVisible",n.isOpen6MonthModal),t.Y8G("nzWidth","900px")}},dependencies:[p.YU,p.Sq,p.bT,m.me,m.BC,m.vS,z.hL,z.K7,q.Uq,q.e,G.Dn,_.CP,_.SO,_._4,_.IL,_.aj,_.kt,_.OL,j.aO,d.c,E.p,F.F2,F.Oj,F.A9,f.Sy,I.lx,I.i3,R.Vz,R.pc,k.ld,k.WI,U.jS,U.CU,b.j3,b.wQ,b.h4,x.$g,i.s,D.hVU,D.nj_,D.CVf,D.FTx,D.sVQ,D.PVd,D.KOr,p.QX,p.vh],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-collapse[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{color:green}nz-input[_ngcontent-%COMP%], nz-select[_ngcontent-%COMP%]{width:100%}nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}nz-table[_ngcontent-%COMP%]   .text-left[_ngcontent-%COMP%]{text-align:left}nz-table[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{color:#007bff}nz-table[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%]{color:#28a745}nz-table[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#dc3545}"]})}return o})()},{path:"iqc-result-detail",component:zt},{path:"iqc-data",component:(()=>{class o{static#t=this.\u0275fac=function(l){return new(l||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-qa-iqc-data"]],decls:2,vars:0,template:function(l,n){1&l&&(t.j41(0,"p"),t.EFF(1,"qa-iqc-data works!"),t.k0s())}})}return o})()},{path:"iqc-recheck",component:(()=>{class o{static#t=this.\u0275fac=function(l){return new(l||o)};static#e=this.\u0275cmp=t.VBU({type:o,selectors:[["app-qa-iqc-recheck"]],standalone:!0,features:[t.aNF],decls:2,vars:0,template:function(l,n){1&l&&(t.j41(0,"p"),t.EFF(1,"qa-iqc-recheck works!"),t.k0s())}})}return o})()}]}];let Tt=(()=>{class o{static#t=this.\u0275fac=function(l){return new(l||o)};static#e=this.\u0275mod=t.$C({type:o});static#n=this.\u0275inj=t.G2t({imports:[C.iI.forChild(xt),C.iI]})}return o})(),Ot=(()=>{class o{static#t=this.\u0275fac=function(l){return new(l||o)};static#e=this.\u0275mod=t.$C({type:o});static#n=this.\u0275inj=t.G2t({imports:[p.MD,m.YN,Tt,z.EJ,q.f3,G.Y3,_.$G,j.Zw,Q.g9,F.U6,f.j,I.Sw,R.GB,k.DH,S.LE,b.Cu,x.IJ,y.$,V.L,i.N,B.V,w.b,O.F]})}return o})()},17481:(H,T,a)=>{a.d(T,{$:()=>t,u:()=>C});var p=a(15215),m=a(67336),V=a(60177),i=a(54438),B=a(89417),w=a(45286),O=a(73586),z=a(7605),j=a(16042),x=a(57806),R=a(70317),S=a(25930),b=a(72544),q=a(10851),G=a(28203);const f=["switchElement"];function F(d,N){1&d&&i.nrm(0,"span",8)}function Q(d,N){if(1&d&&(i.qex(0),i.EFF(1),i.bVm()),2&d){const u=i.XpG(2);i.R7$(),i.JRh(u.nzCheckedChildren)}}function I(d,N){if(1&d&&(i.qex(0),i.DNE(1,Q,2,1,"ng-container",9),i.bVm()),2&d){const u=i.XpG();i.R7$(),i.Y8G("nzStringTemplateOutlet",u.nzCheckedChildren)}}function k(d,N){if(1&d&&(i.qex(0),i.EFF(1),i.bVm()),2&d){const u=i.XpG(2);i.R7$(),i.JRh(u.nzUnCheckedChildren)}}function y(d,N){if(1&d&&i.DNE(0,k,2,1,"ng-container",9),2&d){const u=i.XpG();i.Y8G("nzStringTemplateOutlet",u.nzUnCheckedChildren)}}let C=(()=>{class d{updateValue(u){this.isChecked!==u&&(this.isChecked=u,this.onChange(this.isChecked))}focus(){this.focusMonitor.focusVia(this.switchElement.nativeElement,"keyboard")}blur(){this.switchElement.nativeElement.blur()}constructor(u,h,E,M,P,A){this.nzConfigService=u,this.host=h,this.ngZone=E,this.cdr=M,this.focusMonitor=P,this.directionality=A,this._nzModuleName="switch",this.isChecked=!1,this.onChange=()=>{},this.onTouched=()=>{},this.nzLoading=!1,this.nzDisabled=!1,this.nzControl=!1,this.nzCheckedChildren=null,this.nzUnCheckedChildren=null,this.nzSize="default",this.nzId=null,this.dir="ltr",this.destroy$=new w.B7,this.isNzDisableFirstChange=!0}ngOnInit(){this.directionality.change.pipe((0,z.Q)(this.destroy$)).subscribe(u=>{this.dir=u,this.cdr.detectChanges()}),this.dir=this.directionality.value,this.ngZone.runOutsideAngular(()=>{(0,O.R)(this.host.nativeElement,"click").pipe((0,z.Q)(this.destroy$)).subscribe(u=>{u.preventDefault(),!(this.nzControl||this.nzDisabled||this.nzLoading)&&this.ngZone.run(()=>{this.updateValue(!this.isChecked),this.cdr.markForCheck()})}),(0,O.R)(this.switchElement.nativeElement,"keydown").pipe((0,z.Q)(this.destroy$)).subscribe(u=>{if(this.nzControl||this.nzDisabled||this.nzLoading)return;const{keyCode:h}=u;h!==m.UQ&&h!==m.LE&&h!==m.t6&&h!==m.Fm||(u.preventDefault(),this.ngZone.run(()=>{h===m.UQ?this.updateValue(!1):h===m.LE?this.updateValue(!0):(h===m.t6||h===m.Fm)&&this.updateValue(!this.isChecked),this.cdr.markForCheck()}))})})}ngAfterViewInit(){this.focusMonitor.monitor(this.switchElement.nativeElement,!0).pipe((0,z.Q)(this.destroy$)).subscribe(u=>{u||Promise.resolve().then(()=>this.onTouched())})}ngOnDestroy(){this.focusMonitor.stopMonitoring(this.switchElement.nativeElement),this.destroy$.next(),this.destroy$.complete()}writeValue(u){this.isChecked=u,this.cdr.markForCheck()}registerOnChange(u){this.onChange=u}registerOnTouched(u){this.onTouched=u}setDisabledState(u){this.nzDisabled=this.isNzDisableFirstChange&&this.nzDisabled||u,this.isNzDisableFirstChange=!1,this.cdr.markForCheck()}static#t=this.\u0275fac=function(h){return new(h||d)(i.rXU(j.yx),i.rXU(i.aKT),i.rXU(i.SKi),i.rXU(i.gRc),i.rXU(q.FN),i.rXU(G.dS,8))};static#e=this.\u0275cmp=i.VBU({type:d,selectors:[["nz-switch"]],viewQuery:function(h,E){if(1&h&&i.GBs(f,7),2&h){let M;i.mGM(M=i.lsd())&&(E.switchElement=M.first)}},inputs:{nzLoading:"nzLoading",nzDisabled:"nzDisabled",nzControl:"nzControl",nzCheckedChildren:"nzCheckedChildren",nzUnCheckedChildren:"nzUnCheckedChildren",nzSize:"nzSize",nzId:"nzId"},exportAs:["nzSwitch"],standalone:!0,features:[i.Jv_([{provide:B.kq,useExisting:(0,i.Rfq)(()=>d),multi:!0}]),i.aNF],decls:9,vars:16,consts:[["switchElement",""],["uncheckTemplate",""],["nz-wave","","type","button",1,"ant-switch",3,"disabled","nzWaveExtraNode"],[1,"ant-switch-handle"],["nz-icon","","nzType","loading","class","ant-switch-loading-icon",4,"ngIf"],[1,"ant-switch-inner"],[4,"ngIf","ngIfElse"],[1,"ant-click-animating-node"],["nz-icon","","nzType","loading",1,"ant-switch-loading-icon"],[4,"nzStringTemplateOutlet"]],template:function(h,E){if(1&h&&(i.j41(0,"button",2,0)(2,"span",3),i.DNE(3,F,1,0,"span",4),i.k0s(),i.j41(4,"span",5),i.DNE(5,I,2,1,"ng-container",6)(6,y,1,1,"ng-template",null,1,i.C5r),i.k0s(),i.nrm(8,"div",7),i.k0s()),2&h){const M=i.sdS(7);i.AVh("ant-switch-checked",E.isChecked)("ant-switch-loading",E.nzLoading)("ant-switch-disabled",E.nzDisabled)("ant-switch-small","small"===E.nzSize)("ant-switch-rtl","rtl"===E.dir),i.Y8G("disabled",E.nzDisabled)("nzWaveExtraNode",!0),i.BMQ("id",E.nzId),i.R7$(3),i.Y8G("ngIf",E.nzLoading),i.R7$(2),i.Y8G("ngIf",E.isChecked)("ngIfElse",M)}},dependencies:[S.o7,S.p,b.Y3,b.Dn,V.bT,x.C,x.m],encapsulation:2,changeDetection:0})}return(0,p.Cg)([(0,R.H3)()],d.prototype,"nzLoading",void 0),(0,p.Cg)([(0,R.H3)()],d.prototype,"nzDisabled",void 0),(0,p.Cg)([(0,R.H3)()],d.prototype,"nzControl",void 0),(0,p.Cg)([(0,j.H4)()],d.prototype,"nzSize",void 0),d})(),t=(()=>{class d{static#t=this.\u0275fac=function(h){return new(h||d)};static#e=this.\u0275mod=i.$C({type:d});static#n=this.\u0275inj=i.G2t({imports:[C]})}return d})()}}]);