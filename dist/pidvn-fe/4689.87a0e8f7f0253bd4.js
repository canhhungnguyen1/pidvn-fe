"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[4689],{34390:(U,E,u)=>{u.r(E),u.d(E,{SalesModule:()=>ue});var x=u(60177),T=u(89417),b=u(31958),z=u(50513),G=u(25703),v=u(58960),j=u(97529),w=u(21011),k=u(23359),M=u(9541),$=u(75699),R=u(46661),e=u(54438);let D=(()=>{class i{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-sale"]],decls:1,vars:0,template:function(o,s){1&o&&e.nrm(0,"router-outlet")},dependencies:[R.n3]})}return i})();var I=u(45794),S=u(45312),P=u(21626);let A=(()=>{class i{constructor(n){this.httpClient=n,this.baseUrl=S.c.baseUrl}getDailyReportData(n){return this.httpClient.post(`${this.baseUrl}/PIH/DailyReport/DailyReportData`,n)}saveDailyReportData(n){return this.httpClient.post(`${this.baseUrl}/PIH/DailyReport/SaveDailyReportData`,n)}static#e=this.\u0275fac=function(o){return new(o||i)(e.KVO(P.Qq))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var t=u(16389),a=u(25930),r=u(97685),d=u(72544),c=u(43053),h=u(62047),f=u(19152),p=u(31837);const g=["videoPlayer"],y=()=>({x:"900",y:"510px"}),F=()=>({x:"1100px"}),O=()=>[""];function L(i,m){if(1&i){const n=e.RV6();e.j41(0,"tr",31),e.bIt("click",function(){const s=e.eBV(n),l=s.$implicit,C=s.index,_=e.XpG();return e.Njj(_.subtitleClick(l,C))}),e.j41(1,"td",32),e.bIt("nzCheckedChange",function(s){const l=e.eBV(n).$implicit,C=e.XpG();return e.Njj(C.onItemChecked(l.id,s))}),e.k0s(),e.j41(2,"td")(3,"div",33),e.nrm(4,"div",34),e.j41(5,"div",34)(6,"nz-tag",35),e.EFF(7),e.k0s()()(),e.j41(8,"div",36)(9,"div",37)(10,"ul")(11,"li",38),e.EFF(12),e.k0s(),e.j41(13,"li",39),e.EFF(14),e.k0s()()()()()()}if(2&i){const n=m.$implicit,o=m.index,s=e.XpG();e.AVh("active",o==s.highlightRow),e.R7$(),e.Y8G("nzShowCheckbox",!0)("nzChecked",s.setOfCheckedId.has(n.id)),e.R7$(2),e.Y8G("nzGutter",24),e.R7$(4),e.Lme("",n.startTime," - ",n.endTime,""),e.R7$(),e.Y8G("nzGutter",24),e.R7$(4),e.JRh(n.enSub),e.R7$(2),e.JRh(n.vnSub)}}function N(i,m){if(1&i){const n=e.RV6();e.j41(0,"nz-date-picker",40),e.mxI("ngModelChange",function(s){e.eBV(n);const l=e.XpG();return e.DH7(l.date,s)||(l.date=s),e.Njj(s)}),e.k0s()}if(2&i){const n=e.XpG();e.R50("ngModel",n.date)}}function V(i,m){if(1&i){const n=e.RV6();e.j41(0,"button",41),e.bIt("click",function(){e.eBV(n);const s=e.XpG();return e.Njj(s.onSearch())}),e.nrm(1,"span",42),e.EFF(2," Search "),e.k0s()}if(2&i){const n=e.XpG();e.Y8G("nzLoading",n.isLoading)}}function X(i,m){if(1&i&&(e.j41(0,"td",43),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&i){const n=e.XpG().$implicit,o=e.XpG().$implicit;e.BMQ("rowspan",o.dataSource.length),e.R7$(),e.JRh(e.i5U(2,2,n.targetQty,"1.0-3"))}}function Y(i,m){if(1&i&&(e.j41(0,"td",43),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&i){const n=e.XpG().$implicit,o=e.XpG().$implicit;e.BMQ("rowspan",o.dataSource.length),e.R7$(),e.JRh(e.i5U(2,2,n.actualQty,"1.0-3"))}}function Q(i,m){if(1&i&&(e.j41(0,"td",43),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&i){const n=e.XpG().$implicit,o=e.XpG().$implicit;e.BMQ("rowspan",o.dataSource.length),e.R7$(),e.JRh(e.i5U(2,2,n.dieAQty,"1.0-3"))}}function H(i,m){if(1&i&&(e.j41(0,"td",43),e.EFF(1),e.nI1(2,"number"),e.k0s()),2&i){const n=e.XpG().$implicit,o=e.XpG().$implicit;e.BMQ("rowspan",o.dataSource.length),e.R7$(),e.JRh(e.i5U(2,2,n.dieBQty,"1.0-3"))}}function J(i,m){if(1&i&&(e.j41(0,"td"),e.nrm(1,"dx-html-editor",48),e.k0s()),2&i){const n=e.XpG().$implicit,o=e.XpG().$implicit;e.BMQ("rowspan",o.dataSource.length),e.R7$(),e.Y8G("value",n.remark)("valueType","html")("readOnly",!0)}}function W(i,m){if(1&i){const n=e.RV6();e.j41(0,"td",49)(1,"a",50),e.bIt("click",function(){e.eBV(n);const s=e.XpG(2).$implicit,l=e.XpG();return e.Njj(l.editRow(s))}),e.EFF(2,"Edit"),e.k0s()()}if(2&i){const n=e.XpG(2).$implicit;e.BMQ("rowspan",n.dataSource.length)}}function K(i,m){1&i&&e.nrm(0,"td")}function Z(i,m){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",43),e.EFF(4),e.nI1(5,"number"),e.k0s(),e.j41(6,"td",43),e.EFF(7),e.nI1(8,"number"),e.k0s(),e.DNE(9,X,3,5,"td",44)(10,Y,3,5,"td",44)(11,Q,3,5,"td",44)(12,H,3,5,"td",44)(13,J,2,4,"td",45)(14,W,3,1,"td",46)(15,K,1,0,"td",47),e.k0s()),2&i){const n=m.$implicit,o=m.index;e.R7$(2),e.JRh(n.model),e.R7$(2),e.JRh(e.i5U(5,9,n.qtyShiftA,"1.0-3")),e.R7$(3),e.JRh(e.i5U(8,12,n.qtyShiftB,"1.0-3")),e.R7$(2),e.Y8G("ngIf",0==o),e.R7$(),e.Y8G("ngIf",0==o),e.R7$(),e.Y8G("ngIf",0==o),e.R7$(),e.Y8G("ngIf",0==o),e.R7$(),e.Y8G("ngIf",0==o),e.R7$(),e.Y8G("ngIf",0==o)}}function q(i,m){if(1&i&&(e.qex(0),e.j41(1,"tr")(2,"td")(3,"label"),e.EFF(4),e.k0s()()(),e.DNE(5,Z,16,15,"tr",27),e.bVm()),2&i){const n=m.$implicit;e.R7$(2),e.BMQ("rowspan",n.dataSource.length+1),e.R7$(2),e.JRh(n.line),e.R7$(),e.Y8G("ngForOf",n.dataSource)}}function ee(i,m){if(1&i&&(e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",43),e.EFF(4),e.nI1(5,"number"),e.k0s(),e.j41(6,"td",43),e.EFF(7),e.nI1(8,"number"),e.k0s()()),2&i){const n=m.$implicit;e.R7$(2),e.JRh(n.model),e.R7$(2),e.JRh(e.i5U(5,3,n.qtyShiftA,"1.0-3")),e.R7$(3),e.JRh(e.i5U(8,6,n.qtyShiftB,"1.0-3"))}}function te(i,m){if(1&i){const n=e.RV6();e.j41(0,"dx-html-editor",57),e.mxI("valueChange",function(s){e.eBV(n);const l=e.XpG(2);return e.DH7(l.lineSelected.dataSource[0].remark,s)||(l.lineSelected.dataSource[0].remark=s),e.Njj(s)}),e.j41(1,"dxo-toolbar",58),e.nrm(2,"dxi-item",59)(3,"dxi-item",60)(4,"dxi-item",61)(5,"dxi-item",62)(6,"dxi-item",63)(7,"dxi-item",64)(8,"dxi-item",65)(9,"dxi-item",61)(10,"dxi-item",66)(11,"dxi-item",67)(12,"dxi-item",61)(13,"dxi-item",68)(14,"dxi-item",69)(15,"dxi-item",61)(16,"dxi-item",70)(17,"dxi-item",71),e.k0s(),e.nrm(18,"dxo-media-resizing",72),e.k0s()}if(2&i){const n=e.XpG(2);e.R50("value",n.lineSelected.dataSource[0].remark),e.Y8G("valueType","html"),e.R7$(),e.Y8G("multiline",!0),e.R7$(17),e.Y8G("enabled",!0)}}function ne(i,m){if(1&i){const n=e.RV6();e.qex(0),e.j41(1,"nz-table",51)(2,"tbody")(3,"tr")(4,"td")(5,"label"),e.EFF(6,"Line"),e.k0s()(),e.j41(7,"td",52),e.EFF(8),e.k0s()(),e.j41(9,"tr")(10,"td")(11,"label"),e.EFF(12,"Models"),e.k0s()(),e.j41(13,"td",52)(14,"table",53)(15,"tr")(16,"th"),e.EFF(17,"Name"),e.k0s(),e.j41(18,"th"),e.EFF(19,"Shift A"),e.k0s(),e.j41(20,"th"),e.EFF(21,"Shift B"),e.k0s()(),e.DNE(22,ee,9,9,"tr",27),e.k0s()()(),e.j41(23,"tr")(24,"td")(25,"label"),e.EFF(26,"Smp"),e.k0s()(),e.j41(27,"td")(28,"label"),e.EFF(29,"Target"),e.k0s()(),e.j41(30,"td")(31,"nz-input-number",54),e.mxI("ngModelChange",function(s){e.eBV(n);const l=e.XpG();return e.DH7(l.lineSelected.dataSource[0].targetQty,s)||(l.lineSelected.dataSource[0].targetQty=s),e.Njj(s)}),e.k0s()(),e.j41(32,"td")(33,"label"),e.EFF(34,"Actual"),e.k0s()(),e.j41(35,"td")(36,"nz-input-number",55),e.mxI("ngModelChange",function(s){e.eBV(n);const l=e.XpG();return e.DH7(l.lineSelected.dataSource[0].actualQty,s)||(l.lineSelected.dataSource[0].actualQty=s),e.Njj(s)}),e.k0s()()(),e.j41(37,"tr")(38,"td")(39,"label"),e.EFF(40,"Th\xe1o Die"),e.k0s()(),e.j41(41,"td")(42,"label"),e.EFF(43,"Die A"),e.k0s()(),e.j41(44,"td")(45,"nz-input-number",55),e.mxI("ngModelChange",function(s){e.eBV(n);const l=e.XpG();return e.DH7(l.lineSelected.dataSource[0].dieAQty,s)||(l.lineSelected.dataSource[0].dieAQty=s),e.Njj(s)}),e.k0s()(),e.j41(46,"td")(47,"label"),e.EFF(48,"Die B"),e.k0s()(),e.j41(49,"td")(50,"nz-input-number",55),e.mxI("ngModelChange",function(s){e.eBV(n);const l=e.XpG();return e.DH7(l.lineSelected.dataSource[0].dieBQty,s)||(l.lineSelected.dataSource[0].dieBQty=s),e.Njj(s)}),e.k0s()()(),e.j41(51,"tr")(52,"td")(53,"label"),e.EFF(54,"Remark"),e.k0s()(),e.j41(55,"td",52),e.DNE(56,te,19,4,"dx-html-editor",56),e.k0s()()()(),e.bVm()}if(2&i){const n=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(17,O)),e.R7$(7),e.JRh(n.lineSelected.line),e.R7$(14),e.Y8G("ngForOf",n.lineSelected.dataSource),e.R7$(9),e.Y8G("nzMin",0)("nzStep",1),e.R50("ngModel",n.lineSelected.dataSource[0].targetQty),e.Y8G("nzReadOnly",!0),e.R7$(5),e.Y8G("nzMin",0)("nzStep",1),e.R50("ngModel",n.lineSelected.dataSource[0].actualQty),e.R7$(9),e.Y8G("nzMin",0)("nzStep",1),e.R50("ngModel",n.lineSelected.dataSource[0].dieAQty),e.R7$(5),e.Y8G("nzMin",0)("nzStep",1),e.R50("ngModel",n.lineSelected.dataSource[0].dieBQty),e.R7$(6),e.Y8G("ngIf",n.lineSelected)}}function ae(i,m){if(1&i){const n=e.RV6();e.j41(0,"div")(1,"button",73),e.bIt("click",function(){e.eBV(n);const s=e.XpG();return e.Njj(s.isOpenLineDetailModal=!1)}),e.EFF(2," H\u1ee7y "),e.k0s(),e.j41(3,"button",41),e.bIt("click",function(){e.eBV(n);const s=e.XpG();return e.Njj(s.saveChange())}),e.EFF(4,"L\u01b0u"),e.k0s()()}if(2&i){const n=e.XpG();e.R7$(3),e.Y8G("nzLoading",n.isLoadingSave)}}let ie=(()=>{class i{constructor(n,o){this.toastr=n,this.updatePsiPriceSvc=o,this.setOfCheckedId=new Set,this.subTitles=[{id:1,enSub:"Hi!",vnSub:"Ch\xe0o em",startTime:"00:00:00.990",endTime:"00:00:02.940"},{id:2,enSub:"Yes, you said that.",vnSub:"\u1eea anh \u0111\xe3 ch\xe0o r\u1ed3i.",startTime:"00:00:02.940",endTime:"00:00:04.770"},{id:3,enSub:"Yes! Yes, I did. But what I didn't say...",vnSub:"\u1eea, nh\u01b0ng \u0111i\u1ec1u anh \u0111\u1ecbnh n\xf3i l\xe0....",startTime:"00:00:04.770",endTime:"00:00:08.070"},{id:4,enSub:"What I wanted to say was, uh...",vnSub:"C\xe1i m\xe0 anh \u0111\u1ecbnh n\xf3i l\xe0..",startTime:"00:00:08.070",endTime:"00:00:10.740"},{id:5,enSub:"...would you like to go out with me? Thank you. Good night.",vnSub:"...em c\xf3 th\u1ec3 \u0111i ch\u01a1i v\u1edbi anh kh\xf4ng? C\u1ea3m \u01a1n, t\u1ea1m bi\u1ec7t.",startTime:"00:00:10.740",endTime:"00:00:14.080"},{id:6,enSub:"She said yes! She said yes!",vnSub:"C\xf4 \u1ea5y \u0111\u1ed3ng \xfd r\u1ed3i!",startTime:"00:00:14.080",endTime:"00:00:16.890"},{id:7,enSub:"MONICA: Wow!",vnSub:"MONICA: Wow!",startTime:"00:00:16.890",endTime:"00:00:23.940"},{id:8,enSub:"Her name's Aurora. She's Italian and she pronounces my name \"Chandler.\"",vnSub:'C\xf4 \u1ea5y t\xean l\xe0 Aurora. C\xf4 \u1ea5y l\xe0 ng\u01b0\u1eddi \xdd v\xe0 c\xf4 \u1ea5y ph\xe1t \xe2m t\xean t\u1edb l\xe0 " Chandler"',startTime:"00:00:23.940",endTime:"00:00:24.700"},{id:9,enSub:"I like that better. The usher gave me this to give to you.",vnSub:"T\u1edb th\xedch nghe th\u1ebf h\u01a1n. Ng\u01b0\u1eddi ch\u1ec9 ch\u1ed7 ng\u1ed3i \u0111\u01b0a cho t\u1edb t\u1edd gi\u1ea5y n\xe0y.",startTime:"00:00:24.700",endTime:"00:00:26.492"},{id:10,enSub:"What is it? - The Estelle Leonard Talent Agency.",vnSub:"C\xe1i g\xec th\u1ebf n\xe0y? - \u0110\xf3 l\xe0 Estelle Leonard ng\u01b0\u1eddi t\xecm ki\u1ebfm t\xe0i n\u0103ng.",startTime:"00:00:26.492",endTime:"00:00:28.950"}],this.date=new Date,this.isLoading=!1,this.isLoadingSave=!1,this.isOpenLineDetailModal=!1}ngOnInit(){}playPause(){var n=document.getElementById("video-media");n.paused?n.play():n.pause()}restart(){document.getElementById("video-media").currentTime=0}subtitleClick(n,o){this.highlightRow=o;let s=document.getElementById("video-media");const[l,C,_]=n.startTime.split(":").map(Number),[pe,fe,me]=n.endTime.split(":").map(Number);let ge=3600*pe+60*fe+me;s.currentTime=3600*l+60*C+_,setTimeout(()=>{s.play(),s.ontimeupdate=be=>{if(s.currentTime>=ge)return s.pause(),void s.removeAllListeners("timeupdate")}},2e3)}onItemChecked(n,o){console.log("nzCheckedChange: ",o),this.updateCheckedSet(n,o)}updateCheckedSet(n,o){o?this.setOfCheckedId.add(n):this.setOfCheckedId.delete(n)}onCreate(){if(0==this.setOfCheckedId.size)return void this.toastr.warning("B\u1ea1n c\u1ea7n ch\u1ecdn \u0111o\u1ea1n h\u1ed9i tho\u1ea1i","Warning");let n=new Set(this.setOfCheckedId),o=Array.from(n).sort(),s=this.subTitles.filter(_=>_.id===o[0])[0].startTime,l=this.subTitles.filter(_=>_.id===o.slice(-1)[0])[0].endTime,C={videoId:1,conversationName:this.conversationName,startTime:s,endTime:l};console.log("// L\u01b0u \u0111o\u1ea1n h\u1ed9i tho\u1ea1i: "),console.log(C),this.setOfCheckedId=new Set,this.conversationName=""}internal(n){console.log(n)}editRow(n){console.log("Row: ",n),this.lineSelected=n,this.isOpenLineDetailModal=!0}getDailyReportData(n){this.isLoading=!0,this.updatePsiPriceSvc.getDailyReportData(n).subscribe(o=>{this.productionData=o,this.isLoading=!1})}onSearch(){this.getDailyReportData(this.date)}saveChange(){this.isLoadingSave=!0,console.log("AAAAA",this.lineSelected),this.updatePsiPriceSvc.saveDailyReportData({id:this.lineSelected.dataSource[0].id,line:this.lineSelected.dataSource[0].line,date:this.lineSelected.dataSource[0].date,reportDate:new Date,targetQty:this.lineSelected.dataSource[0].targetQty,actualQty:this.lineSelected.dataSource[0].actualQty,dieAQty:this.lineSelected.dataSource[0].dieAQty,dieBQty:this.lineSelected.dataSource[0].dieBQty,remark:this.lineSelected.dataSource[0].remark}).subscribe(o=>{this.isLoadingSave=!1,this.isOpenLineDetailModal=!1},o=>{this.isLoadingSave=!1,this.isOpenLineDetailModal=!1})}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(I.tw),e.rXU(A))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-update-psi-price"]],viewQuery:function(o,s){if(1&o&&e.GBs(g,5),2&o){let l;e.mGM(l=e.lsd())&&(s.videoPlayer=l.first)}},decls:66,vars:13,consts:[["videoPlayer",""],["subTitleTable",""],["productionTable",""],["nzTitle","H\u01b0ng Test"],["src","../../../assets/images/hihi.png","width","60px",2,"margin-left","5px"],["nz-row","","nzJustify","start","nzAlign","top",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","16"],["id","video-media","width","100%","controls","","src","https://storage.googleapis.com/media-session/caminandes/short.mp4","crossorigin","anonymous","preload","metadata"],["kind","captions","srclang","en","src","https://static.3playmedia.com/p/files/6157318/threeplay_transcripts/18335056.vtt?project_id=10127&format_id=51&refresh=1620709875","default",""],["kind","captions","srclang","en-GB","src","https://static.3playmedia.com/p/files/6157318/threeplay_transcripts/18335056.vtt?project_id=10127&format_id=51&refresh=1620709875"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","8"],[3,"nzSize"],["nzTitle","\u0110o\u1ea1n h\u1ed9i tho\u1ea1i"],["id","subtitleTbl","nzBordered","","nzSize","small","nzFrontPagination","false",3,"nzData","nzScroll"],["id","subTitle",3,"active","click",4,"ngFor","ngForOf"],["nz-col","","nzXs","18","nzSm","18","nzMd","18","nzLg","18"],["nz-input","","placeholder","T\xean \u0111o\u1ea1n h\u1ed9i tho\u1ea1i",3,"ngModelChange","ngModel"],["nz-col","","nzXs","6","nzSm","6","nzMd","6","nzLg","6"],["nz-button","","nzType","primary",2,"width","100%",3,"click"],["nzTitle","\u0110o\u1ea1n \u0111\xe3 l\u01b0u"],["nzTitle","Ng\xe2n (PIH) Draft test"],[3,"ngModel","ngModelChange",4,"nzSpaceItem"],["nz-button","","nzType","primary",3,"nzLoading","click",4,"nzSpaceItem"],["nzSize","small","nzBordered","","nzFrontPagination","false",2,"margin-top","5px",3,"nzData","nzScroll"],["width","5%",2,"text-align","center"],[2,"text-align","center"],["width","5%","nzRight","",2,"text-align","center"],[4,"ngFor","ngForOf"],["nzTitle","Th\xf4ng tin chi ti\u1ebft","nzWidth","700px",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["id","subTitle",3,"click"],[2,"width","10%",3,"nzCheckedChange","nzShowCheckbox","nzChecked"],["nz-row","","nzJustify","end",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzMd","12","nzLg","12"],[1,"time"],["nz-row","","nzJustify","start",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzMd","24","nzLg","24"],[1,"en-sub"],[1,"vn-sub"],[3,"ngModelChange","ngModel"],["nz-button","","nzType","primary",3,"click","nzLoading"],["nz-icon","","nzType","search"],[2,"text-align","right"],["style","text-align: right",4,"ngIf"],[4,"ngIf"],["nzRight","","style","text-align: center;",4,"ngIf"],[4,"ngElse"],[3,"value","valueType","readOnly"],["nzRight","",2,"text-align","center"],[3,"click"],["nzSize","small","nzBordered","","nzFrontPagination","false",2,"margin-top","5px",3,"nzData"],["colspan","4"],[1,"model-line-tbl",2,"width","100%"],[3,"ngModelChange","nzMin","nzStep","ngModel","nzReadOnly"],[3,"ngModelChange","nzMin","nzStep","ngModel"],["height","200px",3,"value","valueType","valueChange",4,"ngIf"],["height","200px",3,"valueChange","value","valueType"],[3,"multiline"],["name","undo"],["name","redo"],["name","separator"],["name","bold"],["name","italic"],["name","strike"],["name","underline"],["name","orderedList"],["name","bulletList"],["name","color"],["name","background"],["name","clear"],["name","blockquote"],[3,"enabled"],["nz-button","","nzType","default",3,"click"]],template:function(o,s){if(1&o){const l=e.RV6();e.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),e.EFF(2,"Home"),e.k0s(),e.j41(3,"nz-breadcrumb-item"),e.EFF(4,"English Conversation"),e.k0s(),e.j41(5,"nz-breadcrumb-item"),e.EFF(6,"C\u1ea3nh H\u01b0ng (Test)"),e.k0s()(),e.j41(7,"nz-tabset")(8,"nz-tab",3),e.nrm(9,"img",4),e.j41(10,"div",5)(11,"div",6)(12,"nz-card")(13,"video",7,0),e.nrm(15,"track",8)(16,"track",9),e.k0s()()(),e.j41(17,"div",10)(18,"nz-card")(19,"nz-tabset",11)(20,"nz-tab",12)(21,"nz-table",13,1)(23,"tbody"),e.DNE(24,L,15,10,"tr",14),e.k0s()(),e.j41(25,"div",5)(26,"div",15)(27,"input",16),e.mxI("ngModelChange",function(_){return e.eBV(l),e.DH7(s.conversationName,_)||(s.conversationName=_),e.Njj(_)}),e.k0s()(),e.j41(28,"div",17)(29,"button",18),e.bIt("click",function(){return e.eBV(l),e.Njj(s.onCreate())}),e.EFF(30," T\u1ea1o m\u1edbi "),e.k0s()()()(),e.j41(31,"nz-tab",19),e.EFF(32,"\u0110o\u1ea1n \u0111\xe3 l\u01b0u"),e.k0s()()()()()(),e.j41(33,"nz-tab",20)(34,"nz-space"),e.DNE(35,N,1,1,"nz-date-picker",21)(36,V,3,1,"button",22),e.k0s(),e.j41(37,"nz-table",23,2)(39,"thead")(40,"tr")(41,"th",24),e.EFF(42,"Line"),e.k0s(),e.j41(43,"th",24),e.EFF(44,"Model"),e.k0s(),e.j41(45,"th",24),e.EFF(46,"Shift A"),e.k0s(),e.j41(47,"th",24),e.EFF(48,"Shift B"),e.k0s(),e.j41(49,"th",24),e.EFF(50,"Target"),e.k0s(),e.j41(51,"th",24),e.EFF(52,"Actual"),e.k0s(),e.j41(53,"th",24),e.EFF(54,"Die A"),e.k0s(),e.j41(55,"th",24),e.EFF(56,"Die B"),e.k0s(),e.j41(57,"th",25),e.EFF(58,"Remark"),e.k0s(),e.j41(59,"th",26),e.EFF(60,"Action"),e.k0s()()(),e.j41(61,"tbody"),e.DNE(62,q,6,3,"ng-container",27),e.k0s()(),e.j41(63,"nz-modal",28),e.mxI("nzVisibleChange",function(_){return e.eBV(l),e.DH7(s.isOpenLineDetailModal,_)||(s.isOpenLineDetailModal=_),e.Njj(_)}),e.DNE(64,ne,57,18,"ng-container",29)(65,ae,5,1,"div",30),e.k0s()()()}if(2&o){const l=e.sdS(22),C=e.sdS(38);e.R7$(10),e.Y8G("nzGutter",24),e.R7$(9),e.Y8G("nzSize","default"),e.R7$(2),e.Y8G("nzData",s.subTitles)("nzScroll",e.lJ4(11,y)),e.R7$(3),e.Y8G("ngForOf",l.data),e.R7$(),e.Y8G("nzGutter",24),e.R7$(2),e.R50("ngModel",s.conversationName),e.R7$(10),e.Y8G("nzData",s.productionData)("nzScroll",e.lJ4(12,F)),e.R7$(25),e.Y8G("ngForOf",C.data),e.R7$(),e.R50("nzVisible",s.isOpenLineDetailModal)}},dependencies:[x.Sq,x.bT,T.me,T.BC,T.vS,b.hL,b.K7,z.aO,t.c,a.p,j.Uq,j.e,M.JZ,M.rE,G.cK,w.Sy,k.CP,k.SO,k._4,k.GM,k.IL,k.aj,k.kt,k.OL,$.s,v.SN,r.U5,r.Dq,d.Dn,c.F2,c.Oj,c.A9,h.FG,f.m,p.mGe,p.CVf,p.KOr,x.QX],styles:['@charset "UTF-8";#subtitleTbl[_ngcontent-%COMP%]   tr.active[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{background-color:orange}#subtitleTbl[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{list-style:none;margin-left:-40px;font-size:18px}#subtitleTbl[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]   .vn-sub[_ngcontent-%COMP%]{opacity:.85;font-style:italic;font-size:95%}#subtitleTbl[_ngcontent-%COMP%]   .time[_ngcontent-%COMP%]{font-size:70%;float:right;color:green}#subtitleTbl[_ngcontent-%COMP%]   #subTitle[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#008b8b}.model-line-tbl[_ngcontent-%COMP%]{border:1px solid #ccc;border-collapse:collapse}.model-line-tbl[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .model-line-tbl[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;border-collapse:collapse;padding:0 5px}']})}return i})(),re=(()=>{class i{constructor(n){this.httpClient=n,this.baseUrl=S.c.baseUrl}getAndWriteActualDpp(){return this.httpClient.get(`${this.baseUrl}/Sales/ActualDppData/GetAndWriteExcelActualDpp`)}static#e=this.\u0275fac=function(o){return new(o||i)(e.KVO(P.Qq))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var B=u(38296);const oe=()=>[10,25,50,100];function se(i,m){if(1&i){const n=e.RV6();e.j41(0,"button",12),e.bIt("click",function(){e.eBV(n);const s=e.XpG();return e.Njj(s.getAndWriteExcelActualDppData())}),e.EFF(1," Get Actual DPP Data "),e.k0s()}if(2&i){const n=e.XpG();e.Y8G("nzLoading",n.isLoading)}}const de=[{path:"",component:D,children:[{path:"update-psi-price",component:ie},{path:"actual-dpp-data",component:(()=>{class i{constructor(n,o){this.toastr=n,this.actualDppDataSvc=o,this.isLoading=!1}getAndWriteExcelActualDppData(){this.isLoading=!0,this.actualDppDataSvc.getAndWriteActualDpp().subscribe(n=>{this.isLoading=!1,this.dppData=n})}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(I.tw),e.rXU(re))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-actual-dpp-data"]],decls:15,vars:14,consts:[["keyExpr","id",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"pageSize"],[3,"visible"],[3,"enabled"],["location","before"],["nz-button","","nzType","primary",3,"nzLoading","click",4,"nzSpaceItem"],["name","exportButton","location","after"],["dataField","model","caption","Model"],["dataField","line","caption","Line"],["dataField","date","caption","Date","dataType","date","format","yyyy-MM-dd"],["dataField","stQty","caption","Qty","format","#,##0"],[3,"showPageSizeSelector","allowedPageSizes"],["nz-button","","nzType","primary",3,"click","nzLoading"]],template:function(o,s){1&o&&(e.j41(0,"dx-data-grid",0),e.nrm(1,"dxo-paging",1)(2,"dxo-filter-row",2)(3,"dxo-export",3),e.j41(4,"dxo-toolbar")(5,"dxi-item",4)(6,"nz-space"),e.DNE(7,se,2,1,"button",5),e.k0s()(),e.nrm(8,"dxi-item",6),e.k0s(),e.nrm(9,"dxi-column",7)(10,"dxi-column",8)(11,"dxi-column",9)(12,"dxi-column",10)(13,"dxo-paging",1)(14,"dxo-pager",11),e.k0s()),2&o&&(e.Y8G("dataSource",s.dppData)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("pageSize",10),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(10),e.Y8G("pageSize",20),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(13,oe)))},dependencies:[z.aO,t.c,a.p,r.U5,r.Dq,p.CVf,p.KOr,B.s,p.nj_,p.ZJU,p.FTx,p.sVQ,p.PVd]})}return i})()}]}];let le=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({imports:[R.iI.forChild(de),R.iI]})}return i})();var ce=u(33514);let ue=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({imports:[x.MD,T.YN,le,b.EJ,z.Zw,j.f3,M.hM,G.Ti,w.j,k.$G,$.T,v.LE,r.pc,d.Y3,c.U6,h.GP,f.D,ce.L,B.N]})}return i})()},34090:(U,E,u)=>{u.d(E,{A:()=>A});var x={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},T=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10)]}},{re:/^rgba\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3}),\s*(\d*\.*\d+)\)$/,process:function(t){return[parseInt(t[1],10),parseInt(t[2],10),parseInt(t[3],10),parseFloat(t[4])]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/^#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})$/,process:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16),Number((parseInt(t[4],16)/255).toFixed(2))]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16),Number((parseInt(t[4]+t[4],16)/255).toFixed(2))]}},{re:/^#([a-f0-9]{1})([a-f0-9]{1})([a-f0-9]{1})$/,process:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/^hsv\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){var a=parseInt(t[1],10),r=parseInt(t[2],10),d=parseInt(t[3],10),c=k(a,r,d);return[c[0],c[1],c[2],1,[a,r,d]]}},{re:/^hsl\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,process:function(t){var a=parseInt(t[1],10),r=parseInt(t[2],10),d=parseInt(t[3],10),c=I(a,r,d);return[c[0],c[1],c[2],1,null,[a,r,d]]}}],b=Math.round;function z(t){var a;this.baseColor=t,t&&(a=String(t).toLowerCase().replace(/ /g,""),a=function G(t){if("transparent"===t)return[0,0,0,0];for(var d,a=0,r=T.length;a<r;++a)if(d=T[a].re.exec(t))return T[a].process(d);return null}(a=x[a]?"#"+x[a]:a)),a||(this.colorIsInvalid=!0),this.r=v((a=a||{})[0]),this.g=v(a[1]),this.b=v(a[2]),this.a=v(a[3],1,1),this.hsv=a[4]?{h:a[4][0],s:a[4][1],v:a[4][2]}:function w(t,a,r){var f,p,d=Math.max(t,a,r),c=Math.min(t,a,r),h=d-c,g=d;if(p=0===d?0:1-c/d,d===c)f=0;else switch(d){case t:f=(a-r)/h*60,a<r&&(f+=360);break;case a:f=(r-t)/h*60+120;break;case r:f=(t-a)/h*60+240}return p*=100,g*=100/255,{h:Math.round(f),s:Math.round(p),v:Math.round(g)}}(this.r,this.g,this.b),this.hsl=a[5]?{h:a[5][0],s:a[5][1],l:a[5][2]}:function $(t,a,r){t=S(t,255),a=S(a,255),r=S(r,255);var f,p,d=Math.max(t,a,r),c=Math.min(t,a,r),h=d+c,g=h/2;if(d===c)f=p=0;else{var y=d-c;p=g>.5?y/(2-h):y/h,f=function M(t,a,r,d){switch(Math.max(t,a,r)){case t:return(a-r)/d+(a<r?6:0);case a:return(r-t)/d+2;case r:return(t-a)/d+4}}(t,a,r,y),f/=6}return{h:b(360*f),s:b(100*p),l:b(100*g)}}(this.r,this.g,this.b)}function v(t,a,r){return a=a||0,r=r||255,t<0||isNaN(t)?a:t>r?r:t}function k(t,a,r){var g,y,F,c=(100-a)*r/100,h=t%60/60*(r-c),f=c+h,p=r-h;switch(Math.floor(t%360/60)){case 0:g=r,y=f,F=c;break;case 1:g=p,y=r,F=c;break;case 2:g=c,y=r,F=f;break;case 3:g=c,y=p,F=r;break;case 4:g=f,y=c,F=r;break;case 5:g=r,y=c,F=p}return[Math.round(2.55*g),Math.round(2.55*y),Math.round(2.55*F)]}function R(t,a){var r=a;return"r"===t&&(r=a+1/3),"b"===t&&(r=a-1/3),r}function D(t,a,r){return r=function e(t){return t<0&&(t+=1),t>1&&(t-=1),t}(r),r<1/6?t+6*(a-t)*r:r<.5?a:r<2/3?t+(a-t)*(2/3-r)*6:t}function I(t,a,r){var d,c,h;if(t=S(t,360),a=S(a,100),r=S(r,100),0===a)d=c=h=r;else{var f=r<.5?r*(1+a):r+a-r*a,p=2*r-f;d=D(p,f,R("r",t)),c=D(p,f,R("g",t)),h=D(p,f,R("b",t))}return[b(255*d),b(255*c),b(255*h)]}function S(t,a){return t=Math.min(a,Math.max(0,parseFloat(t))),Math.abs(t-a)<1e-6?1:t%a/parseFloat(a)}function P(t,a,r){return a=a||0,r=r||255,!(t%1!=0||t<a||t>r||"number"!=typeof t||isNaN(t))}z.prototype={constructor:z,highlight:function(t){return this.alter(t=t||10).toHex()},darken:function(t){return this.alter(-(t=t||10)).toHex()},alter:function(t){var a=new z;return a.r=v(this.r+t),a.g=v(this.g+t),a.b=v(this.b+t),a},blend:function(t,a){var r=t instanceof z?t:new z(t),d=new z;return d.r=v(b(this.r*(1-a)+r.r*a)),d.g=v(b(this.g*(1-a)+r.g*a)),d.b=v(b(this.b*(1-a)+r.b*a)),d},toHex:function(){return function j(t,a,r){return"#"+(16777216|t<<16|a<<8|r).toString(16).slice(1)}(this.r,this.g,this.b)},getPureColor:function(){return new z("rgb("+k(this.hsv.h,100,100).join(",")+")")},isValidHex:function(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)},isValidRGB:function(t,a,r){return!(!P(t)||!P(a)||!P(r))},isValidAlpha:function(t){return!(isNaN(t)||t<0||t>1||"number"!=typeof t)},colorIsInvalid:!1,fromHSL:function(t){var a=new z,r=I(t.h,t.s,t.l);return a.r=r[0],a.g=r[1],a.b=r[2],a}};const A=z}}]);