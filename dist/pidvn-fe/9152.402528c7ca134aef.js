(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[9152],{19152:(Pi,wn,ie)=>{"use strict";ie.d(wn,{m:()=>Ni,D:()=>bo});var o,ee=ie(54438),on=ie(58168),_=ie(24292),H=ie(87951),r=ie(72463),g=ie(60181),m=ie(5042),O=ie(64905),T=ie(67465),j=ie(44831),k=ie(87310),K=ie(34423),L=ie(12984),P=ie(91269),R=ie(49104),w=ie(32399),I=ie(26961),W=ie(24159),V=ie(23862),B=ie(29804),h=ie.n(B);function b(){if(!h())throw k.A.Error("E1041","Quill");return h()}if(h()){var u=h().import("core/theme");o=class extends u{constructor(t,e){super(t,e),this.quill.root.classList.add("dx-htmleditor-content"),this.quill.root.setAttribute("role","textbox"),this.quill.root.setAttribute("aria-label","Editor content")}}}else o={};const c=o;var y={};if(h()){var x=h().import("formats/image");(y=class extends x{static create(t){var n=super.create(t&&t.src||t);if((0,r.Gv)(t)){var S=(ut,Tt)=>{t[ut]&&n.setAttribute(ut,Tt)};S("alt",t.alt),S("width",t.width),S("height",t.height)}return n}static formats(t){var e=super.formats(t);return e.imageSrc=t.getAttribute("src"),e}formats(){var t=super.formats(),e=this.domNode.style.float;return e&&(t.float=e),t}format(t,e){"float"===t?this.domNode.style[t]=e:super.format(t,e)}static value(t){return{src:t.getAttribute("src"),width:t.getAttribute("width"),height:t.getAttribute("height"),alt:t.getAttribute("alt")}}}).blotName="extendedImage"}const M=y;var Z={};if(h()){var Y=h().import("formats/link");Z=class Li extends Y{static create(e){var n,S=null!==(n=e?.href)&&void 0!==n?n:e,ut=super.create(S);return(0,r.Gv)(e)&&(e.text&&(ut.innerText=e.text),e.target||ut.removeAttribute("target")),ut}static formats(e){return{href:e.getAttribute("href"),target:e.getAttribute("target")}}formats(){var e=super.formats(),{href:n,target:S}=Li.formats(this.domNode);return e.link=n,e.target=S,e}format(e,n){"link"===e&&(0,r.Gv)(n)?(n.text&&(this.domNode.innerText=n.text),n.target?this.domNode.setAttribute("target","_blank"):this.domNode.removeAttribute("target"),this.domNode.setAttribute("href",n.href)):super.format(e,n)}static value(e){return{href:e.getAttribute("href"),text:e.innerText,target:!!e.getAttribute("target")}}}}const ft=Z;var ht={};h()&&((ht=h().import("attributors/style/font")).whitelist=null);const pt=ht;var it={};h()&&((it=h().import("attributors/style/size")).whitelist=null);const Ot=it;var X={};h()&&(X=h().import("attributors/style/align")).whitelist.push("left");const vt=X;var ot=class lt{};if(h()){var F=h().import("core/module");ot=class extends F{constructor(t,e){super(t,e),this.editorInstance=e.editorInstance}saveValueChangeEvent(t){this.editorInstance._saveValueChangeEvent(t)}addCleanCallback(t){this.editorInstance.addCleanCallback(t)}handleOptionChangeValue(t){(0,r.Gv)(t)?Object.entries(t).forEach(e=>{var[n,S]=e;return this.option(n,S)}):(0,r.O9)(t)||null==this||this.clean()}}}const C=ot;var q=ie(26845),D=(ie(38746),ie(80186)),at=ie(12824),dt=ie(34090),mt=ie(20736),tt=ie(78709),J=ie(2934);const et=ie(45850).A;var rt=ie(18060),ct=ie(13992),l="dx-colorview-container-row",st="dx-colorview-palette-gradient",St="dx-colorview-palette-gradient-white",Ut="dx-colorview-palette-gradient-black",Mt="dx-colorview-label-hex",ge="dx-colorview-color-preview",yt="dx-colorview-color-preview-color-current",At="dx-colorview-color-preview-color-new",Lt="#000000",It=j.A.inherit({_supportedKeys:function(){var t=this.option("rtlEnabled"),e=this,n=function(zt){var te=100/e._paletteWidth;return zt.shiftKey&&(te*=e.option("keyStep")),te=te>1?te:1,Math.round(te)},S=function(zt){var te=e._currentColor.hsv.s+zt;te>100?te=100:te<0&&(te=0),e._currentColor.hsv.s=te,Rt()},ut=function(zt){var te=100/e._paletteHeight;return zt.shiftKey&&(te*=e.option("keyStep")),te=te>1?te:1,Math.round(te)},Tt=function(zt){var te=e._currentColor.hsv.v+zt;te>100?te=100:te<0&&(te=0),e._currentColor.hsv.v=te,Rt()};function Rt(){e._placePaletteHandle(),e._updateColorFromHsv(e._currentColor.hsv.h,e._currentColor.hsv.s,e._currentColor.hsv.v)}var Wt=function(zt){var te=360/(e._hueScaleWrapperHeight-e._hueScaleHandleHeight);return zt.shiftKey&&(te*=e.option("keyStep")),te>1?te:1},Xt=function(zt){e._currentColor.hsv.h+=zt,e._placeHueScaleHandle();var te=(0,at.x5)(e._$hueScaleHandle);e._updateColorHue(te.top+e._hueScaleHandleHeight/2)},oe=function(zt){var te=1/e._alphaChannelScaleWorkWidth;return zt.shiftKey&&(te*=e.option("keyStep")),te=te>.01?te:.01,t?-te:te},le=function(zt){e._currentColor.a+=zt,e._placeAlphaChannelHandle();var te=(0,at.x5)(e._$alphaChannelHandle);e._calculateColorTransparencyByScaleWidth(te.left+e._alphaChannelHandleWidth/2)};return(0,H.X)(this.callBase(),{upArrow:function(zt){zt.preventDefault(),zt.stopPropagation(),(0,R.By)(zt)?this._currentColor.hsv.h<=360&&!this._isTopColorHue&&(this._saveValueChangeEvent(zt),Xt(Wt(zt))):this._currentColor.hsv.v<100&&(this._saveValueChangeEvent(zt),Tt(ut(zt)))},downArrow:function(zt){zt.preventDefault(),zt.stopPropagation(),(0,R.By)(zt)?this._currentColor.hsv.h>=0&&(this._isTopColorHue&&(this._currentColor.hsv.h=360),this._saveValueChangeEvent(zt),Xt(-Wt(zt))):this._currentColor.hsv.v>0&&(this._saveValueChangeEvent(zt),Tt(-ut(zt)))},rightArrow:function(zt){zt.preventDefault(),zt.stopPropagation(),(0,R.By)(zt)?(t?this._currentColor.a<1:this._currentColor.a>0&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(zt),le(-oe(zt))):this._currentColor.hsv.s<100&&(this._saveValueChangeEvent(zt),S(n(zt)))},leftArrow:function(zt){zt.preventDefault(),zt.stopPropagation(),(0,R.By)(zt)?(t?this._currentColor.a>0:this._currentColor.a<1&&this.option("editAlphaChannel"))&&(this._saveValueChangeEvent(zt),le(oe(zt))):this._currentColor.hsv.s>0&&(this._saveValueChangeEvent(zt),S(-n(zt)))},enter:function(zt){this._fireEnterKeyPressed(zt)}})},_getDefaultOptions:function(){return(0,H.X)(this.callBase(),{value:null,matchValue:null,onEnterKeyPressed:void 0,editAlphaChannel:!1,keyStep:1,stylingMode:void 0})},_defaultOptionsRules:function(){return this.callBase().concat([{device:function(){return"desktop"===V.A.real().deviceType&&!V.A.isSimulator()},options:{focusStateEnabled:!0}}])},_init:function(){this.callBase(),this._initColorAndOpacity(),this._initEnterKeyPressedAction()},_initEnterKeyPressedAction:function(){this._onEnterKeyPressedAction=this._createActionByOption("onEnterKeyPressed")},_fireEnterKeyPressed:function(t){this._onEnterKeyPressedAction&&this._onEnterKeyPressedAction({event:t})},_initColorAndOpacity:function(){this._setCurrentColor(this.option("value"))},_setCurrentColor:function(t){var e=new dt.A(t=t||Lt);e.colorIsInvalid?(this._currentColor||(this._currentColor=new dt.A(Lt)),this.option("value",this._currentColor.baseColor)):(!this._currentColor||this._makeRgba(this._currentColor)!==this._makeRgba(e))&&(this._currentColor=e,this._$currentColor&&this._makeTransparentBackground(this._$currentColor,e))},_setBaseColor:function(t){var n=new dt.A(t||Lt);n.colorIsInvalid||this._makeRgba(this.option("matchValue")!==this._makeRgba(n))&&this._$baseColor&&this._makeTransparentBackground(this._$baseColor,n)},_initMarkup:function(){this.callBase(),this.$element().addClass("dx-colorview"),this._renderColorPickerContainer()},_render:function(){this.callBase(),this._renderPalette(),this._renderHueScale(),this._renderControlsContainer(),this._renderControls(),this._renderAlphaChannelElements()},_makeTransparentBackground:function(t,e){e instanceof dt.A||(e=new dt.A(e)),t.css("backgroundColor",this._makeRgba(e))},_makeRgba:function(t){return t instanceof dt.A||(t=new dt.A(t)),"rgba("+[t.r,t.g,t.b,t.a].join(", ")+")"},_renderValue:function(){this.callBase(this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this.option("value"))},_renderColorPickerContainer:function(){var t=this.$element();this._$colorPickerContainer=(0,_.A)("<div>").addClass("dx-colorview-container").appendTo(t),this._renderHtmlRows()},_renderHtmlRows:function(t){var e=this._$colorPickerContainer.find("."+l),n=e.length,ut=n-(this.option("editAlphaChannel")?2:1);if(ut>0&&e.eq(-1).remove(),ut<0){ut=Math.abs(ut);var Rt,Tt=[];for(Rt=0;Rt<ut;Rt++)Tt.push((0,_.A)("<div>").addClass(l));if(n)for(Rt=0;Rt<Tt.length;Rt++)e.eq(0).after(Tt[Rt]);else this._$colorPickerContainer.append(Tt)}},_renderHtmlCellInsideRow:function(t,e,n){return(0,_.A)("<div>").addClass("dx-colorview-container-cell").addClass(n).appendTo(e.find("."+l).eq(t))},_renderPalette:function(){var t=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,"dx-colorview-palette-cell"),e=(0,_.A)("<div>").addClass([st,St].join(" ")),n=(0,_.A)("<div>").addClass([st,Ut].join(" "));this._$palette=(0,_.A)("<div>").addClass("dx-colorview-palette").css("backgroundColor",this._currentColor.getPureColor().toHex()).appendTo(t),this._paletteHeight=(0,D.Oq)(this._$palette),this._paletteWidth=(0,D.RG)(this._$palette),this._renderPaletteHandle(),this._$palette.append([e,n])},_renderPaletteHandle:function(){this._$paletteHandle=(0,_.A)("<div>").addClass("dx-colorview-palette-handle").appendTo(this._$palette);var t={id:this.option("ariaId"),role:"application"};this.setAria(t,this._$paletteHandle),this._createComponent(this._$paletteHandle,et,{contentTemplate:null,boundary:this._$palette,allowMoveByClick:!0,boundOffset:function(){return-this._paletteHandleHeight/2}.bind(this),onDragMove:e=>{var{event:n}=e,S=(0,at.x5)(this._$paletteHandle);this._updateByDrag=!0,this._saveValueChangeEvent(n),this._updateColorFromHsv(this._currentColor.hsv.h,this._calculateColorSaturation(S),this._calculateColorValue(S))}}),this._paletteHandleWidth=(0,D.RG)(this._$paletteHandle),this._paletteHandleHeight=(0,D.Oq)(this._$paletteHandle),this._placePaletteHandle()},_placePaletteHandle:function(){(0,at.Cy)(this._$paletteHandle,{left:Math.round(this._paletteWidth*this._currentColor.hsv.s/100-this._paletteHandleWidth/2),top:Math.round(this._paletteHeight-this._paletteHeight*this._currentColor.hsv.v/100-this._paletteHandleHeight/2)})},_calculateColorValue:function(t){var e=Math.floor(t.top+this._paletteHandleHeight/2);return 100-Math.round(100*e/this._paletteHeight)},_calculateColorSaturation:function(t){var e=Math.floor(t.left+this._paletteHandleWidth/2);return Math.round(100*e/this._paletteWidth)},_updateColorFromHsv:function(t,e,n){var S=this._currentColor.a;this._currentColor=new dt.A("hsv("+[t,e,n].join(",")+")"),this._currentColor.a=S,this._updateColorParamsAndColorPreview(),this.applyColor()},_renderHueScale:function(){var t=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer,"dx-colorview-hue-scale-cell");this._$hueScaleWrapper=(0,_.A)("<div>").addClass("dx-colorview-hue-scale-wrapper").appendTo(t),this._$hueScale=(0,_.A)("<div>").addClass("dx-colorview-hue-scale").appendTo(this._$hueScaleWrapper),this._hueScaleHeight=(0,D.Oq)(this._$hueScale),this._hueScaleWrapperHeight=(0,D.P$)(this._$hueScaleWrapper),this._renderHueScaleHandle()},_renderHueScaleHandle:function(){this._$hueScaleHandle=(0,_.A)("<div>").addClass("dx-colorview-hue-scale-handle").appendTo(this._$hueScaleWrapper),this._createComponent(this._$hueScaleHandle,et,{contentTemplate:null,boundary:this._$hueScaleWrapper,allowMoveByClick:!0,dragDirection:"vertical",onDragMove:t=>{var{event:e}=t;this._updateByDrag=!0,this._saveValueChangeEvent(e),this._updateColorHue((0,at.x5)(this._$hueScaleHandle).top+this._hueScaleHandleHeight/2)}}),this._hueScaleHandleHeight=(0,D.Oq)(this._$hueScaleHandle),this._placeHueScaleHandle()},_placeHueScaleHandle:function(){var t=this._hueScaleWrapperHeight,e=this._hueScaleHandleHeight,n=(t-e)*(360-this._currentColor.hsv.h)/360;t<n+e&&(n=t-e),n<0&&(n=0),(0,at.Cy)(this._$hueScaleHandle,{top:Math.round(n)})},_updateColorHue:function(t){var e=360-Math.round(360*(t-this._hueScaleHandleHeight/2)/(this._hueScaleWrapperHeight-this._hueScaleHandleHeight)),n=this._currentColor.hsv.s,S=this._currentColor.hsv.v;this._isTopColorHue=!1,(e=e<0?0:e)>=360&&(this._isTopColorHue=!0,e=0),this._updateColorFromHsv(e,n,S),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex())},_renderControlsContainer:function(){var t=this._renderHtmlCellInsideRow(0,this._$colorPickerContainer);this._$controlsContainer=(0,_.A)("<div>").addClass("dx-colorview-controls-container").appendTo(t)},_renderControls:function(){this._renderColorsPreview(),this._renderRgbInputs(),this._renderHexInput()},_renderColorsPreview:function(){var t=(0,_.A)("<div>").addClass("dx-colorview-color-preview-container").appendTo(this._$controlsContainer),e=(0,_.A)("<div>").addClass("dx-colorview-color-preview-container-inner").appendTo(t);this._$currentColor=(0,_.A)("<div>").addClass([ge,At].join(" ")),this._$baseColor=(0,_.A)("<div>").addClass([ge,yt].join(" ")),this._makeTransparentBackground(this._$baseColor,this.option("matchValue")),this._makeTransparentBackground(this._$currentColor,this._currentColor),e.append([this._$baseColor,this._$currentColor])},_renderAlphaChannelElements:function(){this.option("editAlphaChannel")&&(this._$colorPickerContainer.find("."+l).eq(1).addClass("dx-colorview-alpha-channel-row"),this._renderAlphaChannelScale(),this._renderAlphaChannelInput())},_renderRgbInputs:function(){this._rgbInputsWithLabels=[this._renderEditorWithLabel({editorType:tt.A,value:this._currentColor.r,onValueChanged:this._updateColor.bind(this,!1),labelText:"R",labelAriaText:mt.A.format("dxColorView-ariaRed"),labelClass:"dx-colorview-label-red"}),this._renderEditorWithLabel({editorType:tt.A,value:this._currentColor.g,onValueChanged:this._updateColor.bind(this,!1),labelText:"G",labelAriaText:mt.A.format("dxColorView-ariaGreen"),labelClass:"dx-colorview-label-green"}),this._renderEditorWithLabel({editorType:tt.A,value:this._currentColor.b,onValueChanged:this._updateColor.bind(this,!1),labelText:"B",labelAriaText:mt.A.format("dxColorView-ariaBlue"),labelClass:"dx-colorview-label-blue"})],this._$controlsContainer.append(this._rgbInputsWithLabels),this._rgbInputs=[this._rgbInputsWithLabels[0].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[1].find(".dx-numberbox").dxNumberBox("instance"),this._rgbInputsWithLabels[2].find(".dx-numberbox").dxNumberBox("instance")]},_renderEditorWithLabel:function(t){var e=(0,_.A)("<div>"),n=(0,_.A)("<label>").addClass(t.labelClass).text(t.labelText+":").append(e);P.A.off(n,rt.U),P.A.on(n,rt.U,function(Rt){Rt.preventDefault()});var S=t.editorType,ut=(0,H.X)({value:t.value,onValueChanged:t.onValueChanged,onKeyboardHandled:Rt=>this._keyboardHandler(Rt)},{stylingMode:this.option("stylingMode")});return S===tt.A&&(ut.min=t.min||0,ut.max=t.max||255,ut.step=t.step||1),new S(e,ut).registerKeyHandler("enter",function(Rt){this._fireEnterKeyPressed(Rt)}.bind(this)),this.setAria("label",t.labelAriaText,e),n},hexInputOptions:function(){return{editorType:J.A,value:this._currentColor.toHex().replace("#",""),onValueChanged:this._updateColor.bind(this,!0),labelClass:Mt,labelText:"#",labelAriaText:mt.A.format("dxColorView-ariaHex")}},_renderHexInput:function(){this._hexInput=J.A.getInstance(this._renderEditorWithLabel(this.hexInputOptions()).appendTo(this._$controlsContainer).find(".dx-textbox"));var t="dx-".concat(new ct.A),e=this._$controlsContainer.find(".".concat(Mt)).find(".".concat("dx-texteditor-input"));this.setAria("id",t,e),this.setAria("labelledby",t,this._$paletteHandle)},_renderAlphaChannelScale:function(){var t=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer,"dx-colorview-alpha-channel-cell"),e=(0,_.A)("<div>").addClass("dx-colorview-alpha-channel-border").appendTo(t),n=(0,_.A)("<div>").addClass("dx-colorview-alpha-channel-wrapper").appendTo(e);this._$alphaChannelScale=(0,_.A)("<div>").addClass("dx-colorview-alpha-channel-scale").appendTo(n),this._makeCSSLinearGradient(this._$alphaChannelScale),this._renderAlphaChannelHandle(t)},_makeCSSLinearGradient:function(t){var e=this._currentColor,n="".concat(e.r,",").concat(e.g,",").concat(e.b),S=this.option("rtlEnabled"),ut="rgba(".concat(n,", ").concat(S?"1":"0",")"),Tt="rgba(".concat(n,", ").concat(S?"0":"1",")"),Rt="linear-gradient(-90deg, ".concat(ut,", ").concat(Tt,")");t.css("backgroundImage",Rt)},_renderAlphaChannelInput:function(){var t=this,e=this._renderHtmlCellInsideRow(1,this._$colorPickerContainer);t._alphaChannelInput=this._renderEditorWithLabel({editorType:tt.A,value:this._currentColor.a,max:1,step:.1,onValueChanged:function(n){var S=n.value;S=t._currentColor.isValidAlpha(S)?S:t._currentColor.a,n.event&&t._saveValueChangeEvent(n.event),t._updateColorTransparency(S),t._placeAlphaChannelHandle()},labelClass:"dx-colorview-alpha-channel-label",labelText:"Alpha",labelAriaText:mt.A.format("dxColorView-ariaAlpha")}).appendTo(e).find(".dx-numberbox").dxNumberBox("instance")},_updateColorTransparency:function(t){this._currentColor.a=t,this.applyColor()},_renderAlphaChannelHandle:function(t){this._$alphaChannelHandle=(0,_.A)("<div>").addClass("dx-colorview-alpha-channel-handle").appendTo(t),this._createComponent(this._$alphaChannelHandle,et,{contentTemplate:null,boundary:t,allowMoveByClick:!0,dragDirection:"horizontal",onDragMove:e=>{var{event:n}=e;this._updateByDrag=!0;var ut=(0,at.x5)(this._$alphaChannelHandle).left+this._alphaChannelHandleWidth/2;this._saveValueChangeEvent(n),this._calculateColorTransparencyByScaleWidth(ut)}}),this._alphaChannelHandleWidth=(0,D.RG)(this._$alphaChannelHandle),this._alphaChannelScaleWorkWidth=(0,D.RG)(t)-this._alphaChannelHandleWidth,this._placeAlphaChannelHandle()},_calculateColorTransparencyByScaleWidth:function(t){var e=(t-this._alphaChannelHandleWidth/2)/this._alphaChannelScaleWorkWidth,n=this.option("rtlEnabled");e=n?e:1-e,t>=this._alphaChannelScaleWorkWidth+this._alphaChannelHandleWidth/2?e=n?1:0:e<1&&(e=e.toFixed(2));var S=this._alphaChannelInput.option("value");e=Math.max(e,0),(e=Math.min(e,1))===S?this._updateByDrag=!1:this._alphaChannelInput.option("value",e)},_placeAlphaChannelHandle:function(){var t=this._alphaChannelScaleWorkWidth*(1-this._currentColor.a);t<0&&(t=0),this._alphaChannelScaleWorkWidth<t&&(t=this._alphaChannelScaleWorkWidth),(0,at.Cy)(this._$alphaChannelHandle,{left:this.option("rtlEnabled")?this._alphaChannelScaleWorkWidth-t:t})},applyColor:function(){var t=this.option("value"),e=this.option("editAlphaChannel")?this._makeRgba(this._currentColor):this._currentColor.toHex();this._makeTransparentBackground(this._$currentColor,this._currentColor),e===t?this._updateByDrag=!1:this.option("value",e)},cancelColor:function(){this._initColorAndOpacity(),this._refreshMarkup()},_updateColor:function(t,e){var n,S;t?S=this._validateHex("#"+this._hexInput.option("value")):(n=this._validateRgb(),this._alphaChannelInput?(n.push(this._alphaChannelInput.option("value")),S="rgba("+n.join(", ")+")"):S="rgb("+n.join(", ")+")"),this._suppressEditorsValueUpdating||(this._currentColor=new dt.A(S),this._saveValueChangeEvent(e.event),this.applyColor(),this._refreshMarkup())},_validateHex:function(t){return this._currentColor.isValidHex(t)?t:this._currentColor.toHex()},_validateRgb:function(){var t=this._rgbInputs[0].option("value"),e=this._rgbInputs[1].option("value"),n=this._rgbInputs[2].option("value");return this._currentColor.isValidRGB(t,e,n)||(t=this._currentColor.r,e=this._currentColor.g,n=this._currentColor.b),[t,e,n]},_refreshMarkup:function(){this._placeHueScaleHandle(),this._placePaletteHandle(),this._updateColorParamsAndColorPreview(),this._$palette.css("backgroundColor",this._currentColor.getPureColor().toHex()),this._$alphaChannelHandle&&(this._updateColorTransparency(this._currentColor.a),this._placeAlphaChannelHandle())},_updateColorParamsAndColorPreview:function(){this._suppressEditorsValueUpdating=!0,this._hexInput.option("value",this._currentColor.toHex().replace("#","")),this._rgbInputs[0].option("value",this._currentColor.r),this._rgbInputs[1].option("value",this._currentColor.g),this._rgbInputs[2].option("value",this._currentColor.b),this._suppressEditorsValueUpdating=!1,this.option("editAlphaChannel")&&(this._makeCSSLinearGradient.call(this,this._$alphaChannelScale),this._alphaChannelInput.option("value",this._currentColor.a))},_optionChanged:function(t){var e=t.value;switch(t.name){case"value":this._setCurrentColor(e),this._updateByDrag||this._refreshMarkup(),this._updateByDrag=!1,this.callBase(t);break;case"matchValue":this._setBaseColor(e);break;case"onEnterKeyPressed":this._initEnterKeyPressedAction();break;case"editAlphaChannel":this._$colorPickerContainer&&(this._renderHtmlRows("editAlphaChannel"),this._renderAlphaChannelElements());break;case"keyStep":break;case"stylingMode":this._renderControls();break;default:this.callBase(t)}}});(0,O.A)("dxColorView",It);const xt=It;var jt=ie(12101);class Gt{constructor(){this._collection=[]}clear(){this._collection=[]}add(e,n){this._collection.push({name:e,instance:n})}remove(e){this._collection=this._collection.filter(n=>n.name!==e)}getByName(e){var n=null;return(0,jt.__)(this._collection,(S,ut)=>{var{name:Tt,instance:Rt}=ut;if(Tt===e)return n=Rt,!1}),n}each(e){this._collection.forEach(n=>{var{name:S,instance:ut}=n;return ut&&e(S,ut)})}}var Yt=ie(48745),ue=["table","tableHeaderCell"],ce=["insertTable","insertHeaderRow","insertRowAbove","insertRowBelow","insertColumnLeft","insertColumnRight","deleteColumn","deleteRow","deleteTable","cellProperties","tableProperties"];function ae(t){var e=t.getModule("table");return null!=e&&e.tableFormats?e.tableFormats():ue}function Ne(t,e){var{tableBlot:n,quill:S}=e;(n??S.scroll.find(t.get(0))).format("tableWidth","initial")}function De(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.find("tr").eq(e).find("th, td")}function He(t){var n=[],S="horizontal"===(arguments.length>1&&void 0!==arguments[1]?arguments[1]:"horizontal");return(S?De(t):yr(t)).each((Tt,Rt)=>{var Wt=(0,_.A)(Rt);""===Wt.get(0).style[S?"width":"height"]&&n.push(Wt)}),n}function Se(t,e){var{elements:n,property:S,value:ut}=e,Tt=t.quill.getModule("table").tableBlots,Rt="cell".concat((0,Yt.PT)(S,!0));(0,jt.__)(n,(Wt,Xt)=>{var oe,le=t.quill.scroll.find(Xt);if(!Tt.includes(le.statics.blotName)){var zt=le.descendant(te=>Tt.includes(te.statics.blotName));le=zt?zt[0]:null}null===(oe=le)||void 0===oe||oe.format(Rt,ut+"px")})}function ve(t,e){return"horizontal"===(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"horizontal")?yr(t,e):De(t,e)}function yr(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return t.find("th:nth-child(".concat(1+e,"), td:nth-child(").concat(1+e,")"))}function $e(t,e){for(var n=arguments.length,S=new Array(n>2?n-2:0),ut=2;ut<n;ut++)S[ut-2]=arguments[ut];return()=>{var Tt=t.getModule("table");if(Tt)return t.focus(),Tt[e](...S)}}var Dr=ie(45107),gr=ie(22374),br=ie(3873),Ae="dx-colorbox",_r=Ae+"-input",xr=_r+"-container",Or=Ae+"-color-result-preview",Er=Ae+"-color-is-not-defined",$r=Ae+"-overlay",lr=xt.prototype,Ge={makeTransparentBackground:lr._makeTransparentBackground.bind(lr),makeRgba:lr._makeRgba.bind(lr)},jr=br.A.inherit({_supportedKeys:function(){var t=function(e){if(e.stopPropagation(),this.option("opened"))return e.preventDefault(),!0};return(0,H.X)(this.callBase(),{tab:function(e){if(this.option("opened")){var n=e.shiftKey?this._getLastPopupElement():this._getFirstPopupElement();n&&(P.A.trigger(n,"focus"),n.select()),e.preventDefault()}},enter:this._enterKeyHandler,leftArrow:t,rightArrow:t,upArrow:function(e){return this.option("opened")?!e.altKey||(this.close(),!1):(e.preventDefault(),!1)},downArrow:function(e){return this.option("opened")||e.altKey?!(!this.option("opened")&&e.altKey&&(this._validatedOpening(),1)):(e.preventDefault(),!1)}})},_getDefaultOptions:function(){return(0,H.X)(this.callBase(),{editAlphaChannel:!1,applyValueMode:"useButtons",keyStep:1,fieldTemplate:null,buttonsLocation:"bottom after"})},_popupHidingHandler:function(){this.callBase(),"useButtons"===this.option("applyValueMode")&&this._updateColorViewValue(this.option("value"))},_popupConfig:function(){return(0,H.X)(this.callBase(),{width:""})},_contentReadyHandler:function(){this._createColorView(),this._addPopupBottomClasses()},_addPopupBottomClasses:function(){var t=this._popup.bottomToolbar();t&&(t.addClass("dx-colorview-container-cell").addClass("dx-colorview-button-cell").find(".dx-toolbar-items-container").addClass("dx-colorview-buttons-container"),t.find(".dx-popup-done").addClass("dx-colorview-apply-button"),t.find(".dx-popup-cancel").addClass("dx-colorview-cancel-button"))},_createColorView:function(){this._popup.$overlayContent().addClass($r);var t=(0,_.A)("<div>").appendTo(this._popup.$content());this._colorView=this._createComponent(t,xt,this._colorViewConfig()),this._colorView.registerKeyHandler("escape",this._escapeHandler.bind(this)),P.A.on(t,"focus",function(){this.focus()}.bind(this))},_escapeHandler:function(){this.close(),this.focus()},_getFirstPopupElement:function(){return(0,_.A)(this._colorView._rgbInputs[0].element()).find("input")},_applyNewColor:function(t){this.option("value",t),t&&Ge.makeTransparentBackground(this._$colorResultPreview,t),this._colorViewEnterKeyPressed&&(this.close(),this._colorViewEnterKeyPressed=!1)},_colorViewConfig:function(){var t=this;return{value:t.option("value"),matchValue:t.option("value"),editAlphaChannel:t.option("editAlphaChannel"),applyValueMode:t.option("applyValueMode"),focusStateEnabled:t.option("focusStateEnabled"),stylingMode:this.option("stylingMode"),ariaId:this._ariaId,onEnterKeyPressed:function(e){var{event:n}=e;t._colorViewEnterKeyPressed=!0,t._colorView.option("value")!==t.option("value")&&(t._saveValueChangeEvent(n),t._applyNewColor(t._colorView.option("value")),t.close())},onValueChanged:function(e){var{event:n,value:S,previousValue:ut}=e,Tt="instantly"===t.option("applyValueMode");Ge.makeRgba(S)===ut||!Tt&&!t._colorViewEnterKeyPressed||t._shouldSaveEmptyValue||(n&&t._saveValueChangeEvent(n),t._applyNewColor(S))}}},_enterKeyHandler:function(t){var e=this._input().val(),{value:n,editAlphaChannel:S}=this.option(),ut=n&&S?Ge.makeRgba(n):n;if(!e)return!1;if(!new dt.A(e).colorIsInvalid){if(e!==ut&&(this._applyColorFromInput(e),this._saveValueChangeEvent(t),this.option("value",this.option("editAlphaChannel")?Ge.makeRgba(e):e)),this._colorView){var Rt=this._colorView.option("value");n!==Rt&&(this._saveValueChangeEvent(t),this.option("value",Rt))}return this.close(),!1}this._input().val(ut)},_applyButtonHandler:function(t){this._saveValueChangeEvent(t.event),this._applyNewColor(this._colorView.option("value")),this.callBase()},_cancelButtonHandler:function(){this._resetInputValue(),this.callBase()},_getKeyboardListeners(){return this.callBase().concat([this._colorView])},_init:function(){this.callBase()},_initMarkup:function(){this.$element().addClass(Ae),this.callBase()},_renderInput:function(){this.callBase(),this._ariaId="dx-".concat(new ct.A),this.setAria("activedescendant",this._ariaId),this._input().addClass(_r),this._renderColorPreview()},_renderColorPreview:function(){this.$element().wrapInner((0,_.A)("<div>").addClass(xr)),this._$colorBoxInputContainer=this.$element().children().eq(0),this._$colorResultPreview=(0,_.A)("<div>").addClass(Or).appendTo(this._$textEditorInputContainer),this.option("value")?Ge.makeTransparentBackground(this._$colorResultPreview,this.option("value")):this._$colorBoxInputContainer.addClass(Er)},_renderValue:function(){var{value:t,editAlphaChannel:e}=this.option(),S=t&&e?Ge.makeRgba(t):t;return this.option("text",S),this.callBase()},_resetInputValue:function(){var t=this._input(),e=this.option("value");t.val(e),this._updateColorViewValue(e)},_updateColorViewValue:function(t){this._colorView&&this._colorView.option({value:t,matchValue:t})},_valueChangeEventHandler:function(t){var e=this._input().val();e&&(e=this._applyColorFromInput(e),this._updateColorViewValue(e)),this.callBase(t,e)},_applyColorFromInput:function(t){var{editAlphaChannel:e}=this.option();return new dt.A(t).colorIsInvalid?(this._resetInputValue(),this.option("value")):e?Ge.makeRgba(t):t},_clean:function(){this.callBase(),delete this._shouldSaveEmptyValue},_optionChanged:function(t){var e=t.value,n=t.name;switch(n){case"value":this._$colorBoxInputContainer.toggleClass(Er,!e),e?Ge.makeTransparentBackground(this._$colorResultPreview,e):this._$colorResultPreview.removeAttr("style"),null===e&&(this._shouldSaveEmptyValue=!0),this._updateColorViewValue(e),this._shouldSaveEmptyValue=!1,this.callBase(t);break;case"applyButtonText":case"cancelButtonText":this.callBase(t),this._popup&&this._addPopupBottomClasses();break;case"editAlphaChannel":case"keyStep":this._colorView&&this._colorView.option(n,e);break;default:this.callBase(t)}}});(0,O.A)("dxColorBox",jr);const Cr=jr;var Tr=ie(76121),hr=ie(98587),sr=ie(32437),kr=["imageSrc","src"],Hr="phone"===V.A.current().deviceType,Ur="dx-formdialog",vr="user";class Pr{constructor(e,n){this.module=e,this.config=n??{},this.quill=this.module.quill,this.editorInstance=this.module.editorInstance}render(){this.editorInstance._formDialog&&(this.editorInstance._formDialog.beforeAddButtonAction=()=>this.getCurrentTab().upload()),this.tabPanelIndex=0,this.formData=this.getFormData(),this.isUpdating=this.isImageUpdating(),this.tabsModel=this.createTabsModel(this.config.tabs),this.tabs=this.createTabs(this.formData);var e=this.getFormConfig();this.updatePopupConfig(),this.updateAddButtonState(),this.editorInstance.showFormDialog(e).done((n,S)=>{this.tabs[this.getActiveTabIndex()].strategy.pasteImage(n,S)}).always(()=>{this.resetDialogPopupOptions(),this.quill.focus()})}getCurrentTab(){return this.tabs[this.tabPanelIndex]}updateAddButtonState(){var e=this.getCurrentTab().isDisableButton();this.setAddButtonDisabled(e)}setAddButtonDisabled(e){this.editorInstance.formDialogOption({"toolbarItems[0].options.disabled":e})}getActiveTabIndex(){return this.isUpdating?0:this.tabPanelIndex}getFormData(){return this.getUpdateDialogFormData(this.quill.getFormat())}getUpdateDialogFormData(e){var{imageSrc:n,src:S}=e,ut=(0,hr.A)(e,kr);return(0,on.A)({src:n??S},ut)}createUrlTab(e){return new We(this.module,{config:this.config,formData:e,isUpdating:this.isUpdating},()=>this.updateAddButtonState())}createFileTab(){return new Sr(this.module,{config:this.config},()=>this.updateAddButtonState())}createTabsModel(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return 0===e.length||this.isUpdating?["url"]:e.map(n=>"object"==typeof n?n.name:n)}createTabs(e){return this.tabsModel.map(n=>"url"===n?this.createUrlTab(e):this.createFileTab())}isImageUpdating(){var e;return Object.prototype.hasOwnProperty.call(null!==(e=this.module.quill.getFormat())&&void 0!==e?e:{},"imageSrc")}updatePopupConfig(){var e="".concat("dx-htmleditor-add-image-popup"," ").concat(Ur);this.useTabbedItems()&&(e+=" ".concat("dx-htmleditor-add-image-popup-with-tabs"));var S=this.isUpdating?"dxHtmlEditor-dialogImageUpdateButton":"dxHtmlEditor-dialogImageAddButton";this.editorInstance.formDialogOption({title:mt.A.format(this.isUpdating?"dxHtmlEditor-dialogUpdateImageCaption":"dxHtmlEditor-dialogImageCaption"),"toolbarItems[0].options.text":mt.A.format(S),wrapperAttr:{class:e}})}resetDialogPopupOptions(){this.editorInstance.formDialogOption({"toolbarItems[0].options.text":mt.A.format("OK"),"toolbarItems[0].options.visible":!0,"toolbarItems[0].options.disabled":!1,wrapperAttr:{class:Ur}})}useTabbedItems(){return this.tabsModel.length>1}getFormWidth(){return Hr?"100%":493}getFormConfig(){return{formData:this.formData,width:this.getFormWidth(),labelLocation:"top",colCount:this.useTabbedItems()?1:11,items:this.getItemsConfig()}}getItemsConfig(){return this.useTabbedItems()?[{itemType:"tabbed",tabPanelOptions:{onSelectionChanged:n=>{this.tabPanelIndex=n.component.option("selectedIndex"),this.updateAddButtonState()}},tabs:(0,jt.Tj)(this.tabs,n=>({title:n.getTabName(),colCount:11,items:n.getItemsConfig()}))}]:this.tabs[0].getItemsConfig()}}class ur{constructor(e,n,S){var{config:ut,formData:Tt,isUpdating:Rt}=n;this.module=e,this.config=ut,this.formData=Tt,this.isUpdating=Rt,this.onFileSelected=S,this.strategy=this.createStrategy()}getItemsConfig(){return this.strategy.getItemsConfig()}createStrategy(){return this.isUpdating?new tr(this.module,this.config,this.formData):new Mr(this.module,this.config,this.onFileSelected)}isDisableButton(){return!1}upload(){return this.strategy.upload()}}class We extends ur{getTabName(){return mt.A.format("dxHtmlEditor-dialogImageSpecifyUrl")}}class Sr extends ur{getTabName(){return mt.A.format("dxHtmlEditor-dialogImageSelectFile")}createStrategy(){return new ir(this.module,this.config,this.onFileSelected)}isDisableButton(){return!this.strategy.isValid()}}class Je{constructor(e,n){this.module=e,this.config=n,this.editorInstance=e.editorInstance,this.quill=e.quill,this.selection=this.getQuillSelection()}getQuillSelection(){return this.quill.getSelection()??{index:this.quill.getLength(),length:0}}pasteImage(){}isValid(){return!0}upload(){}}class Mr extends Je{constructor(e,n,S){super(e,n,S),this.shouldKeepAspectRatio=!0}pasteImage(e,n){this.module.saveValueChangeEvent(n),Br(this.quill,this.selection.index,e)}keepAspectRatio(e,n){var{dependentEditor:S,e:ut}=n,Tt=parseInt(ut.value),Rt=parseInt(ut.previousValue),Wt=parseInt(S.option("value"));e.component.updateData(e.dataField,Tt),this.shouldKeepAspectRatio&&Wt&&Rt&&!this.preventRecalculating&&(this.preventRecalculating=!0,S.option("value",Math.round(Tt*Wt/parseInt(Rt)).toString())),this.preventRecalculating=!1}createKeepAspectRatioEditor(e,n,S){return this.editorInstance._createComponent(e,J.A,(0,H.X)(!0,n.editorOptions,{value:n.component.option("formData")[n.dataField],onEnterKey:n.component.option("onEditorEnterKey").bind(this.editorInstance._formDialog,n),onValueChanged:ut=>{this.keepAspectRatio(n,{dependentEditor:this[S+"Editor"],e:ut})}}))}upload(){return this.editorInstance._formDialog._form.validate().isValid}getItemsConfig(){return[{dataField:"src",colSpan:11,label:{text:mt.A.format("dxHtmlEditor-dialogImageUrlField")},validationRules:[{type:"required"},{type:"stringLength",min:1}]},{dataField:"width",colSpan:6,label:{text:mt.A.format("dxHtmlEditor-dialogImageWidthField")},template:e=>{var n=(0,_.A)("<div>").addClass("dx-fix-ratio-container"),S=(0,_.A)("<div>").appendTo(n);this.widthEditor=this.createKeepAspectRatioEditor(S,e,"height");var ut=(0,_.A)("<div>").appendTo(n);return this.editorInstance._createComponent(ut,gr.A,{items:[{icon:"imgarlock",value:"keepRatio"}],hint:mt.A.format("dxHtmlEditor-dialogImageKeepAspectRatio"),focusStateEnabled:!1,keyExpr:"value",stylingMode:"outlined",selectionMode:"multiple",selectedItemKeys:["keepRatio"],onSelectionChanged:Tt=>{this.shouldKeepAspectRatio=!!Tt.component.option("selectedItems").length}}),n}},{dataField:"height",colSpan:5,label:{text:mt.A.format("dxHtmlEditor-dialogImageHeightField")},template:e=>{var n=(0,_.A)("<div>");return this.heightEditor=this.createKeepAspectRatioEditor(n,e,"width"),n}},{dataField:"alt",colSpan:11,label:{text:mt.A.format("dxHtmlEditor-dialogImageAltField")}}]}}class tr extends Mr{constructor(e,n,S,ut){super(e,n,ut),this.formData=S,this.modifyFormData()}modifyFormData(){var{imageSrc:e}=this.quill.getFormat(this.selection.index-1,1);(!e||0===this.selection.index)&&(this.selection={index:this.selection.index+1,length:0},this.quill.setSelection(this.selection.index,this.selection.length,"silent"));var S,ut,n=this.quill.getLeaf(this.selection.index)[0].domNode;n&&(this.formData.width=null!==(S=this.formData.width)&&void 0!==S?S:(0,D.RG)((0,_.A)(n)),this.formData.height=null!==(ut=this.formData.height)&&void 0!==ut?ut:(0,D.Oq)((0,_.A)(n)))}pasteImage(e,n){this.quill.deleteText(this.embedFormatIndex(),1,"silent"),this.selection.index-=1,super.pasteImage(e,n)}embedFormatIndex(){var e,n=null!==(e=this.selection)&&void 0!==e?e:this.quill.getSelection();return n?n.length?n.index:n.index-1:this.quill.getLength()}}class ir extends Je{constructor(e,n,S){super(e,n,S),this.useBase64=!(0,r.O9)(this.config.fileUploadMode)||"base64"===this.config.fileUploadMode,this.isValidInternal=!1,this.onFileSelected=S,this.data=null}upload(){return this.useBase64?this.base64Upload(this.data):this.data.value.length&&this.data.component.upload(),!0}isValid(){return this.isValidInternal}onUploaded(e){or(this.config.uploadDirectory,e.file.name,this.quill,this.selection.index)}base64Upload(e){this.quill.getModule("uploader").upload(this.selection,e.value,!0)}pasteImage(e,n){this.useBase64&&super.pasteImage(e,n)}isBase64Editable(){return"both"===this.config.fileUploadMode}validate(e){var n=e.component;this.isValidInternal=!n._files.some(S=>!S.isValid()),0===n._files.length&&(this.isValidInternal=!1)}getFileUploaderOptions(){return(0,H.X)({},{value:[],name:"dx-htmleditor-image",accept:"image/*",uploadMode:"useButtons"},{uploadUrl:this.config.uploadUrl,onValueChanged:n=>{this.validate(n),this.data=n,this.onFileSelected()},onUploaded:n=>this.onUploaded(n)},this.config.fileUploaderOptions)}getItemsConfig(){return[{itemType:"simple",dataField:"files",colSpan:11,label:{visible:!1},template:()=>{var e=(0,_.A)("<div>");return this.module.editorInstance._createComponent(e,sr.A,this.getFileUploaderOptions()),e}},{itemType:"simple",colSpan:11,label:{visible:!1},editorType:"dxCheckBox",editorOptions:{value:this.useBase64,visible:this.isBase64Editable(),text:mt.A.format("dxHtmlEditor-dialogImageEncodeToBase64"),onValueChanged:e=>{this.isBase64Editable()&&(this.useBase64=e.value)}}}]}}function Br(t,e,n){t.insertEmbed(e,"extendedImage",n,vr),t.setSelection(e+1,0,vr)}function or(t,e,n,S){if(t){var ut=function mr(t){return"/"!==t[t.length-1]?t+"/":t}(t)+e;Br(n,S,{src:ut})}}var ke=ie(14435),qr=400,U=["none","hidden","dotted","dashed","solid","double","groove","ridge","inset","outset"].map(t=>({id:t,value:mt.A.format("dxHtmlEditor-borderStyle".concat((0,Yt.PT)(t,!0)))})),p="user",G="silent",Et="dxHtmlEditor-dialogColorCaption",Bt="dxHtmlEditor-dialogBackgroundCaption",qt="dxHtmlEditor-dialogLinkCaption",ne="dxHtmlEditor-dialogInsertTableCaption",fe="dxHtmlEditor-dialogLinkUrlField",Jt="dxHtmlEditor-dialogLinkTextField",he="dxHtmlEditor-dialogLinkTargetField",ye="dx-formdialog-field-target",pe="dxHtmlEditor-dialogInsertTableRowsField",Pe="dxHtmlEditor-dialogInsertTableColumnsField",Ee={insertHeaderRow:"header",clear:"clearformat"};function Fe(t){return{clear:e=>{var ut,{event:n}=e,S=t.quill.getSelection();S&&(t.saveValueChangeEvent(n),t.quill.removeFormat(S),null===(ut=bn(t))||void 0===ut||ut.updateFormatWidgets())},link:qn(t),image:Yr(t,t.editorInstance.option("imageUpload")),color:gn(t,"color"),background:gn(t,"background"),orderedList:Wr(t,"list","ordered"),bulletList:Wr(t,"list","bullet"),alignLeft:Wr(t,"align","left"),alignCenter:Wr(t,"align","center"),alignRight:Wr(t,"align","right"),alignJustify:Wr(t,"align","justify"),codeBlock:_n(t,"code-block"),undo:e=>{var{event:n}=e;t.saveValueChangeEvent(n),t.quill.history.undo()},redo:e=>{var{event:n}=e;t.saveValueChangeEvent(n),t.quill.history.redo()},increaseIndent:e=>{var{event:n}=e;wr(t,["indent","+1",p],n)},decreaseIndent:e=>{var{event:n}=e;wr(t,["indent","-1",p],n)},superscript:Wr(t,"script","super"),subscript:Wr(t,"script","sub"),insertTable:Qn(t),insertHeaderRow:$e(t.quill,"insertHeaderRow"),insertRowAbove:$e(t.quill,"insertRowAbove"),insertRowBelow:$e(t.quill,"insertRowBelow"),insertColumnLeft:$e(t.quill,"insertColumnLeft"),insertColumnRight:$e(t.quill,"insertColumnRight"),deleteColumn:$e(t.quill,"deleteColumn"),deleteRow:$e(t.quill,"deleteRow"),deleteTable:$e(t.quill,"deleteTable"),cellProperties:Ar(t,"cell"),tableProperties:Ar(t,"table")}}function Ke(t,e){var{contentTemplate:n,title:S,minHeight:ut,minWidth:Tt,maxWidth:Rt}=e;t.formDialogOption({contentTemplate:n,title:S,minHeight:ut??0,minWidth:Tt??0,maxWidth:Rt??"none"})}function Ar(t,e){return n=>{var S,ut;null!==(S=n)&&void 0!==S&&S.length||(n=(0,_.A)(function cr(t,e){var n=t.quill.getModule("table").getTable();return"table"===e?n[0].domNode:n[2].domNode}(t,e)));var Be,[Tt,Rt]=null!==(ut=t.quill.getModule("table").getTable())&&void 0!==ut?ut:[],Wt=t.quill.getFormat(t.editorInstance.getSelection(!0)),Xt=function Jn(t){return"cell"===t?On:Yn}(e)(t,{$element:n,formats:Wt,tableBlot:Tt,rowBlot:Rt}),{contentTemplate:oe,title:le,minHeight:zt,minWidth:te,maxWidth:Me}=t.editorInstance._formDialog._popup.option(),Te={contentTemplate:oe,title:le,minHeight:zt,minWidth:te,maxWidth:Me};t.editorInstance.formDialogOption({contentTemplate:Ie=>{var _e=(0,_.A)("<div>").appendTo(Ie),nn=(0,_.A)("<div>").appendTo(_e);return t.editorInstance._createComponent(nn,Dr.A,Xt.formOptions),t.editorInstance._createComponent(_e,Tr.A,{}),Be=nn.dxForm("instance"),_e},title:mt.A.format("dxHtmlEditor-".concat(e,"Properties")),minHeight:qr,minWidth:Math.min(800,.9*(0,D.RG)((0,ke.zk)())-1),maxWidth:.9*(0,D.RG)((0,ke.zk)())});var we=t.editorInstance.showFormDialog();we.done((Ie,_e)=>{t.saveValueChangeEvent(_e),Xt.applyHandler(Be),Ke(t.editorInstance,Te)}),we.fail(()=>{t.quill.focus(),Ke(t.editorInstance,Te)})}}function wr(t,e,n){t.saveValueChangeEvent(n),t.quill.format(...e)}function fn(t){return Array.isArray(t)?t[0]:t}function qn(t){return()=>{var e;t.quill.focus();var n=t.quill.getSelection(),S=n?t.quill.getFormat():{},ut=void 0!==S.link&&0===(null===(e=n)||void 0===e?void 0:e.length),Tt=S.link||"";if(ut){var Rt=function Xr(t,e){var ut,Tt,S=b().import("formats/link");return[ut,Tt]=t.quill.scroll.descendant(S,e.index),!ut&&0===e.length&&([ut,Tt]=t.quill.scroll.descendant(S,e.index-1),ut&&(Tt+=1)),ut?{index:e.index-Tt,length:ut.length()}:null}(t,n);Rt?n=Rt:Tt=""}var Wt=function Oe(t,e){return!!e&&t.quill.getText(e).length<e.length}(t,n),Xt={href:Tt,text:n&&!Wt?t.quill.getText(n):"",target:!Object.prototype.hasOwnProperty.call(S,"target")||!!S.target};t.editorInstance.formDialogOption("title",mt.A.format(qt));var oe=t.editorInstance.showFormDialog({formData:Xt,items:Xn(Wt)});oe.done((le,zt)=>{if(n&&!Wt){var te=le.text||le.href,{index:Me,length:Te}=n;le.text=void 0,t.saveValueChangeEvent(zt),Te&&t.quill.deleteText(Me,Te,G),t.quill.insertText(Me,te,"link",le,p),t.quill.setSelection(Me+te.length,0,p)}else le.text=n||le.text?le.text:le.href,wr(t,["link",le,p],zt)}),oe.fail(()=>{t.quill.focus()})}}function Yr(t,e){var n=new Pr(t,e);return()=>{n.render()}}function Xn(t){return[{dataField:"href",label:{text:mt.A.format(fe)}},{dataField:"text",label:{text:mt.A.format(Jt)},visible:!t},{dataField:"target",editorType:"dxCheckBox",editorOptions:{text:mt.A.format(he)},cssClass:ye,label:{visible:!1}}]}function gn(t,e){return()=>{var n=t.quill.getFormat();t.editorInstance.formDialogOption("title",mt.A.format("color"===e?Et:Bt));var ut=t.editorInstance.showFormDialog({formData:n,items:[{dataField:e,editorType:"dxColorView",editorOptions:{focusStateEnabled:!1},label:{visible:!1}}]});ut.done((Tt,Rt)=>{wr(t,[e,Tt[e],p],Rt)}),ut.fail(()=>{t.quill.focus()})}}function Wr(t,e,n){return S=>{var ut,{event:Tt}=S,Rt=t.quill.getFormat();wr(t,[e,Rt[e]!==n&&n,p],Tt),null===(ut=bn(t))||void 0===ut||ut.updateFormatWidgets(!0)}}function bn(t){return t._updateFormatWidget?t:t.quill.getModule("toolbar")}function _n(t,e){return n=>{var S,{event:ut}=n,Tt=t.quill.getFormat(),Rt=Tt[e],Wt=!((0,r.Lm)(Rt)?Rt:(0,r.O9)(Rt));wr(t,[e,Wt,p],ut),null===(S=bn(t))||void 0===S||S._updateFormatWidget(e,Wt,Tt)}}function Qn(t){return()=>{var e=t.quill.getFormat();t._tableFormats.some(ut=>Object.prototype.hasOwnProperty.call(e,ut))?t.quill.focus():(t.editorInstance.formDialogOption("title",mt.A.format(ne)),t.editorInstance.showFormDialog({formData:{rows:1,columns:1},items:[{dataField:"columns",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:mt.A.format(pe)}},{dataField:"rows",editorType:"dxNumberBox",editorOptions:{min:1},label:{text:mt.A.format(Pe)}}]}).done((ut,Tt)=>{t.quill.focus();var Rt=t.quill.getModule("table");if(Rt){t.saveValueChangeEvent(Tt);var{columns:Wt,rows:Xt}=ut;Rt.insertTable(Wt,Xt)}}).always(()=>{t.quill.focus()}))}}function Yn(t,e){var Rt,Wt,Xt,{$element:n,formats:S,tableBlot:ut}=e,Tt=(0,ke.zk)(),oe=n,le=t.editorInstance,zt=parseInt(S.tableWidth)||(0,D.Ot)(oe),te=Tt.getComputedStyle(oe.get(0)),Me="start"===te.textAlign?"left":te.textAlign;return{formOptions:{colCount:2,formData:{width:zt,height:(0,r.O9)(S.tableHeight)?parseInt(S.tableHeight):(0,D.P$)(oe),backgroundColor:S.tableBackgroundColor||te.backgroundColor,borderStyle:S.tableBorderStyle||te.borderTopStyle,borderColor:S.tableBorderColor||te.borderTopColor,borderWidth:parseInt((0,r.O9)(S.tableBorderWidth)?S.tableBorderWidth:te.borderTopWidth),alignment:S.tableAlign||Me},items:[{itemType:"group",caption:mt.A.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:mt.A.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:U,valueExpr:"id",displayExpr:"value",placeholder:"Select style"}},{dataField:"borderWidth",label:{text:mt.A.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:mt.A.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",label:{text:mt.A.format("dxHtmlEditor-borderColor")},colSpan:2,template:Be=>{var we=(0,_.A)("<div>");return le._createComponent(we,Cr,{editAlphaChannel:!0,value:Be.component.option("formData").borderColor,onInitialized:Ie=>{Wt=Ie.component}}),we}}]},{itemType:"group",caption:mt.A.format("dxHtmlEditor-dimensions"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"width",label:{text:mt.A.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:mt.A.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:mt.A.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:mt.A.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:mt.A.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:mt.A.format("dxHtmlEditor-borderColor")},template:Be=>{var we=(0,_.A)("<div>");return le._createComponent(we,Cr,{editAlphaChannel:!0,value:Be.component.option("formData").backgroundColor,onInitialized:Ie=>{Xt=Ie.component}}),we}}]},{itemType:"group",caption:mt.A.format("dxHtmlEditor-alignment"),items:[{itemType:"simple",label:{text:mt.A.format("dxHtmlEditor-horizontal")},template:()=>{var Be=(0,_.A)("<div>");return le._createComponent(Be,gr.A,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[Me],onInitialized:we=>{Rt=we.component}}),Be}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400},applyHandler:Be=>{var we=Be.option("formData");(function ti(t,e){var{$table:n,newHeight:S,newWidth:ut,tableBlot:Tt}=e;if((0,r.O9)(ut))if(He(n).length>0)t.editorInstance.format("tableWidth",ut+"px");else{var Wt=De(n),Xt=(0,D.Ot)(n);Ne(n,{tableBlot:Tt}),(0,jt.__)(Wt,(te,Me)=>{var Te=(0,_.A)(Me),Be=ut/Xt*(0,D.Ot)(Te),we=ve(n,Te.index(),"horizontal");Se(t,{elements:we,property:"width",value:Be})})}var oe=He(n,"vertical");if(oe?.length>0)Tt.format("tableHeight",S+"px");else{var le=yr(n),zt=(0,D.P$)(n);(0,jt.__)(le,(te,Me)=>{var Te=(0,_.A)(Me),Be=S/zt*(0,D.P$)(Te),we=ve(n,te,"vertical");Se(t,{elements:we,property:"height",value:Be})})}})(t,{$table:oe,newHeight:we.height,newWidth:we.width===zt?void 0:we.width,tableBlot:ut}),t.editorInstance.format("tableBorderStyle",we.borderStyle),t.editorInstance.format("tableBorderWidth",we.borderWidth+"px"),t.editorInstance.format("tableBorderColor",Wt.option("value")),t.editorInstance.format("tableBackgroundColor",Xt.option("value")),t.editorInstance.format("tableTextAlign",Rt.option("selectedItemKeys")[0])}}}function On(t,e){var Wt,Xt,oe,le,{$element:n,formats:S,tableBlot:ut,rowBlot:Tt}=e,Rt=(0,ke.zk)(),zt=n,te=(0,r.O9)(S.cellWidth)?parseInt(S.cellWidth):(0,D.Ot)(zt),Me=t.editorInstance,Te=Rt.getComputedStyle(zt.get(0)),Be="start"===Te.textAlign?"left":Te.textAlign;return{formOptions:{colCount:2,formData:{width:te,height:(0,r.O9)(S.cellHeight)?parseInt(S.cellHeight):(0,D.P$)(zt),backgroundColor:fn(S.cellBackgroundColor)||Te.backgroundColor,borderStyle:S.cellBorderStyle||Te.borderTopStyle,borderColor:fn(S.cellBorderColor)||Te.borderTopColor,borderWidth:parseInt((0,r.O9)(S.cellBorderWidth)?S.cellBorderWidth:Te.borderTopWidth),alignment:S.cellTextAlign||Be,verticalAlignment:S.cellVerticalAlign||Te.verticalAlign,verticalPadding:parseInt((0,r.O9)(S.cellPaddingTop)?S.cellPaddingTop:Te.paddingTop),horizontalPadding:parseInt((0,r.O9)(S.cellPaddingLeft)?S.cellPaddingLeft:Te.paddingLeft)},items:[{itemType:"group",caption:mt.A.format("dxHtmlEditor-border"),colCountByScreen:{xs:2},colCount:2,items:[{dataField:"borderStyle",label:{text:mt.A.format("dxHtmlEditor-style")},editorType:"dxSelectBox",editorOptions:{items:U,valueExpr:"id",displayExpr:"value"}},{dataField:"borderWidth",label:{text:mt.A.format("dxHtmlEditor-borderWidth")},editorOptions:{placeholder:mt.A.format("dxHtmlEditor-pixels")}},{itemType:"simple",dataField:"borderColor",colSpan:2,label:{text:mt.A.format("dxHtmlEditor-borderColor")},template:Ie=>{var _e=(0,_.A)("<div>");return Me._createComponent(_e,Cr,{editAlphaChannel:!0,value:Ie.component.option("formData").borderColor,onInitialized:nn=>{oe=nn.component}}),_e}}]},{itemType:"group",caption:mt.A.format("dxHtmlEditor-dimensions"),colCount:2,colCountByScreen:{xs:2},items:[{dataField:"width",label:{text:mt.A.format("dxHtmlEditor-width")},editorOptions:{min:0,placeholder:mt.A.format("dxHtmlEditor-pixels")}},{dataField:"height",label:{text:mt.A.format("dxHtmlEditor-height")},editorOptions:{min:0,placeholder:mt.A.format("dxHtmlEditor-pixels")}},{dataField:"verticalPadding",label:{text:mt.A.format("dxHtmlEditor-paddingVertical")},editorOptions:{placeholder:mt.A.format("dxHtmlEditor-pixels")}},{label:{text:mt.A.format("dxHtmlEditor-paddingHorizontal")},dataField:"horizontalPadding",editorOptions:{placeholder:mt.A.format("dxHtmlEditor-pixels")}}]},{itemType:"group",caption:mt.A.format("dxHtmlEditor-tableBackground"),items:[{itemType:"simple",dataField:"backgroundColor",label:{text:mt.A.format("dxHtmlEditor-borderColor")},template:Ie=>{var _e=(0,_.A)("<div>");return Me._createComponent(_e,Cr,{editAlphaChannel:!0,value:Ie.component.option("formData").backgroundColor,onInitialized:nn=>{le=nn.component}}),_e}}]},{itemType:"group",caption:mt.A.format("dxHtmlEditor-alignment"),colCount:2,items:[{itemType:"simple",label:{text:mt.A.format("dxHtmlEditor-horizontal")},template:()=>{var Ie=(0,_.A)("<div>");return Me._createComponent(Ie,gr.A,{items:[{value:"left",icon:"alignleft"},{value:"center",icon:"aligncenter"},{value:"right",icon:"alignright"},{value:"justify",icon:"alignjustify"}],keyExpr:"value",selectedItemKeys:[Be],onInitialized:_e=>{Wt=_e.component}}),Ie}},{itemType:"simple",label:{text:mt.A.format("dxHtmlEditor-vertical")},template:()=>{var Ie=(0,_.A)("<div>");return Me._createComponent(Ie,gr.A,{items:[{value:"top",icon:"verticalaligntop"},{value:"middle",icon:"verticalaligncenter"},{value:"bottom",icon:"verticalalignbottom"}],keyExpr:"value",selectedItemKeys:[Te.verticalAlign],onInitialized:_e=>{Xt=_e.component}}),Ie}}]}],showColonAfterLabel:!0,labelLocation:"top",minColWidth:400},applyHandler:Ie=>{var _e=Ie.option("formData"),nn=_e.width===parseInt(te)?void 0:_e.width;(function ei(t,e){var{$cell:n,newHeight:S,newWidth:ut,tableBlot:Tt,rowBlot:Rt}=e,Wt=(0,_.A)(n.closest("table"));if((0,r.O9)(ut)){var Xt=(0,_.A)(n).index(),oe=ve(Wt,Xt),le=ut-(0,D.Ot)(n);ut>(0,D.Ot)(Wt)&&Ne(Wt,{tableBlot:Tt}),Se(t,{elements:oe,property:"width",value:ut});var te=n.next();if(0===He(Wt).length)if(Ne(Wt,{tableBlot:Tt}),1===te.length){oe=ve(Wt,Xt+1);var Te=(0,D.Ot)(oe.eq(0))-le;Se(t,{elements:oe,property:"width",value:Math.max(Te,0)})}else if(1===n.prev().length){oe=ve(Wt,Xt-1);var we=(0,D.Ot)(oe.eq(0))-le;Se(t,{elements:oe,property:"width",value:Math.max(we,0)})}}Rt.children.forEach(_e=>{_e.format("cellHeight",S+"px")}),0===He(Wt,"vertical").length&&Wt.css("height","auto")})(t,{$cell:zt,newHeight:_e.height,newWidth:nn,tableBlot:ut,rowBlot:Tt}),t.editorInstance.format("cellBorderWidth",_e.borderWidth+"px"),t.editorInstance.format("cellBorderColor",oe.option("value")),t.editorInstance.format("cellBorderStyle",_e.borderStyle),t.editorInstance.format("cellBackgroundColor",le.option("value")),t.editorInstance.format("cellTextAlign",Wt.option("selectedItemKeys")[0]),t.editorInstance.format("cellVerticalAlign",Xt.option("selectedItemKeys")[0]),t.editorInstance.format("cellPaddingLeft",_e.horizontalPadding+"px"),t.editorInstance.format("cellPaddingRight",_e.horizontalPadding+"px"),t.editorInstance.format("cellPaddingTop",_e.verticalPadding+"px"),t.editorInstance.format("cellPaddingBottom",_e.verticalPadding+"px")}}}var Rn=C;if(h()){var Fr="dx-htmleditor-toolbar-wrapper",Nn="dx-format-active",ii={66:"bold",73:"italic",85:"underline"},dn={b:66,i:73,u:85},tn=t=>mt.A.format("dxHtmlEditor-".concat((0,Yt.PT)(t)));Rn=class extends C{constructor(t,e){var n;if(super(t,e),n=this,this._toolbarWidgets=new Gt,this._formatHandlers=Fe(this),this._tableFormats=ae(t),(0,r.O9)(e.items)){this._addCallbacks(),this._renderToolbar();var S=this.toolbarInstance._layoutStrategy._menu;if(S){var ut=S._renderPopup;S._renderPopup=function(){for(var Tt=arguments.length,Rt=new Array(Tt),Wt=0;Wt<Tt;Wt++)Rt[Wt]=arguments[Wt];ut.apply(S,...Rt),S._popup.on("showing",()=>{n._updateToolbar(!0)})}}this.quill.on("editor-change",(Tt,Rt,Wt,Xt)=>{"silent"===Xt&&(0,r.RI)(this.quill.getFormat())||this._updateToolbar("selection-change"===Tt)})}}_addCallbacks(){this.addCleanCallback(this.clean.bind(this)),this.editorInstance.addContentInitializedCallback(this.updateHistoryWidgets.bind(this))}_updateToolbar(t){this.updateFormatWidgets(t),this.updateHistoryWidgets(),this.updateTableWidgets()}_updateFormatWidget(t,e,n){var S=this._toolbarWidgets.getByName(t);S&&(e?this._markActiveFormatWidget(t,S,n):(this._resetFormatWidget(t,S),Object.prototype.hasOwnProperty.call(t)&&delete n[t]),this._toggleClearFormatting(e||!(0,r.RI)(n)))}_renderToolbar(){var t=this.options.container||this._getContainer();this._$toolbar=(0,_.A)("<div>").addClass("dx-htmleditor-toolbar").appendTo(t),this._$toolbarContainer=(0,_.A)(t).addClass(Fr),P.A.on(this._$toolbarContainer,(0,R.b4)("mousedown",this.editorInstance.NAME),e=>{e.target.focus(),e.preventDefault()}),this._subscribeFormatHotKeys(),this.toolbarInstance=this.editorInstance._createComponent(this._$toolbar,q.A,this.toolbarConfig),this.editorInstance.on("optionChanged",e=>{var{name:n}=e;("readOnly"===n||"disabled"===n)&&this.toolbarInstance.option("disabled",this.isInteractionDisabled)})}get toolbarConfig(){return{dataSource:this._prepareToolbarItems(),disabled:this.isInteractionDisabled,menuContainer:this._$toolbarContainer,multiline:this.isMultilineMode()}}get isInteractionDisabled(){return this.editorInstance.option("readOnly")||this.editorInstance.option("disabled")}isMultilineMode(){var t;return null===(t=this.options.multiline)||void 0===t||t}clean(){this._toolbarWidgets.clear(),this._$toolbarContainer&&this._$toolbarContainer.empty().removeClass(Fr)}repaint(){this.toolbarInstance&&this.toolbarInstance.repaint()}_getContainer(){var t=(0,_.A)("<div>");return this.editorInstance.$element().prepend(t),t}_detectRenamedOptions(t){(0,r.Gv)(t)&&(0,jt.__)([{newName:"name",oldName:"formatName"},{newName:"acceptedValues",oldName:"formatValues"}],(e,n)=>{Object.prototype.hasOwnProperty.call(t,n.oldName)&&k.A.log("W1016",n.oldName,n.newName)})}_subscribeFormatHotKeys(){this.quill.keyboard.addBinding({which:dn.b,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:dn.i,shortKey:!0},this._handleFormatHotKey.bind(this)),this.quill.keyboard.addBinding({which:dn.u,shortKey:!0},this._handleFormatHotKey.bind(this))}_handleFormatHotKey(t,e,n){var{which:S}=n;this._updateButtonState(ii[S])}_updateButtonState(t){var e=this._toolbarWidgets.getByName(t),n=this.quill.getFormat();n[t]?this._markActiveFormatWidget(t,e,n):this._resetFormatWidget(t,e)}_prepareToolbarItems(){var t=[];return(0,jt.__)(this.options.items,(e,n)=>{var S;if(this._detectRenamedOptions(n),(0,r.Gv)(n))S=this._handleObjectItem(n);else if((0,r.Kg)(n)){var ut=this._prepareButtonItemConfig(n);S=this._getToolbarItem(ut)}S&&t.push(S)}),t}_handleObjectItem(t){if(t.name&&t.acceptedValues&&this._isAcceptableItem(t.widget,"dxSelectBox")){var e=this._prepareSelectItemConfig(t);return this._getToolbarItem(e)}if(t.name&&this._isAcceptableItem(t.widget,"dxButton")){var n=this._prepareButtonItemConfig(t.name),S=(0,H.X)(!0,n,t);return this._getToolbarItem(S)}return this._getToolbarItem(t)}_isAcceptableItem(t,e){return!t||t===e}_prepareButtonItemConfig(t){var e,n=null!==(e=Ee[t])&&void 0!==e?e:t,S=(0,Yt.Ns)(t);return{widget:"dxButton",name:t,options:{hint:tn(S),text:tn(S),icon:n.toLowerCase(),onClick:this._formatHandlers[t]||_n(this,t),stylingMode:"text"},showText:"inMenu"}}_prepareSelectItemConfig(t){var{name:e,acceptedValues:n}=t;return(0,H.X)(!0,{widget:"dxSelectBox",name:e,options:{stylingMode:"filled",dataSource:n,displayExpr:S=>((t,e)=>"header"===e?(0,r.O9)(t)&&!1!==t?"".concat(tn("heading")," ").concat(t):tn("normalText"):tn(t)||t)(S,e),placeholder:tn(e),onValueChanged:S=>{this._isReset||(this._hideAdaptiveMenu(),wr(this,[e,S.value,"user"],S.event),this._setValueSilent(S.component,S.value))}}},t)}_hideAdaptiveMenu(){this.toolbarInstance.option("overflowMenuVisible")&&this.toolbarInstance.option("overflowMenuVisible",!1)}_getToolbarItem(t){var e={options:{onInitialized:n=>{t.name&&(n.component.$element().addClass("dx-htmleditor-toolbar-format"),n.component.$element().toggleClass("dx-".concat(t.name.toLowerCase(),"-format"),!!t.name),this._toolbarWidgets.add(t.name,n.component))},onDisposing:()=>{this._toolbarWidgets.remove(t.name)}}};return(0,H.X)(!0,{location:"before",locateInMenu:"auto"},this._getDefaultConfig(t.name),t,e)}_getDefaultItemsConfig(){return{clear:{options:{disabled:!0}},undo:{options:{disabled:!0}},redo:{options:{disabled:!0}},insertRowAbove:{options:{disabled:!0}},insertRowBelow:{options:{disabled:!0}},insertHeaderRow:{options:{disabled:!0}},insertColumnLeft:{options:{disabled:!0}},insertColumnRight:{options:{disabled:!0}},deleteRow:{options:{disabled:!0}},deleteColumn:{options:{disabled:!0}},deleteTable:{options:{disabled:!0}},cellProperties:{options:{disabled:!0}},tableProperties:{options:{disabled:!0}},separator:{template:(t,e,n)=>{(0,_.A)(n).addClass("dx-htmleditor-toolbar-separator")},menuItemTemplate:(t,e,n)=>{(0,_.A)(n).addClass("dx-htmleditor-toolbar-menu-separator")}}}}_getDefaultConfig(t){return this._getDefaultItemsConfig()[t]}updateHistoryWidgets(){var t=this.quill.history;if(t){var{undo:e,redo:n}=t.stack;this._updateManipulationWidget(this._toolbarWidgets.getByName("undo"),!!e.length),this._updateManipulationWidget(this._toolbarWidgets.getByName("redo"),!!n.length)}}updateTableWidgets(){if(this.quill.getModule("table")){var e=this.quill.getSelection(),n=e&&this.quill.getFormat(e)||{},S=this._tableFormats.some(ut=>!!n[ut]);ce.forEach(ut=>{var Tt="insertTable"===ut,Rt=this._toolbarWidgets.getByName(ut);this._updateManipulationWidget(Rt,Tt?!S:S)})}}_updateManipulationWidget(t,e){t&&t.option("disabled",!e)}updateFormatWidgets(t){var e=this.quill.getSelection();if(e){var n=this.quill.getFormat(e),S=!(0,r.RI)(n);for(var ut in(!S||t)&&this._resetFormatWidgets(),n){var Tt=this._getFormatWidgetName(ut,n),Rt=this._toolbarWidgets.getByName(Tt)||this._toolbarWidgets.getByName(ut);Rt&&this._markActiveFormatWidget(ut,Rt,n)}this._toggleClearFormatting(S||e.length>1)}}_markActiveFormatWidget(t,e,n){this._isColorFormat(t)&&this._updateColorWidget(t,n[t]),"value"in e.option()?this._setValueSilent(e,n[t]):e.$element().addClass(Nn)}_toggleClearFormatting(t){var e=this._toolbarWidgets.getByName("clear");e&&e.option("disabled",!t)}_isColorFormat(t){return"color"===t||"background"===t}_updateColorWidget(t,e){var n=this._toolbarWidgets.getByName(t);n&&n.$element().find(".".concat("dx-icon")).css("borderBottomColor",e||"transparent")}_getFormatWidgetName(t,e){var n;switch(t){case"align":n=t+(0,Yt.Ns)(e[t]);break;case"list":n=e[t]+(0,Yt.Ns)(t);break;case"code-block":n="codeBlock";break;case"script":n=e[t]+t;break;case"imageSrc":n="image";break;default:n=t}return n}_setValueSilent(t,e){this._isReset=!0,t.option("value",e),this._isReset=!1}_resetFormatWidgets(){this._toolbarWidgets.each((t,e)=>{this._resetFormatWidget(t,e)})}_resetFormatWidget(t,e){e.$element().removeClass(Nn),this._isColorFormat(t)&&this._updateColorWidget(t),"clear"===t&&e.option("disabled",!0),"dxSelectBox"===e.NAME&&this._setValueSilent(e,null)}addClickHandler(t,e){this._formatHandlers[t]=e;var n=this._toolbarWidgets.getByName(t);n&&"dxButton"===n.NAME&&n.option("onClick",e)}}}const ai=Rn;var li=ie(29263),pn=C;h()&&(pn=class extends C{constructor(t,e){super(t,e);var n=this.editorInstance.NAME;P.A.on(this.quill.root,(0,R.b4)("drop",n),this._dropHandler.bind(this)),P.A.on(this.quill.root,(0,R.b4)("paste",n),this._pasteHandler.bind(this))}_dropHandler(t){var e,n=t.originalEvent.dataTransfer,S=null==n||null===(e=n.files)||void 0===e?void 0:e.length;this.saveValueChangeEvent(t),t.preventDefault(),S&&this._getImage(n.files,this._addImage.bind(this))}_pasteHandler(t){var e,{clipboardData:n}=t.originalEvent;if(this.saveValueChangeEvent(t),n){var S=null===(e=n.items)||void 0===e?void 0:e.length;!n.getData("text/html")&&S&&this._getImage(n.items,Tt=>{this._isBrowserSupportImagePaste(li.A)||this._addImage(Tt)})}}_isBrowserSupportImagePaste(t){var{mozilla:e,chrome:n,version:S}=t;return e||n&&S>82}_isImage(t){return!!t.type.match(/^image\/(a?png|bmp|gif|p?jpe?g|svg|vnd\.microsoft\.icon|webp)/i)}_getImage(t,e){var n=(0,ke.zk)();(0,jt.__)(t,(S,ut)=>{if(this._isImage(ut)){var Tt=new n.FileReader;Tt.onload=Wt=>{var{target:Xt}=Wt;e(Xt.result)};var Rt=ut.getAsFile?ut.getAsFile():ut;Rt instanceof n.Blob&&Tt.readAsDataURL(Rt)}})}_addImage(t){var e=this.quill.getSelection(),n=e?e.index:this.quill.getLength();this.quill.insertEmbed(n,"extendedImage",t,"user")}});const si=pn;var ln=ie(50448),Bn=ie(64038),ui=ie(51774),mn=C;h()&&(mn=class extends C{_getDefaultOptions(){return{dataSource:null}}constructor(t,e){super(t,e),this.options=(0,H.X)({},this._getDefaultOptions(),e),this._popup=this.renderPopup(),this._popup.$wrapper().addClass("dx-suggestion-list-wrapper"),this._renderPreventFocusOut()}renderList(t,e){var n=(0,_.A)("<div>").addClass("dx-suggestion-list").appendTo(t);this._list=this.options.editorInstance._createComponent(n,ui.A,e)}renderPopup(){var t=this.options.editorInstance,e=(0,_.A)("<div>").appendTo(t.$element()),n=this._getPopupConfig();return t._createComponent(e,Bn.A,n)}_getPopupConfig(){return{contentTemplate:t=>{var e=this._getListConfig(this.options);this.renderList((0,_.A)(t),e)},deferRendering:!1,onShown:()=>{this._list.focus()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null)},showTitle:!1,width:"auto",height:"auto",shading:!1,hideOnParentScroll:!0,hideOnOutsideClick:!0,animation:{show:{type:"fade",duration:0,from:0,to:1},hide:{type:"fade",duration:400,from:1,to:0}},fullScreen:!1,maxHeight:this.maxHeight}}_getListConfig(t){return{dataSource:t.dataSource,onSelectionChanged:this.selectionChangedHandler.bind(this),selectionMode:"single",pageLoadMode:"scrollBottom"}}get maxHeight(){var t=(0,ke.zk)(),e=t&&(0,D.Oq)(t)||0;return Math.max(100,.5*e)}selectionChangedHandler(t){this._popup.option("visible")&&(this._popup.hide(),this.insertEmbedContent(t))}_renderPreventFocusOut(){var t=(0,R.b4)("mousedown","dxHtmlEditorPopupModule");P.A.on(this._popup.$wrapper(),t,e=>{e.preventDefault()})}insertEmbedContent(t){}showPopup(){this._popup&&this._popup.show()}savePosition(t){this.caretPosition=t}getPosition(){return this.caretPosition}});const Dn=mn;var sn={};if(h()){var jn=h().import("blots/embed");(sn=class extends jn{static create(t){var n,S,e=super.create(),ut=t.value;return Array.isArray(t.escapeChar)?(n=(0,m.YD)(t.escapeChar[0],""),S=(0,m.YD)(t.escapeChar[1],"")):n=S=t.escapeChar,e.innerText=n+ut+S,e.dataset.varStartEscChar=n,e.dataset.varEndEscChar=S,e.dataset.varValue=t.value,e}static value(t){return(0,H.X)({},{value:t.dataset.varValue,escapeChar:[t.dataset.varStartEscChar||"",t.dataset.varEndEscChar||""]})}}).blotName="variable",sn.tagName="span",sn.className="dx-variable"}const kn=sn;var Hn=C;h()&&(h().register({"formats/variable":kn},!0),Hn=class extends Dn{_getDefaultOptions(){var t=super._getDefaultOptions();return(0,H.X)(t,{escapeChar:""})}constructor(t,e){super(t,e);var n=t.getModule("toolbar");n&&n.addClickHandler("variable",this.showPopup.bind(this)),t.keyboard.addBinding({key:"P",altKey:!0},this.showPopup.bind(this)),this._popup.on("shown",S=>{var ut=(0,_.A)(S.component.option("position").of);ut.hasClass("dx-variable-format")&&ut.addClass("dx-format-active")})}showPopup(t){var e=this.quill.getSelection(!0),n=e?e.index:this.quill.getLength();this.savePosition(n),this._resetPopupPosition(t,n),super.showPopup()}_resetPopupPosition(t,e){if(t&&t.element)this._popup.option("position",{of:t.element,offset:{h:0,v:0},my:"top center",at:"bottom center",collision:"fit"});else{var n=this.quill.getBounds(e),S=(0,ln.N)(this.quill.root);this._popup.option("position",{of:this.quill.root,offset:{h:n.left,v:n.bottom-S.height},my:"top center",at:"bottom left",collision:"fit flip"})}}insertEmbedContent(t){var e=this.getPosition(),n=t.component.option("selectedItem"),S=(0,H.X)({},{value:n,escapeChar:this.options.escapeChar});setTimeout(function(){this.quill.insertEmbed(e,"variable",S),this.quill.setSelection(e+1)}.bind(this))}});const pi=Hn;var vi=ie(25373),Kr="dxHtmlResizingModule",Wn=(0,R.b4)("keydown",Kr),yi=(0,R.b4)("scroll",Kr),gi=(0,R.b4)("mousedown",Kr);class Fn extends C{constructor(e,n){super(e,n),this.allowedTargets=n.allowedTargets||["image"],this.enabled=!!n.enabled,this._hideFrameWithContext=this.hideFrame.bind(this),this._framePositionChangedHandler=this._prepareFramePositionChangedHandler(),this.enabled&&(this._attachEvents(),this._createResizeFrame())}_attachEvents(){P.A.on(this.quill.root,(0,R.b4)(rt.U,Kr),this._clickHandler.bind(this)),P.A.on(this.quill.root,yi,this._framePositionChangedHandler),this.editorInstance.on("focusOut",this._hideFrameWithContext),this.quill.on("text-change",this._framePositionChangedHandler)}_detachEvents(){P.A.off(this.quill.root,Kr),this.editorInstance.off("focusOut",this._hideFrameWithContext),this.quill.off("text-change",this._framePositionChangedHandler)}_clickHandler(e){if(this._isAllowedTarget(e.target)){if(this._$target===e.target)return;this._$target=e.target;var n=(0,_.A)(this._$target),S=Math.max((0,D.Ot)(n)-(0,D.RG)(n),this.resizable.option("minWidth")),ut=Math.max((0,D.P$)(n)-(0,D.Oq)(n),this.resizable.option("minHeight"));this.resizable.option({minWidth:S,minHeight:ut}),this.updateFramePosition(),this.showFrame(),this._adjustSelection()}else this._$target&&this.hideFrame()}_prepareFramePositionChangedHandler(e){return()=>{this._$target&&this.updateFramePosition()}}_adjustSelection(){this.quill.getSelection()||this.quill.setSelection(0,0)}_isAllowedTarget(e){return this._isImage(e)}_isImage(e){return-1!==this.allowedTargets.indexOf("image")&&"IMG"===e.tagName.toUpperCase()}showFrame(){this._$resizeFrame.show(),P.A.on(this.quill.root,Wn,this._handleFrameKeyDown.bind(this))}_handleFrameKeyDown(e){var n=(0,R.YD)(e);("del"===n||"backspace"===n)&&this._deleteImage(),this.hideFrame()}hideFrame(){this._$target=null,this._$resizeFrame.hide(),P.A.off(this.quill.root,Wn)}updateFramePosition(){var{height:e,width:n,top:S,left:ut}=(0,ln.N)(this._$target),{top:Tt,left:Rt}=(0,ln.N)(this.quill.root),Wt=this._getBorderWidth();this._$resizeFrame.css({height:e,width:n,padding:1,top:S-Tt-Wt-1,left:ut-Rt-Wt-1}),(0,at.Cy)(this._$resizeFrame,{left:0,top:0})}_getBorderWidth(){return parseInt(this._$resizeFrame.css("borderTopWidth"))}_createResizeFrame(){if(!this._$resizeFrame){var{deviceType:e}=V.A.current();this._$resizeFrame=(0,_.A)("<div>").addClass("dx-resize-frame").toggleClass("dx-touch-device","desktop"!==e).appendTo(this.editorInstance._getQuillContainer()).hide(),P.A.on(this._$resizeFrame,gi,n=>{n.preventDefault()}),this.resizable=this.editorInstance._createComponent(this._$resizeFrame,vi.A,{onResize:n=>{this._$target&&((0,_.A)(this._$target).attr({height:n.height,width:n.width}),this.updateFramePosition())}})}}_deleteImage(){var e;this._isAllowedTarget(this._$target)&&(null===(e=h().find(this._$target))||void 0===e||e.deleteAt(0))}option(e,n){"mediaResizing"!==e?"enabled"===e?(this.enabled=n,n?this._attachEvents():this._detachEvents()):"allowedTargets"===e&&Array.isArray(n)&&(this.allowedTargets=n):this.handleOptionChangeValue(n)}clean(){this._detachEvents(),this._$resizeFrame.remove(),this._$resizeFrame=void 0}}var Tn=ie(10348),Pn="dx-htmleditor-column-resizer",cn="dx-htmleditor-row-resizer",bi={minColumnWidth:40,minRowHeight:24},rn="dxHtmlTableResizingModule",Kn=(0,R.b4)("dxpointerdown",rn),s=(0,R.b4)("scroll",rn);class a extends C{constructor(e,n){super(e,n),this.enabled=!!n.enabled,this._tableResizeFrames=[],this._minColumnWidth=this._minSizeLimit("minColumnWidth",n.minColumnWidth),this._minRowHeight=this._minSizeLimit("minRowHeight",n.minRowHeight),this._quillContainer=this.editorInstance._getQuillContainer(),this._tableData=[],this.enabled&&this._applyResizing()}_applyResizing(e){e?this._applyResizingImpl():this.editorInstance.addContentInitializedCallback(this._applyResizingImpl.bind(this)),this.addCleanCallback(this.clean.bind(this)),this._resizeHandlerWithContext=Tn.A.add(this._resizeHandler.bind(this))}_minSizeLimit(e,n){return(0,r.O9)(n)?Math.max(n,0):bi[e]}_applyResizingImpl(){var e=this._findTables();e.length&&(this._fixTablesWidths(e),this._createResizeFrames(e),this._updateFramesPositions(),this._updateFramesSeparators()),this._attachEvents()}_attachEvents(){P.A.on(this.editorInstance._getContent(),s,this._updateFramesPositions.bind(this)),this.quill.on("text-change",this._getQuillTextChangeHandler())}_detachEvents(){P.A.off(this.editorInstance._getContent(),rn),this.quill.off("text-change",this._quillTextChangeHandler)}_getQuillTextChangeHandler(e,n,S){return(ut,Tt,Rt)=>{if(this._isTableChanging()){var Wt=this._findTables();this._removeResizeFrames(),"api"===Rt&&this._fixTablesWidths(Wt),this._updateTablesColumnsWidth(Wt),this._createResizeFrames(Wt),this._updateFramesPositions(),this._updateFramesSeparators()}else this._updateFramesPositions(),this._isDragging||this._updateFramesSeparators()}}_getFrameForTable(e){var n;return null===(n=this._framesForTables)||void 0===n?void 0:n.get(e.get(0))}_resizeHandler(){this._windowResizeTimeout=setTimeout(()=>{var e=this._findTables();(0,jt.__)(e,(n,S)=>{var ut=(0,_.A)(S),Tt=this._tableResizeFrames[n],Rt=(0,D.Ot)(ut),Wt=this._tableLastWidth(Tt);Math.abs(Rt-Wt)>1&&(this._tableLastWidth(Tt,Rt),this._updateColumnsWidth(ut,n))}),this._updateFramesPositions(),this._updateFramesSeparators()})}_findTables(){return(0,_.A)(this._quillContainer).find("table")}_getWidthStyleValue(e){var n=e[0].style.width;return""!==n?parseInt(n):void 0}_tableLastWidth(e,n){if(!(0,r.O9)(n))return e?.lastWidth;e.lastWidth=n}_fixTablesWidths(e){(0,jt.__)(e,(n,S)=>{var ut=(0,_.A)(S),Tt=this._getTableDeterminantElements(ut,"horizontal");this._tableResizeFrames[n]||(this._tableResizeFrames[n]={lastWidth:void 0});var Rt=this._getFrameForTable(ut);if(Rt||this._tableResizeFrames.push({$table:ut}),0===He(ut).length){var Wt,{columnsSum:Xt}=this._getColumnElementsSum(Tt);Ne(ut,{quill:this.quill});var oe=null!==(Wt=this._tableLastWidth(Rt))&&void 0!==Wt?Wt:(0,D.Ot)(ut);Rt&&this._tableLastWidth(Rt,Math.max(Xt,oe))}})}_createResizeFrames(e){this._framesForTables=new Map,e.each((n,S)=>{var ut,Tt=(0,_.A)(S),Rt=null===(ut=this._tableResizeFrames[n])||void 0===ut?void 0:ut.$table,Wt=this._tableResizeFrames[n].lastWidth;this._tableResizeFrames[n]={$frame:this._createTableResizeFrame(S),$table:Tt,index:n,lastWidth:Rt&&S===Rt.get(0)?Wt:void 0,columnsCount:this._getTableDeterminantElements(Tt,"horizontal").length,rowsCount:this._getTableDeterminantElements(Tt,"vertical").length},this._framesForTables.set(S,this._tableResizeFrames[n])}),this._tableResizeFrames.length=e.length}_isTableChanging(){var e=this._findTables(),n=!1;return e.length!==this._tableResizeFrames.length?n=!0:(0,jt.__)(e,(S,ut)=>{var Tt=(0,_.A)(ut),Rt=this._tableResizeFrames[S],Wt=Rt?.columnsCount!==this._getTableDeterminantElements(Tt,"horizontal").length,Xt=Rt?.rowsCount!==this._getTableDeterminantElements(Tt,"vertical").length;if(Wt||Xt)return n=!0,!1}),n}_removeResizeFrames(e){var n;(0,jt.__)(this._tableResizeFrames,(S,ut)=>{if(ut.$frame){var Tt,Rt=".".concat(Pn,", .").concat(cn);this._detachSeparatorEvents(null===(Tt=ut.$frame)||void 0===Tt?void 0:Tt.find(Rt)),ut.$frame.remove()}}),null===(n=this._framesForTables)||void 0===n||n.clear(),e&&(this._tableResizeFrames=[])}_detachSeparatorEvents(e){e.each((n,S)=>{P.A.off(S,Kn)})}_createTableResizeFrame(){return(0,_.A)("<div>").addClass("dx-table-resize-frame").appendTo(this._quillContainer)}_updateFramesPositions(){(0,jt.__)(this._tableResizeFrames,(e,n)=>{this._updateFramePosition(n.$table,n.$frame)})}_updateFramePosition(e,n){var{height:S,width:ut,top:Tt,left:Rt}=(0,ln.N)(e.get(0)),{top:Wt,left:Xt}=(0,ln.N)(this.quill.root);n.css({height:S,width:ut,top:Tt-Wt,left:Rt-Xt}),(0,at.Cy)(n,{left:0,top:0})}_updateFramesSeparators(e){(0,jt.__)(this._tableResizeFrames,(n,S)=>{e?this._updateFrameSeparators(S,e):(this._updateFrameSeparators(S,"vertical"),this._updateFrameSeparators(S,"horizontal"))})}_isDraggable(e){return e.hasClass("dx-draggable")&&e.is(":visible")}_removeDraggable(e,n){this._isDraggable(e)&&((0,_.A)(e).dxDraggable("instance").dispose(),(0,_.A)(e).addClass(n))}_getDirectionInfo(e){return"vertical"===e?{lineResizerClass:cn,sizeFunction:n=>(0,D.P$)(n),positionCoordinate:"top",positionStyleProperty:"height",positionCoordinateName:"y"}:{lineResizerClass:Pn,sizeFunction:n=>(0,D.Ot)(n),positionCoordinate:this.editorInstance.option("rtlEnabled")?"right":"left",positionStyleProperty:"width",positionCoordinateName:"x"}}_getSize(e,n){return n.sizeFunction(e)}_updateFrameSeparators(e,n){for(var S=this._getTableDeterminantElements(e.$table,n),Tt=S.length-1,Rt=this._getDirectionInfo(n),Wt=e.$frame.find(".".concat(Rt.lineResizerClass)),Xt={transform:"none"},oe=0,le=0;le<=Tt;le++){oe+=this._getSize(S.eq(le),Rt),(0,r.O9)(Wt[le])||(Wt[le]=(0,_.A)("<div>").addClass(Rt.lineResizerClass).appendTo(e.$frame).get(0));var zt=(0,_.A)(Wt[le]);this._removeDraggable(zt,Rt.lineResizerClass),Xt[Rt.positionCoordinate]=oe-2,(0,_.A)(zt).css(Xt),this._attachColumnSeparatorEvents({lineSeparator:Wt[le],index:le,$determinantElements:S,frame:e,direction:n})}}_getTableDeterminantElements(e,n){return"vertical"===n?e.find("th:first-child, td:first-child"):De(e)}_attachColumnSeparatorEvents(e){P.A.on(e.lineSeparator,Kn,()=>{this._createDraggableElement(e)})}_dragStartHandler(e){var{$determinantElements:n,index:S,frame:ut,direction:Tt,lineSeparator:Rt}=e,Wt=this._getDirectionInfo(Tt);this._isDragging=!0,this._fixColumnsWidth(ut.$table),this._startLineSize=parseInt(this._getSize((0,_.A)(n[S]),Wt)),this._startTableWidth=(0,D.Ot)(ut.$table),this._startLineSeparatorPosition=parseInt((0,_.A)(Rt).css(Wt.positionCoordinate)),this._nextLineSize=0,n[S+1]?this._nextLineSize=parseInt(this._getSize((0,_.A)(n[S+1]),Wt)):"horizontal"===Tt&&Ne(ut.$table,{quill:this.quill})}_shouldRevertOffset(e){return"horizontal"===e&&this.editorInstance.option("rtlEnabled")}_isNextColumnWidthEnough(e,n,S){if(!this._nextLineSize)return!0;if(e>=this._minColumnWidth){var ut=this._nextColumnOffsetLimit?S<this._nextColumnOffsetLimit:S<0,Tt=Math.abs(this._getWidthStyleValue(n)-(0,D.Ot)(n))>3;return ut||!Tt}return!1}_shouldSetNextColumnWidth(e){return this._nextLineSize&&e>0}_horizontalDragHandler(e){var{currentLineNewSize:n,directionInfo:S,eventOffset:ut,$determinantElements:Tt,index:Rt,frame:Wt}=e,Xt=this._nextLineSize&&this._nextLineSize-ut,oe=n>=this._minColumnWidth,le=ve(Wt.$table,Rt),zt=ve(Wt.$table,Rt+1),te=(0,D.Ot)(le.eq(0))-n;if(oe)if(this._isNextColumnWidthEnough(Xt,Tt.eq(Rt+1),ut)){Se(this,{elements:le,property:S.positionStyleProperty,value:n}),this._shouldSetNextColumnWidth(Xt)&&Se(this,{elements:zt,property:S.positionStyleProperty,value:Xt});var Me=Math.abs(this._startTableWidth-(0,D.Ot)(Wt.$table))<3;(Math.abs(te)>3||!this._nextLineSize&&Me)&&(Se(this,{elements:le,property:S.positionStyleProperty,value:(0,D.Ot)(le.eq(0))}),Xt+=n-(0,D.Ot)(le.eq(0)),this._shouldSetNextColumnWidth(Xt)&&Se(this,{elements:zt,property:S.positionStyleProperty,value:Xt}))}else this._nextColumnOffsetLimit=this._nextColumnOffsetLimit||ut;this._$highlightedElement.css(S.positionCoordinate,this._startLineSeparatorPosition+ut+te+"px")}_verticalDragHandler(e){var{currentLineNewSize:n,directionInfo:S,eventOffset:ut,$determinantElements:Tt,index:Rt,frame:Wt}=e,Xt=Math.max(n,this._minRowHeight);Se(this,{elements:ve(Wt.$table,Rt,"vertical"),property:S.positionStyleProperty,value:Xt});var le=(0,D.P$)(Tt.eq(Rt))-n;this._$highlightedElement.css(S.positionCoordinate,this._startLineSeparatorPosition+ut+le+"px")}_dragMoveHandler(e,n){var{$determinantElements:S,index:ut,frame:Tt,direction:Rt}=n,Wt=this._getDirectionInfo(Rt),Xt=e.offset[Wt.positionCoordinateName];this.editorInstance._saveValueChangeEvent(e),this._shouldRevertOffset(Rt)&&(Xt=-Xt);var oe=this._startLineSize+Xt;"horizontal"===Rt?this._horizontalDragHandler({currentLineNewSize:oe,directionInfo:Wt,eventOffset:Xt,$determinantElements:S,index:ut,frame:Tt}):this._verticalDragHandler({currentLineNewSize:oe,directionInfo:Wt,eventOffset:Xt,$determinantElements:S,index:ut,frame:Tt}),this._updateFramePosition(Tt.$table,Tt.$frame)}_dragEndHandler(e){var n;null===(n=this._$highlightedElement)||void 0===n||n.remove(),this._isDragging=void 0,this._nextColumnOffsetLimit=void 0,this._tableLastWidth(e.frame,(0,D.Ot)(e.frame.$table)),this._updateFramesPositions(),this._updateFramesSeparators()}_isLastColumnResizing(e){var{$determinantElements:n,index:S}=e;return!(0,r.O9)(n[S+1])}_getBoundaryConfig(e){var n={};if("vertical"===e.direction)n.boundary=e.frame.$table,n.boundOffset={bottom:(0,ke.Vd)()?-(0,D.Oq)((0,ke.zk)()):-(0,D.P$)(this._quillContainer),top:0,left:0,right:0};else if(this._isLastColumnResizing(e)){var S=this.editorInstance._getContent();n.boundary=S,n.boundOffset={bottom:0,top:0,left:S.css("paddingLeft"),right:S.css("paddingRight")}}else n.boundary=e.frame.$table;return n}_createDraggableElement(e){var n,S=this._getBoundaryConfig(e),ut="vertical"===e.direction?"dx-htmleditor-highlighted-row":"dx-htmleditor-highlighted-column";null===(n=this._$highlightedElement)||void 0===n||n.remove(),this._$highlightedElement=(0,_.A)("<div>").addClass("".concat(ut)).insertAfter((0,_.A)(e.lineSeparator));var Tt={contentTemplate:null,allowMoveByClick:!1,dragDirection:e.direction,onDragMove:Rt=>{var{event:Xt}=Rt;this._dragMoveHandler(Xt,e)},onDragStart:()=>{this._dragStartHandler(e)},onDragEnd:()=>{this._dragEndHandler(e)}};(0,H.X)(Tt,S),this._currentDraggableElement=this.editorInstance._createComponent(e.lineSeparator,et,Tt)}_fixColumnsWidth(e){var n=this._getTableDeterminantElements(e);(0,jt.__)(n,(S,ut)=>{var Tt=(0,D.Ot)(ut);Se(this,{elements:ve(e,S),property:"width",value:Math.max(Tt,this._minColumnWidth)})})}_getColumnElementsSum(e){var n=[],S=0;return(0,jt.__)(e,(ut,Tt)=>{var Rt=(0,_.A)(Tt),Wt=this._getWidthStyleValue(Rt)||(0,D.Ot)(Rt);n[ut]=Math.max(Wt,this._minColumnWidth),S+=n[ut]}),{columnsWidths:n,columnsSum:S}}_setColumnsRatioWidth(e,n,S,ut){(0,jt.__)(e,Tt=>{Se(this,{elements:ve(ut,Tt),property:"width",value:n>0?this._minColumnWidth+Math.round((S[Tt]-this._minColumnWidth)*n):this._minColumnWidth})})}_updateColumnsWidth(e,n){var S=this._getTableDeterminantElements(e),ut=this._tableResizeFrames[n];ut||(this._tableResizeFrames[n]={});var Rt,Tt=this._tableLastWidth(ut=this._tableResizeFrames[n])||(0,D.Ot)(e),{columnsWidths:Wt,columnsSum:Xt}=this._getColumnElementsSum(S),oe=S.length*this._minColumnWidth;this._tableLastWidth(ut,(Rt=Xt>oe?(Tt-oe)/(Xt-oe):-1)>0?Tt:oe),this._setColumnsRatioWidth(S,Rt,Wt,e)}_updateTablesColumnsWidth(e){(0,jt.__)(e,(n,S)=>{this._updateColumnsWidth((0,_.A)(S),n)})}option(e,n){"tableResizing"!==e?"enabled"===e?(this.enabled=n,n?this._applyResizing(!0):this.clean()):["minColumnWidth","minRowHeight"].includes(e)&&(this["_".concat(e)]=this._minSizeLimit(e,n)):this.handleOptionChangeValue(n)}clean(){this._removeResizeFrames(!0),this._detachEvents(),Tn.A.remove(this._resizeHandlerWithContext),clearTimeout(this._windowResizeTimeout),this._resizeHandlerWithContext=void 0,this._isDragging=void 0,this._startTableWidth=void 0,clearTimeout(this._attachResizerTimeout)}}var z=ie(458),Ct=(0,R.b4)("dxcontextmenu","dxHtmlEditorTableContextMenu"),Ht=C,Ce=t=>mt.A.format("dxHtmlEditor-".concat((0,Yt.PT)(t)));h()&&(Ht=class extends C{constructor(t,e){super(t,e),this.enabled=!!e.enabled,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._formatHandlers=Fe(this),this._tableFormats=ae(t),this.enabled&&this._enableContextMenu(e.items)}_enableContextMenu(t){var e;null===(e=this._contextMenu)||void 0===e||e.dispose(),this._contextMenu=this._createContextMenu(t),this._attachEvents()}_attachEvents(){P.A.on(this.editorInstance._getContent(),Ct,this._prepareContextMenuHandler())}_detachEvents(){P.A.off(this.editorInstance._getContent(),Ct)}_createContextMenu(t){var e=(0,_.A)("<div>").appendTo(this.editorInstance.$element()),n=this._getMenuConfig(t);return this.editorInstance._createComponent(e,z.A,n)}showPropertiesForm(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"cell",e=(0,_.A)(this._targetElement).closest("cell"===t?"th, td":"table");this._contextMenu.hide(),this._formatHandlers["".concat(t,"Properties")](e),this._targetElement=null}_isAcceptableItem(t,e){return!t||t===e}_handleObjectItem(t){if(t.name&&this._isAcceptableItem(t.widget,"dxButton")){var e=this._prepareMenuItemConfig(t.name);return(0,H.X)(!0,e,t)}return t.items&&(t.items=this._prepareMenuItems(t.items)),t}_prepareMenuItemConfig(t){var e,n,S=null!==(e=Ee[t])&&void 0!==e?e:t,ut=(0,Yt.Ns)(t);return{text:Ce(ut),icon:S.toLowerCase(),onClick:null!==(n=this._formatHandlers[t])&&void 0!==n?n:_n(this,t)}}_prepareMenuItems(t){var e=[];return(0,jt.__)(t,(n,S)=>{var ut;(0,r.Gv)(S)?ut=this._handleObjectItem(S):(0,r.Kg)(S)&&(ut=this._prepareMenuItemConfig(S)),ut&&e.push(ut)}),e}_getMenuConfig(t){var e=[{text:Ce("insert"),items:["insertHeaderRow","insertRowAbove","insertRowBelow",(0,H.X)(this._prepareMenuItemConfig("insertColumnLeft"),{beginGroup:!0}),"insertColumnRight"]},{text:Ce("delete"),items:["deleteColumn","deleteRow","deleteTable"]},(0,H.X)(this._prepareMenuItemConfig("cellProperties"),{onClick:S=>{this.showPropertiesForm("cell")}}),(0,H.X)(this._prepareMenuItemConfig("tableProperties"),{onClick:S=>{this.showPropertiesForm("table")}})],n=this._prepareMenuItems(null!=t&&t.length?t:e);return{target:this._quillContainer,showEvent:null,hideOnParentScroll:!1,items:n}}_prepareContextMenuHandler(){return t=>{this._isTableTarget(t.target)&&(this._targetElement=t.target,this._setContextMenuPosition(t),this._contextMenu.show(),t.preventDefault())}}_setContextMenuPosition(t){var e=this._quillContainer.get(0).getBoundingClientRect();this._contextMenu.option({position:{my:"left top",at:"left top",collision:"fit fit",offset:{x:t.clientX-e.left,y:t.clientY-e.top}}})}_isTableTarget(t){return!!(0,_.A)(t).closest(".dx-htmleditor-content td, .dx-htmleditor-content th").length}clean(){this._detachEvents()}option(t,e){if("tableContextMenu"!==t){if("enabled"===t)this.enabled=e,e?this._enableContextMenu():this.clean();else if("items"===t){var n;null===(n=this._contextMenu)||void 0===n||n.dispose(),this._contextMenu=this._createContextMenu(e)}}else this.handleOptionChangeValue(e)}prepareCleanCallback(){return()=>{this.clean()}}});const $n=Ht;var zn="dxHtmlEditorImageUpload",An=C;h()&&(An=class extends C{constructor(t,e){super(t,e),this.options=e,this._quillContainer=this.editorInstance._getQuillContainer(),this.addCleanCallback(this.prepareCleanCallback()),this._handleServerUpload()}_handleServerUpload(){(0,r.O9)(this.options.fileUploadMode)&&"base64"!==this.options.fileUploadMode?this._enableDragAndDropUploading():this._disableDragAndDropUploading()}_getUploaderModule(){return this._uploaderModule||(this._uploaderModule=this.quill.getModule("uploader")),this._uploaderModule}_disableDragAndDropUploading(){var t;this._getUploaderModule().preventImageUploading(!1),this._detachEvents(),null===(t=this._fileUploader)||void 0===t||t.dispose()}_enableDragAndDropUploading(){this._initFileUploader(),this._getUploaderModule().preventImageUploading(!0),this._attachEvents()}_initFileUploader(){var t=(0,_.A)("<div>").addClass("dx-htmleditor-hidden-content").appendTo(this._quillContainer),e=(0,H.X)({},{value:[],name:"dx-htmleditor-image",accept:"image/*",uploadMode:"useButtons"},{uploadUrl:this.options.uploadUrl,onUploaded:this._onUploaded.bind(this)},this.options.fileUploaderOptions);return this._fileUploader=this.editorInstance._createComponent(t,sr.A,e),t}_onUploaded(t){var e,{index:n}=null!==(e=this.quill.getSelection())&&void 0!==e?e:{index:this.quill.getLength()};or(this.options.uploadDirectory,t.file.name,this.quill,n)}_attachEvents(){P.A.on(this.quill.root,(0,R.b4)("drop",zn),this._dropHandler.bind(this)),P.A.on(this.quill.root,(0,R.b4)("paste",zn),this._pasteHandler.bind(this))}_detachEvents(){P.A.off(this.quill.root,zn)}_dropHandler(t){this._handleInsertImages(t,"dataTransfer")}_pasteHandler(t){this._handleInsertImages(t,"clipboardData")}_handleInsertImages(t,e){this.saveValueChangeEvent(t);var S=Array.from(t.originalEvent[e].files||[]);S.length&&(t.preventDefault(),t.stopPropagation(),this._fileUploader.option("value",S),this._fileUploader.upload())}clean(){this._disableDragAndDropUploading()}prepareCleanCallback(){return()=>{this.clean()}}option(t,e){switch(t){case"imageUpload":this.handleOptionChangeValue(e);break;case"fileUploadMode":this.options.fileUploadMode=e,this._handleServerUpload();break;case"fileUploaderOptions":this._fileUploader.option(e)}}});const Mi=An;var Si=(0,R.b4)("dxclick","dxHtmlEditorImageCursor"),Ai=C;h()&&(Ai=class extends C{constructor(t,e){super(t,e),this.addCleanCallback(this.clean.bind(this)),this._attachEvents()}_attachEvents(){P.A.on(this.quill.root,Si,this._clickHandler.bind(this))}_detachEvents(){P.A.off(this.quill.root,Si)}_clickHandler(t){this._isAllowedTarget(t.target)&&this._adjustSelection(t)}_isAllowedTarget(t){return this._isImage(t)}_isImage(t){return"IMG"===t.tagName.toUpperCase()}_adjustSelection(t){var e=this.quill.scroll.find(t.target);if(e){var n=e.offset(this.quill.scroll);this.quill.setSelection(n+1,0)}else this.quill.setSelection(0,0)}clean(){this._detachEvents()}});const Di=Ai;var wi=ie(39407);class ji{constructor(){this._storage={}}set(e,n){var S,ut,{editorKey:Tt,marker:Rt}=e;null!==(ut=(S=this._storage)[Tt])&&void 0!==ut||(S[Tt]={}),this._storage[Tt][Rt]=n}get(e){var n,S,{editorKey:ut,marker:Tt}=e;return(0,r.O9)(ut)?null===(S=this._storage[ut])||void 0===S?void 0:S[Tt]:null===(n=Object.values(this._storage).at(-1))||void 0===n?void 0:n[Tt]}delete(e){var{editorKey:n,marker:S}=e;this._storage[n]&&(delete this._storage[n][S],(0,r.RI)(this._storage[n])&&delete this._storage[n])}}var yn={};if(h()){var ki=h().import("blots/embed");(yn=class Ti extends ki{constructor(e,n){super(e,n),this.renderContent(this.contentNode,Ti.value(n))}static create(e){var n=super.create();return n.setAttribute("spellcheck",!1),n.dataset.marker=e.marker,n.dataset.mentionValue=e.value,n.dataset.id=e.id,n}static value(e){return{marker:e.dataset.marker,id:e.dataset.id,value:e.dataset.mentionValue}}renderContent(e,n){var S=Ti._templatesStorage.get({editorKey:n.keyInTemplateStorage,marker:n.marker});S?S.render({model:n,container:e}):this.baseContentRender(e,n)}baseContentRender(e,n){var S=(0,_.A)("<span>").text(n.marker);(0,_.A)(e).append(S).append(n.value)}static addTemplate(e,n){this._templatesStorage.set(e,n)}static removeTemplate(e){this._templatesStorage.delete(e)}}).blotName="mention",yn.tagName="span",yn.className="dx-mention",yn._templatesStorage=new ji}const Oi=yn;var Ri=C;if(h()){var fr={ARROW_UP:"upArrow",ARROW_DOWN:"downArrow",ARROW_LEFT:"leftArrow",ARROW_RIGHT:"rightArrow",ENTER:"enter",ESCAPE:"escape",SPACE:"space",PAGE_UP:"pageUp",PAGE_DOWN:"pageDown",END:"end",HOME:"home"},Fi=[fr.ARROW_LEFT,fr.ARROW_RIGHT,fr.PAGE_UP,fr.PAGE_DOWN,fr.END,fr.HOME],Ki=[" ","\n"];h().register({"formats/mention":Oi},!0),Ri=class extends Dn{_getDefaultOptions(){var t=super._getDefaultOptions();return(0,H.X)(t,{itemTemplate:"item",valueExpr:"this",displayExpr:"this",template:null,searchExpr:null,searchTimeout:500,minSearchLength:0})}constructor(t,e){super(t,e),this._mentions={},e.mentions.forEach(n=>{var S=n.marker;S||(n.marker=S="@");var ut=n.template;if(ut){var Tt=this.editorInstance._getTemplate(ut);Tt&&Oi.addTemplate({marker:S,editorKey:this.editorInstance.getMentionKeyInTemplateStorage()},Tt)}this._mentions[S]=(0,H.X)({},this._getDefaultOptions(),n)}),this._attachKeyboardHandlers(),this.addCleanCallback(this.clean.bind(this)),this.quill.on("text-change",this.onTextChange.bind(this))}_attachKeyboardHandlers(){this.quill.keyboard.addBinding({key:fr.ARROW_UP},this._moveToItem.bind(this,"prev")),this.quill.keyboard.addBinding({key:fr.ARROW_DOWN},this._moveToItem.bind(this,"next")),this.quill.keyboard.addBinding({key:[fr.ENTER,fr.SPACE]},this._selectItemHandler.bind(this));var t=this.quill.keyboard.bindings[fr.ENTER];t.unshift(t.pop()),this.quill.keyboard.addBinding({key:fr.ESCAPE},this._escapeKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:[fr.ARROW_LEFT,fr.ARROW_RIGHT],shiftKey:!0},this._ignoreKeyHandler.bind(this)),this.quill.keyboard.addBinding({key:Fi},this._ignoreKeyHandler.bind(this))}_moveToItem(t){var e=this._list.getDataSource();if(this._isMentionActive&&!e.isLoading()){var S="next"===t?"first":"last",ut=(0,_.A)(this._list.option("focusedElement"))[t]();ut=ut.length?ut:this._activeListItems[S](),this._list.option("focusedElement",(0,g.c)(ut)),this._list.scrollToItem(ut)}return!this._isMentionActive}_ignoreKeyHandler(){return!this._isMentionActive}_fitIntoRange(t,e,n){return t>n?e:t<e?n:t}_selectItemHandler(){return this._isMentionActive&&(this._list.option("items").length?this._list.selectItem(this._list.option("focusedElement")):this._popup.hide()),!this._isMentionActive}_escapeKeyHandler(){return this._isMentionActive&&this._popup.hide(),!this._isMentionActive}renderList(t,e){this.compileGetters(this.options),super.renderList(t,e)}compileGetters(t){var{displayExpr:e,valueExpr:n}=t;this._valueGetter=(0,wi.Hz)(e),this._idGetter=(0,wi.Hz)(n)}_getListConfig(t){var e=super._getListConfig(t);return(0,H.X)(e,{itemTemplate:this.options.itemTemplate,onContentReady:()=>{this._hasSearch&&(this._popup.repaint(),this._focusFirstElement(),this._hasSearch=!1)}})}insertEmbedContent(){var t=this._activeMentionConfig.marker.length,e=t+this._searchValue.length,n=this.getPosition(),S=this._list.option("selectedItem"),ut={value:this._valueGetter(S),id:this._idGetter(S),marker:this._activeMentionConfig.marker,keyInTemplateStorage:this.editorInstance.getMentionKeyInTemplateStorage()},Tt=h().import("delta"),Rt=Math.max(0,n-t),Wt=(new Tt).retain(Rt).delete(e).insert({mention:ut}).insert(" ");this.quill.updateContents(Wt),this.quill.setSelection(Rt+2)}_getLastInsertOperation(t){var e=t[t.length-1];if("insert"in e)return e;var S="delete"in e;if(S&&t.length>=2){var ut=t[t.length-2];if(S&&"insert"in ut)return ut}return null}onTextChange(t,e,n){if("user"===n)if(this._isMentionActive&&this._isPopupVisible)this._processSearchValue(t.ops[t.ops.length-1])&&this._filterList(this._searchValue);else{var{ops:ut}=t,Tt=this._getLastInsertOperation(ut);Tt&&this.checkMentionRequest(Tt,ut)}}get _isPopupVisible(){var t;return null===(t=this._popup)||void 0===t?void 0:t.option("visible")}_processSearchValue(t){if("insert"in t)this._searchValue+=t.insert;else{if(!this._searchValue.length||t.delete>1)return this._popup.hide(),!1;this._searchValue=this._searchValue.slice(0,-1)}return!0}checkMentionRequest(t,e){var{insert:n}=t,S=this.quill.getSelection();if(n&&(0,r.Kg)(n)&&S&&!this._isMarkerPartOfText(e[0].retain)&&(this._activeMentionConfig=this._mentions[n],this._activeMentionConfig)){this._updateList(this._activeMentionConfig);var ut=S.index&&"\n"===this._getCharByIndex(S.index-1);this.savePosition(S.index+ut),this._popup.option("position",this._popupPosition),this._searchValue="",this._popup.show()}}_isMarkerPartOfText(t){return!(!t||-1!==Ki.indexOf(this._getCharByIndex(t-1)))}_getCharByIndex(t){return this.quill.getContents(t,1).ops[0].insert}_updateList(t){var{dataSource:e,displayExpr:n,valueExpr:S,itemTemplate:ut,searchExpr:Tt}=t;this.compileGetters({displayExpr:n,valueExpr:S}),this._list.unselectAll(),this._list.option({dataSource:e,displayExpr:n,itemTemplate:ut,searchExpr:Tt})}_filterList(t){if(this._isMinSearchLengthExceeded(t)){var e=this._activeMentionConfig.searchTimeout;e?(clearTimeout(this._searchTimer),this._searchTimer=setTimeout(()=>{this._search(t)},e)):this._search(t)}else this._resetFilter()}_isMinSearchLengthExceeded(t){return t.length>=this._activeMentionConfig.minSearchLength}_resetFilter(){clearTimeout(this._searchTimer),this._search(null)}_search(t){this._hasSearch=!0,this._list.option("searchValue",t)}_focusFirstElement(){if(this._list){var t=this._activeListItems.first();this._list.option("focusedElement",(0,g.c)(t)),this._list.scrollToItem(t)}}get _popupPosition(){var t=this.getPosition(),{left:e,top:n,height:S}=this.quill.getBounds(t&&t-1),{left:ut,top:Tt}=(0,_.A)(this.quill.root).offset();return{of:P.A.Event("positionEvent",{pageX:ut+e,pageY:Tt+n}),offset:{v:S},my:"top left",at:"top left",collision:{y:"flip",x:"flipfit"}}}_getPopupConfig(){return(0,H.X)(super._getPopupConfig(),{hideOnParentScroll:!1,onShown:()=>{this._isMentionActive=!0,this._hasSearch=!1,this._focusFirstElement()},onHidden:()=>{this._list.unselectAll(),this._list.option("focusedElement",null),this._isMentionActive=!1,this._search(null)},focusStateEnabled:!1})}get _activeListItems(){return this._list.itemElements().filter(":not(.".concat("dx-state-disabled",")"))}clean(){Object.keys(this._mentions).forEach(t=>{this._mentions[t].template&&Oi.removeTemplate({marker:t,editorKey:this.editorInstance.getMentionKeyInTemplateStorage()})})}}}const zi=Ri;class Vn{constructor(){if(!Vn.initialized){var e=this.getQuill(),n=e.import("attributors/style/direction");e.register({"formats/align":vt,"formats/direction":n,"formats/font":pt,"formats/size":Ot,"formats/extendedImage":M,"formats/link":ft,"modules/toolbar":ai,"modules/dropImage":si,"modules/variables":pi,"modules/resizing":Fn,"modules/tableResizing":a,"modules/tableContextMenu":$n,"modules/imageUpload":Mi,"modules/imageCursor":Di,"modules/mentions":zi,"themes/basic":c},!0),this._customModules=[],Vn._initialized=!0}}createEditor(e,n){return new(this.getQuill())(e,n)}registerModules(e){var n=RegExp("modules/*"),S=this.getQuill();for(var Tt in e)n.test(Tt)&&!S.imports[Tt]&&this._customModules.push(Tt.slice(8));S.register(e,!0)}getRegisteredModuleNames(){return this._customModules}getQuill(){return b()}}const Zi=Vn,Ei=new class Vi{constructor(){this._converters={}}addConverter(e,n){this._converters[e]=n}getConverter(e){return this._converters[e]}};function Xi(t){return t[1].match(/\S+\./)?"ordered":"bullet"}Ei.addConverter("delta",class qi{setQuillInstance(e){this.quillInstance=e}toHtml(){if(this.quillInstance)return this._isQuillEmpty()?"":this.quillInstance.getSemanticHTML(0,this.quillInstance.getLength()+1)}_isQuillEmpty(){var e=this.quillInstance.getContents();return 1===e.length()&&this._isDeltaEmpty(e)}_isDeltaEmpty(e){return e.reduce((n,S)=>{var{insert:ut}=S;return-1!==ut.indexOf("\n")})}});var eo=ie(11299),xi="dx-formdialog";const io=class no{constructor(e,n){this._editorInstance=e,this._popupUserConfig=n,this._renderPopup(),this._attachOptionChangedHandler()}_renderPopup(){var e=this._editorInstance,n=(0,_.A)("<div>").addClass(xi).appendTo(e.$element()),S=this._getPopupConfig();return e._createComponent(n,Bn.A,S)}_attachOptionChangedHandler(){var e;null===(e=this._popup)||void 0===e||e.on("optionChanged",n=>{var{name:S,value:ut}=n;"title"===S&&this._updateFormLabel(ut)})}_escKeyHandler(){this._popup.hide()}_addEscapeHandler(e){e.component.registerKeyHandler("escape",this._escKeyHandler.bind(this))}_isSmallScreen(){var e=(0,ke.Vd)()?(0,ke.ne)():null;return"phone"===V.A.real().deviceType||"xs"===e}_getPopupConfig(){return(0,H.X)({onInitialized:e=>{this._popup=e.component,this._popup.on("hiding",()=>this.onHiding()),this._popup.on("shown",()=>{this._form.focus()})},deferRendering:!1,focusStateEnabled:!1,showCloseButton:!1,fullScreen:this._isSmallScreen(),contentTemplate:e=>{var n=(0,_.A)("<div>").appendTo(e);this._renderForm(n,{onEditorEnterKey:S=>this.callAddButtonAction(S.event),customizeItem:S=>{"simple"===S.itemType&&(S.editorOptions=(0,H.X)(!0,{},S.editorOptions,{onInitialized:this._addEscapeHandler.bind(this)}))}})},toolbarItems:[{toolbar:"bottom",location:"after",widget:"dxButton",options:{onInitialized:this._addEscapeHandler.bind(this),text:mt.A.format("OK"),onClick:e=>this.callAddButtonAction(e.event)}},{toolbar:"bottom",location:"after",widget:"dxButton",options:{onInitialized:this._addEscapeHandler.bind(this),text:mt.A.format("Cancel"),onClick:()=>{this._popup.hide()}}}],_wrapperClassExternal:xi},this._popupUserConfig)}onHiding(){this.beforeAddButtonAction=void 0,this.deferred.reject()}callAddButtonAction(e){this.beforeAddButtonAction&&!this.beforeAddButtonAction()||this.hide(this._form.option("formData"),e)}_renderForm(e,n){e.addClass("dx-formdialog-form"),this._form=this._editorInstance._createComponent(e,Dr.A,n),this._updateFormLabel()}_updateFormLabel(e){var n,S=e??this.popupOption("title");null===(n=this._form)||void 0===n||n.$element().attr("aria-label",S)}_getDefaultFormOptions(){return{colCount:1,width:"auto",labelLocation:(0,eo.gx)()?"top":"left"}}formOption(e,n){return this._form.option.apply(this._form,arguments)}show(e){if(!this._popup.option("visible")){this.deferred=new L.cY;var n=(0,H.X)(this._getDefaultFormOptions(),e);return this._form.option(n),this._popup.show(),this.deferred.promise()}}hide(e,n){this.deferred.resolve(e,n),this._popup.hide()}popupOption(e,n){return this._popup.option.apply(this._popup,arguments)}};var oo=ie(83771),Gn="markdown",Ci="htmlContent",fo="ios"===V.A.current().platform,ho=0,Ii=j.A.inherit({_getDefaultOptions:function(){return(0,H.X)(this.callBase(),{focusStateEnabled:!0,valueType:"html",placeholder:"",toolbar:null,variables:null,mediaResizing:null,tableResizing:null,mentions:null,customizeModules:null,tableContextMenu:null,allowSoftLineBreak:!1,formDialogOptions:null,imageUpload:null,stylingMode:(0,oo.A)().editorStylingMode||"outlined"})},_init:function(){this._mentionKeyInTemplateStorage=ho++,this.callBase(),this._cleanCallback=(0,K.A)(),this._contentInitializedCallback=(0,K.A)()},_getAnonymousTemplateName:function(){return Ci},_initTemplates:function(){this._templateManager.addDefaultTemplates({[Ci]:new T.A}),this.callBase()},_focusTarget:function(){return this._getContent()},_getContent:function(){return this.$element().find(".".concat("dx-htmleditor-content"))},_focusInHandler:function(t){var{relatedTarget:e}=t;this._shouldSkipFocusEvent(e)||(this._toggleFocusClass(!0,this.$element()),this.callBase.apply(this,arguments))},_focusOutHandler:function(t){var{relatedTarget:e}=t;this._shouldSkipFocusEvent(e)||(this._toggleFocusClass(!1,this.$element()),this.callBase.apply(this,arguments))},_shouldSkipFocusEvent:function(t){return(0,_.A)(t).hasClass("ql-clipboard")},_initMarkup:function(){this._$htmlContainer=(0,_.A)("<div>").addClass("dx-quill-container"),this.$element().attr("role","application").addClass("dx-htmleditor").wrapInner(this._$htmlContainer),this._renderStylingMode();var t=this._getTemplate(Ci);this._$templateResult=t&&t.render({container:(0,g.c)(this._$htmlContainer),noModel:!0,transclude:!0}),this._renderSubmitElement(),this.callBase(),this._updateContainerMarkup()},_renderSubmitElement:function(){this._$submitElement=(0,_.A)("<textarea>").addClass("dx-htmleditor-submit-element").attr("hidden",!0).appendTo(this.$element()),this._setSubmitValue(this.option("value"))},_setSubmitValue:function(t){this._getSubmitElement().val(t)},_getSubmitElement:function(){return this._$submitElement},_createNoScriptFrame:function(){return(0,_.A)("<iframe>").css("display","none").attr({srcdoc:"",id:"xss-frame",sandbox:"allow-same-origin"})},_removeXSSVulnerableHtml:function(t){var e=this._createNoScriptFrame().appendTo("body"),Tt=e.get(0).contentWindow.document.body;Tt.innerHTML=t;var Rt=Xt=>{if(Xt.attributes)for(var oe=0;oe<Xt.attributes.length;oe++){var le=Xt.attributes[oe].name;le.startsWith("on")&&Xt.removeAttribute(le)}if(Xt.childNodes)for(var zt=0;zt<Xt.childNodes.length;zt++)Rt(Xt.childNodes[zt])};Rt(Tt),Tt.querySelectorAll("script").forEach(Xt=>{Xt.remove()});var Wt=Tt.innerHTML;return e.remove(),Wt},_updateContainerMarkup:function(){var t=this.option("value");if(this._isMarkdownValue()&&(this._prepareMarkdownConverter(),t=this._markdownConverter.toHtml(t)),t){var e=this._removeXSSVulnerableHtml(t);this._$htmlContainer.html(e)}},_prepareMarkdownConverter:function(){var t=Ei.getConverter("markdown");if(!t)throw k.A.Error("E1051","markdown");this._markdownConverter=new t},_render:function(){this._prepareConverters(),this.callBase()},_prepareQuillRegistrator:function(){this._quillRegistrator||(this._quillRegistrator=new Zi)},_getRegistrator:function(){return this._prepareQuillRegistrator(),this._quillRegistrator},_prepareConverters:function(){if(!this._deltaConverter){var t=Ei.getConverter("delta");t&&(this._deltaConverter=new t)}this.option("valueType")===Gn&&!this._markdownConverter&&this._prepareMarkdownConverter()},_renderContentImpl:function(){this._contentRenderedDeferred=new L.cY;var t=this._contentRenderedDeferred.promise();return this.callBase(),this._renderHtmlEditor(),this._renderFormDialog(),this._addKeyPressHandler(),t},_pointerMoveHandler:function(t){fo&&t.stopPropagation()},_attachFocusEvents:function(){(0,m.zE)(this.callBase.bind(this))},_addKeyPressHandler:function(){var t=(0,R.b4)("keydown","".concat(this.NAME,"TextChange"));P.A.on(this._$htmlContainer,t,this._keyDownHandler.bind(this))},_keyDownHandler:function(t){this._saveValueChangeEvent(t)},_renderHtmlEditor:function(){var t=this.option("customizeModules"),e=this._getModulesConfig();(0,r.Tn)(t)&&t(e),this._quillInstance=this._getRegistrator().createEditor(this._$htmlContainer[0],{placeholder:this.option("placeholder"),readOnly:this.option("readOnly")||this.option("disabled"),modules:e,theme:"basic"}),this._deltaConverter.setQuillInstance(this._quillInstance),this._textChangeHandlerWithContext=this._textChangeHandler.bind(this),this._quillInstance.on("text-change",this._textChangeHandlerWithContext),this._renderScrollHandler(),this._hasTranscludedContent()?this._updateContentTask=(0,m.uG)(()=>{this._applyTranscludedContent()}):this._finalizeContentRendering()},_renderScrollHandler:function(){var t=this._getContent(),e=function(t,e){var n=(0,_.A)(t);return{validate:function(S){if((0,R.X1)(S)&&(!e||(0,_.A)(S.target).is(t)))return!!function(t,e,n){var S=(0,_.A)(t),ut=n?S.scrollLeft():S.scrollTop(),Tt=n?"Width":"Height",Xt=S.prop("scroll".concat(Tt))-S.prop("client".concat(Tt))-ut|0;return(0!==ut||0!==Xt)&&(!!(0===ut&&e>=0||0===Xt&&e<=0||ut>0&&Xt>0)||void 0)}(n,-S.delta,S.shiftKey)&&(S._needSkipEvent=!0,!0)}}}(t);P.A.on(t,(0,R.b4)(I.A.init,this.NAME),e,m.lQ),P.A.on(t,(0,R.b4)(W.A.move,this.NAME),this._pointerMoveHandler.bind(this))},_applyTranscludedContent:function(){var t=this.option("value");if(!(0,r.O9)(t)){var e=this._deltaConverter.toHtml(),n=this._quillInstance.clipboard.convert({html:e});if(n.ops.length)return void this._quillInstance.setContents(n)}this._finalizeContentRendering()},_hasTranscludedContent:function(){return this._$templateResult&&this._$templateResult.length},_getModulesConfig:function(){var e=(t=>{var e=t.import("delta");return(n,S)=>{var ut=S.ops.slice(),Tt=ut[0];Tt.insert=Tt.insert.replace(/^\s+/,"");var Rt=Tt.insert.match(/^(\S+)\s+/),Wt=Rt&&function Qi(t){var e=t.getAttribute("style");if(e){var n=e.replace(/\n+/g,"").match(/level(\d+)/);return n?n[1]-1:0}return!1}(n);return Rt&&!1!==Wt?(Tt.insert=Tt.insert.substring(Rt[0].length,Tt.insert.length),function Yi(t){var e=t[t.length-1];e.insert=e.insert.trim()}(ut),ut.push({insert:"\n",attributes:{list:Xi(Rt),indent:Wt}}),new e(ut)):S}})(this._getRegistrator().getQuill());return(0,H.X)({},{table:!0,toolbar:this._getModuleConfigByOption("toolbar"),variables:this._getModuleConfigByOption("variables"),resizing:this._getModuleConfigByOption("mediaResizing"),tableResizing:this._getModuleConfigByOption("tableResizing"),tableContextMenu:this._getModuleConfigByOption("tableContextMenu"),imageUpload:this._getModuleConfigByOption("imageUpload"),imageCursor:this._getBaseModuleConfig(),mentions:this._getModuleConfigByOption("mentions"),uploader:{onDrop:S=>this._saveValueChangeEvent((0,w.Jh)(S)),imageBlot:"extendedImage"},keyboard:{onKeydown:S=>this._saveValueChangeEvent((0,w.Jh)(S))},clipboard:{onPaste:S=>this._saveValueChangeEvent((0,w.Jh)(S)),onCut:S=>this._saveValueChangeEvent((0,w.Jh)(S)),matchers:[["p.MsoListParagraphCxSpFirst",e],["p.MsoListParagraphCxSpMiddle",e],["p.MsoListParagraphCxSpLast",e]]},multiline:!!this.option("allowSoftLineBreak")},this._getCustomModules())},_getModuleConfigByOption:function(t){var e=this.option(t),n={};if((0,r.O9)(e))return Array.isArray(e)?n[t]=e:n=e,(0,H.X)(this._getBaseModuleConfig(),n)},_getBaseModuleConfig:function(){return{editorInstance:this}},_getCustomModules:function(){var t={};return this._getRegistrator().getRegisteredModuleNames().forEach(n=>{t[n]=this._getBaseModuleConfig()}),t},_textChangeHandler:function(t,e,n){var S=this._deltaConverter.toHtml(),ut=this._isMarkdownValue()?this._updateValueByType(Gn,S):S,Tt=this.option("value");Tt!==ut&&!this._isNullValueConverted(Tt,ut)&&(this._isEditorUpdating=!0,this.option("value",ut)),this._finalizeContentRendering()},_isNullValueConverted:function(t,e){return null===t&&""===e},_finalizeContentRendering:function(){this._contentRenderedDeferred&&(this.clearHistory(),this._contentInitializedCallback.fire(),this._contentRenderedDeferred.resolve(),this._contentRenderedDeferred=void 0)},_updateValueByType:function(t,e){var n=this._markdownConverter;if((0,r.O9)(n)){var S=(0,m.YD)(e,this.option("value"));return t===Gn?n.toMarkdown(S):n.toHtml(S)}},_isMarkdownValue:function(){return this.option("valueType")===Gn},_resetEnabledState:function(){if(this._quillInstance){var t=!(this.option("readOnly")||this.option("disabled"));this._quillInstance.enable(t)}},_renderFormDialog:function(){var t=(0,H.X)(!0,{width:"auto",height:"auto",hideOnOutsideClick:!0},this.option("formDialogOptions"));this._formDialog=new io(this,t)},_getStylingModePrefix:function(){return"dx-htmleditor-"},_getQuillContainer:function(){return this._$htmlContainer},_prepareModuleOptions(t){var e,n=null===(e=t.fullName)||void 0===e?void 0:e.split("."),S=t.value;return 3===n.length&&(S={[n[2]]:S}),[n.length>=2?n[1]:t.name,S]},_moduleOptionChanged:function(t,e){var n=this.getModule(t);n?n.option(...this._prepareModuleOptions(e)):this._invalidate()},_optionChanged:function(t){switch(t.name){case"value":if(this._quillInstance)if(this._isEditorUpdating)this._isEditorUpdating=!1;else{var e=this._isMarkdownValue()?this._updateValueByType("HTML",t.value):t.value;this._suppressValueChangeAction(),this._updateHtmlContent(e),this._resumeValueChangeAction()}else this._$htmlContainer.html(t.value);var n=this.option("value");n!==t.previousValue&&(this._setSubmitValue(n),this.callBase((0,on.A)({},t,{value:n})));break;case"placeholder":case"variables":case"toolbar":case"mentions":case"customizeModules":case"allowSoftLineBreak":this._invalidate();break;case"tableResizing":this._moduleOptionChanged("tableResizing",t);break;case"valueType":this._prepareConverters();var S=this._updateValueByType(t.value);"html"===t.value&&this._quillInstance?this._updateHtmlContent(S):this.option("value",S);break;case"stylingMode":this._renderStylingMode();break;case"readOnly":case"disabled":this.callBase(t),this._resetEnabledState();break;case"formDialogOptions":this._renderFormDialog();break;case"tableContextMenu":this._moduleOptionChanged("tableContextMenu",t);break;case"mediaResizing":t.previousValue&&t.value?this.getModule("resizing").option(t.name,t.value):this._invalidate();break;case"width":this.callBase(t),this._repaintToolbar();break;case"imageUpload":this._moduleOptionChanged("imageUpload",t);break;default:this.callBase(t)}},_repaintToolbar:function(){this._applyToolbarMethod("repaint")},_updateHtmlContent:function(t){var e=this._quillInstance.clipboard.convert({html:t});this._quillInstance.setContents(e)},_clean:function(){this._quillInstance&&(P.A.off(this._getContent(),".".concat(this.NAME)),this._quillInstance.off("text-change",this._textChangeHandlerWithContext),this._cleanCallback.fire()),this._abortUpdateContentTask(),this._cleanCallback.empty(),this._contentInitializedCallback.empty(),this.callBase()},_abortUpdateContentTask:function(){this._updateContentTask&&(this._updateContentTask.abort(),this._updateContentTask=void 0)},_applyQuillMethod(t,e){if(this._quillInstance)return this._quillInstance[t].apply(this._quillInstance,e)},_applyQuillHistoryMethod(t){this._quillInstance&&this._quillInstance.history&&this._quillInstance.history[t]()},_applyToolbarMethod(t){var e;null===(e=this.getModule("toolbar"))||void 0===e||e[t]()},addCleanCallback(t){this._cleanCallback.add(t)},addContentInitializedCallback(t){this._contentInitializedCallback.add(t)},register:function(t){this._getRegistrator().registerModules(t),this._quillInstance&&this.repaint()},get:function(t){return this._getRegistrator().getQuill().import(t)},getModule:function(t){return this._applyQuillMethod("getModule",arguments)},getQuillInstance:function(){return this._quillInstance},getSelection:function(t){return this._applyQuillMethod("getSelection",arguments)},setSelection:function(t,e){this._applyQuillMethod("setSelection",arguments)},getText:function(t,e){return this._applyQuillMethod("getText",arguments)},format:function(t,e){this._applyQuillMethod("format",arguments)},formatText:function(t,e,n,S){this._applyQuillMethod("formatText",arguments)},formatLine:function(t,e,n,S){this._applyQuillMethod("formatLine",arguments)},getFormat:function(t,e){return this._applyQuillMethod("getFormat",arguments)},removeFormat:function(t,e){return this._applyQuillMethod("removeFormat",arguments)},clearHistory:function(){this._applyQuillHistoryMethod("clear"),this._applyToolbarMethod("updateHistoryWidgets")},undo:function(){this._applyQuillHistoryMethod("undo")},redo:function(){this._applyQuillHistoryMethod("redo")},getLength:function(){return this._applyQuillMethod("getLength")},getBounds:function(t,e){return this._applyQuillMethod("getBounds",arguments)},delete:function(t,e){this._applyQuillMethod("deleteText",arguments)},insertText:function(t,e,n){this._applyQuillMethod("insertText",arguments)},insertEmbed:function(t,e,n){this._applyQuillMethod("insertEmbed",arguments)},showFormDialog:function(t){return this._formDialog.show(t)},formDialogOption:function(t,e){return this._formDialog.popupOption.apply(this._formDialog,arguments)},focus:function(){this.callBase(),this._applyQuillMethod("focus")},blur:function(){this._applyQuillMethod("blur")},getMentionKeyInTemplateStorage(){return this._mentionKeyInTemplateStorage}});(0,O.A)("dxHtmlEditor",Ii);const po=Ii;var vo=ie(89417),Rr=ie(27380),Le=ie(31837),mo=ie(345);const yo=["*"],go={provide:vo.kq,useExisting:(0,ee.Rfq)(()=>Ni),multi:!0};let Ni=(()=>{class t extends Rr.ic{constructor(n,S,ut,Tt,Rt,Wt,Xt,oe){super(n,S,ut,Tt,Xt,oe),this._watcherHelper=Tt,this._idh=Rt,this.touched=le=>{},this._createEventEmitters([{subscribe:"contentReady",emit:"onContentReady"},{subscribe:"disposing",emit:"onDisposing"},{subscribe:"focusIn",emit:"onFocusIn"},{subscribe:"focusOut",emit:"onFocusOut"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"valueChanged",emit:"onValueChanged"},{emit:"accessKeyChange"},{emit:"activeStateEnabledChange"},{emit:"allowSoftLineBreakChange"},{emit:"customizeModulesChange"},{emit:"disabledChange"},{emit:"elementAttrChange"},{emit:"focusStateEnabledChange"},{emit:"heightChange"},{emit:"hintChange"},{emit:"hoverStateEnabledChange"},{emit:"imageUploadChange"},{emit:"isValidChange"},{emit:"mediaResizingChange"},{emit:"mentionsChange"},{emit:"nameChange"},{emit:"placeholderChange"},{emit:"readOnlyChange"},{emit:"rtlEnabledChange"},{emit:"stylingModeChange"},{emit:"tabIndexChange"},{emit:"tableContextMenuChange"},{emit:"tableResizingChange"},{emit:"toolbarChange"},{emit:"validationErrorChange"},{emit:"validationErrorsChange"},{emit:"validationMessageModeChange"},{emit:"validationMessagePositionChange"},{emit:"validationStatusChange"},{emit:"valueChange"},{emit:"valueTypeChange"},{emit:"variablesChange"},{emit:"visibleChange"},{emit:"widthChange"},{emit:"onBlur"}]),this._idh.setHost(this),Wt.setHost(this)}get accessKey(){return this._getOption("accessKey")}set accessKey(n){this._setOption("accessKey",n)}get activeStateEnabled(){return this._getOption("activeStateEnabled")}set activeStateEnabled(n){this._setOption("activeStateEnabled",n)}get allowSoftLineBreak(){return this._getOption("allowSoftLineBreak")}set allowSoftLineBreak(n){this._setOption("allowSoftLineBreak",n)}get customizeModules(){return this._getOption("customizeModules")}set customizeModules(n){this._setOption("customizeModules",n)}get disabled(){return this._getOption("disabled")}set disabled(n){this._setOption("disabled",n)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(n){this._setOption("elementAttr",n)}get focusStateEnabled(){return this._getOption("focusStateEnabled")}set focusStateEnabled(n){this._setOption("focusStateEnabled",n)}get height(){return this._getOption("height")}set height(n){this._setOption("height",n)}get hint(){return this._getOption("hint")}set hint(n){this._setOption("hint",n)}get hoverStateEnabled(){return this._getOption("hoverStateEnabled")}set hoverStateEnabled(n){this._setOption("hoverStateEnabled",n)}get imageUpload(){return this._getOption("imageUpload")}set imageUpload(n){this._setOption("imageUpload",n)}get isValid(){return this._getOption("isValid")}set isValid(n){this._setOption("isValid",n)}get mediaResizing(){return this._getOption("mediaResizing")}set mediaResizing(n){this._setOption("mediaResizing",n)}get mentions(){return this._getOption("mentions")}set mentions(n){this._setOption("mentions",n)}get name(){return this._getOption("name")}set name(n){this._setOption("name",n)}get placeholder(){return this._getOption("placeholder")}set placeholder(n){this._setOption("placeholder",n)}get readOnly(){return this._getOption("readOnly")}set readOnly(n){this._setOption("readOnly",n)}get rtlEnabled(){return this._getOption("rtlEnabled")}set rtlEnabled(n){this._setOption("rtlEnabled",n)}get stylingMode(){return this._getOption("stylingMode")}set stylingMode(n){this._setOption("stylingMode",n)}get tabIndex(){return this._getOption("tabIndex")}set tabIndex(n){this._setOption("tabIndex",n)}get tableContextMenu(){return this._getOption("tableContextMenu")}set tableContextMenu(n){this._setOption("tableContextMenu",n)}get tableResizing(){return this._getOption("tableResizing")}set tableResizing(n){this._setOption("tableResizing",n)}get toolbar(){return this._getOption("toolbar")}set toolbar(n){this._setOption("toolbar",n)}get validationError(){return this._getOption("validationError")}set validationError(n){this._setOption("validationError",n)}get validationErrors(){return this._getOption("validationErrors")}set validationErrors(n){this._setOption("validationErrors",n)}get validationMessageMode(){return this._getOption("validationMessageMode")}set validationMessageMode(n){this._setOption("validationMessageMode",n)}get validationMessagePosition(){return this._getOption("validationMessagePosition")}set validationMessagePosition(n){this._setOption("validationMessagePosition",n)}get validationStatus(){return this._getOption("validationStatus")}set validationStatus(n){this._setOption("validationStatus",n)}get value(){return this._getOption("value")}set value(n){this._setOption("value",n)}get valueType(){return this._getOption("valueType")}set valueType(n){this._setOption("valueType",n)}get variables(){return this._getOption("variables")}set variables(n){this._setOption("variables",n)}get visible(){return this._getOption("visible")}set visible(n){this._setOption("visible",n)}get width(){return this._getOption("width")}set width(n){this._setOption("width",n)}change(n){}get mentionsChildren(){return this._getOption("mentions")}set mentionsChildren(n){this.setChildren("mentions",n)}_createInstance(n,S){return new po(n,S)}writeValue(n){this.eventHelper.lockedValueChangeEvent=!0,this.value=n,this.eventHelper.lockedValueChangeEvent=!1}setDisabledState(n){this.disabled=n}registerOnChange(n){this.change=n}registerOnTouched(n){this.touched=n}_createWidget(n){super._createWidget(n),this.instance.on("focusOut",S=>{this.eventHelper.fireNgEvent("onBlur",[S])})}ngOnDestroy(){this._destroyWidget()}ngOnChanges(n){super.ngOnChanges(n),this.setupChanges("mentions",n),this.setupChanges("validationErrors",n)}setupChanges(n,S){n in this._optionsToUpdate||this._idh.setup(n,S)}ngDoCheck(){this._idh.doCheck("mentions"),this._idh.doCheck("validationErrors"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(n,S){let ut=this._idh.setupSingle(n,S),Tt=null!==this._idh.getChanges(n,S);(ut||Tt)&&super._setOption(n,S)}}return t.\u0275fac=function(n){return new(n||t)(ee.rXU(ee.aKT),ee.rXU(ee.SKi),ee.rXU(Rr.zF),ee.rXU(Rr.jS),ee.rXU(Rr.$M),ee.rXU(Rr.fH),ee.rXU(mo.pJ),ee.rXU(ee.Agw))},t.\u0275cmp=ee.VBU({type:t,selectors:[["dx-html-editor"]],contentQueries:function(n,S,ut){if(1&n&&ee.wni(ut,Le.VY_,4),2&n){let Tt;ee.mGM(Tt=ee.lsd())&&(S.mentionsChildren=Tt)}},hostBindings:function(n,S){1&n&&ee.bIt("valueChange",function(Tt){return S.change(Tt)})("onBlur",function(Tt){return S.touched(Tt)})},inputs:{accessKey:"accessKey",activeStateEnabled:"activeStateEnabled",allowSoftLineBreak:"allowSoftLineBreak",customizeModules:"customizeModules",disabled:"disabled",elementAttr:"elementAttr",focusStateEnabled:"focusStateEnabled",height:"height",hint:"hint",hoverStateEnabled:"hoverStateEnabled",imageUpload:"imageUpload",isValid:"isValid",mediaResizing:"mediaResizing",mentions:"mentions",name:"name",placeholder:"placeholder",readOnly:"readOnly",rtlEnabled:"rtlEnabled",stylingMode:"stylingMode",tabIndex:"tabIndex",tableContextMenu:"tableContextMenu",tableResizing:"tableResizing",toolbar:"toolbar",validationError:"validationError",validationErrors:"validationErrors",validationMessageMode:"validationMessageMode",validationMessagePosition:"validationMessagePosition",validationStatus:"validationStatus",value:"value",valueType:"valueType",variables:"variables",visible:"visible",width:"width"},outputs:{onContentReady:"onContentReady",onDisposing:"onDisposing",onFocusIn:"onFocusIn",onFocusOut:"onFocusOut",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onValueChanged:"onValueChanged",accessKeyChange:"accessKeyChange",activeStateEnabledChange:"activeStateEnabledChange",allowSoftLineBreakChange:"allowSoftLineBreakChange",customizeModulesChange:"customizeModulesChange",disabledChange:"disabledChange",elementAttrChange:"elementAttrChange",focusStateEnabledChange:"focusStateEnabledChange",heightChange:"heightChange",hintChange:"hintChange",hoverStateEnabledChange:"hoverStateEnabledChange",imageUploadChange:"imageUploadChange",isValidChange:"isValidChange",mediaResizingChange:"mediaResizingChange",mentionsChange:"mentionsChange",nameChange:"nameChange",placeholderChange:"placeholderChange",readOnlyChange:"readOnlyChange",rtlEnabledChange:"rtlEnabledChange",stylingModeChange:"stylingModeChange",tabIndexChange:"tabIndexChange",tableContextMenuChange:"tableContextMenuChange",tableResizingChange:"tableResizingChange",toolbarChange:"toolbarChange",validationErrorChange:"validationErrorChange",validationErrorsChange:"validationErrorsChange",validationMessageModeChange:"validationMessageModeChange",validationMessagePositionChange:"validationMessagePositionChange",validationStatusChange:"validationStatusChange",valueChange:"valueChange",valueTypeChange:"valueTypeChange",variablesChange:"variablesChange",visibleChange:"visibleChange",widthChange:"widthChange",onBlur:"onBlur"},features:[ee.Jv_([Rr.zF,Rr.jS,go,Rr.fH,Rr.$M]),ee.Vt3,ee.OA$],ngContentSelectors:yo,decls:1,vars:0,template:function(n,S){1&n&&(ee.NAR(),ee.SdG(0))},encapsulation:2}),t})(),bo=(()=>{class t{}return t.\u0275fac=function(n){return new(n||t)},t.\u0275mod=ee.$C({type:t}),t.\u0275inj=ee.G2t({imports:[[Le.k4A,Le.OWJ,Le.HKo,Le.hAh,Le.m56,Le.GLd,Le.POb,Le.rj$,Le.l4W,Le.TsZ,Rr.p_,Rr.xZ],Le.k4A,Le.OWJ,Le.HKo,Le.hAh,Le.m56,Le.GLd,Le.POb,Le.rj$,Le.l4W,Le.TsZ,Rr.xZ]}),t})()},29804:function(Pi){var ee;ee=()=>(()=>{var wn={1674:(_,H,r)=>{"use strict";r.d(H,{Z:()=>b});var g=r(1233),m=r(3866),O=r(3398);function T(o){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}function k(o,u){for(var c=0;c<u.length;c++){var y=u[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(o,L(y.key),y)}}function L(o){var u=function P(o,u){if("object"!==T(o)||null===o)return o;var c=o[Symbol.toPrimitive];if(void 0!==c){var y=c.call(o,u||"default");if("object"!==T(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(o)}(o,"string");return"symbol"===T(u)?u:String(u)}function R(){return R=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(u,c,y){var x=function w(o,u){for(;!Object.prototype.hasOwnProperty.call(o,u)&&null!==(o=h(o)););return o}(u,c);if(x){var M=Object.getOwnPropertyDescriptor(x,c);return M.get?M.get.call(arguments.length<3?u:y):M.value}},R.apply(this,arguments)}function $(o,u){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,x){return y.__proto__=x,y})(o,u)}function h(o){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)})(o)}var b=function(o){!function I(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),u&&$(o,u)}(c,o);var u=function A(o){var u=function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var x,y=h(o);if(u){var M=h(this).constructor;x=Reflect.construct(y,arguments,M)}else x=y.apply(this,arguments);return function W(o,u){if(u&&("object"===T(u)||"function"==typeof u))return u;if(void 0!==u)throw new TypeError("Derived constructors may only return object or undefined");return function V(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o)}(this,x)}}(c);function c(y,x){var M,Z,Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowedTags:[]};return function j(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}(this,c),(Z=u.call(this,y,x,Y)).allowedTags=null!==(M=Y.allowedTags)&&void 0!==M?M:[],Z}return function K(o,u,c){u&&k(o.prototype,u),c&&k(o,c),Object.defineProperty(o,"prototype",{writable:!1})}(c,[{key:"add",value:function(x,M){return m.Mx.call(this,R(h(c.prototype),"add",this),x,M)}},{key:"remove",value:function(x){return m.Mx.call(this,R(h(c.prototype),"remove",this),x)}},{key:"value",value:function(x){return m.Mx.call(this,R(h(c.prototype),"value",this),x)}},{key:"canAdd",value:function(x,M){return m.ud.call(this,R(h(c.prototype),"canAdd",this),x,M)}}],[{key:"keys",value:function(x){return(0,m.dj)(R(h(c),"keys",this),x,O.WT.attribute)}}]),c}(g.Attributor)},3866:(_,H,r)=>{"use strict";r.d(H,{Mx:()=>m,dj:()=>T,ud:()=>O});var g=r(3398);function m(j){var k=this.keyName;this.keyName=(0,g.mQ)(this.keyName);for(var K=arguments.length,L=new Array(K>1?K-1:0),P=1;P<K;P++)L[P-1]=arguments[P];var R=j.call.apply(j,[this].concat(L));return this.keyName=k,R}function O(j,k,K){return this.allowedTags.indexOf(k.tagName)>-1&&j.call(this,k,K)}function T(j,k,K){return j(k).map(function(L){return(0,g.jf)(k.tagName,L,K)})}},4569:(_,H,r)=>{"use strict";r.d(H,{Z:()=>b});var g=r(1233),m=r(3866),O=r(3398);function T(o){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}function k(o,u){for(var c=0;c<u.length;c++){var y=u[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(o,L(y.key),y)}}function L(o){var u=function P(o,u){if("object"!==T(o)||null===o)return o;var c=o[Symbol.toPrimitive];if(void 0!==c){var y=c.call(o,u||"default");if("object"!==T(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(o)}(o,"string");return"symbol"===T(u)?u:String(u)}function R(){return R=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(u,c,y){var x=function w(o,u){for(;!Object.prototype.hasOwnProperty.call(o,u)&&null!==(o=h(o)););return o}(u,c);if(x){var M=Object.getOwnPropertyDescriptor(x,c);return M.get?M.get.call(arguments.length<3?u:y):M.value}},R.apply(this,arguments)}function $(o,u){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,x){return y.__proto__=x,y})(o,u)}function h(o){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)})(o)}var b=function(o){!function I(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),u&&$(o,u)}(c,o);var u=function A(o){var u=function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var x,y=h(o);if(u){var M=h(this).constructor;x=Reflect.construct(y,arguments,M)}else x=y.apply(this,arguments);return function W(o,u){if(u&&("object"===T(u)||"function"==typeof u))return u;if(void 0!==u)throw new TypeError("Derived constructors may only return object or undefined");return function V(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o)}(this,x)}}(c);function c(y,x){var M,Z,Y=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{allowedTags:[]};return function j(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}(this,c),(Z=u.call(this,y,x,Y)).allowedTags=null!==(M=Y.allowedTags)&&void 0!==M?M:[],Z}return function K(o,u,c){u&&k(o.prototype,u),c&&k(o,c),Object.defineProperty(o,"prototype",{writable:!1})}(c,[{key:"add",value:function(x,M){return m.Mx.call(this,R(h(c.prototype),"add",this),x,M)}},{key:"remove",value:function(x){return m.Mx.call(this,R(h(c.prototype),"remove",this),x)}},{key:"value",value:function(x){return m.Mx.call(this,R(h(c.prototype),"value",this),x)}},{key:"canAdd",value:function(x,M){return m.ud.call(this,R(h(c.prototype),"canAdd",this),x,M)}}],[{key:"keys",value:function(x){return(0,m.dj)(R(h(c),"keys",this),x,O.WT.style)}}]),c}(g.StyleAttributor)},3398:(_,H,r)=>{"use strict";r.d(H,{WT:()=>P,jf:()=>w,mQ:()=>I});var g=r(19),m=r(8252);function O($){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(A){return typeof A}:function(A){return A&&"function"==typeof Symbol&&A.constructor===Symbol&&A!==Symbol.prototype?"symbol":typeof A})($)}function T($,A){var W=Object.keys($);if(Object.getOwnPropertySymbols){var V=Object.getOwnPropertySymbols($);A&&(V=V.filter(function(B){return Object.getOwnPropertyDescriptor($,B).enumerable})),W.push.apply(W,V)}return W}function j($){for(var A=1;A<arguments.length;A++){var W=null!=arguments[A]?arguments[A]:{};A%2?T(Object(W),!0).forEach(function(V){k($,V,W[V])}):Object.getOwnPropertyDescriptors?Object.defineProperties($,Object.getOwnPropertyDescriptors(W)):T(Object(W)).forEach(function(V){Object.defineProperty($,V,Object.getOwnPropertyDescriptor(W,V))})}return $}function k($,A,W){return A=function K($){var A=function L($,A){if("object"!==O($)||null===$)return $;var W=$[Symbol.toPrimitive];if(void 0!==W){var V=W.call($,A||"default");if("object"!==O(V))return V;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===A?String:Number)($)}($,"string");return"symbol"===O(A)?A:String(A)}(A),A in $?Object.defineProperty($,A,{value:W,enumerable:!0,configurable:!0,writable:!0}):$[A]=W,$}var P={attribute:"attr",style:"style"},R=j(j({},g.Sp.allowedTags.reduce(function($,A){return $[A]={name:g.Sp.name,keyNamesSet:g.bc},$},{})),m.Pw.allowedTags.reduce(function($,A){return $[A]={name:m.Pw.name,keyNamesSet:m.fU},$},{}));function w($,A,W){var V=R[$];return V&&V.keyNamesSet.has(A)?"".concat(W).concat(V.name,"_").concat(A):A}function I($){return $.replace(/([^]*_)/,"")}},6446:(_,H,r)=>{"use strict";r.d(H,{i2:()=>pt,qz:()=>it,E2:()=>Ot,ZP:()=>ht});var g=r(9098),m=r.n(g),O=r(1233),T=r(4122),j=r(6603),k=r(8222),K=r(3398);function L(X,vt,lt,ot){return lt.map(F=>{const C=ot?(0,K.jf)(X,F,ot):F;return vt.scroll.query(C,O.Scope.ATTRIBUTE)}).filter(F=>F instanceof O.Attributor).reduce((F,C)=>(F[C.attrName]=C,F),{})}function R(X){return(R="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(vt){return typeof vt}:function(vt){return vt&&"function"==typeof Symbol&&vt.constructor===Symbol&&vt!==Symbol.prototype?"symbol":typeof vt})(X)}function w(X,vt){var lt=Object.keys(X);if(Object.getOwnPropertySymbols){var ot=Object.getOwnPropertySymbols(X);vt&&(ot=ot.filter(function(F){return Object.getOwnPropertyDescriptor(X,F).enumerable})),lt.push.apply(lt,ot)}return lt}function I(X){for(var vt=1;vt<arguments.length;vt++){var lt=null!=arguments[vt]?arguments[vt]:{};vt%2?w(Object(lt),!0).forEach(function(ot){$(X,ot,lt[ot])}):Object.getOwnPropertyDescriptors?Object.defineProperties(X,Object.getOwnPropertyDescriptors(lt)):w(Object(lt)).forEach(function(ot){Object.defineProperty(X,ot,Object.getOwnPropertyDescriptor(lt,ot))})}return X}function $(X,vt,lt){return(vt=B(vt))in X?Object.defineProperty(X,vt,{value:lt,enumerable:!0,configurable:!0,writable:!0}):X[vt]=lt,X}function A(X,vt){if(!(X instanceof vt))throw new TypeError("Cannot call a class as a function")}function W(X,vt){for(var lt=0;lt<vt.length;lt++){var ot=vt[lt];ot.enumerable=ot.enumerable||!1,ot.configurable=!0,"value"in ot&&(ot.writable=!0),Object.defineProperty(X,B(ot.key),ot)}}function V(X,vt,lt){return vt&&W(X.prototype,vt),lt&&W(X,lt),Object.defineProperty(X,"prototype",{writable:!1}),X}function B(X){var vt=function h(X,vt){if("object"!==R(X)||null===X)return X;var lt=X[Symbol.toPrimitive];if(void 0!==lt){var ot=lt.call(X,vt||"default");if("object"!==R(ot))return ot;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===vt?String:Number)(X)}(X,"string");return"symbol"===R(vt)?vt:String(vt)}function b(){return b=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(vt,lt,ot){var F=function o(X,vt){for(;!Object.prototype.hasOwnProperty.call(X,vt)&&null!==(X=Y(X)););return X}(vt,lt);if(F){var C=Object.getOwnPropertyDescriptor(F,lt);return C.get?C.get.call(arguments.length<3?vt:ot):C.value}},b.apply(this,arguments)}function u(X,vt){if("function"!=typeof vt&&null!==vt)throw new TypeError("Super expression must either be null or a function");X.prototype=Object.create(vt&&vt.prototype,{constructor:{value:X,writable:!0,configurable:!0}}),Object.defineProperty(X,"prototype",{writable:!1}),vt&&c(X,vt)}function c(X,vt){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ot,F){return ot.__proto__=F,ot})(X,vt)}function y(X){var vt=function Z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var F,ot=Y(X);if(vt){var C=Y(this).constructor;F=Reflect.construct(ot,arguments,C)}else F=ot.apply(this,arguments);return function x(X,vt){if(vt&&("object"===R(vt)||"function"==typeof vt))return vt;if(void 0!==vt)throw new TypeError("Derived constructors may only return object or undefined");return function M(X){if(void 0===X)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return X}(X)}(this,F)}}function Y(X){return(Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(lt){return lt.__proto__||Object.getPrototypeOf(lt)})(X)}!function P(){O.AttributorStore.prototype.build=function(){const{tagName:X}=this.domNode,vt=O.Registry.find(this.domNode);if(null==vt)return;const lt=O.Attributor.keys(this.domNode),ot=O.ClassAttributor.keys(this.domNode),F=O.StyleAttributor.keys(this.domNode);this.attributes={...L(X,vt,lt,K.WT.attribute),...L(X,vt,ot),...L(X,vt,F,K.WT.style)}}}();var ht=function(X){u(lt,X);var vt=y(lt);function lt(ot,F){var C;return A(this,lt),(C=vt.call(this,ot,F)).cache={},C}return V(lt,[{key:"delta",value:function(){return null==this.cache.delta&&(this.cache.delta=it(this)),this.cache.delta}},{key:"deleteAt",value:function(F,C){b(Y(lt.prototype),"deleteAt",this).call(this,F,C),this.cache={}}},{key:"formatAt",value:function(F,C,q,Q){C<=0||(this.scroll.query(q,O.Scope.BLOCK)?F+C===this.length()&&this.format(q,Q):b(Y(lt.prototype),"formatAt",this).call(this,F,Math.min(C,this.length()-F-1),q,Q),this.cache={})}},{key:"insertAt",value:function(F,C,q){if(null!=q)return b(Y(lt.prototype),"insertAt",this).call(this,F,C,q),void(this.cache={});if(0!==C.length){var Q=C.split("\n"),D=Q.shift();D.length>0&&(F<this.length()-1||null==this.children.tail?b(Y(lt.prototype),"insertAt",this).call(this,Math.min(F,this.length()-1),D):this.children.tail.insertAt(this.children.tail.length(),D),this.cache={});var at=this;Q.reduce(function(dt,mt){return(at=at.split(dt,!0)).insertAt(0,mt),mt.length},F+D.length)}}},{key:"insertBefore",value:function(F,C){var q=this.children.head;b(Y(lt.prototype),"insertBefore",this).call(this,F,C),q instanceof T.Z&&q.remove(),this.cache={}}},{key:"length",value:function(){return null==this.cache.length&&(this.cache.length=b(Y(lt.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(F,C){b(Y(lt.prototype),"moveChildren",this).call(this,F,C),this.cache={}}},{key:"optimize",value:function(F){b(Y(lt.prototype),"optimize",this).call(this,F),this.cache={}}},{key:"path",value:function(F){return b(Y(lt.prototype),"path",this).call(this,F,!0)}},{key:"removeChild",value:function(F){b(Y(lt.prototype),"removeChild",this).call(this,F),this.cache={}}},{key:"split",value:function(F){var C=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(C&&(0===F||F>=this.length()-1)){var q=this.clone();return 0===F?(this.parent.insertBefore(q,this),this):(this.parent.insertBefore(q,this.next),q)}var Q=b(Y(lt.prototype),"split",this).call(this,F,C);return this.cache={},Q}}]),lt}(O.BlockBlot);ht.blotName="block",ht.tagName="P",ht.defaultChild=T.Z,ht.allowedChildren=[T.Z,j.Z,O.EmbedBlot,k.Z];var pt=function(X){u(lt,X);var vt=y(lt);function lt(){return A(this,lt),vt.apply(this,arguments)}return V(lt,[{key:"attach",value:function(){b(Y(lt.prototype),"attach",this).call(this),this.attributes=new O.AttributorStore(this.domNode)}},{key:"delta",value:function(){return(new(m())).insert(this.value(),I(I({},this.formats()),this.attributes.values()))}},{key:"format",value:function(F,C){var q=this.scroll.query(F,O.Scope.BLOCK_ATTRIBUTE);null!=q&&this.attributes.attribute(q,C)}},{key:"formatAt",value:function(F,C,q,Q){this.format(q,Q)}},{key:"insertAt",value:function(F,C,q){if("string"==typeof C&&C.endsWith("\n")){var Q=this.scroll.create(ht.blotName);this.parent.insertBefore(Q,0===F?this:this.next),Q.insertAt(0,C.slice(0,-1))}else b(Y(lt.prototype),"insertAt",this).call(this,F,C,q)}}]),lt}(O.EmbedBlot);function it(X){var vt=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];return X.descendants(O.LeafBlot).reduce(function(lt,ot){return 0===ot.length()?lt:lt.insert(ot.value(),Ot(ot,{},vt))},new(m())).insert("\n",Ot(X))}function Ot(X){var vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},lt=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];return null==X||("function"==typeof X.formats&&(vt=I(I({},vt),X.formats()),lt&&delete vt["code-token"]),null==X.parent||"scroll"===X.parent.statics.blotName||X.parent.statics.scope!==X.statics.scope)?vt:Ot(X.parent,vt,lt)}pt.scope=O.Scope.BLOCK_BLOT},4122:(_,H,r)=>{"use strict";function m(B){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(B)}function T(B,h){for(var b=0;b<h.length;b++){var o=h[b];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(B,k(o.key),o)}}function k(B){var h=function K(B,h){if("object"!==m(B)||null===B)return B;var b=B[Symbol.toPrimitive];if(void 0!==b){var o=b.call(B,h||"default");if("object"!==m(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(B)}(B,"string");return"symbol"===m(h)?h:String(h)}function P(B,h){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,u){return o.__proto__=u,o})(B,h)}function A(B){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)})(B)}r.d(H,{Z:()=>V});var W=function(B){!function L(B,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(h&&h.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),h&&P(B,h)}(b,B);var h=function R(B){var h=function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,o=A(B);if(h){var c=A(this).constructor;u=Reflect.construct(o,arguments,c)}else u=o.apply(this,arguments);return function w(B,h){if(h&&("object"===m(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function I(B){if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(B)}(this,u)}}(b);function b(){return function O(B,h){if(!(B instanceof h))throw new TypeError("Cannot call a class as a function")}(this,b),h.apply(this,arguments)}return function j(B,h,b){h&&T(B.prototype,h),b&&T(B,b),Object.defineProperty(B,"prototype",{writable:!1})}(b,[{key:"optimize",value:function(){(this.prev||this.next)&&this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),b}(r(1233).EmbedBlot);W.blotName="break",W.tagName="BR";const V=W},3553:(_,H,r)=>{"use strict";function m(B){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(B)}function O(B,h){for(var b=0;b<h.length;b++){var o=h[b];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(B,j(o.key),o)}}function j(B){var h=function k(B,h){if("object"!==m(B)||null===B)return B;var b=B[Symbol.toPrimitive];if(void 0!==b){var o=b.call(B,h||"default");if("object"!==m(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(B)}(B,"string");return"symbol"===m(h)?h:String(h)}function P(B,h){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,u){return o.__proto__=u,o})(B,h)}function A(B){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)})(B)}r.d(H,{Z:()=>V});var W=function(B){!function L(B,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(h&&h.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),h&&P(B,h)}(b,B);var h=function R(B){var h=function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,o=A(B);if(h){var c=A(this).constructor;u=Reflect.construct(o,arguments,c)}else u=o.apply(this,arguments);return function w(B,h){if(h&&("object"===m(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function I(B){if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(B)}(this,u)}}(b);function b(){return function K(B,h){if(!(B instanceof h))throw new TypeError("Cannot call a class as a function")}(this,b),h.apply(this,arguments)}return function T(B,h,b){return h&&O(B.prototype,h),b&&O(B,b),Object.defineProperty(B,"prototype",{writable:!1}),B}(b)}(r(1233).ContainerBlot);const V=W},3657:(_,H,r)=>{"use strict";r.d(H,{Z:()=>b});var g=r(1233),m=r(8222);function O(o){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}function j(o,u){for(var c=0;c<u.length;c++){var y=u[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(o,K(y.key),y)}}function K(o){var u=function L(o,u){if("object"!==O(o)||null===o)return o;var c=o[Symbol.toPrimitive];if(void 0!==c){var y=c.call(o,u||"default");if("object"!==O(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(o)}(o,"string");return"symbol"===O(u)?u:String(u)}function P(){return P=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(u,c,y){var x=function R(o,u){for(;!Object.prototype.hasOwnProperty.call(o,u)&&null!==(o=B(o)););return o}(u,c);if(x){var M=Object.getOwnPropertyDescriptor(x,c);return M.get?M.get.call(arguments.length<3?u:y):M.value}},P.apply(this,arguments)}function I(o,u){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,x){return y.__proto__=x,y})(o,u)}function B(o){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)})(o)}var h=function(o){!function w(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),u&&I(o,u)}(c,o);var u=function $(o){var u=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var x,y=B(o);if(u){var M=B(this).constructor;x=Reflect.construct(y,arguments,M)}else x=y.apply(this,arguments);return function A(o,u){if(u&&("object"===O(u)||"function"==typeof u))return u;if(void 0!==u)throw new TypeError("Derived constructors may only return object or undefined");return function W(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o)}(this,x)}}(c);function c(y,x,M){var Z;return function T(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}(this,c),(Z=u.call(this,y,x)).selection=M,Z.textNode=document.createTextNode(c.CONTENTS),Z.domNode.appendChild(Z.textNode),Z.savedLength=0,Z}return function k(o,u,c){u&&j(o.prototype,u),c&&j(o,c),Object.defineProperty(o,"prototype",{writable:!1})}(c,[{key:"detach",value:function(){null!=this.parent&&this.parent.removeChild(this)}},{key:"format",value:function(x,M){if(0===this.savedLength){for(var Z=this,Y=0;null!=Z&&Z.statics.scope!==g.Scope.BLOCK_BLOT;)Y+=Z.offset(Z.parent),Z=Z.parent;null!=Z&&(this.savedLength=c.CONTENTS.length,Z.optimize(),Z.formatAt(Y,c.CONTENTS.length,x,M),this.savedLength=0)}else P(B(c.prototype),"format",this).call(this,x,M)}},{key:"index",value:function(x,M){return x===this.textNode?0:P(B(c.prototype),"index",this).call(this,x,M)}},{key:"length",value:function(){return this.savedLength}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){P(B(c.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(this.selection.composing||null==this.parent)return null;for(var x=this.selection.getNativeRange();null!=this.domNode.lastChild&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);var it,M=this.prev instanceof m.Z?this.prev:null,Z=M?M.length():0,Y=this.next instanceof m.Z?this.next:null,ft=Y?Y.text:"",ht=this.textNode,pt=ht.data.split(c.CONTENTS).join("");if(ht.data=c.CONTENTS,M)it=M,(pt||Y)&&(M.insertAt(M.length(),pt+ft),Y&&Y.remove());else if(Y)it=Y,Y.insertAt(0,pt);else{var Ot=document.createTextNode(pt);it=this.scroll.create(Ot),this.parent.insertBefore(it,this)}if(this.remove(),x){var X=function(F,C){return M&&F===M.domNode?C:F===ht?Z+C-1:Y&&F===Y.domNode?Z+pt.length+C:null},vt=X(x.start.node,x.start.offset),lt=X(x.end.node,x.end.offset);if(null!==vt&&null!==lt)return{startNode:it.domNode,startOffset:vt,endNode:it.domNode,endOffset:lt}}return null}},{key:"update",value:function(x,M){var Z=this;if(x.some(function(ft){return"characterData"===ft.type&&ft.target===Z.textNode})){var Y=this.restore();Y&&(M.range=Y)}}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),c}(g.EmbedBlot);h.blotName="cursor",h.className="ql-cursor",h.tagName="span",h.CONTENTS="\ufeff";const b=h},7452:(_,H,r)=>{"use strict";r.d(H,{Z:()=>o});var g=r(1233),m=r(8222);function O(u){return(O="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function j(u,c){for(var y=0;y<c.length;y++){var x=c[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(u,K(x.key),x)}}function K(u){var c=function L(u,c){if("object"!==O(u)||null===u)return u;var y=u[Symbol.toPrimitive];if(void 0!==y){var x=y.call(u,c||"default");if("object"!==O(x))return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(u)}(u,"string");return"symbol"===O(c)?c:String(c)}function P(){return P=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(c,y,x){var M=function R(u,c){for(;!Object.prototype.hasOwnProperty.call(u,c)&&null!==(u=B(u)););return u}(c,y);if(M){var Z=Object.getOwnPropertyDescriptor(M,y);return Z.get?Z.get.call(arguments.length<3?c:x):Z.value}},P.apply(this,arguments)}function I(u,c){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,M){return x.__proto__=M,x})(u,c)}function B(u){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(u)}var h="\ufeff";const o=function(u){!function w(u,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),c&&I(u,c)}(y,u);var c=function $(u){var c=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var M,x=B(u);if(c){var Z=B(this).constructor;M=Reflect.construct(x,arguments,Z)}else M=x.apply(this,arguments);return function A(u,c){if(c&&("object"===O(c)||"function"==typeof c))return c;if(void 0!==c)throw new TypeError("Derived constructors may only return object or undefined");return function W(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(u)}(this,M)}}(y);function y(x,M){var Z;return function T(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}(this,y),(Z=c.call(this,x,M)).contentNode=document.createElement("span"),Z.contentNode.setAttribute("contenteditable",!1),Array.from(Z.domNode.childNodes).forEach(function(Y){Z.contentNode.appendChild(Y)}),Z.leftGuard=document.createTextNode(h),Z.rightGuard=document.createTextNode(h),Z.domNode.appendChild(Z.leftGuard),Z.domNode.appendChild(Z.contentNode),Z.domNode.appendChild(Z.rightGuard),Z}return function k(u,c,y){c&&j(u.prototype,c),y&&j(u,y),Object.defineProperty(u,"prototype",{writable:!1})}(y,[{key:"index",value:function(M,Z){return M===this.leftGuard?0:M===this.rightGuard?1:P(B(y.prototype),"index",this).call(this,M,Z)}},{key:"restore",value:function(M){var Z,Y,ft=M.data.split(h).join("");if(M===this.leftGuard)if(this.prev instanceof m.Z){var ht=this.prev.length();this.prev.insertAt(ht,ft),Z={startNode:this.prev.domNode,startOffset:ht+ft.length}}else Y=document.createTextNode(ft),this.parent.insertBefore(this.scroll.create(Y),this),Z={startNode:Y,startOffset:ft.length};else M===this.rightGuard&&(this.next instanceof m.Z?(this.next.insertAt(0,ft),Z={startNode:this.next.domNode,startOffset:ft.length}):(Y=document.createTextNode(ft),this.parent.insertBefore(this.scroll.create(Y),this.next),Z={startNode:Y,startOffset:ft.length}));return M.data=h,Z}},{key:"update",value:function(M,Z){var Y=this;M.forEach(function(ft){if("characterData"===ft.type&&(ft.target===Y.leftGuard||ft.target===Y.rightGuard)){var ht=Y.restore(ft.target);ht&&(Z.range=ht)}})}}]),y}(g.EmbedBlot)},6603:(_,H,r)=>{"use strict";r.d(H,{Z:()=>o});var g=r(1233),m=r(4122),O=r(8222);function T(u){return(T="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function k(u,c){for(var y=0;y<c.length;y++){var x=c[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(u,L(x.key),x)}}function L(u){var c=function P(u,c){if("object"!==T(u)||null===u)return u;var y=u[Symbol.toPrimitive];if(void 0!==y){var x=y.call(u,c||"default");if("object"!==T(x))return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(u)}(u,"string");return"symbol"===T(c)?c:String(c)}function R(){return R=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(c,y,x){var M=function w(u,c){for(;!Object.prototype.hasOwnProperty.call(u,c)&&null!==(u=h(u)););return u}(c,y);if(M){var Z=Object.getOwnPropertyDescriptor(M,y);return Z.get?Z.get.call(arguments.length<3?c:x):Z.value}},R.apply(this,arguments)}function $(u,c){return($=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,M){return x.__proto__=M,x})(u,c)}function h(u){return(h=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(u)}var b=function(u){!function I(u,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),c&&$(u,c)}(y,u);var c=function A(u){var c=function B(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var M,x=h(u);if(c){var Z=h(this).constructor;M=Reflect.construct(x,arguments,Z)}else M=x.apply(this,arguments);return function W(u,c){if(c&&("object"===T(c)||"function"==typeof c))return c;if(void 0!==c)throw new TypeError("Derived constructors may only return object or undefined");return function V(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(u)}(this,M)}}(y);function y(){return function j(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}(this,y),c.apply(this,arguments)}return function K(u,c,y){c&&k(u.prototype,c),y&&k(u,y),Object.defineProperty(u,"prototype",{writable:!1})}(y,[{key:"formatAt",value:function(M,Z,Y,ft){if(y.compare(this.statics.blotName,Y)<0&&this.scroll.query(Y,g.Scope.BLOT)){var ht=this.isolate(M,Z);ft&&ht.wrap(Y,ft)}else R(h(y.prototype),"formatAt",this).call(this,M,Z,Y,ft)}},{key:"optimize",value:function(M){if(R(h(y.prototype),"optimize",this).call(this,M),this.parent instanceof y&&y.compare(this.statics.blotName,this.parent.statics.blotName)>0){var Z=this.parent.isolate(this.offset(),this.length());this.moveChildren(Z),Z.wrap(this)}}}],[{key:"compare",value:function(M,Z){var Y=y.order.indexOf(M),ft=y.order.indexOf(Z);return Y>=0||ft>=0?Y-ft:M===Z?0:M<Z?-1:1}}]),y}(g.InlineBlot);b.allowedChildren=[b,m.Z,g.EmbedBlot,O.Z],b.order=["cursor","inline","link","underline","strike","italic","bold","script","code"];const o=b},3272:(_,H,r)=>{"use strict";r.d(H,{Z:()=>pt});var g=r(1233),m=r(2069),O=r(6446),T=r(4122),j=r(3553),k=r(1969);function K(it){return(K="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Ot){return typeof Ot}:function(Ot){return Ot&&"function"==typeof Symbol&&Ot.constructor===Symbol&&Ot!==Symbol.prototype?"symbol":typeof Ot})(it)}function L(it,Ot){return function $(it){if(Array.isArray(it))return it}(it)||function I(it,Ot){var X=null==it?null:typeof Symbol<"u"&&it[Symbol.iterator]||it["@@iterator"];if(null!=X){var vt,lt,ot,F,C=[],q=!0,Q=!1;try{if(ot=(X=X.call(it)).next,0===Ot){if(Object(X)!==X)return;q=!1}else for(;!(q=(vt=ot.call(X)).done)&&(C.push(vt.value),C.length!==Ot);q=!0);}catch(D){Q=!0,lt=D}finally{try{if(!q&&null!=X.return&&(F=X.return(),Object(F)!==F))return}finally{if(Q)throw lt}}return C}}(it,Ot)||function R(it,Ot){if(it){if("string"==typeof it)return w(it,Ot);var X=Object.prototype.toString.call(it).slice(8,-1);if("Object"===X&&it.constructor&&(X=it.constructor.name),"Map"===X||"Set"===X)return Array.from(it);if("Arguments"===X||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(X))return w(it,Ot)}}(it,Ot)||function P(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function w(it,Ot){(null==Ot||Ot>it.length)&&(Ot=it.length);for(var X=0,vt=new Array(Ot);X<Ot;X++)vt[X]=it[X];return vt}function W(it,Ot){for(var X=0;X<Ot.length;X++){var vt=Ot[X];vt.enumerable=vt.enumerable||!1,vt.configurable=!0,"value"in vt&&(vt.writable=!0),Object.defineProperty(it,B(vt.key),vt)}}function B(it){var Ot=function h(it,Ot){if("object"!==K(it)||null===it)return it;var X=it[Symbol.toPrimitive];if(void 0!==X){var vt=X.call(it,Ot||"default");if("object"!==K(vt))return vt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Ot?String:Number)(it)}(it,"string");return"symbol"===K(Ot)?Ot:String(Ot)}function b(){return b=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Ot,X,vt){var lt=function o(it,Ot){for(;!Object.prototype.hasOwnProperty.call(it,Ot)&&null!==(it=Y(it)););return it}(Ot,X);if(lt){var ot=Object.getOwnPropertyDescriptor(lt,X);return ot.get?ot.get.call(arguments.length<3?Ot:vt):ot.value}},b.apply(this,arguments)}function c(it,Ot){return(c=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(vt,lt){return vt.__proto__=lt,vt})(it,Ot)}function Y(it){return(Y=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(X){return X.__proto__||Object.getPrototypeOf(X)})(it)}function ft(it){return it instanceof O.ZP||it instanceof O.i2}var ht=function(it){!function u(it,Ot){if("function"!=typeof Ot&&null!==Ot)throw new TypeError("Super expression must either be null or a function");it.prototype=Object.create(Ot&&Ot.prototype,{constructor:{value:it,writable:!0,configurable:!0}}),Object.defineProperty(it,"prototype",{writable:!1}),Ot&&c(it,Ot)}(X,it);var Ot=function y(it){var Ot=function Z(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var lt,vt=Y(it);if(Ot){var ot=Y(this).constructor;lt=Reflect.construct(vt,arguments,ot)}else lt=vt.apply(this,arguments);return function x(it,Ot){if(Ot&&("object"===K(Ot)||"function"==typeof Ot))return Ot;if(void 0!==Ot)throw new TypeError("Derived constructors may only return object or undefined");return function M(it){if(void 0===it)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return it}(it)}(this,lt)}}(X);function X(vt,lt,ot){var F,C=ot.emitter,q=ot.toggleBlankClass;return function A(it,Ot){if(!(it instanceof Ot))throw new TypeError("Cannot call a class as a function")}(this,X),(F=Ot.call(this,vt,lt)).emitter=C,F.toggleBlankClass=q,F.batch=!1,F.optimize(),F.enable(),F.domNode.addEventListener("dragstart",function(Q){return F.handleDragStart(Q)}),F}return function V(it,Ot,X){Ot&&W(it.prototype,Ot),X&&W(it,X),Object.defineProperty(it,"prototype",{writable:!1})}(X,[{key:"batchStart",value:function(){Array.isArray(this.batch)||(this.batch=[])}},{key:"batchEnd",value:function(){var lt=this.batch;this.batch=!1,this.update(lt)}},{key:"emitMount",value:function(lt){this.emitter.emit(m.Z.events.SCROLL_BLOT_MOUNT,lt)}},{key:"emitUnmount",value:function(lt){this.emitter.emit(m.Z.events.SCROLL_BLOT_UNMOUNT,lt)}},{key:"deleteAt",value:function(lt,ot){var C=L(this.line(lt),2),q=C[0],Q=C[1],dt=L(this.line(lt+ot),1)[0];b(Y(X.prototype),"deleteAt",this).call(this,lt,ot),null!=dt&&q!==dt&&Q>0&&(q instanceof O.i2||dt instanceof O.i2||(q instanceof k.zW||dt instanceof k.zW)&&q.parent!==dt.parent||(q.moveChildren(dt,dt.children.head instanceof T.Z?null:dt.children.head),q.remove())),this.optimize()}},{key:"enable",value:function(){this.domNode.setAttribute("contenteditable",!(arguments.length>0&&void 0!==arguments[0])||arguments[0])}},{key:"formatAt",value:function(lt,ot,F,C){b(Y(X.prototype),"formatAt",this).call(this,lt,ot,F,C),this.optimize()}},{key:"handleDragStart",value:function(lt){lt.preventDefault()}},{key:"insertAt",value:function(lt,ot,F){if(lt>=this.length())if(null==F||null==this.scroll.query(ot,g.Scope.BLOCK)){var C=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(C),null==F&&ot.endsWith("\n")?C.insertAt(0,ot.slice(0,-1),F):C.insertAt(0,ot,F)}else{var q=this.scroll.create(ot,F);this.appendChild(q)}else b(Y(X.prototype),"insertAt",this).call(this,lt,ot,F);this.optimize()}},{key:"insertBefore",value:function(lt,ot){if(lt.statics.scope===g.Scope.INLINE_BLOT){var F=this.scroll.create(this.statics.defaultChild.blotName);F.appendChild(lt),b(Y(X.prototype),"insertBefore",this).call(this,F,ot)}else b(Y(X.prototype),"insertBefore",this).call(this,lt,ot)}},{key:"isEnabled",value:function(){return"true"===this.domNode.getAttribute("contenteditable")}},{key:"leaf",value:function(lt){return this.path(lt).pop()||[null,-1]}},{key:"line",value:function(lt){return lt===this.length()?this.line(lt-1):this.descendant(ft,lt)}},{key:"lines",value:function(){return function C(q,Q,D){var at=[],dt=D;return q.children.forEachAt(Q,D,function(mt,tt,J){ft(mt)?at.push(mt):mt instanceof g.ContainerBlot&&(at=at.concat(C(mt,tt,dt))),dt-=J}),at}(this,arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var lt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],ot=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this.batch||(b(Y(X.prototype),"optimize",this).call(this,lt,ot),lt.length>0&&this.emitter.emit(m.Z.events.SCROLL_OPTIMIZE,lt,ot))}},{key:"path",value:function(lt){return b(Y(X.prototype),"path",this).call(this,lt).slice(1)}},{key:"remove",value:function(){}},{key:"update",value:function(lt){var ot=this;if(this.batch)Array.isArray(lt)&&(this.batch=this.batch.concat(lt),this.toggleBlankClass());else{var F=m.Z.sources.USER;"string"==typeof lt&&(F=lt),Array.isArray(lt)||(lt=this.observer.takeRecords()),(lt=lt.filter(function(C){var Q=ot.find(C.target,!0);return Q&&Q.scroll===ot})).length>0&&this.emitter.emit(m.Z.events.SCROLL_BEFORE_UPDATE,F,lt),b(Y(X.prototype),"update",this).call(this,lt.concat([])),lt.length>0&&this.emitter.emit(m.Z.events.SCROLL_UPDATE,F,lt)}}}]),X}(g.ScrollBlot);ht.blotName="scroll",ht.className="ql-editor",ht.tagName="DIV",ht.defaultChild=O.ZP,ht.allowedChildren=[O.ZP,O.i2,j.Z];const pt=ht},8222:(_,H,r)=>{"use strict";function m(B){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(h){return typeof h}:function(h){return h&&"function"==typeof Symbol&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h})(B)}function O(B,h){for(var b=0;b<h.length;b++){var o=h[b];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(B,j(o.key),o)}}function j(B){var h=function k(B,h){if("object"!==m(B)||null===B)return B;var b=B[Symbol.toPrimitive];if(void 0!==b){var o=b.call(B,h||"default");if("object"!==m(o))return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===h?String:Number)(B)}(B,"string");return"symbol"===m(h)?h:String(h)}function P(B,h){return(P=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(o,u){return o.__proto__=u,o})(B,h)}function A(B){return(A=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(b){return b.__proto__||Object.getPrototypeOf(b)})(B)}r.d(H,{Z:()=>W,b:()=>V});var W=function(B){!function L(B,h){if("function"!=typeof h&&null!==h)throw new TypeError("Super expression must either be null or a function");B.prototype=Object.create(h&&h.prototype,{constructor:{value:B,writable:!0,configurable:!0}}),Object.defineProperty(B,"prototype",{writable:!1}),h&&P(B,h)}(b,B);var h=function R(B){var h=function $(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var u,o=A(B);if(h){var c=A(this).constructor;u=Reflect.construct(o,arguments,c)}else u=o.apply(this,arguments);return function w(B,h){if(h&&("object"===m(h)||"function"==typeof h))return h;if(void 0!==h)throw new TypeError("Derived constructors may only return object or undefined");return function I(B){if(void 0===B)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return B}(B)}(this,u)}}(b);function b(){return function K(B,h){if(!(B instanceof h))throw new TypeError("Cannot call a class as a function")}(this,b),h.apply(this,arguments)}return function T(B,h,b){return h&&O(B.prototype,h),b&&O(B,b),Object.defineProperty(B,"prototype",{writable:!1}),B}(b)}(r(1233).TextBlot);function V(B){return B.replace(/[&<>"']/g,function(h){return{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"}[h]})}},2432:(_,H,r)=>{"use strict";r.d(H,{default:()=>A});var g=r(281),m=r(6446),O=r(4122),T=r(3553),j=r(3657),k=r(7452),K=r(6603),L=r(3272),P=r(8222),R=r(5635),w=r(2613),I=r(3071),$=r(3859);g.ZP.register({"blots/block":m.ZP,"blots/block/embed":m.i2,"blots/break":O.Z,"blots/container":T.Z,"blots/cursor":j.Z,"blots/embed":k.Z,"blots/inline":K.Z,"blots/scroll":L.Z,"blots/text":P.Z,"modules/clipboard":R.ZP,"modules/history":w.Z,"modules/keyboard":I.ZP,"modules/uploader":$.Z});const A=g.ZP},2861:(_,H,r)=>{"use strict";r.d(H,{Z:()=>gt});var g=r(8805),m=r.n(g),O=r(2722),T=r.n(O),j=r(732),k=r.n(j),K=r(9098),L=r.n(K),P=r(1233),R=r(7800),w=r(3657),I=r(6446),$=r(4122),A=r(8222),V=r(5874);function b(et,rt){var ct=Object.keys(et);if(Object.getOwnPropertySymbols){var _t=Object.getOwnPropertySymbols(et);rt&&(_t=_t.filter(function(E){return Object.getOwnPropertyDescriptor(et,E).enumerable})),ct.push.apply(ct,_t)}return ct}function o(et){for(var rt=1;rt<arguments.length;rt++){var ct=null!=arguments[rt]?arguments[rt]:{};rt%2?b(Object(ct),!0).forEach(function(_t){u(et,_t,ct[_t])}):Object.getOwnPropertyDescriptors?Object.defineProperties(et,Object.getOwnPropertyDescriptors(ct)):b(Object(ct)).forEach(function(_t){Object.defineProperty(et,_t,Object.getOwnPropertyDescriptor(ct,_t))})}return et}function u(et,rt,ct){return(rt=Ot(rt))in et?Object.defineProperty(et,rt,{value:ct,enumerable:!0,configurable:!0,writable:!0}):et[rt]=ct,et}function c(et){return(c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(rt){return typeof rt}:function(rt){return rt&&"function"==typeof Symbol&&rt.constructor===Symbol&&rt!==Symbol.prototype?"symbol":typeof rt})(et)}function y(et,rt){return ft(et)||function Y(et,rt){var ct=null==et?null:typeof Symbol<"u"&&et[Symbol.iterator]||et["@@iterator"];if(null!=ct){var _t,E,l,i,v=[],d=!0,N=!1;try{if(l=(ct=ct.call(et)).next,0===rt){if(Object(ct)!==ct)return;d=!1}else for(;!(d=(_t=l.call(ct)).done)&&(v.push(_t.value),v.length!==rt);d=!0);}catch(st){N=!0,E=st}finally{try{if(!d&&null!=ct.return&&(i=ct.return(),Object(i)!==i))return}finally{if(N)throw E}}return v}}(et,rt)||M(et,rt)||x()}function x(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function M(et,rt){if(et){if("string"==typeof et)return Z(et,rt);var ct=Object.prototype.toString.call(et).slice(8,-1);if("Object"===ct&&et.constructor&&(ct=et.constructor.name),"Map"===ct||"Set"===ct)return Array.from(et);if("Arguments"===ct||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(ct))return Z(et,rt)}}function Z(et,rt){(null==rt||rt>et.length)&&(rt=et.length);for(var ct=0,_t=new Array(rt);ct<rt;ct++)_t[ct]=et[ct];return _t}function ft(et){if(Array.isArray(et))return et}function pt(et,rt){for(var ct=0;ct<rt.length;ct++){var _t=rt[ct];_t.enumerable=_t.enumerable||!1,_t.configurable=!0,"value"in _t&&(_t.writable=!0),Object.defineProperty(et,Ot(_t.key),_t)}}function Ot(et){var rt=function X(et,rt){if("object"!==c(et)||null===et)return et;var ct=et[Symbol.toPrimitive];if(void 0!==ct){var _t=ct.call(et,rt||"default");if("object"!==c(_t))return _t;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===rt?String:Number)(et)}(et,"string");return"symbol"===c(rt)?rt:String(rt)}var vt=/^[ -~]*$/,lt=function(){function et(rt){(function ht(et,rt){if(!(et instanceof rt))throw new TypeError("Cannot call a class as a function")})(this,et),this.scroll=rt,this.delta=this.getDelta(),this.immediateFormats=new Set}return function it(et,rt,ct){rt&&pt(et.prototype,rt),ct&&pt(et,ct),Object.defineProperty(et,"prototype",{writable:!1})}(et,[{key:"addImmediateFormat",value:function(ct){this.immediateFormats.add(ct)}},{key:"applyDelta",value:function(ct){var _t=this;this.scroll.update();var E=this.scroll.length();this.scroll.batchStart();var l=function tt(et){return et.reduce(function(rt,ct){if("string"==typeof ct.insert){var _t=ct.insert.replace(/\r\n/g,"\n").replace(/\r/g,"\n");return rt.insert(_t,ct.attributes)}return rt.push(ct)},new(L()))}(ct),i=new(L());return l.reduce(function(v,d){var N=K.Op.length(d),st=d.attributes||{},St=!1;if(null!=d.insert){if(i.retain(N),"string"==typeof d.insert){var Ut=d.insert;St=!Ut.endsWith("\n")&&(E<=v||_t.scroll.descendant(I.i2,v)[0]),_t.scroll.insertAt(v,Ut);var Zt=y(_t.scroll.line(v),2),Qt=Zt[0],re=Zt[1],bt=k()({},(0,I.E2)(Qt));if(Qt instanceof I.ZP){var Dt=y(Qt.descendant(P.LeafBlot,re),1)[0];bt=k()(bt,(0,I.E2)(Dt))}st=K.AttributeMap.diff(bt,st)||{}}else if("object"===c(d.insert)){var Mt=Object.keys(d.insert)[0];if(null==Mt)return v;St=null!=_t.scroll.query(Mt,P.Scope.INLINE)&&(E<=v||_t.scroll.descendant(I.i2,v)[0]),_t.scroll.insertAt(v,Mt,d.insert[Mt])}E+=N}else i.push(d);var $t=Object.keys(st);_t.immediateFormats.forEach(function(Kt){$t.indexOf(Kt)>-1&&(_t.scroll.formatAt(v,N,Kt,st[Kt]),delete st[Kt])}),Object.keys(st).forEach(function(Kt){_t.scroll.formatAt(v,N,Kt,st[Kt])});var kt=St?1:0;return E+=kt,i.delete(kt),v+N+kt},0),i.reduce(function(v,d){return"number"==typeof d.delete?(_t.scroll.deleteAt(v,d.delete),v):v+K.Op.length(d)},0),this.scroll.batchEnd(),this.scroll.optimize(),this.update(l)}},{key:"deleteText",value:function(ct,_t){return this.scroll.deleteAt(ct,_t),this.update((new(L())).retain(ct).delete(_t))}},{key:"formatLine",value:function(ct,_t){var E=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};this.scroll.update(),Object.keys(l).forEach(function(v){E.scroll.lines(ct,Math.max(_t,1)).forEach(function(d){d.format(v,l[v])})}),this.scroll.optimize();var i=(new(L())).retain(ct).retain(_t,m()(l));return this.update(i)}},{key:"formatText",value:function(ct,_t){var E=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};Object.keys(l).forEach(function(v){E.scroll.formatAt(ct,_t,v,l[v])});var i=(new(L())).retain(ct).retain(_t,m()(l));return this.update(i)}},{key:"getContents",value:function(ct,_t){return this.delta.slice(ct,ct+_t)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(ct,_t){return ct.concat(_t.delta())},new(L()))}},{key:"getFormat",value:function(ct){var _t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,E=[],l=[];0===_t?this.scroll.path(ct).forEach(function(d){var st=y(d,1)[0];st instanceof I.ZP?E.push(st):st instanceof P.LeafBlot&&l.push(st)}):(E=this.scroll.lines(ct,_t),l=this.scroll.descendants(P.LeafBlot,ct,_t));var v=y([E,l].map(function(d){if(0===d.length)return{};for(var N=(0,I.E2)(d.shift());Object.keys(N).length>0;){var st=d.shift();if(null==st)return N;N=D((0,I.E2)(st),N)}return N}),2);return l=v[1],o(o({},E=v[0]),l)}},{key:"getHTML",value:function(ct,_t){var l=y(this.scroll.line(ct),2),i=l[0],v=l[1];return i.length()>v+_t?F(i,v,_t,!0):F(this.scroll,ct,_t,!0)}},{key:"getText",value:function(ct,_t){return this.getContents(ct,_t).filter(function(E){return"string"==typeof E.insert}).map(function(E){return E.insert}).join("")}},{key:"insertEmbed",value:function(ct,_t,E){return this.scroll.insertAt(ct,_t,E),this.update((new(L())).retain(ct).insert(u({},_t,E)))}},{key:"insertText",value:function(ct,_t){var E=this,l=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return _t=_t.replace(/\r\n/g,"\n").replace(/\r/g,"\n"),this.scroll.insertAt(ct,_t),Object.keys(l).forEach(function(i){E.scroll.formatAt(ct,_t.length,i,l[i])}),this.update((new(L())).retain(ct).insert(_t,m()(l)))}},{key:"isBlank",value:function(){if(0===this.scroll.children.length)return!0;if(arguments.length>0&&void 0!==arguments[0]&&arguments[0]||this.scroll.children.length>1)return!1;var _t=this.scroll.children.head;return!(_t.statics.blotName!==I.ZP.blotName||_t.children.length>1)&&_t.children.head instanceof $.Z}},{key:"removeFormat",value:function(ct,_t){var E=this.getText(ct,_t),i=y(this.scroll.line(ct+_t),2),v=i[0],d=i[1],N=0,st=new(L());null!=v&&(N=v.length()-d,st=v.delta().slice(d,d+N-1).insert("\n"));var Ut=this.getContents(ct,_t+N).diff((new(L())).insert(E).concat(st)),Ft=(new(L())).retain(ct).concat(Ut);return this.applyDelta(Ft)}},{key:"update",value:function(ct){var _t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0,l=this.delta;if(1===_t.length&&"characterData"===_t[0].type&&_t[0].target.data.match(vt)&&this.scroll.find(_t[0].target)){var i=this.scroll.find(_t[0].target),v=(0,I.E2)(i),d=i.offset(this.scroll),N=_t[0].oldValue.replace(w.Z.CONTENTS,""),st=(new(L())).insert(N),St=(new(L())).insert(i.value()),Ut=E&&{oldRange:J(E.oldRange,-d),newRange:J(E.newRange,-d)};ct=(new(L())).retain(d).concat(st.diff(St,Ut)).reduce(function(Zt,Qt){return Qt.insert?Zt.insert(Qt.insert,v):Zt.push(Qt)},new(L())),this.delta=l.compose(ct)}else this.delta=this.getDelta(),(!ct||!T()(l.compose(ct),this.delta))&&(this.deltaContainsRetain(l)||(ct=l.diff(this.delta,E)));return ct}},{key:"deltaContainsRetain",value:function(ct){return ct.ops.some(function(_t){return(0,V.Z)(_t.retain)})}}]),et}();function ot(et,rt,ct){if(0===et.length){var l=y(at(ct.pop()),1)[0];return rt<=0?"</li></".concat(l,">"):"</li></".concat(l,">").concat(ot([],rt-1,ct))}var i=function B(et){return ft(et)||function h(et){if(typeof Symbol<"u"&&null!=et[Symbol.iterator]||null!=et["@@iterator"])return Array.from(et)}(et)||M(et)||x()}(et),v=i[0],d=v.child,N=v.offset,st=v.length,St=v.indent,Ut=v.type,Ft=i.slice(1),Qt=y(at(Ut,d),2),re=Qt[0],bt=Qt[1];if(St>rt)return ct.push(Ut),St===rt+1?"<".concat(re,"><li").concat(bt,">").concat(F(d,N,st)).concat(ot(Ft,St,ct)):"<".concat(re,"><li>").concat(ot(et,rt+1,ct));if(St===rt&&Ut===ct[ct.length-1])return"</li><li".concat(bt,">").concat(F(d,N,st)).concat(ot(Ft,St,ct));var Dt=y(at(ct.pop()),1);return"</li></".concat(Dt[0],">").concat(ot(et,rt-1,ct))}function F(et,rt,ct){var _t=arguments.length>3&&void 0!==arguments[3]&&arguments[3];if("function"==typeof et.html)return et.html(rt,ct);if(et instanceof A.Z)return(0,A.b)(et.value().slice(rt,rt+ct));if(et.children){if("list-container"===et.statics.blotName){var E=[];return et.children.forEachAt(rt,ct,function(Ft,Zt,Qt){var re=Ft.formats();E.push({child:Ft,offset:Zt,length:Qt,indent:re.indent||0,type:re.list})}),ot(E,-1,[])}var l=[];if(et.children.forEachAt(rt,ct,function(Ft,Zt,Qt){l.push(F(Ft,Zt,Qt))}),function C(et,rt){1===et.length&&et.head instanceof $.Z&&rt.push("<br>")}(et.children,l),_t||"list"===et.statics.blotName)return l.join("");var i=function q(et){var rt=et.domNode.cloneNode(!0);return function Q(et,rt){return["tableCellLine","tableHeaderCellLine","tableCell","tableHeaderCell"].includes(et.statics.blotName)&&function W(et,rt){et.classList.remove(rt),0===et.classList.length&&et.removeAttribute("class")}(rt,et.statics.className),rt}(et,rt)}(et),st=y(i.outerHTML.split(">".concat(i.innerHTML,"<")),2),St=st[0],Ut=st[1];return 0===St.indexOf("<table")?"".concat(St.replace(/(\sdata-.+?=["'].*?["'])/g,""),">").concat(l.join("").replace(/(\sdata-table.+?=["'].*?["'])/g,""),"<").concat(Ut):"".concat(St,">").concat(l.join(""),"<").concat(Ut)}return et.domNode.outerHTML}function D(et,rt){return Object.keys(rt).reduce(function(ct,_t){return null==et[_t]||(rt[_t]===et[_t]?ct[_t]=rt[_t]:Array.isArray(rt[_t])?rt[_t].indexOf(et[_t])<0&&(ct[_t]=rt[_t].concat([et[_t]])):ct[_t]=[rt[_t],et[_t]]),ct},{})}function at(et,rt){var ct="ordered"===et?"ol":"ul",_t=rt?"".concat(function dt(et){var rt=et.domNode;if(!rt.hasAttributes())return"";for(var ct=rt.attributes,_t=" ",E=0;E<ct.length;E+=1){var l=ct[E].name,i=ct[E].value;"class"===l&&(i=mt(i)),i.length&&-1===l.indexOf("data-")&&(_t+="".concat(l,'="').concat(i,'"'))}return _t.length>1?_t:""}(rt)):"";switch(et){case"checked":return[ct,"".concat(_t,' data-list="checked"')];case"unchecked":return[ct,"".concat(_t,' data-list="unchecked"')];default:return[ct,_t]}}function mt(et){return et.replace(/ql-indent-\d/g,"").trim()}function J(et,rt){return new R.e(et.index+rt,et.length)}const gt=lt},2069:(_,H,r)=>{"use strict";r.d(H,{Z:()=>x});var g=r(3034),m=r.n(g),O=r(8034),T=r(2598);function k(M){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Z){return typeof Z}:function(Z){return Z&&"function"==typeof Symbol&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z})(M)}function L(M,Z){for(var Y=0;Y<Z.length;Y++){var ft=Z[Y];ft.enumerable=ft.enumerable||!1,ft.configurable=!0,"value"in ft&&(ft.writable=!0),Object.defineProperty(M,R(ft.key),ft)}}function R(M){var Z=function w(M,Z){if("object"!==k(M)||null===M)return M;var Y=M[Symbol.toPrimitive];if(void 0!==Y){var ft=Y.call(M,Z||"default");if("object"!==k(ft))return ft;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Z?String:Number)(M)}(M,"string");return"symbol"===k(Z)?Z:String(Z)}function I(){return I=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Z,Y,ft){var ht=function $(M,Z){for(;!Object.prototype.hasOwnProperty.call(M,Z)&&null!==(M=o(M)););return M}(Z,Y);if(ht){var pt=Object.getOwnPropertyDescriptor(ht,Y);return pt.get?pt.get.call(arguments.length<3?Z:ft):pt.value}},I.apply(this,arguments)}function W(M,Z){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ft,ht){return ft.__proto__=ht,ft})(M,Z)}function o(M){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Y){return Y.__proto__||Object.getPrototypeOf(Y)})(M)}var u=(0,r(3122).Z)("quill:events");(0,O.Z)()&&["selectionchange","mousedown","mouseup","click"].forEach(function(M){document.addEventListener(M,function(){for(var Z=arguments.length,Y=new Array(Z),ft=0;ft<Z;ft++)Y[ft]=arguments[ft];Array.from(document.querySelectorAll(".ql-container")).forEach(function(ht){var it,pt=T.Z.get(ht);pt&&pt.emitter&&(it=pt.emitter).handleDOM.apply(it,Y)})})});var y=function(M){!function A(M,Z){if("function"!=typeof Z&&null!==Z)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(Z&&Z.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),Object.defineProperty(M,"prototype",{writable:!1}),Z&&W(M,Z)}(Y,M);var Z=function V(M){var Z=function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var ht,ft=o(M);if(Z){var pt=o(this).constructor;ht=Reflect.construct(ft,arguments,pt)}else ht=ft.apply(this,arguments);return function B(M,Z){if(Z&&("object"===k(Z)||"function"==typeof Z))return Z;if(void 0!==Z)throw new TypeError("Derived constructors may only return object or undefined");return function h(M){if(void 0===M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}(M)}(this,ht)}}(Y);function Y(){var ft;return function K(M,Z){if(!(M instanceof Z))throw new TypeError("Cannot call a class as a function")}(this,Y),(ft=Z.call(this)).listeners={},ft.on("error",u.error),ft}return function P(M,Z,Y){Z&&L(M.prototype,Z),Y&&L(M,Y),Object.defineProperty(M,"prototype",{writable:!1})}(Y,[{key:"emit",value:function(){for(var ht,pt,it=arguments.length,Ot=new Array(it),X=0;X<it;X++)Ot[X]=arguments[X];(ht=u.log).call.apply(ht,[u].concat(Ot)),(pt=I(o(Y.prototype),"emit",this)).call.apply(pt,[this].concat(Ot))}},{key:"handleDOM",value:function(ht){for(var pt=arguments.length,it=new Array(pt>1?pt-1:0),Ot=1;Ot<pt;Ot++)it[Ot-1]=arguments[Ot];(this.listeners[ht.type]||[]).forEach(function(X){var vt=X.node,lt=X.handler;(ht.target===vt||vt.contains(ht.target))&&lt.apply(void 0,[ht].concat(it))})}},{key:"listenDOM",value:function(ht,pt,it){this.listeners[ht]||(this.listeners[ht]=[]),this.listeners[ht].push({node:pt,handler:it})}}]),Y}(m());y.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_BLOT_MOUNT:"scroll-blot-mount",SCROLL_BLOT_UNMOUNT:"scroll-blot-unmount",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change",CONTENT_SETTED:"content-setted"},y.sources={API:"api",SILENT:"silent",USER:"user"};const x=y},2598:(_,H,r)=>{"use strict";r.d(H,{Z:()=>g});const g=new WeakMap},3122:(_,H,r)=>{"use strict";r.d(H,{Z:()=>j});var g=["error","warn","log","info"],m="warn";function O(k){if(g.indexOf(k)<=g.indexOf(m)){for(var K,L=arguments.length,P=new Array(L>1?L-1:0),R=1;R<L;R++)P[R-1]=arguments[R];(K=console)[k].apply(K,P)}}function T(k){return g.reduce(function(K,L){return K[L]=O.bind(console,L,k),K},{})}O.level=T.level=function(k){m=k};const j=T},7094:(_,H,r)=>{"use strict";function g(P){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(P)}function m(P,R){for(var w=0;w<R.length;w++){var I=R[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(P,T(I.key),I)}}function O(P,R,w){return R&&m(P.prototype,R),w&&m(P,w),Object.defineProperty(P,"prototype",{writable:!1}),P}function T(P){var R=function j(P,R){if("object"!==g(P)||null===P)return P;var w=P[Symbol.toPrimitive];if(void 0!==w){var I=w.call(P,R||"default");if("object"!==g(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(P)}(P,"string");return"symbol"===g(R)?R:String(R)}r.d(H,{Z:()=>L});var K=O(function P(R){var w=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(function k(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")})(this,P),this.quill=R,this.options=w});K.DEFAULTS={};const L=K},281:(_,H,r)=>{"use strict";r.d(H,{ZP:()=>it});var g=r(9098),m=r.n(g),O=r(8805),T=r.n(O),j=r(732),k=r.n(j),K=r(1233),L=r(2861),P=r(2069),R=r(7094),w=r(7800),I=r(2598),$=r(3122),A=r(1690),W=r(5874);function V(ot){return(V="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(F){return typeof F}:function(F){return F&&"function"==typeof Symbol&&F.constructor===Symbol&&F!==Symbol.prototype?"symbol":typeof F})(ot)}function B(ot,F,C){return(F=Y(F))in ot?Object.defineProperty(ot,F,{value:C,enumerable:!0,configurable:!0,writable:!0}):ot[F]=C,ot}function h(ot,F){return function y(ot){if(Array.isArray(ot))return ot}(ot)||function c(ot,F){var C=null==ot?null:typeof Symbol<"u"&&ot[Symbol.iterator]||ot["@@iterator"];if(null!=C){var q,Q,D,at,dt=[],mt=!0,tt=!1;try{if(D=(C=C.call(ot)).next,0===F){if(Object(C)!==C)return;mt=!1}else for(;!(mt=(q=D.call(C)).done)&&(dt.push(q.value),dt.length!==F);mt=!0);}catch(J){tt=!0,Q=J}finally{try{if(!mt&&null!=C.return&&(at=C.return(),Object(at)!==at))return}finally{if(tt)throw Q}}return dt}}(ot,F)||function o(ot,F){if(ot){if("string"==typeof ot)return u(ot,F);var C=Object.prototype.toString.call(ot).slice(8,-1);if("Object"===C&&ot.constructor&&(C=ot.constructor.name),"Map"===C||"Set"===C)return Array.from(ot);if("Arguments"===C||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return u(ot,F)}}(ot,F)||function b(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function u(ot,F){(null==F||F>ot.length)&&(F=ot.length);for(var C=0,q=new Array(F);C<F;C++)q[C]=ot[C];return q}function M(ot,F){for(var C=0;C<F.length;C++){var q=F[C];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(ot,Y(q.key),q)}}function Y(ot){var F=function ft(ot,F){if("object"!==V(ot)||null===ot)return ot;var C=ot[Symbol.toPrimitive];if(void 0!==C){var q=C.call(ot,F||"default");if("object"!==V(q))return q;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===F?String:Number)(ot)}(ot,"string");return"symbol"===V(F)?F:String(F)}var ht=(0,$.Z)("quill"),pt=new K.Registry;K.ParentBlot.uiClass="ql-ui";var it=function(){function ot(F){var C=this,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(function x(ot,F){if(!(ot instanceof F))throw new TypeError("Cannot call a class as a function")}(this,ot),this.options=function Ot(ot,F){if((F=k()({container:ot,modules:{clipboard:!0,keyboard:!0,history:!0,uploader:!0}},F)).theme&&F.theme!==it.DEFAULTS.theme){if(F.theme=it.import("themes/".concat(F.theme)),null==F.theme)throw new Error("Invalid theme ".concat(F.theme,". Did you register it?"))}else F.theme=A.Z;var C=T()(F.theme.DEFAULTS);[C,F].forEach(function(D){D.modules=D.modules||{},Object.keys(D.modules).forEach(function(at){!0===D.modules[at]&&(D.modules[at]={})})});var Q=Object.keys(C.modules).concat(Object.keys(F.modules)).reduce(function(D,at){var dt=it.import("modules/".concat(at));return null==dt?ht.error("Cannot load ".concat(at," module. Are you sure you registered it?")):D[at]=dt.DEFAULTS||{},D},{});return null!=F.modules&&F.modules.toolbar&&F.modules.toolbar.constructor!==Object&&(F.modules.toolbar={container:F.modules.toolbar}),F=k()({},it.DEFAULTS,{modules:Q},C,F),["bounds","container","scrollingContainer"].forEach(function(D){"string"==typeof F[D]&&(F[D]=document.querySelector(F[D]))}),F.modules=Object.keys(F.modules).reduce(function(D,at){return F.modules[at]&&(D[at]=F.modules[at]),D},{}),F}(F,q),this.container=this.options.container,null==this.container)return ht.error("Invalid Quill container",F);this.options.debug&&ot.debug(this.options.debug);var Q=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",I.Z.set(this.container,this),this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new P.Z;var D=this.options.registry.query(K.ScrollBlot.blotName);this.scroll=new D(this.options.registry,this.root,{emitter:this.emitter,toggleBlankClass:this.toggleBlankClass.bind(this)}),this.editor=new L.Z(this.scroll),this.selection=new w.Z(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.uploader=this.theme.addModule("uploader"),this.theme.init(),this.emitter.on(P.Z.events.EDITOR_CHANGE,function(at){at===P.Z.events.TEXT_CHANGE&&C.toggleBlankClass()}),this.emitter.on(P.Z.events.SCROLL_UPDATE,function(at,dt){var mt=C.selection.lastRange,gt=h(C.selection.getRange(),1)[0],et=mt&&gt?{oldRange:mt,newRange:gt}:void 0;X.call(C,function(){return C.editor.update(null,dt,et)},at)}),this.setContents(this.getInitialContent(Q)),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable(),this.allowReadOnlyEdits=!1}return function Z(ot,F,C){F&&M(ot.prototype,F),C&&M(ot,C),Object.defineProperty(ot,"prototype",{writable:!1})}(ot,[{key:"getInitialContent",value:function(C){return this.clipboard.convert({html:"".concat(C,"<p><br></p>"),text:"\n"})}},{key:"toggleBlankClass",value:function(){this.root.classList.toggle("ql-blank",this.editor.isBlank(this.selection.composing))}},{key:"addContainer",value:function(C){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if("string"==typeof C){var Q=C;(C=document.createElement("div")).classList.add(Q)}return this.container.insertBefore(C,q),C}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(C,q,Q){var D=this,dt=h(vt(C,q,Q),4);return X.call(this,function(){return D.editor.deleteText(C,q)},Q=dt[3],C=dt[0],-1*(q=dt[1]))}},{key:"disable",value:function(){this.enable(!1)}},{key:"editReadOnly",value:function(C){this.allowReadOnlyEdits=!0;var q=C();return this.allowReadOnlyEdits=!1,q}},{key:"enable",value:function(){var C=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this.scroll.enable(C),this.container.classList.toggle("ql-disabled",!C)}},{key:"focus",value:function(){var C=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=C,this.scrollIntoView()}},{key:"format",value:function(C,q){var Q=this;return X.call(this,function(){var at=Q.getSelection(!0),dt=new(m());if(null==at)return dt;if(Q.scroll.query(C,K.Scope.BLOCK))dt=Q.editor.formatLine(at.index,at.length,B({},C,q));else{if(0===at.length)return Q.selection.format(C,q),dt;dt=Q.editor.formatText(at.index,at.length,B({},C,q))}return Q.setSelection(at,P.Z.sources.SILENT),dt},arguments.length>2&&void 0!==arguments[2]?arguments[2]:P.Z.sources.API)}},{key:"formatLine",value:function(C,q,Q,D,at){var mt,dt=this,J=h(vt(C,q,Q,D,at),4);return q=J[1],mt=J[2],X.call(this,function(){return dt.editor.formatLine(C,q,mt)},at=J[3],C=J[0],0)}},{key:"formatText",value:function(C,q,Q,D,at){var mt,dt=this,J=h(vt(C,q,Q,D,at),4);return q=J[1],mt=J[2],X.call(this,function(){return dt.editor.formatText(C,q,mt)},at=J[3],C=J[0],0)}},{key:"getBounds",value:function(C){var Q;Q="number"==typeof C?this.selection.getBounds(C,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0):this.selection.getBounds(C.index,C.length);var D=this.container.getBoundingClientRect();return{bottom:Q.bottom-D.top,height:Q.height,left:Q.left-D.left,right:Q.right-D.left,top:Q.top-D.top,width:Q.width}}},{key:"getContents",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-C,D=h(vt(C,q),2);return this.editor.getContents(C=D[0],q=D[1])}},{key:"getFormat",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getSelection(!0),q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;return(0,W.Z)(C)?"number"==typeof C?this.editor.getFormat(C,q):this.editor.getFormat(C.index,C.length):{}}},{key:"getIndex",value:function(C){return C.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(C){return this.scroll.leaf(C)}},{key:"getLine",value:function(C){return this.scroll.line(C)}},{key:"getLines",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MAX_VALUE;return"number"!=typeof C?this.scroll.lines(C.index,C.length):this.scroll.lines(C,q)}},{key:"getModule",value:function(C){return this.theme.modules[C]}},{key:"getSelection",value:function(){return arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getSemanticHTML",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-C,D=h(vt(C,q),2);return this.editor.getHTML(C=D[0],q=D[1])}},{key:"getText",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getLength()-C,D=h(vt(C,q),2);return this.editor.getText(C=D[0],q=D[1])}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(C,q,Q){var D=this;return X.call(this,function(){return D.editor.insertEmbed(C,q,Q)},arguments.length>3&&void 0!==arguments[3]?arguments[3]:ot.sources.API,C)}},{key:"insertText",value:function(C,q,Q,D,at){var mt,dt=this,J=h(vt(C,0,Q,D,at),4);return mt=J[2],X.call(this,function(){return dt.editor.insertText(C,q,mt)},at=J[3],C=J[0],q.length)}},{key:"isEnabled",value:function(){return this.scroll.isEnabled()}},{key:"off",value:function(){var C;return(C=this.emitter).off.apply(C,arguments)}},{key:"on",value:function(){var C;return(C=this.emitter).on.apply(C,arguments)}},{key:"once",value:function(){var C;return(C=this.emitter).once.apply(C,arguments)}},{key:"removeFormat",value:function(C,q,Q){var D=this,dt=h(vt(C,q,Q),4);return q=dt[1],X.call(this,function(){return D.editor.removeFormat(C,q)},Q=dt[3],C=dt[0])}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(C){var q=this;return X.call(this,function(){C=new(m())(C);var D=q.getLength(),at=q.editor.deleteText(0,D),dt=q.editor.applyDelta(C),mt=q.editor.deleteText(q.getLength()-1,1);return q.emitter.emit(ot.events.CONTENT_SETTED),at.compose(dt).compose(mt)},arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.Z.sources.API)}},{key:"setSelection",value:function(C,q,Q){if(null==C)this.selection.setRange(null,q||ot.sources.API);else{var at=h(vt(C,q,Q),4);C=at[0],q=at[1],Q=at[3],this.selection.setRange(new w.e(Math.max(0,C),q),Q),Q!==P.Z.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(C){var q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.Z.sources.API,Q=(new(m())).insert(C);return this.setContents(Q,q)}},{key:"update",value:function(){var C=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P.Z.sources.USER,q=this.scroll.update(C);return this.selection.update(C),q}},{key:"updateContents",value:function(C){var q=this,Q=arguments.length>1&&void 0!==arguments[1]?arguments[1]:P.Z.sources.API;return X.call(this,function(){return C=new(m())(C),q.editor.applyDelta(C,Q)},Q,!0)}}],[{key:"debug",value:function(C){!0===C&&(C="log"),$.Z.level(C)}},{key:"find",value:function(C){return I.Z.get(C)||pt.find(C)}},{key:"import",value:function(C){return null==this.imports[C]&&ht.error("Cannot import ".concat(C,". Are you sure it was registered?")),this.imports[C]}},{key:"register",value:function(C,q){var Q=this,D=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if("string"!=typeof C){var at=C.attrName||C.blotName;"string"==typeof at?this.register("formats/".concat(at),C,q):Object.keys(C).forEach(function(dt){Q.register(dt,C[dt],q)})}else null!=this.imports[C]&&!D&&ht.warn("Overwriting ".concat(C," with"),q),this.imports[C]=q,(0===C.indexOf("blots/")||0===C.indexOf("formats/"))&&"abstract"!==q.blotName&&pt.register(q),"function"==typeof q.register&&q.register(pt)}}]),ot}();function X(ot,F,C,q){if(!this.isEnabled()&&F===P.Z.sources.USER&&!this.allowReadOnlyEdits)return new(m());var Q=null==C?null:this.getSelection(),D=this.editor.delta,at=ot();if(null!=Q&&(!0===C&&(C=Q.index),null==q?Q=lt(Q,at,F):0!==q&&(Q=lt(Q,C,q,F)),this.setSelection(Q,P.Z.sources.SILENT)),at.length()>0){var dt,tt,mt=[P.Z.events.TEXT_CHANGE,at,D,F];(dt=this.emitter).emit.apply(dt,[P.Z.events.EDITOR_CHANGE].concat(mt)),F!==P.Z.sources.SILENT&&(tt=this.emitter).emit.apply(tt,mt)}return at}function vt(ot,F,C,q,Q){var D={};return"number"==typeof ot.index&&"number"==typeof ot.length?"number"!=typeof F?(Q=q,q=C,C=F,F=ot.length,ot=ot.index):(F=ot.length,ot=ot.index):"number"!=typeof F&&(Q=q,q=C,C=F,F=0),"object"===V(C)?(D=C,Q=q):"string"==typeof C&&(null!=q?D[C]=q:Q=C),[ot,F,D,Q=Q||P.Z.sources.API]}function lt(ot,F,C,q){if(null==ot)return null;var Q,D;if(F instanceof m()){var dt=h([ot.index,ot.index+ot.length].map(function(J){return F.transformPosition(J,q!==P.Z.sources.USER)}),2);Q=dt[0],D=dt[1]}else{var tt=h([ot.index,ot.index+ot.length].map(function(J){return J<F||J===F&&q===P.Z.sources.USER?J:C>=0?J+C:Math.max(F,J+C)}),2);Q=tt[0],D=tt[1]}return new w.e(Q,D-Q)}it.DEFAULTS={bounds:null,modules:{},placeholder:"",readOnly:!1,registry:pt,scrollingContainer:null,theme:"default"},it.events=P.Z.events,it.sources=P.Z.sources,it.version="1.6.4",it.imports={delta:m(),parchment:K,"core/module":R.Z,"core/theme":A.Z}},7800:(_,H,r)=>{"use strict";r.d(H,{Z:()=>Z,e:()=>M});var g=r(1233),m=r(8805),O=r.n(m),T=r(2722),j=r.n(T),k=r(2069);function L(ft){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(ht){return typeof ht}:function(ht){return ht&&"function"==typeof Symbol&&ht.constructor===Symbol&&ht!==Symbol.prototype?"symbol":typeof ht})(ft)}function P(ft){return function I(ft){if(Array.isArray(ft))return V(ft)}(ft)||function w(ft){if(typeof Symbol<"u"&&null!=ft[Symbol.iterator]||null!=ft["@@iterator"])return Array.from(ft)}(ft)||W(ft)||function R(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function $(ft,ht){return function h(ft){if(Array.isArray(ft))return ft}(ft)||function B(ft,ht){var pt=null==ft?null:typeof Symbol<"u"&&ft[Symbol.iterator]||ft["@@iterator"];if(null!=pt){var it,Ot,X,vt,lt=[],ot=!0,F=!1;try{if(X=(pt=pt.call(ft)).next,0===ht){if(Object(pt)!==pt)return;ot=!1}else for(;!(ot=(it=X.call(pt)).done)&&(lt.push(it.value),lt.length!==ht);ot=!0);}catch(C){F=!0,Ot=C}finally{try{if(!ot&&null!=pt.return&&(vt=pt.return(),Object(vt)!==vt))return}finally{if(F)throw Ot}}return lt}}(ft,ht)||W(ft,ht)||function A(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function W(ft,ht){if(ft){if("string"==typeof ft)return V(ft,ht);var pt=Object.prototype.toString.call(ft).slice(8,-1);if("Object"===pt&&ft.constructor&&(pt=ft.constructor.name),"Map"===pt||"Set"===pt)return Array.from(ft);if("Arguments"===pt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(pt))return V(ft,ht)}}function V(ft,ht){(null==ht||ht>ft.length)&&(ht=ft.length);for(var pt=0,it=new Array(ht);pt<ht;pt++)it[pt]=ft[pt];return it}function b(ft,ht){for(var pt=0;pt<ht.length;pt++){var it=ht[pt];it.enumerable=it.enumerable||!1,it.configurable=!0,"value"in it&&(it.writable=!0),Object.defineProperty(ft,u(it.key),it)}}function o(ft,ht,pt){return ht&&b(ft.prototype,ht),pt&&b(ft,pt),Object.defineProperty(ft,"prototype",{writable:!1}),ft}function u(ft){var ht=function c(ft,ht){if("object"!==L(ft)||null===ft)return ft;var pt=ft[Symbol.toPrimitive];if(void 0!==pt){var it=pt.call(ft,ht||"default");if("object"!==L(it))return it;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===ht?String:Number)(ft)}(ft,"string");return"symbol"===L(ht)?ht:String(ht)}function y(ft,ht){if(!(ft instanceof ht))throw new TypeError("Cannot call a class as a function")}var x=(0,r(3122).Z)("quill:selection"),M=o(function ft(ht){var pt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;y(this,ft),this.index=ht,this.length=pt}),Z=function(){function ft(ht,pt){var it=this;y(this,ft),this.emitter=pt,this.scroll=ht,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=this.scroll.create("cursor",this),this.savedRange=new M(0,0),this.lastRange=this.savedRange,this.lastNative=null,this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){!it.mouseDown&&!it.composing&&setTimeout(it.update.bind(it,k.Z.sources.USER),1)}),this.emitter.on(k.Z.events.SCROLL_BEFORE_UPDATE,function(){if(it.hasFocus()){var Ot=it.getNativeRange();null!=Ot&&Ot.start.node!==it.cursor.textNode&&it.emitter.once(k.Z.events.SCROLL_UPDATE,function(){try{it.root.contains(Ot.start.node)&&it.root.contains(Ot.end.node)&&it.setNativeRange(Ot.start.node,Ot.start.offset,Ot.end.node,Ot.end.offset),it.update(k.Z.sources.SILENT)}catch{}})}}),this.emitter.on(k.Z.events.SCROLL_OPTIMIZE,function(Ot,X){if(X.range){var vt=X.range;it.setNativeRange(vt.startNode,vt.startOffset,vt.endNode,vt.endOffset),it.update(k.Z.sources.SILENT)}}),this.update(k.Z.sources.SILENT)}return o(ft,[{key:"handleComposition",value:function(){var pt=this;this.root.addEventListener("compositionstart",function(){pt.composing=!0,pt.scroll.batchStart()}),this.root.addEventListener("compositionend",function(){if(pt.scroll.batchEnd(),pt.composing=!1,pt.cursor.parent){var it=pt.cursor.restore();if(!it)return;setTimeout(function(){pt.setNativeRange(it.startNode,it.startOffset,it.endNode,it.endOffset)},1)}})}},{key:"handleDragging",value:function(){var pt=this;this.emitter.listenDOM("mousedown",document.body,function(){pt.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){pt.mouseDown=!1,pt.update(k.Z.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(pt,it){this.scroll.update();var Ot=this.getNativeRange();if(null!=Ot&&Ot.native.collapsed&&!this.scroll.query(pt,g.Scope.BLOCK)){if(Ot.start.node!==this.cursor.textNode){var X=this.scroll.find(Ot.start.node,!1);if(null==X)return;if(X instanceof g.LeafBlot){var vt=X.split(Ot.start.offset);X.parent.insertBefore(this.cursor,vt)}else X.insertBefore(this.cursor,Ot.start.node);this.cursor.attach()}this.cursor.format(pt,it),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}},{key:"getBounds",value:function(pt){var it=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,Ot=this.scroll.length();pt=Math.min(pt,Ot-1),it=Math.min(pt+it,Ot-1)-pt;var X,lt=$(this.scroll.leaf(pt),2),ot=lt[0],F=lt[1];if(null==ot)return null;var q=$(this.getPositionData(ot,F,!0),2);X=q[0],F=q[1];var Q=document.createRange();if(it>0){Q.setStart(X,F);var at=$(this.scroll.leaf(pt+it),2);if(null==(ot=at[0]))return null;var mt=$(this.getPositionData(ot,F=at[1],!0),2);return Q.setEnd(X=mt[0],F=mt[1]),Q.getBoundingClientRect()}var J,tt="left";return X instanceof Text?(F<X.data.length?(Q.setStart(X,F),Q.setEnd(X,F+1)):(Q.setStart(X,F-1),Q.setEnd(X,F),tt="right"),J=Q.getBoundingClientRect()):(J=ot.domNode.getBoundingClientRect(),F>0&&(tt="right")),{bottom:J.top+J.height,height:J.height,left:J[tt],right:J[tt],top:J.top,width:0}}},{key:"getNativeRange",value:function(){var pt,it,Ot=this.root.getRootNode(),X=null!==(pt=null===(it=Ot.getSelection)||void 0===it?void 0:it.call(Ot))&&void 0!==pt?pt:document.getSelection();if(null==X||X.rangeCount<=0)return null;var vt=X.getRangeAt(0);if(null==vt)return null;var lt=this.normalizeNative(vt);return x.info("getNativeRange",lt),lt}},{key:"getRange",value:function(){var pt=this.getNativeRange();return null==pt?[null,null]:[this.normalizedToRange(pt),pt]}},{key:"hasFocus",value:function(){var pt=this.root.getRootNode();return pt.activeElement===this.root||Y(this.root,pt.activeElement)}},{key:"normalizedToRange",value:function(pt){var it=this,Ot=[[pt.start.node,pt.start.offset]];pt.native.collapsed||Ot.push([pt.end.node,pt.end.offset]);var X=Ot.map(function(ot){var F=$(ot,2),C=F[0],q=F[1],Q=it.scroll.find(C,!0),D=Q.offset(it.scroll);return 0===q?D:Q instanceof g.LeafBlot?D+Q.index(C,q):D+Q.length()}),vt=Math.min(Math.max.apply(Math,P(X)),this.scroll.length()-1),lt=Math.min.apply(Math,[vt].concat(P(X)));return new M(lt,vt-lt)}},{key:"normalizeNative",value:function(pt){if(!Y(this.root,pt.startContainer)||!pt.collapsed&&!Y(this.root,pt.endContainer))return null;var it={start:{node:pt.startContainer,offset:pt.startOffset},end:{node:pt.endContainer,offset:pt.endOffset},native:pt};return[it.start,it.end].forEach(function(Ot){for(var X=Ot.node,vt=Ot.offset;!(X instanceof Text)&&X.childNodes.length>0;)if(X.childNodes.length>vt)X=X.childNodes[vt],vt=0;else{if(X.childNodes.length!==vt)break;vt=(X=X.lastChild)instanceof Text?X.data.length:X.childNodes.length>0?X.childNodes.length:X.childNodes.length+1}Ot.node=X,Ot.offset=vt}),it}},{key:"rangeToNative",value:function(pt){var it=this,Ot=pt.collapsed?[pt.index]:[pt.index,pt.index+pt.length],X=[],vt=this.scroll.length();return Ot.forEach(function(lt,ot){lt=Math.min(vt-1,lt);var C=$(it.scroll.leaf(lt),2),at=$(it.getPositionData(C[0],C[1],0!==ot),2);X.push(at[0],at[1])}),X.length<2?X.concat(X):X}},{key:"getPositionData",value:function(pt,it,Ot){return pt instanceof g.LeafBlot?pt.position(it,Ot):[pt.domNode,it]}},{key:"scrollIntoView",value:function(pt){var it=this.lastRange;if(null!=it){var Ot=this.getBounds(it.index,it.length);if(null!=Ot){var X=this.scroll.length()-1,ot=$(this.scroll.line(Math.min(it.index,X)),1)[0],F=ot;if(it.length>0&&(F=$(this.scroll.line(Math.min(it.index+it.length,X)),1)[0]),null!=ot&&null!=F){var Q=pt.getBoundingClientRect();Ot.top<Q.top?pt.scrollTop-=Q.top-Ot.top:Ot.bottom>Q.bottom&&(pt.scrollTop+=Ot.bottom-Q.bottom)}}}}},{key:"setNativeRange",value:function(pt,it){var Ot=arguments.length>2&&void 0!==arguments[2]?arguments[2]:pt,X=arguments.length>3&&void 0!==arguments[3]?arguments[3]:it,vt=arguments.length>4&&void 0!==arguments[4]&&arguments[4];if(x.info("setNativeRange",pt,it,Ot,X),null==pt||null!=this.root.parentNode&&null!=pt.parentNode&&null!=Ot.parentNode){var lt=document.getSelection();if(null!=lt)if(null!=pt){this.hasFocus()||this.root.focus();var F=(this.getNativeRange()||{}).native;if(null==F||vt||pt!==F.startContainer||it!==F.startOffset||Ot!==F.endContainer||X!==F.endOffset){"BR"===pt.tagName&&(it=Array.from(pt.parentNode.childNodes).indexOf(pt),pt=pt.parentNode),"BR"===Ot.tagName&&(X=Array.from(Ot.parentNode.childNodes).indexOf(Ot),Ot=Ot.parentNode);var C=document.createRange();C.setStart(pt,it),C.setEnd(Ot,X),lt.removeAllRanges(),lt.addRange(C)}}else lt.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(pt){var it=arguments.length>1&&void 0!==arguments[1]&&arguments[1],Ot=arguments.length>2&&void 0!==arguments[2]?arguments[2]:k.Z.sources.API;if("string"==typeof it&&(Ot=it,it=!1),x.info("setRange",pt),null!=pt){var X=this.rangeToNative(pt);this.setNativeRange.apply(this,P(X).concat([it]))}else this.setNativeRange(null);this.update(Ot)}},{key:"update",value:function(){var pt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k.Z.sources.USER,it=this.lastRange,X=$(this.getRange(),2),lt=X[1];if(this.lastRange=X[0],this.lastNative=lt,null!=this.lastRange&&(this.savedRange=this.lastRange),!j()(it,this.lastRange)){var ot;if(!this.composing&&null!=lt&&lt.native.collapsed&&lt.start.node!==this.cursor.textNode){var F=this.cursor.restore();F&&this.setNativeRange(F.startNode,F.startOffset,F.endNode,F.endOffset)}var q,C=[k.Z.events.SELECTION_CHANGE,O()(this.lastRange),O()(it),pt];(ot=this.emitter).emit.apply(ot,[k.Z.events.EDITOR_CHANGE].concat(C)),pt!==k.Z.sources.SILENT&&(q=this.emitter).emit.apply(q,C)}}}]),ft}();function Y(ft,ht){return ht instanceof Text&&(ht=ht.parentNode),ft.contains(ht)}},1690:(_,H,r)=>{"use strict";function g(P){return(g="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(R){return typeof R}:function(R){return R&&"function"==typeof Symbol&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R})(P)}function O(P,R){for(var w=0;w<R.length;w++){var I=R[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(P,j(I.key),I)}}function j(P){var R=function k(P,R){if("object"!==g(P)||null===P)return P;var w=P[Symbol.toPrimitive];if(void 0!==w){var I=w.call(P,R||"default");if("object"!==g(I))return I;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===R?String:Number)(P)}(P,"string");return"symbol"===g(R)?R:String(R)}r.d(H,{Z:()=>L});var K=function(){function P(R,w){(function m(P,R){if(!(P instanceof R))throw new TypeError("Cannot call a class as a function")})(this,P),this.quill=R,this.options=w,this.modules={}}return function T(P,R,w){R&&O(P.prototype,R),w&&O(P,w),Object.defineProperty(P,"prototype",{writable:!1})}(P,[{key:"init",value:function(){var w=this;Object.keys(this.options.modules).forEach(function(I){null==w.modules[I]&&w.addModule(I)})}},{key:"addModule",value:function(w){var I=this.quill.constructor.import("modules/".concat(w));return this.modules[w]=new I(this.quill,this.options.modules[w]||{}),this.modules[w]}}]),P}();K.DEFAULTS={modules:{}},K.themes={default:K};const L=K},715:(_,H,r)=>{"use strict";r.d(H,{HE:()=>j,dk:()=>T,if:()=>O});var g=r(1233),m={scope:g.Scope.BLOCK,whitelist:["right","center","justify"]},O=new g.Attributor("align","align",m),T=new g.ClassAttributor("align","ql-align",m),j=new g.StyleAttributor("align","text-align",m)},7898:(_,H,r)=>{"use strict";r.d(H,{Y:()=>O,w:()=>T});var g=r(1233),m=r(6039),O=new g.ClassAttributor("background","ql-bg",{scope:g.Scope.INLINE}),T=new m.OO("background","background-color",{scope:g.Scope.INLINE})},3991:(_,H,r)=>{"use strict";function m(b){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(b)}function T(b,o){for(var u=0;u<o.length;u++){var c=o[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,k(c.key),c)}}function k(b){var o=function K(b,o){if("object"!==m(b)||null===b)return b;var u=b[Symbol.toPrimitive];if(void 0!==u){var c=u.call(b,o||"default");if("object"!==m(c))return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(b)}(b,"string");return"symbol"===m(o)?o:String(o)}function L(){return L=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(o,u,c){var y=function P(b,o){for(;!Object.prototype.hasOwnProperty.call(b,o)&&null!==(b=V(b)););return b}(o,u);if(y){var x=Object.getOwnPropertyDescriptor(y,u);return x.get?x.get.call(arguments.length<3?o:c):x.value}},L.apply(this,arguments)}function w(b,o){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,y){return c.__proto__=y,c})(b,o)}function V(b){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)})(b)}r.d(H,{Z:()=>h});var B=function(b){!function R(b,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(o&&o.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),o&&w(b,o)}(u,b);var o=function I(b){var o=function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var y,c=V(b);if(o){var x=V(this).constructor;y=Reflect.construct(c,arguments,x)}else y=c.apply(this,arguments);return function $(b,o){if(o&&("object"===m(o)||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return function A(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(b)}(this,y)}}(u);function u(){return function O(b,o){if(!(b instanceof o))throw new TypeError("Cannot call a class as a function")}(this,u),o.apply(this,arguments)}return function j(b,o,u){o&&T(b.prototype,o),u&&T(b,u),Object.defineProperty(b,"prototype",{writable:!1})}(u,[{key:"optimize",value:function(y){L(V(u.prototype),"optimize",this).call(this,y),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return L(V(u),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),u}(r(6603).Z);B.blotName="bold",B.tagName=["STRONG","B"];const h=B},7309:(_,H,r)=>{"use strict";r.d(H,{EK:()=>M,ZP:()=>x,se:()=>y});var g=r(6446),m=r(4122),O=r(3657),T=r(6603),j=r(8222),k=r(3553),K=r(281);function L(Z){return(L="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Y){return typeof Y}:function(Y){return Y&&"function"==typeof Symbol&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y})(Z)}function P(Z,Y){if(!(Z instanceof Y))throw new TypeError("Cannot call a class as a function")}function R(Z,Y){for(var ft=0;ft<Y.length;ft++){var ht=Y[ft];ht.enumerable=ht.enumerable||!1,ht.configurable=!0,"value"in ht&&(ht.writable=!0),Object.defineProperty(Z,I(ht.key),ht)}}function w(Z,Y,ft){return Y&&R(Z.prototype,Y),ft&&R(Z,ft),Object.defineProperty(Z,"prototype",{writable:!1}),Z}function I(Z){var Y=function $(Z,Y){if("object"!==L(Z)||null===Z)return Z;var ft=Z[Symbol.toPrimitive];if(void 0!==ft){var ht=ft.call(Z,Y||"default");if("object"!==L(ht))return ht;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Y?String:Number)(Z)}(Z,"string");return"symbol"===L(Y)?Y:String(Y)}function A(){return A=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(Y,ft,ht){var pt=function W(Z,Y){for(;!Object.prototype.hasOwnProperty.call(Z,Y)&&null!==(Z=c(Z)););return Z}(Y,ft);if(pt){var it=Object.getOwnPropertyDescriptor(pt,ft);return it.get?it.get.call(arguments.length<3?Y:ht):it.value}},A.apply(this,arguments)}function V(Z,Y){if("function"!=typeof Y&&null!==Y)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(Y&&Y.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),Object.defineProperty(Z,"prototype",{writable:!1}),Y&&B(Z,Y)}function B(Z,Y){return(B=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(ht,pt){return ht.__proto__=pt,ht})(Z,Y)}function h(Z){var Y=function u(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var pt,ht=c(Z);if(Y){var it=c(this).constructor;pt=Reflect.construct(ht,arguments,it)}else pt=ht.apply(this,arguments);return function b(Z,Y){if(Y&&("object"===L(Y)||"function"==typeof Y))return Y;if(void 0!==Y)throw new TypeError("Derived constructors may only return object or undefined");return function o(Z){if(void 0===Z)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}(Z)}(this,pt)}}function c(Z){return(c=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(ft){return ft.__proto__||Object.getPrototypeOf(ft)})(Z)}var y=function(Z){V(ft,Z);var Y=h(ft);function ft(){return P(this,ft),Y.apply(this,arguments)}return w(ft,[{key:"code",value:function(pt,it){var Ot=this.children.map(function(X){return X.length()<=1?"":X.domNode.textContent}).join("\n").slice(pt,pt+it);return(0,j.b)(Ot)}},{key:"html",value:function(pt,it){return"<pre>\n".concat(this.code(pt,it),"\n</pre>")}}],[{key:"create",value:function(pt){var it=A(c(ft),"create",this).call(this,pt);return it.setAttribute("spellcheck",!1),it}}]),ft}(k.Z),x=function(Z){V(ft,Z);var Y=h(ft);function ft(){return P(this,ft),Y.apply(this,arguments)}return w(ft,null,[{key:"register",value:function(){K.ZP.register(y)}}]),ft}(g.ZP),M=function(Z){V(ft,Z);var Y=h(ft);function ft(){return P(this,ft),Y.apply(this,arguments)}return w(ft)}(T.Z);M.blotName="code",M.tagName="CODE",x.blotName="code-block",x.className="ql-code-block",x.tagName="DIV",y.blotName="code-block-container",y.className="ql-code-block-container",y.tagName="DIV",y.allowedChildren=[x],x.allowedChildren=[j.Z,m.Z,O.Z],x.requiredContainer=y,x.TAB="  "},6039:(_,H,r)=>{"use strict";r.d(H,{HQ:()=>b,Hn:()=>h,OO:()=>B});var g=r(1233);function m(o){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(u){return typeof u}:function(u){return u&&"function"==typeof Symbol&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u})(o)}function T(o,u){for(var c=0;c<u.length;c++){var y=u[c];y.enumerable=y.enumerable||!1,y.configurable=!0,"value"in y&&(y.writable=!0),Object.defineProperty(o,k(y.key),y)}}function k(o){var u=function K(o,u){if("object"!==m(o)||null===o)return o;var c=o[Symbol.toPrimitive];if(void 0!==c){var y=c.call(o,u||"default");if("object"!==m(y))return y;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===u?String:Number)(o)}(o,"string");return"symbol"===m(u)?u:String(u)}function L(){return L=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(u,c,y){var x=function P(o,u){for(;!Object.prototype.hasOwnProperty.call(o,u)&&null!==(o=V(o)););return o}(u,c);if(x){var M=Object.getOwnPropertyDescriptor(x,c);return M.get?M.get.call(arguments.length<3?u:y):M.value}},L.apply(this,arguments)}function w(o,u){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(y,x){return y.__proto__=x,y})(o,u)}function V(o){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(c){return c.__proto__||Object.getPrototypeOf(c)})(o)}var B=function(o){!function R(o,u){if("function"!=typeof u&&null!==u)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(u&&u.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),u&&w(o,u)}(c,o);var u=function I(o){var u=function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var x,y=V(o);if(u){var M=V(this).constructor;x=Reflect.construct(y,arguments,M)}else x=y.apply(this,arguments);return function $(o,u){if(u&&("object"===m(u)||"function"==typeof u))return u;if(void 0!==u)throw new TypeError("Derived constructors may only return object or undefined");return function A(o){if(void 0===o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return o}(o)}(this,x)}}(c);function c(){return function O(o,u){if(!(o instanceof u))throw new TypeError("Cannot call a class as a function")}(this,c),u.apply(this,arguments)}return function j(o,u,c){u&&T(o.prototype,u),c&&T(o,c),Object.defineProperty(o,"prototype",{writable:!1})}(c,[{key:"value",value:function(x){var M=L(V(c.prototype),"value",this).call(this,x);if(0!==M.indexOf("rgb("))return M;var Z=(M=M.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(Y){return"00".concat(parseInt(Y,10).toString(16)).slice(-2)}).join("");return"#".concat(Z)}}]),c}(g.StyleAttributor),h=new g.ClassAttributor("color","ql-color",{scope:g.Scope.INLINE}),b=new B("color","color",{scope:g.Scope.INLINE})},4048:(_,H,r)=>{"use strict";r.d(H,{H8:()=>j,IF:()=>O,hY:()=>T});var g=r(1233),m={scope:g.Scope.BLOCK,whitelist:["rtl"]},O=new g.Attributor("direction","dir",m),T=new g.ClassAttributor("direction","ql-direction",m),j=new g.StyleAttributor("direction","direction",m)},5832:(_,H,r)=>{"use strict";r.d(H,{H:()=>o,_:()=>h});var g=r(1233);function m(u){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(c){return typeof c}:function(c){return c&&"function"==typeof Symbol&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c})(u)}function T(u,c){for(var y=0;y<c.length;y++){var x=c[y];x.enumerable=x.enumerable||!1,x.configurable=!0,"value"in x&&(x.writable=!0),Object.defineProperty(u,k(x.key),x)}}function k(u){var c=function K(u,c){if("object"!==m(u)||null===u)return u;var y=u[Symbol.toPrimitive];if(void 0!==y){var x=y.call(u,c||"default");if("object"!==m(x))return x;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===c?String:Number)(u)}(u,"string");return"symbol"===m(c)?c:String(c)}function L(){return L=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(c,y,x){var M=function P(u,c){for(;!Object.prototype.hasOwnProperty.call(u,c)&&null!==(u=V(u)););return u}(c,y);if(M){var Z=Object.getOwnPropertyDescriptor(M,y);return Z.get?Z.get.call(arguments.length<3?c:x):Z.value}},L.apply(this,arguments)}function w(u,c){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(x,M){return x.__proto__=M,x})(u,c)}function V(u){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(y){return y.__proto__||Object.getPrototypeOf(y)})(u)}var B={scope:g.Scope.INLINE,whitelist:["serif","monospace"]},h=new g.ClassAttributor("font","ql-font",B),b=function(u){!function R(u,c){if("function"!=typeof c&&null!==c)throw new TypeError("Super expression must either be null or a function");u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,writable:!0,configurable:!0}}),Object.defineProperty(u,"prototype",{writable:!1}),c&&w(u,c)}(y,u);var c=function I(u){var c=function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var M,x=V(u);if(c){var Z=V(this).constructor;M=Reflect.construct(x,arguments,Z)}else M=x.apply(this,arguments);return function $(u,c){if(c&&("object"===m(c)||"function"==typeof c))return c;if(void 0!==c)throw new TypeError("Derived constructors may only return object or undefined");return function A(u){if(void 0===u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(u)}(this,M)}}(y);function y(){return function O(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}(this,y),c.apply(this,arguments)}return function j(u,c,y){c&&T(u.prototype,c),y&&T(u,y),Object.defineProperty(u,"prototype",{writable:!1})}(y,[{key:"value",value:function(M){return L(V(y.prototype),"value",this).call(this,M).replace(/["']/g,"")}}]),y}(g.StyleAttributor),o=new b("font","font-family",B)},7256:(_,H,r)=>{"use strict";function m(b){return(m="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(o){return typeof o}:function(o){return o&&"function"==typeof Symbol&&o.constructor===Symbol&&o!==Symbol.prototype?"symbol":typeof o})(b)}function T(b,o){for(var u=0;u<o.length;u++){var c=o[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(b,k(c.key),c)}}function k(b){var o=function K(b,o){if("object"!==m(b)||null===b)return b;var u=b[Symbol.toPrimitive];if(void 0!==u){var c=u.call(b,o||"default");if("object"!==m(c))return c;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===o?String:Number)(b)}(b,"string");return"symbol"===m(o)?o:String(o)}function L(){return L=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(o,u,c){var y=function P(b,o){for(;!Object.prototype.hasOwnProperty.call(b,o)&&null!==(b=V(b)););return b}(o,u);if(y){var x=Object.getOwnPropertyDescriptor(y,u);return x.get?x.get.call(arguments.length<3?o:c):x.value}},L.apply(this,arguments)}function w(b,o){return(w=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(c,y){return c.__proto__=y,c})(b,o)}function V(b){return(V=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(u){return u.__proto__||Object.getPrototypeOf(u)})(b)}r.d(H,{N:()=>h,Z:()=>B});var B=function(b){!function R(b,o){if("function"!=typeof o&&null!==o)throw new TypeError("Super expression must either be null or a function");b.prototype=Object.create(o&&o.prototype,{constructor:{value:b,writable:!0,configurable:!0}}),Object.defineProperty(b,"prototype",{writable:!1}),o&&w(b,o)}(u,b);var o=function I(b){var o=function W(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var y,c=V(b);if(o){var x=V(this).constructor;y=Reflect.construct(c,arguments,x)}else y=c.apply(this,arguments);return function $(b,o){if(o&&("object"===m(o)||"function"==typeof o))return o;if(void 0!==o)throw new TypeError("Derived constructors may only return object or undefined");return function A(b){if(void 0===b)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return b}(b)}(this,y)}}(u);function u(){return function O(b,o){if(!(b instanceof o))throw new TypeError("Cannot call a class as a function")}(this,u),o.apply(this,arguments)}return function j(b,o,u){o&&T(b.prototype,o),u&&T(b,u),Object.defineProperty(b,"prototype",{writable:!1})}(u,[{key:"format",value:function(y,x){y===this.statics.blotName&&x?this.domNode.setAttribute("href",this.constructor.sanitize(x)):L(V(u.prototype),"format",this).call(this,y,x)}}],[{key:"create",value:function(y){var x=L(V(u),"create",this).call(this,y);return x.setAttribute("href",this.sanitize(y)),x.setAttribute("rel","noopener noreferrer"),x.setAttribute("target","_blank"),x}},{key:"formats",value:function(y){return y.getAttribute("href")}},{key:"sanitize",value:function(y){return h(y,this.PROTOCOL_WHITELIST)?y:this.SANITIZED_URL}}]),u}(r(6603).Z);function h(b,o){var u=document.createElement("a");u.href=b;var c=u.href.slice(0,u.href.indexOf(":"));return o.indexOf(c)>-1}B.blotName="link",B.tagName="A",B.SANITIZED_URL="about:blank",B.PROTOCOL_WHITELIST=["http","https","mailto","tel"]},1629:(_,H,r)=>{"use strict";r.d(H,{Z:()=>O,m:()=>m});var g=r(1233),m=new g.ClassAttributor("size","ql-size",{scope:g.Scope.INLINE,whitelist:["small","large","huge"]}),O=new g.StyleAttributor("size","font-size",{scope:g.Scope.INLINE,whitelist:["10px","18px","32px"]})},1342:(_,H,r)=>{"use strict";r.d(H,{Du:()=>I,h6:()=>$,kk:()=>w,yA:()=>R});var g=r(6062),m=r(1801),O=r(8252);function T(A){return function L(A){if(Array.isArray(A))return P(A)}(A)||function K(A){if(typeof Symbol<"u"&&null!=A[Symbol.iterator]||null!=A["@@iterator"])return Array.from(A)}(A)||function k(A,W){if(A){if("string"==typeof A)return P(A,W);var V=Object.prototype.toString.call(A).slice(8,-1);if("Object"===V&&A.constructor&&(V=A.constructor.name),"Map"===V||"Set"===V)return Array.from(A);if("Arguments"===V||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return P(A,W)}}(A)||function j(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(A,W){(null==W||W>A.length)&&(W=A.length);for(var V=0,B=new Array(W);V<W;V++)B[V]=A[V];return B}var R=O.F1.map(function(A){return(0,g.Z)(O.Pw,A)}),w=O.Mu.map(function(A){return(0,m.Z)(O.Pw,A)}),I=w.reduce(function(A,W){return A[W.attrName]=W,A},{}),$=[].concat(T(R),T(w)).reduce(function(A,W){return A[W.keyName]=W,A},{})},8252:(_,H,r)=>{"use strict";r.d(H,{F1:()=>m,Mu:()=>O,Pw:()=>g,fU:()=>T});var g={name:"cell",allowedTags:["TH","TD","TR"]},m=["height","width"],O=["height","width","vertical-align","text-align","background-color","border","border-style","border-width","border-color","padding","padding-top","padding-right","padding-bottom","padding-left"],T=new Set([].concat(m,O))},6062:(_,H,r)=>{"use strict";r.d(H,{Z:()=>K});var g=r(1674),m=r(2141),O=r(3398),T=["name"];function K(L,P){var R=L.name,w=function j(L,P){if(null==L)return{};var w,I,R=function k(L,P){if(null==L)return{};var I,$,R={},w=Object.keys(L);for($=0;$<w.length;$++)!(P.indexOf(I=w[$])>=0)&&(R[I]=L[I]);return R}(L,P);if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(L);for(I=0;I<$.length;I++)!(P.indexOf(w=$[I])>=0)&&Object.prototype.propertyIsEnumerable.call(L,w)&&(R[w]=L[w])}return R}(L,T),I="".concat(R).concat((0,m.Z)(P)),$="".concat(O.WT.attribute).concat(R,"_").concat(P);return new g.Z(I,$,w)}},1801:(_,H,r)=>{"use strict";r.d(H,{Z:()=>$});var g=r(4569),m=r(2141),O=r(3398),T=["name","formatName"];function L(A,W){(null==W||W>A.length)&&(W=A.length);for(var V=0,B=new Array(W);V<W;V++)B[V]=A[V];return B}function $(A,W){var V=A.name,B=A.formatName,h=function w(A,W){if(null==A)return{};var B,h,V=function I(A,W){if(null==A)return{};var h,b,V={},B=Object.keys(A);for(b=0;b<B.length;b++)!(W.indexOf(h=B[b])>=0)&&(V[h]=A[h]);return V}(A,W);if(Object.getOwnPropertySymbols){var b=Object.getOwnPropertySymbols(A);for(h=0;h<b.length;h++)!(W.indexOf(B=b[h])>=0)&&Object.prototype.propertyIsEnumerable.call(A,B)&&(V[B]=A[B])}return V}(A,T),o=function j(A,W){return function R(A){if(Array.isArray(A))return A}(A)||function P(A,W){var V=null==A?null:typeof Symbol<"u"&&A[Symbol.iterator]||A["@@iterator"];if(null!=V){var B,h,b,o,u=[],c=!0,y=!1;try{if(b=(V=V.call(A)).next,0===W){if(Object(V)!==V)return;c=!1}else for(;!(c=(B=b.call(V)).done)&&(u.push(B.value),u.length!==W);c=!0);}catch(x){y=!0,h=x}finally{try{if(!c&&null!=V.return&&(o=V.return(),Object(o)!==o))return}finally{if(y)throw h}}return u}}(A,W)||function K(A,W){if(A){if("string"==typeof A)return L(A,W);var V=Object.prototype.toString.call(A).slice(8,-1);if("Object"===V&&A.constructor&&(V=A.constructor.name),"Map"===V||"Set"===V)return Array.from(A);if("Arguments"===V||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return L(A,W)}}(A,W)||function k(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(W.split("-"),2),u=o[0],c=o[1],y="".concat(V).concat((0,m.Z)(B??u)).concat(c?(0,m.Z)(c):""),x="".concat(O.WT.style).concat(V,"_").concat(W);return new g.Z(y,x,h)}},319:(_,H,r)=>{"use strict";r.d(H,{Qu:()=>R,VT:()=>w,Zt:()=>$,li:()=>I});var g=r(6062),m=r(1801),O=r(19);function T(A){return function L(A){if(Array.isArray(A))return P(A)}(A)||function K(A){if(typeof Symbol<"u"&&null!=A[Symbol.iterator]||null!=A["@@iterator"])return Array.from(A)}(A)||function k(A,W){if(A){if("string"==typeof A)return P(A,W);var V=Object.prototype.toString.call(A).slice(8,-1);if("Object"===V&&A.constructor&&(V=A.constructor.name),"Map"===V||"Set"===V)return Array.from(A);if("Arguments"===V||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(V))return P(A,W)}}(A)||function j(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function P(A,W){(null==W||W>A.length)&&(W=A.length);for(var V=0,B=new Array(W);V<W;V++)B[V]=A[V];return B}var R=O.N2.map(function(A){return(0,g.Z)(O.Sp,A)}),w=O.GX.map(function(A){return(0,m.Z)(O.Sp,A)}),I=w.reduce(function(A,W){return A[W.attrName]=W,A},{}),$=[].concat(T(R),T(w)).reduce(function(A,W){return A[W.keyName]=W,A},{})},19:(_,H,r)=>{"use strict";r.d(H,{GX:()=>O,N2:()=>m,Sp:()=>g,bc:()=>T});var g={name:"table",allowedTags:["TABLE"]},m=["height","width"],O=["height","width","text-align","background-color","border","border-style","border-width","border-color"],T=new Set([].concat(m,O))},8536:(_,H,r)=>{"use strict";function g(){return Math.random().toString(36).slice(2,6)}r.d(H,{Z:()=>g})},1969:(_,H,r)=>{"use strict";r.d(H,{KA:()=>tt,Lv:()=>ct,RM:()=>gt,SC:()=>mt,iD:()=>q,pj:()=>D,xD:()=>et,xJ:()=>rt,xs:()=>at,zW:()=>C});var g=r(6446),m=r(4122),O=r(3553),T=r(5874),j=r(1342),k=r(319),K=r(8536),L=r(2795);function P(E){return(P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(l){return typeof l}:function(l){return l&&"function"==typeof Symbol&&l.constructor===Symbol&&l!==Symbol.prototype?"symbol":typeof l})(E)}function R(E,l){return function $(E){if(Array.isArray(E))return E}(E)||function I(E,l){var i=null==E?null:typeof Symbol<"u"&&E[Symbol.iterator]||E["@@iterator"];if(null!=i){var v,d,N,st,St=[],Ut=!0,Ft=!1;try{if(N=(i=i.call(E)).next,0===l){if(Object(i)!==i)return;Ut=!1}else for(;!(Ut=(v=N.call(i)).done)&&(St.push(v.value),St.length!==l);Ut=!0);}catch(Zt){Ft=!0,d=Zt}finally{try{if(!Ut&&null!=i.return&&(st=i.return(),Object(st)!==st))return}finally{if(Ft)throw d}}return St}}(E,l)||V(E,l)||function w(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function V(E,l){if(E){if("string"==typeof E)return b(E,l);var i=Object.prototype.toString.call(E).slice(8,-1);if("Object"===i&&E.constructor&&(i=E.constructor.name),"Map"===i||"Set"===i)return Array.from(E);if("Arguments"===i||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(i))return b(E,l)}}function b(E,l){(null==l||l>E.length)&&(l=E.length);for(var i=0,v=new Array(l);i<l;i++)v[i]=E[i];return v}function o(E,l){if(!(E instanceof l))throw new TypeError("Cannot call a class as a function")}function u(E,l){for(var i=0;i<l.length;i++){var v=l[i];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(E,y(v.key),v)}}function c(E,l,i){return l&&u(E.prototype,l),i&&u(E,i),Object.defineProperty(E,"prototype",{writable:!1}),E}function y(E){var l=function x(E,l){if("object"!==P(E)||null===E)return E;var i=E[Symbol.toPrimitive];if(void 0!==i){var v=i.call(E,l||"default");if("object"!==P(v))return v;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===l?String:Number)(E)}(E,"string");return"symbol"===P(l)?l:String(l)}function M(){return M=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(l,i,v){var d=function Z(E,l){for(;!Object.prototype.hasOwnProperty.call(E,l)&&null!==(E=X(E)););return E}(l,i);if(d){var N=Object.getOwnPropertyDescriptor(d,i);return N.get?N.get.call(arguments.length<3?l:v):N.value}},M.apply(this,arguments)}function Y(E,l){if("function"!=typeof l&&null!==l)throw new TypeError("Super expression must either be null or a function");E.prototype=Object.create(l&&l.prototype,{constructor:{value:E,writable:!0,configurable:!0}}),Object.defineProperty(E,"prototype",{writable:!1}),l&&ft(E,l)}function ft(E,l){return(ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(v,d){return v.__proto__=d,v})(E,l)}function ht(E){var l=function Ot(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var d,v=X(E);if(l){var N=X(this).constructor;d=Reflect.construct(v,arguments,N)}else d=v.apply(this,arguments);return function pt(E,l){if(l&&("object"===P(l)||"function"==typeof l))return l;if(void 0!==l)throw new TypeError("Derived constructors may only return object or undefined");return function it(E){if(void 0===E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return E}(E)}(this,d)}}function X(E){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(i){return i.__proto__||Object.getPrototypeOf(i)})(E)}var vt=["row","cell"],ot="data-table-";function F(E,l,i){E.forEachAt(l,i,function(v,d,N){v.deleteAt(d,N)})}var C=function(E){Y(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return c(i,[{key:"optimize",value:function(){var d,N=this.domNode.getAttribute("".concat(ot,"row"));if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var st=this.domNode,St={row:N};Object.keys(j.Du).forEach(function(Qt){var re=st.dataset[Qt.toLowerCase()];re&&(St[Qt]=re)}),this.wrap(this.statics.requiredContainer.blotName,St)}for(var Ut=arguments.length,Ft=new Array(Ut),Zt=0;Zt<Ut;Zt++)Ft[Zt]=arguments[Zt];(d=M(X(i.prototype),"optimize",this)).call.apply(d,[this].concat(Ft))}},{key:"format",value:function(d,N){"tableCellLine"===d&&null===N&&(N=this.formats().tableCellLine);var St=vt.indexOf(d)>-1;if(St||k.li[d]||j.Du[d]){var Ft,Zt,Ut="data-".concat(St?"table-":"").concat(d.toLowerCase());(0,L.Z)(this.domNode,Ut,N),j.Du[d]&&(null===(Ft=this.cell())||void 0===Ft||Ft.format(d,N)),k.li[d]&&(null===(Zt=this.cell())||void 0===Zt||null===(Zt=Zt.table())||void 0===Zt||Zt.format(d,N))}else M(X(i.prototype),"format",this).call(this,d,N)}},{key:"cell",value:function(){return"row"in this.parent?this.parent:null}}],[{key:"create",value:function(d){var N=M(X(i),"create",this).call(this,d);return vt.forEach(function(st){var St,Ut="row"===st?ct:_t;N.setAttribute("".concat(ot).concat(st),null!==(St=d?.[st])&&void 0!==St?St:Ut())}),N}},{key:"formats",value:function(d){return vt.reduce(function(N,st){var St="".concat(ot).concat(st);return d.hasAttribute(St)&&(N[st]=d.getAttribute(St)||void 0),N},{})}}]),i}(g.ZP);C.blotName="tableCellLine",C.className="ql-table-cell-line",C.tagName="P";var q=function(E){Y(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return c(i)}(C);q.blotName="tableHeaderCellLine",q.className="ql-table-header-cell-line";var Q=function(E){Y(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return c(i,[{key:"format",value:function(d,N){var st;null===(st=j.Du[d])||void 0===st||st.add(this.domNode,N)}},{key:"checkMerge",value:function(){if(M(X(i.prototype),"checkMerge",this).call(this)&&null!=this.next.children.head){var d=this.children.head.formats()[this.children.head.statics.blotName],N=this.children.tail.formats()[this.children.tail.statics.blotName],st=this.next.children.head.formats()[this.next.children.head.statics.blotName],St=this.next.children.tail.formats()[this.next.children.tail.statics.blotName];return d.cell===N.cell&&d.cell===st.cell&&d.cell===St.cell}return!1}},{key:"formats",value:function(){return i.cellFormats(this.domNode)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var d;return null===(d=this.row())||void 0===d?void 0:d.table()}},{key:"optimize",value:function(){var d,N,st=null!==(d=this.domNode.getAttribute("".concat(ot,"row")))&&void 0!==d?d:this.domNode.getAttribute("".concat(ot,"header-row"));this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName,{row:st});for(var St=arguments.length,Ut=new Array(St),Ft=0;Ft<St;Ft++)Ut[Ft]=arguments[Ft];(N=M(X(i.prototype),"optimize",this)).call.apply(N,[this].concat(Ut))}},{key:"deleteAt",value:function(d,N){F(this.children,d,N)}}],[{key:"create",value:function(d){var N=M(X(i),"create",this).call(this,d);return d&&Object.keys(d).forEach(function(st){var St;null===(St=j.Du[st])||void 0===St||St.add(N,d[st])}),N}},{key:"cellFormats",value:function(d){var st,N={};return(d.hasAttribute("".concat(ot,"row"))||d.hasAttribute("".concat(ot,"header-row")))&&(N.row=null!==(st=d.getAttribute("".concat(ot,"row")))&&void 0!==st?st:d.getAttribute("".concat(ot,"header-row"))),Object.keys(j.Du).forEach(function(St){var Ut,Ft=null===(Ut=d.firstElementChild)||void 0===Ut?void 0:Ut.dataset[St.toLowerCase()];Ft&&(N[St]=Ft)}),N}}]),i}(O.Z);Q.tagName=["TD","TH"];var D=function(E){Y(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return c(i,[{key:"format",value:function(d,N){"row"===d?(this.domNode.setAttribute("".concat(ot).concat(d),N),this.children.forEach(function(st){st.format(d,N)})):M(X(i.prototype),"format",this).call(this,d,N)}}],[{key:"create",value:function(d){var N=M(X(i),"create",this).call(this,d),st="".concat(ot,"row");return null!=d&&d.row&&N.setAttribute(st,d.row),N}}]),i}(Q);D.blotName="tableCell",D.className="ql-table-data-cell",D.dataAttribute="".concat(ot,"row"),D.defaultChild=C;var at=function(E){Y(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return c(i,[{key:"format",value:function(d,N){"row"===d?(this.domNode.setAttribute("".concat(ot).concat(d),N),this.children.forEach(function(st){st.format(d,N)})):M(X(i.prototype),"format",this).call(this,d,N)}}],[{key:"create",value:function(d){var N=M(X(i),"create",this).call(this,d),st="".concat(ot,"header-row");return d&&d.row&&N.setAttribute(st,d.row),N}}]),i}(Q);at.tagName=["TH","TD"],at.className="ql-table-header-cell",at.blotName="tableHeaderCell",at.dataAttribute="".concat(ot,"header-row"),at.defaultChild=q;var dt=function(E){Y(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return c(i,[{key:"checkMerge",value:function(){if(M(X(i.prototype),"checkMerge",this).call(this)&&(0,T.Z)(this.next.children.head)){var d="row",N=this.children.head.formats(),st=this.children.tail.formats(),St=this.next.children.head.formats(),Ut=this.next.children.tail.formats();return N[d]===st[d]&&N[d]===St[d]&&N[d]===Ut[d]}return!1}},{key:"optimize",value:function(){for(var d,N=this,st=arguments.length,St=new Array(st),Ut=0;Ut<st;Ut++)St[Ut]=arguments[Ut];(d=M(X(i.prototype),"optimize",this)).call.apply(d,[this].concat(St));var Ft=this.childFormatName;this.children.forEach(function(Zt){if((0,T.Z)(Zt.next)){var Qt=Zt.formats(),re=Zt.next.formats();if(Qt[Ft]!==re[Ft]){var bt=N.splitAfter(Zt);bt&&bt.optimize(),N.prev&&N.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var d;return null===(d=this.parent)||void 0===d?void 0:d.parent}},{key:"formats",value:function(){var d={},N="".concat(ot,"row");return this.domNode.hasAttribute(N)&&(d[N]=this.domNode.getAttribute(N)),d}}],[{key:"create",value:function(d){var N=M(X(i),"create",this).call(this,d);return null!=d&&d.row&&N.setAttribute("".concat(ot,"row"),d.row),N}}]),i}(O.Z);dt.tagName="TR";var mt=function(E){Y(i,E);var l=ht(i);function i(v,d){var N;return o(this,i),(N=l.call(this,v,d)).childFormatName="table",N}return c(i,[{key:"deleteAt",value:function(d,N){F(this.children,d,N)}}]),i}(dt);mt.blotName="tableRow";var tt=function(E){Y(i,E);var l=ht(i);function i(v,d){var N;return o(this,i),(N=l.call(this,v,d)).childFormatName="tableHeaderCell",N}return c(i)}(dt);tt.blotName="tableHeaderRow";var J=function(E){Y(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return c(i,[{key:"optimize",value:function(){var d;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var N,st=(null===(N=this.children.head.children.head.children)||void 0===N||null===(N=N.head)||void 0===N?void 0:N.domNode)||null,St={};st&&Object.keys(k.li).forEach(function(Qt){var re=st.dataset[Qt.toLowerCase()];re&&(St[Qt]=re)}),this.wrap(this.statics.requiredContainer.blotName,St)}for(var Ut=arguments.length,Ft=new Array(Ut),Zt=0;Zt<Ut;Zt++)Ft[Zt]=arguments[Zt];(d=M(X(i.prototype),"optimize",this)).call.apply(d,[this].concat(Ft))}}]),i}(O.Z),gt=function(E){Y(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return c(i)}(J);gt.blotName="tableBody",gt.tagName="TBODY";var et=function(E){Y(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return c(i)}(J);et.blotName="tableHeader",et.tagName="THEAD";var rt=function(E){Y(i,E);var l=ht(i);function i(){return o(this,i),l.apply(this,arguments)}return c(i,[{key:"balanceCells",value:function(){var d=this.descendants(tt),N=this.descendants(mt),st=this.getMaxTableColCount(d,N);this.balanceRows(st,d,at),this.balanceRows(st,N,D)}},{key:"getMaxTableColCount",value:function(d,N){return Math.max(this.getMaxRowColCount(d),this.getMaxRowColCount(N))}},{key:"getMaxRowColCount",value:function(d){return Math.max.apply(Math,function A(E){return function h(E){if(Array.isArray(E))return b(E)}(E)||function B(E){if(typeof Symbol<"u"&&null!=E[Symbol.iterator]||null!=E["@@iterator"])return Array.from(E)}(E)||V(E)||function W(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(d.map(function(N){return N.children.length})))}},{key:"balanceRows",value:function(d,N,st){var St=this;N.forEach(function(Ut){new Array(d-Ut.children.length).fill(0).forEach(function(){var Ft;(0,T.Z)(Ut.children.head)&&(Ft=st.cellFormats(Ut.children.head.domNode));var Zt=St.scroll.create(st.blotName,Ft),Qt=St.scroll.create(st.allowedChildren[0].blotName,Ft);Zt.appendChild(Qt),Ut.appendChild(Zt),Zt.optimize()})})}},{key:"cells",value:function(d){return this.rows().map(function(N){return N.children.at(d)})}},{key:"deleteColumn",value:function(d){var N=this;[et,gt].forEach(function(st){var Ft=R(N.descendants(st),1)[0];!(0,T.Z)(Ft)||!(0,T.Z)(Ft.children.head)||Ft.children.forEach(function(Zt){var Qt=Zt.children.at(d);(0,T.Z)(Qt)&&Qt.remove()})})}},{key:"insertColumn",value:function(d){var N=this;[et,gt].forEach(function(st){var Ft=R(N.descendants(st),1)[0];if((0,T.Z)(Ft)&&(0,T.Z)(Ft.children.head)){var Zt=st===et?at:D,Qt=st===et?q:C;Ft.children.forEach(function(re){var bt=re.children.at(d),wt=Qt.formats(re.children.head.children.head.domNode),Nt=N.scroll.create(Zt.blotName,{row:wt.row}),Dt=N.scroll.create(Qt.blotName,{row:wt.row}),Mt=N.scroll.create(m.Z.blotName);Dt.appendChild(Mt),Nt.appendChild(Dt),re.insertBefore(Nt,bt)})}})}},{key:"insertRow",value:function(d){var N=this,Ut=R(this.descendants(gt),1)[0];if((0,T.Z)(Ut)&&(0,T.Z)(Ut.children.head)){var Ft=ct(),Zt=this.scroll.create(mt.blotName,{row:Ft});Ut.children.head.children.forEach(function(){var re=N.scroll.create(D.blotName,{row:Ft}),bt=N.scroll.create(C.blotName,{row:Ft}),wt=N.scroll.create(m.Z.blotName);bt.appendChild(wt),re.appendChild(bt),Zt.appendChild(re)});var Qt=Ut.children.at(d);Ut.insertBefore(Zt,Qt)}}},{key:"insertHeaderRow",value:function(){var d=this,St=R(this.descendants(et),1)[0],Zt=R(this.descendants(gt),1)[0];if(!(0,T.Z)(St)&&(0,T.Z)(Zt)&&(0,T.Z)(Zt.children.head)){var Qt=ct(),re=this.scroll.create(et.blotName),bt=this.scroll.create(tt.blotName),wt=this.children.at(0);re.appendChild(bt),Zt.children.head.children.forEach(function(){var Nt=d.scroll.create(at.blotName,{row:Qt}),Dt=d.scroll.create(q.blotName,{row:Qt}),Mt=d.scroll.create(m.Z.blotName);Dt.appendChild(Mt),Nt.appendChild(Dt),bt.appendChild(Nt),Nt.optimize()}),this.insertBefore(re,wt)}}},{key:"rows",value:function(){var d=this.children.head;return(0,T.Z)(d)?d.children.map(function(N){return N}):[]}},{key:"formats",value:function(){var d={},N=this.cells()[0].domNode.firstElementChild;return Object.keys(k.li).forEach(function(st){var St=N?.dataset[st.toLowerCase()];St&&(d[st]=St)}),d}},{key:"format",value:function(d,N){var st=k.li[d];if(st){var St="data-".concat(d.toLowerCase());this.cells().forEach(function(Ut){(0,L.Z)(Ut.children.head.domNode,St,N)}),st.add(this.domNode,N)}}}],[{key:"create",value:function(d){var N=M(X(i),"create",this).call(this,d);return d&&Object.keys(d).forEach(function(st){var St;null===(St=k.li[st])||void 0===St||St.add(N,d[st])}),N}}]),i}(O.Z);function ct(){return"row-".concat((0,K.Z)())}function _t(){return"cell-".concat((0,K.Z)())}rt.blotName="tableContainer",rt.tagName="TABLE",rt.allowedChildren=[et,gt],gt.requiredContainer=rt,et.requiredContainer=rt,gt.allowedChildren=[mt],mt.requiredContainer=gt,mt.allowedChildren=[D],D.requiredContainer=mt,C.requiredContainer=D,D.allowedChildren=[C],et.allowedChildren=[tt],tt.requiredContainer=et,q.requiredContainer=at,at.allowedChildren=[q],tt.allowedChildren=[at],at.requiredContainer=tt},2795:(_,H,r)=>{"use strict";function g(m,O,T){T?m.setAttribute(O,T):m.removeAttribute(O)}r.d(H,{Z:()=>g})},5635:(_,H,r)=>{"use strict";r.d(H,{HI:()=>gt,PF:()=>et,ZP:()=>J,fw:()=>E});var g=r(9098),m=r.n(g),O=r(1233),T=r(6446),j=r(281),k=r(3122),K=r(7094),L=r(715),P=r(7898),R=r(7309),w=r(6039),I=r(4048),$=r(5832),A=r(1629),W=r(3071),V=r(2141);function B(bt,wt){var Nt=Object.keys(bt);if(Object.getOwnPropertySymbols){var Dt=Object.getOwnPropertySymbols(bt);wt&&(Dt=Dt.filter(function(Mt){return Object.getOwnPropertyDescriptor(bt,Mt).enumerable})),Nt.push.apply(Nt,Dt)}return Nt}function h(bt){for(var wt=1;wt<arguments.length;wt++){var Nt=null!=arguments[wt]?arguments[wt]:{};wt%2?B(Object(Nt),!0).forEach(function(Dt){o(bt,Dt,Nt[Dt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(bt,Object.getOwnPropertyDescriptors(Nt)):B(Object(Nt)).forEach(function(Dt){Object.defineProperty(bt,Dt,Object.getOwnPropertyDescriptor(Nt,Dt))})}return bt}function b(bt){return(b="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(wt){return typeof wt}:function(wt){return wt&&"function"==typeof Symbol&&wt.constructor===Symbol&&wt!==Symbol.prototype?"symbol":typeof wt})(bt)}function o(bt,wt,Nt){return(wt=pt(wt))in bt?Object.defineProperty(bt,wt,{value:Nt,enumerable:!0,configurable:!0,writable:!0}):bt[wt]=Nt,bt}function u(bt,wt){return function Z(bt){if(Array.isArray(bt))return bt}(bt)||function M(bt,wt){var Nt=null==bt?null:typeof Symbol<"u"&&bt[Symbol.iterator]||bt["@@iterator"];if(null!=Nt){var Dt,Mt,$t,kt,Kt=[],Vt=!0,se=!1;try{if($t=(Nt=Nt.call(bt)).next,0===wt){if(Object(Nt)!==Nt)return;Vt=!1}else for(;!(Vt=(Dt=$t.call(Nt)).done)&&(Kt.push(Dt.value),Kt.length!==wt);Vt=!0);}catch(de){se=!0,Mt=de}finally{try{if(!Vt&&null!=Nt.return&&(kt=Nt.return(),Object(kt)!==kt))return}finally{if(se)throw Mt}}return Kt}}(bt,wt)||function y(bt,wt){if(bt){if("string"==typeof bt)return x(bt,wt);var Nt=Object.prototype.toString.call(bt).slice(8,-1);if("Object"===Nt&&bt.constructor&&(Nt=bt.constructor.name),"Map"===Nt||"Set"===Nt)return Array.from(bt);if("Arguments"===Nt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Nt))return x(bt,wt)}}(bt,wt)||function c(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function x(bt,wt){(null==wt||wt>bt.length)&&(wt=bt.length);for(var Nt=0,Dt=new Array(wt);Nt<wt;Nt++)Dt[Nt]=bt[Nt];return Dt}function ft(bt,wt){for(var Nt=0;Nt<wt.length;Nt++){var Dt=wt[Nt];Dt.enumerable=Dt.enumerable||!1,Dt.configurable=!0,"value"in Dt&&(Dt.writable=!0),Object.defineProperty(bt,pt(Dt.key),Dt)}}function pt(bt){var wt=function it(bt,wt){if("object"!==b(bt)||null===bt)return bt;var Nt=bt[Symbol.toPrimitive];if(void 0!==Nt){var Dt=Nt.call(bt,wt||"default");if("object"!==b(Dt))return Dt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===wt?String:Number)(bt)}(bt,"string");return"symbol"===b(wt)?wt:String(wt)}function X(bt,wt){return(X=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Dt,Mt){return Dt.__proto__=Mt,Dt})(bt,wt)}function ot(bt){if(void 0===bt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return bt}function C(bt){return(C=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Nt){return Nt.__proto__||Object.getPrototypeOf(Nt)})(bt)}var q=(0,k.Z)("quill:clipboard"),at=[[3,re],[3,Ft],["br",function d(bt,wt){return et(wt,"\n")||wt.insert("\n"),wt}],[1,Ft],[1,function v(bt,wt,Nt){var Dt=Nt.query(bt);if(null==Dt)return wt;if(Dt.prototype instanceof O.EmbedBlot){var Mt={},$t=Dt.value(bt);if(null!=$t)return Mt[Dt.blotName]=$t,(new(m())).insert(Mt,Dt.formats(bt,Nt))}else if(Dt.prototype instanceof O.BlockBlot&&!et(wt,"\n")&&wt.insert("\n"),"function"==typeof Dt.formats)return gt(wt,Dt.blotName,Dt.formats(bt,Nt));return wt}],[1,function i(bt,wt,Nt){if(-1===["TD","TH","TR","TABLE"].indexOf(bt.tagName)){var Dt=O.Attributor.keys(bt),Mt=O.ClassAttributor.keys(bt),$t=O.StyleAttributor.keys(bt),kt={};if(Dt.concat(Mt).concat($t).forEach(function(Kt){var Vt=Nt.query(Kt,O.Scope.ATTRIBUTE);null!=Vt&&(kt[Vt.attrName]=Vt.value(bt),kt[Vt.attrName])||(null!=(Vt=mt[Kt])&&(Vt.attrName===Kt||Vt.keyName===Kt)&&(kt[Vt.attrName]=Vt.value(bt)||void 0),null!=(Vt=tt[Kt])&&(Vt.attrName===Kt||Vt.keyName===Kt)&&(kt[(Vt=tt[Kt]).attrName]=Vt.value(bt)||void 0))}),Object.keys(kt).length>0)return gt(wt,kt)}return wt}],[1,function Zt(bt,wt){var Nt={},Dt=bt.style||{};return["height","width"].forEach(function(Mt){var $t=-1!==["TD","TH"].indexOf(bt.tagName),kt="TABLE"===bt.tagName;if(($t||kt)&&Dt[Mt]){var Kt="".concat(kt?"table":"cell").concat((0,V.Z)(Mt));Nt[Kt]=Dt[Mt]}}),"italic"===Dt.fontStyle&&(Nt.italic=!0),-1!==Dt.textDecoration.indexOf("underline")&&(Nt.underline=!0),-1!==Dt.textDecoration.indexOf("line-through")&&(Nt.strike=!0),(0===Dt.fontWeight.indexOf("bold")||parseInt(Dt.fontWeight,10)>=700)&&(Nt.bold=!0),Object.keys(Nt).length>0&&(wt=gt(wt,Nt)),parseFloat(Dt.textIndent||0)>0?(new(m())).insert("\t").concat(wt):wt}],["li",function St(bt,wt,Nt){var Dt=Nt.query(bt);if(null==Dt||"list"!==Dt.blotName||!et(wt,"\n"))return wt;for(var Mt=-1,$t=bt.parentNode;null!=$t;)-1!==["OL","UL"].indexOf($t.tagName)&&(Mt+=1),$t=$t.parentNode;return Mt<=0?wt:wt.reduce(function(kt,Kt){return Kt.attributes&&"number"==typeof Kt.attributes.indent?kt.push(Kt):kt.insert(Kt.insert,h({indent:Mt},Kt.attributes||{}))},new(m()))}],["ol, ul",function Ut(bt,wt){return gt(wt,"list","OL"===bt.tagName?"ordered":"bullet")}],["pre",function N(bt,wt,Nt){var Dt=Nt.query("code-block");return gt(wt,"code-block",!Dt||Dt.formats(bt,Nt))}],["b",l.bind(l,"bold")],["i",l.bind(l,"italic")],["strike",l.bind(l,"strike")],["style",function st(){return new(m())}]],dt=[re,Ft],mt=[L.if,I.IF].reduce(function(bt,wt){return bt[wt.keyName]=wt,bt},{}),tt=[L.HE,P.w,w.HQ,I.H8,$.H,A.Z].reduce(function(bt,wt){return bt[wt.keyName]=wt,bt},{}),J=function(bt){!function Ot(bt,wt){if("function"!=typeof wt&&null!==wt)throw new TypeError("Super expression must either be null or a function");bt.prototype=Object.create(wt&&wt.prototype,{constructor:{value:bt,writable:!0,configurable:!0}}),Object.defineProperty(bt,"prototype",{writable:!1}),wt&&X(bt,wt)}(Nt,bt);var wt=function vt(bt){var wt=function F(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Mt,Dt=C(bt);if(wt){var $t=C(this).constructor;Mt=Reflect.construct(Dt,arguments,$t)}else Mt=Dt.apply(this,arguments);return function lt(bt,wt){if(wt&&("object"===b(wt)||"function"==typeof wt))return wt;if(void 0!==wt)throw new TypeError("Derived constructors may only return object or undefined");return ot(bt)}(this,Mt)}}(Nt);function Nt(Dt,Mt){var $t,kt;return function Y(bt,wt){if(!(bt instanceof wt))throw new TypeError("Cannot call a class as a function")}(this,Nt),(kt=wt.call(this,Dt,Mt)).quill.root.addEventListener("copy",function(Kt){return kt.onCaptureCopy(Kt,!1)}),kt.quill.root.addEventListener("cut",function(Kt){return kt.onCaptureCopy(Kt,!0)}),kt.quill.root.addEventListener("paste",kt.onCapturePaste.bind(ot(kt))),kt.matchers=[],kt.tableBlots=null!==($t=Mt.tableBlots)&&void 0!==$t?$t:[],kt.multilineParagraph=!1,at.concat(kt.options.matchers).forEach(function(Kt){var Vt=u(Kt,2);kt.addMatcher(Vt[0],Vt[1])}),kt}return function ht(bt,wt,Nt){wt&&ft(bt.prototype,wt),Nt&&ft(bt,Nt),Object.defineProperty(bt,"prototype",{writable:!1})}(Nt,[{key:"addMatcher",value:function(Mt,$t){this.matchers.push([Mt,$t])}},{key:"addTableBlot",value:function(Mt){this.tableBlots.push(Mt)}},{key:"convert",value:function(Mt){var $t=Mt.html,kt=Mt.text,Kt=Mt.keepLastNewLine,Vt=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Vt[R.ZP.blotName]?(new(m())).insert(kt,o({},R.ZP.blotName,Vt[R.ZP.blotName])):$t?this.applyMatchers($t,Kt,Vt):this.applyTextMatchers(kt)}},{key:"applyTextMatchers",value:function(){var Mt=this,$t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";if(0===$t.length)return new(m());var kt=this.prepareTextMatching(),Kt=this.quill.root.ownerDocument.createElement("div");Kt.textContent=$t;var Vt=Kt.childNodes[0];return kt.reduce(function(se,de){return de(Vt,se,Mt.quill.scroll)},new(m()))}},{key:"applyMatchers",value:function(Mt,$t){var kt=this,Kt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},se=(new DOMParser).parseFromString(Mt,"text/html").body,de=new WeakMap,ge=u(this.prepareMatching(se,de),2),yt=E(this.quill.scroll,se,ge[0],ge[1],de,this.multilineParagraph);return $t||!et(yt,"\n")||null!=yt.ops[yt.ops.length-1].attributes&&!Object.values(Kt).some(function(At){return kt.tableBlots.includes(At)})?yt:yt.compose((new(m())).retain(yt.length()-1).delete(1))}},{key:"dangerouslyPasteHTML",value:function(Mt,$t){var kt=arguments.length>2&&void 0!==arguments[2]?arguments[2]:j.ZP.sources.API;if("string"==typeof Mt){var Kt=this.convert({html:Mt,text:""});this.quill.setContents(Kt,$t),this.quill.setSelection(0,j.ZP.sources.SILENT)}else{var Vt=this.convert({html:$t,text:""});this.quill.updateContents((new(m())).retain(Mt).concat(Vt),kt),this.quill.setSelection(Mt+Vt.length(),j.ZP.sources.SILENT)}}},{key:"onCaptureCopy",value:function(Mt){var $t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!Mt.defaultPrevented){if(!Mt.clipboardData)return;Mt.preventDefault();var Vt=u(this.quill.selection.getRange(),1)[0];if(null!=Vt){var se=this.onCopy(Vt,$t),de=se.html;Mt.clipboardData.setData("text/plain",se.text),Mt.clipboardData.setData("text/html",de),$t&&(this.raiseCallback("onCut",Mt),(0,W.WQ)({range:Vt,quill:this.quill}))}}}},{key:"onCapturePaste",value:function(Mt){if(!Mt.defaultPrevented&&this.quill.isEnabled()){if(this.raiseCallback("onPaste",Mt),!Mt.clipboardData)return;Mt.preventDefault();var $t=this.quill.getSelection(!0);if(null!=$t){var kt=Mt.clipboardData.getData("text/html"),Kt=Array.from(Mt.clipboardData.files||[]);if(!kt&&Kt.length>0)return void this.quill.uploader.upload($t,Kt);if(kt&&Kt.length>0){var se=(new DOMParser).parseFromString(kt,"text/html").body;if(1===se.childElementCount&&"IMG"===se.firstElementChild.tagName)return void this.quill.uploader.upload($t,Kt)}var me=Mt.clipboardData.getData("text/plain");this.onPaste($t,{html:kt,text:me,keepLastNewLine:!0})}}}},{key:"raiseCallback",value:function(Mt,$t){var kt=this.options[Mt];kt&&"function"==typeof kt&&kt($t)}},{key:"onCopy",value:function(Mt){var $t=Mt.index,kt=Mt.length,Kt=this.quill.getText($t,kt);return{html:this.quill.getSemanticHTML($t,kt),text:Kt}}},{key:"onPaste",value:function(Mt,$t){var kt=$t.text,Kt=$t.html,Vt=$t.keepLastNewLine,se=this.quill.getFormat(Mt.index),de=this.convert({text:kt,html:Kt,keepLastNewLine:Vt},se);q.log("onPaste",de,{text:kt,html:Kt});var me=(new(m())).retain(Mt.index).delete(Mt.length).concat(de);this.quill.updateContents(me,j.ZP.sources.USER),this.quill.setSelection(me.length()-Mt.length,j.ZP.sources.SILENT),this.quill.scrollIntoView()}},{key:"prepareMatching",value:function(Mt,$t){var kt=[],Kt=[];return this.matchers.forEach(function(Vt){var se=u(Vt,2),de=se[0],me=se[1];switch(de){case 3:Kt.push(me);break;case 1:kt.push(me);break;default:Array.from(Mt.querySelectorAll(de)).forEach(function(ge){$t.has(ge)?$t.get(ge).push(me):$t.set(ge,[me])})}}),[kt,Kt]}},{key:"prepareTextMatching",value:function(){var Mt=[Qt];return this.matchers.forEach(function($t){var kt=u($t,2),Kt=kt[0],Vt=kt[1];-1===dt.indexOf(Vt)&&3===Kt&&Mt.push(Vt)}),Mt}}]),Nt}(K.Z);function gt(bt,wt,Nt){return"object"===b(wt)?Object.keys(wt).reduce(function(Dt,Mt){return gt(Dt,Mt,wt[Mt])},bt):bt.reduce(function(Dt,Mt){if(Mt.attributes&&Mt.attributes[wt])return Dt.push(Mt);var $t=Nt?o({},wt,Nt):{};return Dt.insert(Mt.insert,h(h({},$t),Mt.attributes))},new(m()))}function et(bt,wt){for(var Nt="",Dt=bt.ops.length-1;Dt>=0&&Nt.length<wt.length;--Dt){var Mt=bt.ops[Dt];if("string"!=typeof Mt.insert)break;Nt=Mt.insert+Nt}return Nt.slice(-1*wt.length)===wt}function rt(bt){return 0!==bt.childNodes.length&&-1!==["address","article","blockquote","canvas","dd","div","dl","dt","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","header","iframe","li","main","nav","ol","output","p","pre","section","table","td","tr","ul","video"].indexOf(bt.tagName.toLowerCase())}J.DEFAULTS={matchers:[]};var ct=new WeakMap;function _t(bt){return null!=bt&&(ct.has(bt)||ct.set(bt,"PRE"===bt.tagName||_t(bt.parentNode)),ct.get(bt))}function E(bt,wt,Nt,Dt,Mt,$t){return wt.nodeType===wt.TEXT_NODE?Dt.reduce(function(kt,Kt){return Kt(wt,kt,bt)},new(m())):wt.nodeType===wt.ELEMENT_NODE?Array.from(wt.childNodes||[]).reduce(function(kt,Kt,Vt,se){var de=E(bt,Kt,Nt,Dt,Mt,$t),me=Vt<se.length-1&&se[Vt+1],ge=me&&me.nodeType===wt.ELEMENT_NODE&&["ul","ol"].indexOf(me.tagName.toLowerCase())>-1;Kt.nodeType===wt.ELEMENT_NODE&&($t="br"===Kt.tagName.toLowerCase(),de=Nt.reduce(function(be,yt){return yt(Kt,be,bt)},de),de=(Mt.get(Kt)||[]).reduce(function(be,yt){return yt(Kt,be,bt)},de));var xe=kt.concat(de);return $t&&ge&&xe.insert("\n"),xe},new(m())):new(m())}function l(bt,wt,Nt){return gt(Nt,bt,!0)}function Ft(bt,wt,Nt){if(!et(wt,"\n")){if(rt(bt))return wt.insert("\n");if(wt.length()>0&&bt.nextSibling)for(var Dt=bt.nextSibling;null!=Dt;){if(rt(Dt))return wt.insert("\n");var Mt=Nt.query(Dt);if(Mt?.prototype instanceof T.i2)return wt.insert("\n");Dt=Dt.firstChild}}return wt}function Qt(bt,wt){var Nt=bt.data||"";return Nt=Nt.replace(/\r\n/g,"\n"),wt.insert(Nt)}function re(bt,wt){var Nt=bt.data;if("O:P"===bt.parentNode.tagName)return wt.insert(Nt.trim());if(0===Nt.trim().length&&-1!==Nt.indexOf("\n"))return wt;if(!_t(bt)){var Dt=function($t,kt){var Kt=kt.replace(/[^\u00a0]/g,"");return Kt.length<1&&$t?" ":Kt};Nt=(Nt=Nt.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,Dt.bind(Dt,!0)),(null==bt.previousSibling&&rt(bt.parentNode)||null!=bt.previousSibling&&rt(bt.previousSibling))&&(Nt=Nt.replace(/^\s+/,Dt.bind(Dt,!1))),(null==bt.nextSibling&&rt(bt.parentNode)||null!=bt.nextSibling&&rt(bt.nextSibling))&&(Nt=Nt.replace(/\s+$/,Dt.bind(Dt,!1)))}return wt.insert(Nt)}},2613:(_,H,r)=>{"use strict";r.d(H,{Z:()=>h});var g=r(1233),m=r(281),O=r(7094),T=r(8034);function j(c){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(c)}function K(c,y){for(var x=0;x<y.length;x++){var M=y[x];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(c,P(M.key),M)}}function P(c){var y=function R(c,y){if("object"!==j(c)||null===c)return c;var x=c[Symbol.toPrimitive];if(void 0!==x){var M=x.call(c,y||"default");if("object"!==j(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(c)}(c,"string");return"symbol"===j(y)?y:String(y)}function I(c,y){return(I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,Z){return M.__proto__=Z,M})(c,y)}function W(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}function B(c){return(B=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)})(c)}var h=function(c){!function w(c,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(y&&y.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),y&&I(c,y)}(x,c);var y=function $(c){var y=function V(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Z,M=B(c);if(y){var Y=B(this).constructor;Z=Reflect.construct(M,arguments,Y)}else Z=M.apply(this,arguments);return function A(c,y){if(y&&("object"===j(y)||"function"==typeof y))return y;if(void 0!==y)throw new TypeError("Derived constructors may only return object or undefined");return W(c)}(this,Z)}}(x);function x(M,Z){var Y;return function k(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")}(this,x),(Y=y.call(this,M,Z)).lastRecorded=0,Y.ignoreChange=!1,Y.clear(),Y.quill.on(m.ZP.events.EDITOR_CHANGE,function(ft,ht,pt,it){ft!==m.ZP.events.TEXT_CHANGE||Y.ignoreChange||(Y.options.userOnly&&it!==m.ZP.sources.USER?Y.transform(ht):Y.record(ht,pt))}),Y.quill.keyboard.addBinding({key:"z",shortKey:!0},Y.undo.bind(W(Y))),Y.quill.keyboard.addBinding({key:"z",shortKey:!0,shiftKey:!0},Y.redo.bind(W(Y))),(0,T.Z)()&&/Win/i.test(navigator.platform)&&Y.quill.keyboard.addBinding({key:"y",shortKey:!0},Y.redo.bind(W(Y))),Y.quill.root.addEventListener("beforeinput",function(ft){"historyUndo"===ft.inputType?(Y.undo(),ft.preventDefault()):"historyRedo"===ft.inputType&&(Y.redo(),ft.preventDefault())}),Y}return function L(c,y,x){y&&K(c.prototype,y),x&&K(c,x),Object.defineProperty(c,"prototype",{writable:!1})}(x,[{key:"change",value:function(Z,Y){if(0!==this.stack[Z].length){var ft=this.stack[Z].pop(),ht=this.quill.getContents(),pt=ft.invert(ht);this.stack[Y].push(pt),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(ft,m.ZP.sources.USER),this.ignoreChange=!1;var it=function u(c,y){var x=y.reduce(function(Z,Y){return Z+(Y.delete||0)},0),M=y.length()-x;return function o(c,y){var x=y.ops[y.ops.length-1];return null!=x&&(null!=x.insert?"string"==typeof x.insert&&x.insert.endsWith("\n"):null!=x.attributes&&Object.keys(x.attributes).some(function(M){return null!=c.query(M,g.Scope.BLOCK)}))}(c,y)&&(M-=1),M}(this.quill.scroll,ft);this.quill.setSelection(it)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(Z,Y){if(0!==Z.ops.length){this.stack.redo=[];var ft=Z.invert(Y),ht=Date.now();if(this.lastRecorded+this.options.delay>ht&&this.stack.undo.length>0){var pt=this.stack.undo.pop();ft=ft.compose(pt)}else this.lastRecorded=ht;0!==ft.length()&&(this.stack.undo.push(ft),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift())}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(Z){b(this.stack.undo,Z),b(this.stack.redo,Z)}},{key:"undo",value:function(){this.change("undo","redo")}}]),x}(O.Z);function b(c,y){for(var x=y,M=c.length-1;M>=0;M-=1){var Z=c[M];c[M]=x.transform(Z,!0),x=Z.transform(x),0===c[M].length()&&c.splice(M,1)}}h.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1}},3071:(_,H,r)=>{"use strict";r.d(H,{ZP:()=>q,WQ:()=>mt});var g=r(8805),m=r.n(g),O=r(2722),T=r.n(O),j=r(9098),k=r.n(j),K=r(1233),L=r(281),P=r(3122),R=r(7094),w=r(8034);function $(tt){return($="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(J){return typeof J}:function(J){return J&&"function"==typeof Symbol&&J.constructor===Symbol&&J!==Symbol.prototype?"symbol":typeof J})(tt)}function A(tt,J){return function b(tt){if(Array.isArray(tt))return tt}(tt)||function h(tt,J){var gt=null==tt?null:typeof Symbol<"u"&&tt[Symbol.iterator]||tt["@@iterator"];if(null!=gt){var et,rt,ct,_t,E=[],l=!0,i=!1;try{if(ct=(gt=gt.call(tt)).next,0===J){if(Object(gt)!==gt)return;l=!1}else for(;!(l=(et=ct.call(gt)).done)&&(E.push(et.value),E.length!==J);l=!0);}catch(v){i=!0,rt=v}finally{try{if(!l&&null!=gt.return&&(_t=gt.return(),Object(_t)!==_t))return}finally{if(i)throw rt}}return E}}(tt,J)||function V(tt,J){if(tt){if("string"==typeof tt)return B(tt,J);var gt=Object.prototype.toString.call(tt).slice(8,-1);if("Object"===gt&&tt.constructor&&(gt=tt.constructor.name),"Map"===gt||"Set"===gt)return Array.from(tt);if("Arguments"===gt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(gt))return B(tt,J)}}(tt,J)||function W(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function B(tt,J){(null==J||J>tt.length)&&(J=tt.length);for(var gt=0,et=new Array(J);gt<J;gt++)et[gt]=tt[gt];return et}function o(tt,J){var gt=Object.keys(tt);if(Object.getOwnPropertySymbols){var et=Object.getOwnPropertySymbols(tt);J&&(et=et.filter(function(rt){return Object.getOwnPropertyDescriptor(tt,rt).enumerable})),gt.push.apply(gt,et)}return gt}function u(tt){for(var J=1;J<arguments.length;J++){var gt=null!=arguments[J]?arguments[J]:{};J%2?o(Object(gt),!0).forEach(function(et){c(tt,et,gt[et])}):Object.getOwnPropertyDescriptors?Object.defineProperties(tt,Object.getOwnPropertyDescriptors(gt)):o(Object(gt)).forEach(function(et){Object.defineProperty(tt,et,Object.getOwnPropertyDescriptor(gt,et))})}return tt}function c(tt,J,gt){return(J=Z(J))in tt?Object.defineProperty(tt,J,{value:gt,enumerable:!0,configurable:!0,writable:!0}):tt[J]=gt,tt}function x(tt,J){for(var gt=0;gt<J.length;gt++){var et=J[gt];et.enumerable=et.enumerable||!1,et.configurable=!0,"value"in et&&(et.writable=!0),Object.defineProperty(tt,Z(et.key),et)}}function Z(tt){var J=function Y(tt,J){if("object"!==$(tt)||null===tt)return tt;var gt=tt[Symbol.toPrimitive];if(void 0!==gt){var et=gt.call(tt,J||"default");if("object"!==$(et))return et;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===J?String:Number)(tt)}(tt,"string");return"symbol"===$(J)?J:String(J)}function ht(tt,J){return(ht=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(et,rt){return et.__proto__=rt,et})(tt,J)}function vt(tt){return(vt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(gt){return gt.__proto__||Object.getPrototypeOf(gt)})(tt)}var lt=(0,P.Z)("quill:keyboard"),ot={backspace:"backspace",tab:"tab",enter:"enter",escape:"escape",pageup:"pageUp",pagedown:"pageDown",end:"end",home:"home",arrowleft:"leftArrow",arrowup:"upArrow",arrowright:"rightArrow",arrowdown:"downArrow",delete:"del"," ":"space","*":"asterisk","-":"minus",alt:"alt",control:"control",shift:"shift",left:"leftArrow",up:"upArrow",right:"rightArrow",down:"downArrow",multiply:"asterisk",spacebar:"space",del:"del",subtract:"minus",esc:"escape"},F={8:"backspace",9:"tab",13:"enter",27:"escape",33:"pageUp",34:"pageDown",35:"end",36:"home",37:"leftArrow",38:"upArrow",39:"rightArrow",40:"downArrow",46:"del",32:"space",106:"asterisk",109:"minus",189:"minus",173:"minus",16:"shift",17:"control",18:"alt"},C=(0,w.Z)()&&/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",q=function(tt){!function ft(tt,J){if("function"!=typeof J&&null!==J)throw new TypeError("Super expression must either be null or a function");tt.prototype=Object.create(J&&J.prototype,{constructor:{value:tt,writable:!0,configurable:!0}}),Object.defineProperty(tt,"prototype",{writable:!1}),J&&ht(tt,J)}(gt,tt);var J=function pt(tt){var J=function X(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var rt,et=vt(tt);if(J){var ct=vt(this).constructor;rt=Reflect.construct(et,arguments,ct)}else rt=et.apply(this,arguments);return function it(tt,J){if(J&&("object"===$(J)||"function"==typeof J))return J;if(void 0!==J)throw new TypeError("Derived constructors may only return object or undefined");return function Ot(tt){if(void 0===tt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return tt}(tt)}(this,rt)}}(gt);function gt(et,rt){var ct;return function y(tt,J){if(!(tt instanceof J))throw new TypeError("Cannot call a class as a function")}(this,gt),(ct=J.call(this,et,rt)).bindings={},Object.keys(ct.options.bindings).forEach(function(_t){ct.options.bindings[_t]&&ct.addBinding(ct.options.bindings[_t])}),ct.addInternalBindings(),ct.listen(),ct}return function M(tt,J,gt){J&&x(tt.prototype,J),gt&&x(tt,gt),Object.defineProperty(tt,"prototype",{writable:!1})}(gt,[{key:"addInternalBindings",value:function(){var rt=this;this.quill.once(L.ZP.events.CONTENT_SETTED,function(){rt.addBinding({key:"enter",shiftKey:null},rt.handleEnter),rt.addBinding({key:"enter",metaKey:null,ctrlKey:null,altKey:null},function(){}),(0,w.Z)()&&/Firefox/i.test(navigator.userAgent)?(rt.addBinding({key:"backspace"},{collapsed:!0},rt.handleBackspace),rt.addBinding({key:"del"},{collapsed:!0},rt.handleDelete)):(rt.addBinding({key:"backspace"},{collapsed:!0,prefix:/^.?$/},rt.handleBackspace),rt.addBinding({key:"del"},{collapsed:!0,suffix:/^.?$/},rt.handleDelete)),rt.addBinding({key:"backspace"},{collapsed:!1},rt.handleDeleteRange),rt.addBinding({key:"del"},{collapsed:!1},rt.handleDeleteRange),rt.addBinding({key:"backspace",altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},rt.handleBackspace)})}},{key:"addBinding",value:function(rt){var ct=this,_t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},E=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},l=function dt(tt){if("string"==typeof tt||"number"==typeof tt)tt={key:tt};else{if("object"!==$(tt))return null;tt=m()(tt)}return tt.shortKey&&(tt[C]=tt.shortKey,delete tt.shortKey),tt}(rt);if(null!=l){"function"==typeof _t&&(_t={handler:_t}),"function"==typeof E&&(E={handler:E});var i=l.which?"which":"key";(Array.isArray(l[i])?l[i]:[l[i]]).forEach(function(d){var N=u(u(u({},l),{},{key:d},_t),E);ct.bindings[N.key]=ct.bindings[N.key]||[],ct.bindings[N.key].push(N)})}else lt.warn("Attempted to add invalid keyboard binding",l)}},{key:"listen",value:function(){var rt=this;this.quill.root.addEventListener("keydown",function(ct){if(!ct.defaultPrevented&&!ct.isComposing){rt.raiseOnKeydownCallback(ct);var _t=gt.normalizeKeyName(ct),l=(rt.bindings[_t]||[]).concat(rt.bindings[ct.which]||[]).filter(function(kt){return gt.match(ct,kt)});if(0!==l.length){var i=rt.quill.getSelection();if(null!=i&&rt.quill.hasFocus()){var d=A(rt.quill.getLine(i.index),2),N=d[0],st=d[1],Ut=A(rt.quill.getLeaf(i.index),2),Ft=Ut[0],Zt=Ut[1],re=A(0===i.length?[Ft,Zt]:rt.quill.getLeaf(i.index+i.length),2),bt=re[0],wt=re[1],Nt=Ft instanceof K.TextBlot?Ft.value().slice(0,Zt):"",Dt=bt instanceof K.TextBlot?bt.value().slice(wt):"",Mt={collapsed:0===i.length,empty:0===i.length&&N.length()<=1,format:rt.quill.getFormat(i),line:N,offset:st,prefix:Nt,suffix:Dt,event:ct},$t=!1;l.some(function(kt){if(null!=kt.collapsed&&kt.collapsed!==Mt.collapsed||null!=kt.empty&&kt.empty!==Mt.empty||null!=kt.offset&&kt.offset!==Mt.offset)return!1;if(Array.isArray(kt.format)){if(kt.format.every(function(se){return null==Mt.format[se]}))return!1}else if("object"===$(kt.format)&&!Object.keys(kt.format).every(function(se){return!0===kt.format[se]?null!=Mt.format[se]:!1===kt.format[se]?null==Mt.format[se]:T()(kt.format[se],Mt.format[se])}))return!1;if(null!=kt.prefix&&!kt.prefix.test(Mt.prefix)||null!=kt.suffix&&!kt.suffix.test(Mt.suffix))return!1;var Kt=kt.handler.call(rt,i,Mt,kt),Vt=Kt?.preventAfterAllMatches;return($t=!0!==Kt||Vt)&&!Vt}),$t&&ct.preventDefault()}}}})}},{key:"raiseOnKeydownCallback",value:function(rt){var ct=this.options.onKeydown;ct&&"function"==typeof ct&&ct(rt)}},{key:"handleBackspace",value:function(rt,ct){var _t=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(ct.prefix)?2:1;if(!(0===rt.index||this.quill.getLength()<=1)){var E={},v=A(this.quill.getLine(rt.index),1)[0],d=(new(k())).retain(rt.index-_t).delete(_t);if(0===ct.offset){var St=A(this.quill.getLine(rt.index-1),1)[0];if(St){var Ut="block"===St.statics.blotName&&St.length()<=1,Ft=St.statics.blotName.startsWith("table"),Zt="block"===v.statics.blotName&&v.length()<=1;if(Ft&&(Zt&&v.remove(),this.quill.setSelection(rt.index-1)),!Ut&&!Ft){var Qt=v.formats(),re=this.quill.getFormat(rt.index-1,1);if(E=j.AttributeMap.diff(Qt,re)||{},Object.keys(E).length>0){var bt=(new(k())).retain(rt.index+v.length()-2).retain(1,E);d=d.compose(bt)}}}}this.quill.updateContents(d,L.ZP.sources.USER),this.quill.focus()}}},{key:"handleDelete",value:function(rt,ct){var _t=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(ct.suffix)?2:1;if(!(rt.index>=this.quill.getLength()-_t)){var E={},v=A(this.quill.getLine(rt.index),1)[0],d=(new(k())).retain(rt.index).delete(_t);if(ct.offset>=v.length()-1){var St=A(this.quill.getLine(rt.index+1),1)[0];if(St){var Ut=v.formats(),Ft=this.quill.getFormat(rt.index,1);E=j.AttributeMap.diff(Ut,Ft)||{},Object.keys(E).length>0&&(d=d.retain(St.length()-1).retain(1,E))}}this.quill.updateContents(d,L.ZP.sources.USER),this.quill.focus()}}},{key:"handleDeleteRange",value:function(rt,ct){this.raiseOnKeydownCallback(ct.event),mt({range:rt,quill:this.quill}),this.quill.focus()}},{key:"handleEnter",value:function(rt,ct){var _t=this,E=Object.keys(ct.format).reduce(function(st,St){return _t.quill.scroll.query(St,K.Scope.BLOCK)&&!Array.isArray(ct.format[St])&&(st[St]=ct.format[St]),st},{}),l=(new(k())).retain(rt.index).delete(rt.length).insert("\n",E);this.quill.updateContents(l,L.ZP.sources.USER),this.quill.setSelection(rt.index+1,L.ZP.sources.SILENT),this.quill.focus();var d=A(this.quill.getLine(rt.index+1),1)[0],N=function I(tt){var gt=window.innerHeight,et=tt.getBoundingClientRect();return et.y<0||!(et.bottom>=gt)&&null}(d.domNode);null!==N&&d.domNode.scrollIntoView(N),Object.keys(ct.format).forEach(function(st){null==E[st]&&(Array.isArray(ct.format[st])||"code"===st||"link"===st||(_t.raiseOnKeydownCallback(ct.event),_t.quill.format(st,ct.format[st],L.ZP.sources.USER)))})}}],[{key:"match",value:function(rt,ct){return!["altKey","ctrlKey","metaKey","shiftKey"].some(function(_t){return!!ct[_t]!==rt[_t]&&null!==ct[_t]})&&(ct.key===gt.normalizeKeyName(rt)||ct.key===rt.which)}},{key:"normalizeKeyName",value:function(rt){var ct=rt.key,E=!!ct,l=E?ct:rt.which;return l&&(l=E?ot[l.toLowerCase()]||l:F[l]||String.fromCharCode(l)),l}}]),gt}(R.Z);function Q(tt){return{key:"tab",shiftKey:!tt,format:{"code-block":!0},handler:function(gt){var et=this.quill.scroll.query("code-block"),rt=0===gt.length?this.quill.getLines(gt.index,1):this.quill.getLines(gt),ct=gt.index,_t=gt.length;rt.forEach(function(E,l){tt?(E.insertAt(0,et.TAB),0===l?ct+=et.TAB.length:_t+=et.TAB.length):0===E.domNode.textContent.indexOf(et.TAB)&&(E.deleteAt(0,et.TAB.length),0===l?ct-=et.TAB.length:_t-=et.TAB.length)}),this.quill.update(L.ZP.sources.USER),this.quill.setSelection(ct,_t,L.ZP.sources.SILENT)}}}function D(tt,J){return c(c({key:tt,shiftKey:J,altKey:null},"leftArrow"===tt?"prefix":"suffix",/^$/),"handler",function(rt){var ct=rt.index;return"rightArrow"===tt&&(ct+=rt.length+1),!(A(this.quill.getLeaf(ct),1)[0]instanceof K.EmbedBlot&&("leftArrow"===tt?J?this.quill.setSelection(rt.index-1,rt.length+1,L.ZP.sources.USER):this.quill.setSelection(rt.index-1,L.ZP.sources.USER):J?this.quill.setSelection(rt.index,rt.length+1,L.ZP.sources.USER):this.quill.setSelection(rt.index+rt.length+1,L.ZP.sources.USER),1))})}function at(tt,J){return{key:tt[0],which:J,shortKey:!0,handler:function(et,rt){return this.quill.format(tt,!rt.format[tt],L.ZP.sources.USER),{preventAfterAllMatches:!0}}}}function mt(tt){var J=tt.quill,gt=tt.range,et=J.getLines(gt),rt={};if(et.length>1){var ct=et[0].formats(),_t=et[et.length-1].formats();rt=j.AttributeMap.diff(_t,ct)||{}}J.deleteText(gt,L.ZP.sources.USER),Object.keys(rt).length>0&&J.formatLine(gt.index,1,rt,L.ZP.sources.USER),J.setSelection(gt.index,L.ZP.sources.SILENT)}q.DEFAULTS={bindings:{bold:at("bold",66),italic:at("italic",73),underline:at("underline",85),indent:{key:"tab",format:["blockquote","indent","list"],handler:function(J,gt){return!(!gt.collapsed||0===gt.offset)||(this.quill.format("indent","+1",L.ZP.sources.USER),!1)}},outdent:{key:"tab",shiftKey:!0,format:["blockquote","indent","list"],handler:function(J,gt){return!(!gt.collapsed||0===gt.offset)||(this.quill.format("indent","-1",L.ZP.sources.USER),!1)}},"outdent backspace":{key:"backspace",collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(J,gt){null!=gt.format.indent?this.quill.format("indent","-1",L.ZP.sources.USER):null!=gt.format.list&&this.quill.format("list",!1,L.ZP.sources.USER)}},"indent code-block":Q(!0),"outdent code-block":Q(!1),"remove tab":{key:"tab",shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(J){this.quill.deleteText(J.index-1,1,L.ZP.sources.USER)}},tab:{key:"tab",handler:function(J,gt){var et=gt.format;if(et.tableCellLine||et.tableHeaderCellLine||et.tableHeaderCell||et.table)return!0;this.quill.history.cutoff();var ct=(new(k())).retain(J.index).delete(J.length).insert("\t");return this.quill.updateContents(ct,L.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index+1,L.ZP.sources.SILENT),!1}},"blockquote empty enter":{key:"enter",collapsed:!0,format:["blockquote"],empty:!0,handler:function(){this.quill.format("blockquote",!1,L.ZP.sources.USER)}},"list empty enter":{key:"enter",collapsed:!0,format:["list"],empty:!0,handler:function(J,gt){var et={list:!1};gt.format.indent&&(et.indent=!1),this.quill.formatLine(J.index,J.length,et,L.ZP.sources.USER)}},"checklist enter":{key:"enter",collapsed:!0,format:{list:"checked"},handler:function(J){var et=A(this.quill.getLine(J.index),2),rt=et[0],ct=et[1],_t=u(u({},rt.formats()),{},{list:"checked"}),E=(new(k())).retain(J.index).insert("\n",_t).retain(rt.length()-ct-1).retain(1,{list:"unchecked"});this.quill.updateContents(E,L.ZP.sources.USER),this.quill.setSelection(J.index+1,L.ZP.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:"enter",collapsed:!0,format:["header"],suffix:/^$/,handler:function(J,gt){var rt=A(this.quill.getLine(J.index),2),ct=rt[0],_t=rt[1],E=(new(k())).retain(J.index).insert("\n",gt.format).retain(ct.length()-_t-1).retain(1,{header:null});this.quill.updateContents(E,L.ZP.sources.USER),this.quill.setSelection(J.index+1,L.ZP.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:"space",shiftKey:null,collapsed:!0,format:{"code-block":!1,blockquote:!1,table:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(J,gt){if(null==this.quill.scroll.query("list"))return!0;var l,et=gt.prefix.length,ct=A(this.quill.getLine(J.index),2),_t=ct[0],E=ct[1];if(E>et)return!0;switch(gt.prefix.trim()){case"[]":case"[ ]":l="unchecked";break;case"[x]":l="checked";break;case"-":case"*":l="bullet";break;default:l="ordered"}this.quill.insertText(J.index," ",L.ZP.sources.USER),this.quill.history.cutoff();var i=(new(k())).retain(J.index-E).delete(et+1).retain(_t.length()-2-E).retain(1,{list:l});return this.raiseOnKeydownCallback(gt.event),this.quill.updateContents(i,L.ZP.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(J.index-et,L.ZP.sources.SILENT),!1}},"code exit":{key:"enter",collapsed:!0,format:["code-block"],prefix:/^$/,suffix:/^\s*$/,handler:function(J){for(var et=A(this.quill.getLine(J.index),2),rt=et[0],ct=et[1],_t=2,E=rt;null!=E&&E.length()<=1&&E.formats()["code-block"];)if(E=E.prev,(_t-=1)<=0){var l=(new(k())).retain(J.index+rt.length()-ct-2).retain(1,{"code-block":null}).delete(1);return this.quill.updateContents(l,L.ZP.sources.USER),this.quill.setSelection(J.index-1,L.ZP.sources.SILENT),!1}return!0}},"embed left":D("leftArrow",!1),"embed left shift":D("leftArrow",!0),"embed right":D("rightArrow",!1),"embed right shift":D("rightArrow",!0)}}},9072:(_,H,r)=>{"use strict";r.d(H,{ZP:()=>Q});var g=r(9098),m=r.n(g),O=r(1233),T=r(6603),j=r(281),k=r(7094),K=r(6446),L=r(4122),P=r(3657),R=r(8222),w=r(7309),I=r(5635),$=r(8034);function A(D){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(at){return typeof at}:function(at){return at&&"function"==typeof Symbol&&at.constructor===Symbol&&at!==Symbol.prototype?"symbol":typeof at})(D)}function W(D,at,dt){return(at=M(at))in D?Object.defineProperty(D,at,{value:dt,enumerable:!0,configurable:!0,writable:!0}):D[at]=dt,D}function b(D,at){(null==at||at>D.length)&&(at=D.length);for(var dt=0,mt=new Array(at);dt<at;dt++)mt[dt]=D[dt];return mt}function c(D,at){if(!(D instanceof at))throw new TypeError("Cannot call a class as a function")}function y(D,at){for(var dt=0;dt<at.length;dt++){var mt=at[dt];mt.enumerable=mt.enumerable||!1,mt.configurable=!0,"value"in mt&&(mt.writable=!0),Object.defineProperty(D,M(mt.key),mt)}}function x(D,at,dt){return at&&y(D.prototype,at),dt&&y(D,dt),Object.defineProperty(D,"prototype",{writable:!1}),D}function M(D){var at=function Z(D,at){if("object"!==A(D)||null===D)return D;var dt=D[Symbol.toPrimitive];if(void 0!==dt){var mt=dt.call(D,at||"default");if("object"!==A(mt))return mt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===at?String:Number)(D)}(D,"string");return"symbol"===A(at)?at:String(at)}function Y(D,at){if("function"!=typeof at&&null!==at)throw new TypeError("Super expression must either be null or a function");D.prototype=Object.create(at&&at.prototype,{constructor:{value:D,writable:!0,configurable:!0}}),Object.defineProperty(D,"prototype",{writable:!1}),at&&ft(D,at)}function ft(D,at){return(ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(mt,tt){return mt.__proto__=tt,mt})(D,at)}function ht(D){var at=function Ot(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var tt,mt=lt(D);if(at){var J=lt(this).constructor;tt=Reflect.construct(mt,arguments,J)}else tt=mt.apply(this,arguments);return function pt(D,at){if(at&&("object"===A(at)||"function"==typeof at))return at;if(void 0!==at)throw new TypeError("Derived constructors may only return object or undefined");return it(D)}(this,tt)}}function it(D){if(void 0===D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return D}function X(){return X=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(at,dt,mt){var tt=function vt(D,at){for(;!Object.prototype.hasOwnProperty.call(D,at)&&null!==(D=lt(D)););return D}(at,dt);if(tt){var J=Object.getOwnPropertyDescriptor(tt,dt);return J.get?J.get.call(arguments.length<3?at:mt):J.value}},X.apply(this,arguments)}function lt(D){return(lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(dt){return dt.__proto__||Object.getPrototypeOf(dt)})(D)}var ot=new O.ClassAttributor("code-token","hljs",{scope:O.Scope.INLINE}),F=function(D){Y(dt,D);var at=ht(dt);function dt(mt,tt,J){var gt;return c(this,dt),gt=at.call(this,mt,tt,J),ot.add(gt.domNode,J),gt}return x(dt,[{key:"format",value:function(tt,J){tt!==dt.blotName?X(lt(dt.prototype),"format",this).call(this,tt,J):J?ot.add(this.domNode,J):(ot.remove(this.domNode),this.domNode.classList.remove(this.statics.className))}},{key:"optimize",value:function(){for(var tt,J=arguments.length,gt=new Array(J),et=0;et<J;et++)gt[et]=arguments[et];(tt=X(lt(dt.prototype),"optimize",this)).call.apply(tt,[this].concat(gt)),ot.value(this.domNode)||this.unwrap()}}],[{key:"formats",value:function(tt,J){for(;null!=tt&&tt!==J.domNode;){if(tt.classList&&tt.classList.contains(w.ZP.className))return X(lt(dt),"formats",this).call(this,tt,J);tt=tt.parentNode}}}]),dt}(T.Z);F.blotName="code-token",F.className="ql-token";var C=function(D){Y(dt,D);var at=ht(dt);function dt(){return c(this,dt),at.apply(this,arguments)}return x(dt,[{key:"format",value:function(tt,J){tt===this.statics.blotName&&J?this.domNode.setAttribute("data-language",J):X(lt(dt.prototype),"format",this).call(this,tt,J)}},{key:"replaceWith",value:function(tt,J){return this.formatAt(0,this.length(),F.blotName,!1),X(lt(dt.prototype),"replaceWith",this).call(this,tt,J)}}],[{key:"create",value:function(tt){var J=X(lt(dt),"create",this).call(this,tt);return"string"==typeof tt&&J.setAttribute("data-language",tt),J}},{key:"formats",value:function(tt){return tt.getAttribute("data-language")||"plain"}},{key:"register",value:function(){}}]),dt}(w.ZP),q=function(D){Y(dt,D);var at=ht(dt);function dt(){return c(this,dt),at.apply(this,arguments)}return x(dt,[{key:"attach",value:function(){X(lt(dt.prototype),"attach",this).call(this),this.forceNext=!1,this.scroll.emitMount(this)}},{key:"format",value:function(tt,J){tt===C.blotName&&(this.forceNext=!0,this.children.forEach(function(gt){gt.format(tt,J)}))}},{key:"formatAt",value:function(tt,J,gt,et){gt===C.blotName&&(this.forceNext=!0),X(lt(dt.prototype),"formatAt",this).call(this,tt,J,gt,et)}},{key:"highlight",value:function(tt){var J=this,gt=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(null!=this.children.head){var et=Array.from(this.domNode.childNodes).filter(function(l){return l!==J.uiNode}),rt="".concat(et.map(function(l){return l.textContent}).join("\n"),"\n"),ct=C.formats(this.children.head.domNode);if(gt||this.forceNext||this.cachedText!==rt){if(rt.trim().length>0||null==this.cachedText){var _t=this.children.reduce(function(l,i){return l.concat((0,K.qz)(i,!1))},new(m())),E=tt(rt,ct);_t.diff(E).reduce(function(l,i){var v=i.retain,d=i.attributes;return v?(d&&Object.keys(d).forEach(function(N){-1!==[C.blotName,F.blotName].indexOf(N)&&J.formatAt(l,v,N,d[N])}),l+v):l},0)}this.cachedText=rt,this.forceNext=!1}}}},{key:"html",value:function(tt,J){var rt=function V(D,at){return function u(D){if(Array.isArray(D))return D}(D)||function o(D,at){var dt=null==D?null:typeof Symbol<"u"&&D[Symbol.iterator]||D["@@iterator"];if(null!=dt){var mt,tt,J,gt,et=[],rt=!0,ct=!1;try{if(J=(dt=dt.call(D)).next,0===at){if(Object(dt)!==dt)return;rt=!1}else for(;!(rt=(mt=J.call(dt)).done)&&(et.push(mt.value),et.length!==at);rt=!0);}catch(_t){ct=!0,tt=_t}finally{try{if(!rt&&null!=dt.return&&(gt=dt.return(),Object(gt)!==gt))return}finally{if(ct)throw tt}}return et}}(D,at)||function h(D,at){if(D){if("string"==typeof D)return b(D,at);var dt=Object.prototype.toString.call(D).slice(8,-1);if("Object"===dt&&D.constructor&&(dt=D.constructor.name),"Map"===dt||"Set"===dt)return Array.from(D);if("Arguments"===dt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(dt))return b(D,at)}}(D,at)||function B(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(this.children.find(tt),1)[0],ct=rt?C.formats(rt.domNode):"plain";return'<pre data-language="'.concat(ct,'">\n').concat(this.code(tt,J),"\n</pre>")}},{key:"optimize",value:function(tt){if(X(lt(dt.prototype),"optimize",this).call(this,tt),null!=this.parent&&null!=this.children.head&&null!=this.uiNode){var J=C.formats(this.children.head.domNode);J!==this.uiNode.value&&(this.uiNode.value=J)}}}]),dt}(w.se);q.allowedChildren=[C],C.requiredContainer=q,C.allowedChildren=[F,P.Z,R.Z,L.Z];var Q=function(D){Y(dt,D);var at=ht(dt);function dt(mt,tt){var J;if(c(this,dt),null==(J=at.call(this,mt,tt)).options.hljs)throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");return J.languages=J.options.languages.reduce(function(gt,et){return gt[et.key]=!0,gt},{}),J.highlightBlot=J.highlightBlot.bind(it(J)),J.initListener(),J.initTimer(),J}return x(dt,[{key:"initListener",value:function(){var tt=this;this.quill.on(j.ZP.events.SCROLL_BLOT_MOUNT,function(J){if(J instanceof q){var gt=tt.quill.root.ownerDocument.createElement("select");tt.options.languages.forEach(function(et){var rt=et.key,ct=et.label,_t=gt.ownerDocument.createElement("option");_t.textContent=ct,_t.setAttribute("value",rt),gt.appendChild(_t)}),gt.addEventListener("change",function(){J.format(C.blotName,gt.value),tt.quill.root.focus(),tt.highlight(J,!0)}),null==J.uiNode&&(J.attachUI(gt),J.children.head&&(gt.value=C.formats(J.children.head.domNode)))}})}},{key:"initTimer",value:function(){var tt=this,J=null;this.quill.on(j.ZP.events.SCROLL_OPTIMIZE,function(){clearTimeout(J),J=setTimeout(function(){tt.highlight(),J=null},tt.options.interval)})}},{key:"highlight",value:function(){var tt=this,J=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,gt=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this.quill.selection.composing){this.quill.update(j.ZP.sources.USER);var et=this.quill.getSelection();(null==J?this.quill.scroll.descendants(q):[J]).forEach(function(ct){ct.highlight(tt.highlightBlot,gt)}),this.quill.update(j.ZP.sources.SILENT),null!=et&&this.quill.setSelection(et,j.ZP.sources.SILENT)}}},{key:"highlightBlot",value:function(tt){var J=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"plain";if("plain"===(J=this.languages[J]?J:"plain"))return(0,R.b)(tt).split("\n").reduce(function(et,rt,ct){return 0!==ct&&et.insert("\n",W({},w.ZP.blotName,J)),et.insert(rt)},new(m()));var gt=this.quill.root.ownerDocument.createElement("div");return gt.classList.add(w.ZP.className),gt.innerHTML=this.options.hljs.highlight(J,tt).value,(0,I.fw)(this.quill.scroll,gt,[function(et,rt){var ct=ot.value(et);return ct?rt.compose((new(m())).retain(rt.length(),W({},F.blotName,ct))):rt}],[function(et,rt){return et.data.split("\n").reduce(function(ct,_t,E){return 0!==E&&ct.insert("\n",W({},w.ZP.blotName,J)),ct.insert(_t)},rt)}],new WeakMap)}}],[{key:"register",value:function(){j.ZP.register(F,!0),j.ZP.register(C,!0),j.ZP.register(q,!0)}}]),dt}(k.Z);Q.DEFAULTS={hljs:(0,$.Z)()?window.hljs:null,interval:1e3,languages:[{key:"plain",label:"Plain"},{key:"bash",label:"Bash"},{key:"cpp",label:"C++"},{key:"cs",label:"C#"},{key:"css",label:"CSS"},{key:"diff",label:"Diff"},{key:"xml",label:"HTML/XML"},{key:"java",label:"Java"},{key:"javascript",label:"Javascript"},{key:"markdown",label:"Markdown"},{key:"php",label:"PHP"},{key:"python",label:"Python"},{key:"ruby",label:"Ruby"},{key:"sql",label:"SQL"}]}},867:(_,H,r)=>{"use strict";r.d(H,{Z:()=>C});var g=r(9098),m=r.n(g),O=r(1233),T=r(281),j=r(7094),k=r(1969),K=r(5874),L=r(5635),P=r(9466),R=r(7896),w=r(319),I=r(1342),$=r(2480);function A(q){return(A="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(Q){return typeof Q}:function(Q){return Q&&"function"==typeof Symbol&&Q.constructor===Symbol&&Q!==Symbol.prototype?"symbol":typeof Q})(q)}function W(q,Q,D){return(Q=M(Q))in q?Object.defineProperty(q,Q,{value:D,enumerable:!0,configurable:!0,writable:!0}):q[Q]=D,q}function V(q,Q){return function u(q){if(Array.isArray(q))return q}(q)||function o(q,Q){var D=null==q?null:typeof Symbol<"u"&&q[Symbol.iterator]||q["@@iterator"];if(null!=D){var at,dt,mt,tt,J=[],gt=!0,et=!1;try{if(mt=(D=D.call(q)).next,0===Q){if(Object(D)!==D)return;gt=!1}else for(;!(gt=(at=mt.call(D)).done)&&(J.push(at.value),J.length!==Q);gt=!0);}catch(rt){et=!0,dt=rt}finally{try{if(!gt&&null!=D.return&&(tt=D.return(),Object(tt)!==tt))return}finally{if(et)throw dt}}return J}}(q,Q)||function h(q,Q){if(q){if("string"==typeof q)return b(q,Q);var D=Object.prototype.toString.call(q).slice(8,-1);if("Object"===D&&q.constructor&&(D=q.constructor.name),"Map"===D||"Set"===D)return Array.from(q);if("Arguments"===D||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(D))return b(q,Q)}}(q,Q)||function B(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function b(q,Q){(null==Q||Q>q.length)&&(Q=q.length);for(var D=0,at=new Array(Q);D<Q;D++)at[D]=q[D];return at}function y(q,Q){for(var D=0;D<Q.length;D++){var at=Q[D];at.enumerable=at.enumerable||!1,at.configurable=!0,"value"in at&&(at.writable=!0),Object.defineProperty(q,M(at.key),at)}}function M(q){var Q=function Z(q,Q){if("object"!==A(q)||null===q)return q;var D=q[Symbol.toPrimitive];if(void 0!==D){var at=D.call(q,Q||"default");if("object"!==A(at))return at;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===Q?String:Number)(q)}(q,"string");return"symbol"===A(Q)?Q:String(Q)}function ft(q,Q){return(ft=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(at,dt){return at.__proto__=dt,at})(q,Q)}function X(q){return(X=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(D){return D.__proto__||Object.getPrototypeOf(D)})(q)}var vt=[null,null,null,-1],ot=function(q){!function Y(q,Q){if("function"!=typeof Q&&null!==Q)throw new TypeError("Super expression must either be null or a function");q.prototype=Object.create(Q&&Q.prototype,{constructor:{value:q,writable:!0,configurable:!0}}),Object.defineProperty(q,"prototype",{writable:!1}),Q&&ft(q,Q)}(D,q);var Q=function ht(q){var Q=function Ot(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var dt,at=X(q);if(Q){var mt=X(this).constructor;dt=Reflect.construct(at,arguments,mt)}else dt=at.apply(this,arguments);return function pt(q,Q){if(Q&&("object"===A(Q)||"function"==typeof Q))return Q;if(void 0!==Q)throw new TypeError("Derived constructors may only return object or undefined");return function it(q){if(void 0===q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return q}(q)}(this,dt)}}(D);function D(){var at;!function c(q,Q){if(!(q instanceof Q))throw new TypeError("Cannot call a class as a function")}(this,D);for(var dt=arguments.length,mt=new Array(dt),tt=0;tt<dt;tt++)mt[tt]=arguments[tt];return(at=Q.call.apply(Q,[this].concat(mt))).tableBlots=[k.zW.blotName,k.iD.blotName],at.tableBlots.forEach(function(J){at.quill.editor.addImmediateFormat(J)}),at.integrateClipboard(),at.addKeyboardHandlers(),at.listenBalanceCells(),at}return function x(q,Q,D){Q&&y(q.prototype,Q),D&&y(q,D),Object.defineProperty(q,"prototype",{writable:!1})}(D,[{key:"integrateClipboard",value:function(){var dt=this;this.tableBlots.forEach(function(mt){dt.quill.clipboard.addTableBlot(mt)}),this.quill.clipboard.addMatcher("td, th",F),this.quill.clipboard.addMatcher("table",(0,R.F)(w.Zt)),this.quill.clipboard.addMatcher("td, th",(0,R.a)(I.h6))}},{key:"addKeyboardHandlers",value:function(){var dt=this,mt=D.keyboardBindings;Object.keys(mt).forEach(function(tt){mt[tt]&&dt.quill.keyboard.addBinding(mt[tt])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(k.xJ).forEach(function(dt){dt.balanceCells()})}},{key:"deleteColumn",value:function(){var mt=V(this.getTable(),3),tt=mt[0],J=mt[2];(0,K.Z)(J)&&(tt.deleteColumn(J.cellOffset()),this.quill.update(T.ZP.sources.USER))}},{key:"deleteRow",value:function(){var tt=V(this.getTable(),2)[1];(0,K.Z)(tt)&&(tt.remove(),this.quill.update(T.ZP.sources.USER))}},{key:"deleteTable",value:function(){var tt=V(this.getTable(),1)[0];if((0,K.Z)(tt)){var J=tt.offset();tt.remove(),this.quill.update(T.ZP.sources.USER),this.quill.setSelection(J,T.ZP.sources.SILENT)}}},{key:"getTable",value:function(){var dt=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(!(0,K.Z)(dt))return vt;var tt=V(this.quill.getLine(dt.index),2),J=tt[0],gt=tt[1];if(!(0,K.Z)(J)||-1===this.tableBlots.indexOf(J.statics.blotName))return vt;var et=J.parent,rt=et.parent;return[rt.parent.parent,rt,et,gt]}},{key:"insertColumn",value:function(dt){var mt=this.quill.getSelection(),J=V(this.getTable(mt),3),gt=J[0],et=J[1],rt=J[2];if((0,K.Z)(rt)){var ct=rt.cellOffset();gt.insertColumn(ct+dt),this.quill.update(T.ZP.sources.USER);var _t=et.rowOffset();0===dt&&(_t+=1),this.quill.setSelection(mt.index+_t,mt.length,T.ZP.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(dt){var mt=this.quill.getSelection(),J=V(this.getTable(mt),3),gt=J[0],et=J[1];if((0,K.Z)(J[2])){var ct=et.rowOffset();gt.insertRow(ct+dt),this.quill.update(T.ZP.sources.USER),dt>0?this.quill.setSelection(mt,T.ZP.sources.SILENT):this.quill.setSelection(mt.index+et.children.length,mt.length,T.ZP.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var dt=this.quill.getSelection(),tt=V(this.getTable(dt),3),J=tt[0];(0,K.Z)(tt[2])&&(J.insertHeaderRow(),this.quill.update(T.ZP.sources.USER))}},{key:"insertTable",value:function(dt,mt){var tt=this.quill.getSelection();if((0,K.Z)(tt)){var J=new Array(dt).fill(0).reduce(function(gt){var et=(0,k.Lv)();return new Array(mt).fill("\n").forEach(function(rt){gt.insert(rt,{tableCellLine:{row:et,cell:(0,k.Lv)()}})}),gt},(new(m())).retain(tt.index));this.quill.updateContents(J,T.ZP.sources.USER),this.quill.setSelection(tt.index,T.ZP.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var dt=this;this.quill.on(T.ZP.events.SCROLL_OPTIMIZE,function(mt){mt.some(function(tt){return-1!==["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(tt.target.tagName)&&(dt.quill.once(T.ZP.events.TEXT_CHANGE,function(J,gt,et){et===T.ZP.sources.USER&&dt.balanceTables()}),!0)})}),this.quill.on(T.ZP.events.CONTENT_SETTED,function(){dt.quill.once(T.ZP.events.TEXT_CHANGE,function(){dt.balanceTables()})})}}],[{key:"register",value:function(){T.ZP.register(k.zW,!0),T.ZP.register(k.iD,!0),T.ZP.register(k.xs,!0),T.ZP.register(k.pj,!0),T.ZP.register(k.KA,!0),T.ZP.register(k.SC,!0),T.ZP.register(k.RM,!0),T.ZP.register(k.xD,!0),T.ZP.register(k.xJ,!0),[w.li,I.Du].forEach(function(dt){Object.keys(dt).forEach(function(mt){T.ZP.register(W({},"formats/".concat(mt),dt[mt]),!0)})})}}]),D}(j.Z);function F(q,Q){var D=q.parentNode,dt="THEAD"===D.parentNode.tagName||null,mt=Array.from(("TABLE"===D.parentNode.tagName?D.parentNode:D.parentNode.parentNode).querySelectorAll("tr")),tt=Array.from(D.querySelectorAll("th,td")),J=mt.indexOf(D)+1,gt=tt.indexOf(q)+1,et=dt?"tableHeaderCellLine":"tableCellLine";return 0===Q.length()?Q=(new(m())).insert("\n",W({},et,{row:J,cell:gt})):((0,L.PF)(Q,"\n")||Q.insert("\n"),(0,L.HI)(Q,et,{row:J,cell:gt}))}ot.keyboardBindings={"table backspace":{key:"backspace",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,offset:0,handler:function(Q){var dt=V(this.quill.getLine(Q.index),1)[0];return!(!dt.prev||-1===["tableCellLine","tableHeaderCellLine"].indexOf(dt.prev.statics.blotName))}},"table delete":{key:"del",format:["tableCellLine","tableHeaderCellLine"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(Q,D){var at,dt,mt=this,tt=this.quill.getModule("table");if(tt){var J=this.quill,rt=V(tt.getTable(Q),1)[0];if(1===(null===(at=this.quill.selection)||void 0===at?void 0:at.lastNative.native.endContainer.nodeType)){var _t=rt.offset();return void(0,$.Z)({quill:J,index:_t,table:rt})}if(null===(dt=this.quill.selection)||void 0===dt||!dt.composing){Q.length>0&&this.quill.scroll.deleteAt(Q.index,Q.length);var E=Object.keys(D.format).reduce(function(l,i){return mt.quill.scroll.query(i,O.Scope.BLOCK)&&!Array.isArray(D.format[i])&&(l[i]=D.format[i]),l},{});this.quill.insertText(Q.index,"\n",E.tableCellLine,T.ZP.sources.USER),this.quill.setSelection(Q.index+1,T.ZP.sources.SILENT),this.quill.focus(),Object.keys(D.format).forEach(function(l){null==E[l]&&(Array.isArray(D.format[l])||"link"!==l&&mt.quill.format(l,D.format[l],T.ZP.sources.USER))})}}}},"table tab":{key:"tab",shiftKey:null,format:["tableCellLine","tableHeaderCellLine"],handler:function(Q,D){var at=D.event,dt=D.line,mt=dt.offset(this.quill.scroll);this.quill.setSelection(at.shiftKey?mt-1:mt+dt.length(),T.ZP.sources.USER)}},"table down":(0,P.Z)(!1,["tableCellLine","tableHeaderCellLine"]),"table up":(0,P.Z)(!0,["tableCellLine","tableHeaderCellLine"])};const C=ot},6054:(_,H,r)=>{"use strict";r.d(H,{Z:()=>be});var g=r(9098),m=r.n(g),O=r(281),T=r(7094),j=r(6446),k=r(3553),K=r(5874),L=r(319),P=r(8536),R=r(2795);function w(yt){return(w="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(At){return typeof At}:function(At){return At&&"function"==typeof Symbol&&At.constructor===Symbol&&At!==Symbol.prototype?"symbol":typeof At})(yt)}function I(yt,At){return function W(yt){if(Array.isArray(yt))return yt}(yt)||function A(yt,At){var Pt=null==yt?null:typeof Symbol<"u"&&yt[Symbol.iterator]||yt["@@iterator"];if(null!=Pt){var Lt,It,xt,jt,Gt=[],Yt=!0,ue=!1;try{if(xt=(Pt=Pt.call(yt)).next,0===At){if(Object(Pt)!==Pt)return;Yt=!1}else for(;!(Yt=(Lt=xt.call(Pt)).done)&&(Gt.push(Lt.value),Gt.length!==At);Yt=!0);}catch(ce){ue=!0,It=ce}finally{try{if(!Yt&&null!=Pt.return&&(jt=Pt.return(),Object(jt)!==jt))return}finally{if(ue)throw It}}return Gt}}(yt,At)||h(yt,At)||function $(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function h(yt,At){if(yt){if("string"==typeof yt)return u(yt,At);var Pt=Object.prototype.toString.call(yt).slice(8,-1);if("Object"===Pt&&yt.constructor&&(Pt=yt.constructor.name),"Map"===Pt||"Set"===Pt)return Array.from(yt);if("Arguments"===Pt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pt))return u(yt,At)}}function u(yt,At){(null==At||At>yt.length)&&(At=yt.length);for(var Pt=0,Lt=new Array(At);Pt<At;Pt++)Lt[Pt]=yt[Pt];return Lt}function c(yt,At){if(!(yt instanceof At))throw new TypeError("Cannot call a class as a function")}function y(yt,At){for(var Pt=0;Pt<At.length;Pt++){var Lt=At[Pt];Lt.enumerable=Lt.enumerable||!1,Lt.configurable=!0,"value"in Lt&&(Lt.writable=!0),Object.defineProperty(yt,M(Lt.key),Lt)}}function x(yt,At,Pt){return At&&y(yt.prototype,At),Pt&&y(yt,Pt),Object.defineProperty(yt,"prototype",{writable:!1}),yt}function M(yt){var At=function Z(yt,At){if("object"!==w(yt)||null===yt)return yt;var Pt=yt[Symbol.toPrimitive];if(void 0!==Pt){var Lt=Pt.call(yt,At||"default");if("object"!==w(Lt))return Lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===At?String:Number)(yt)}(yt,"string");return"symbol"===w(At)?At:String(At)}function Y(){return Y=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(At,Pt,Lt){var It=function ft(yt,At){for(;!Object.prototype.hasOwnProperty.call(yt,At)&&null!==(yt=lt(yt)););return yt}(At,Pt);if(It){var xt=Object.getOwnPropertyDescriptor(It,Pt);return xt.get?xt.get.call(arguments.length<3?At:Lt):xt.value}},Y.apply(this,arguments)}function ht(yt,At){if("function"!=typeof At&&null!==At)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(At&&At.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),Object.defineProperty(yt,"prototype",{writable:!1}),At&&pt(yt,At)}function pt(yt,At){return(pt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Lt,It){return Lt.__proto__=It,Lt})(yt,At)}function it(yt){var At=function vt(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var It,Lt=lt(yt);if(At){var xt=lt(this).constructor;It=Reflect.construct(Lt,arguments,xt)}else It=Lt.apply(this,arguments);return function Ot(yt,At){if(At&&("object"===w(At)||"function"==typeof At))return At;if(void 0!==At)throw new TypeError("Derived constructors may only return object or undefined");return function X(yt){if(void 0===yt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt}(yt)}(this,It)}}function lt(yt){return(lt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Pt){return Pt.__proto__||Object.getPrototypeOf(Pt)})(yt)}var F="data-tablelite-",C=function(yt){ht(Pt,yt);var At=it(Pt);function Pt(){return c(this,Pt),At.apply(this,arguments)}return x(Pt,[{key:"format",value:function(It,xt){if(L.li[It]){var jt,Gt="data-".concat(It.toLowerCase());(0,R.Z)(this.domNode,Gt,xt),null===(jt=this.row())||void 0===jt||null===(jt=jt.table())||void 0===jt||jt.format(It,xt)}else Y(lt(Pt.prototype),"format",this).call(this,It,xt)}},{key:"cellOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"row",value:function(){return"table"in this.parent?this.parent:null}},{key:"rowOffset",value:function(){return this.row()?this.row().rowOffset():-1}},{key:"table",value:function(){var It;return null===(It=this.row())||void 0===It?void 0:It.table()}}],[{key:"create",value:function(It){var xt=Y(lt(Pt),"create",this).call(this);return(0,R.Z)(xt,this.dataAttribute,It??et()),xt}},{key:"formats",value:function(It){var xt=this.dataAttribute;if(It.hasAttribute(xt))return It.getAttribute(xt)}}]),Pt}(j.ZP);C.tagName=["TD","TH"];var q=function(yt){ht(Pt,yt);var At=it(Pt);function Pt(){return c(this,Pt),At.apply(this,arguments)}return x(Pt,[{key:"format",value:function(It,xt){It===Pt.blotName&&xt?this.domNode.setAttribute(Pt.dataAttribute,xt):Y(lt(Pt.prototype),"format",this).call(this,It,xt)}}]),Pt}(C);q.blotName="table",q.dataAttribute="".concat(F,"row");var Q=function(yt){ht(Pt,yt);var At=it(Pt);function Pt(){return c(this,Pt),At.apply(this,arguments)}return x(Pt,[{key:"format",value:function(It,xt){It===Pt.blotName&&xt?this.domNode.setAttribute(Pt.dataAttribute,xt):Y(lt(Pt.prototype),"format",this).call(this,It,xt)}}]),Pt}(C);Q.tagName=["TH","TD"],Q.blotName="tableHeaderCell",Q.dataAttribute="".concat(F,"header-row");var D=function(yt){ht(Pt,yt);var At=it(Pt);function Pt(){return c(this,Pt),At.apply(this,arguments)}return x(Pt,[{key:"checkMerge",value:function(){if(Y(lt(Pt.prototype),"checkMerge",this).call(this)&&(0,K.Z)(this.next.children.head)){var It=this.childFormatName,xt=this.children.head.formats(),jt=this.children.tail.formats(),Gt=this.next.children.head.formats(),Yt=this.next.children.tail.formats();return xt[It]===jt[It]&&xt[It]===Gt[It]&&xt[It]===Yt[It]}return!1}},{key:"optimize",value:function(){for(var It,xt=this,jt=arguments.length,Gt=new Array(jt),Yt=0;Yt<jt;Yt++)Gt[Yt]=arguments[Yt];(It=Y(lt(Pt.prototype),"optimize",this)).call.apply(It,[this].concat(Gt));var ue=this.childFormatName;this.children.forEach(function(ce){if((0,K.Z)(ce.next)){var ae=ce.formats(),Oe=ce.next.formats();if(ae[ue]!==Oe[ue]){var Ne=xt.splitAfter(ce);Ne&&Ne.optimize(),xt.prev&&xt.prev.optimize()}}})}},{key:"rowOffset",value:function(){return this.parent?this.parent.children.indexOf(this):-1}},{key:"table",value:function(){var It;return null===(It=this.parent)||void 0===It?void 0:It.parent}}]),Pt}(k.Z);D.tagName="TR";var at=function(yt){ht(Pt,yt);var At=it(Pt);function Pt(Lt,It){var xt;return c(this,Pt),(xt=At.call(this,Lt,It)).childFormatName="table",xt}return x(Pt)}(D);at.blotName="tableRow";var dt=function(yt){ht(Pt,yt);var At=it(Pt);function Pt(Lt,It){var xt;return c(this,Pt),(xt=At.call(this,Lt,It)).childFormatName="tableHeaderCell",xt}return x(Pt)}(D);dt.blotName="tableHeaderRow";var mt=function(yt){ht(Pt,yt);var At=it(Pt);function Pt(){return c(this,Pt),At.apply(this,arguments)}return x(Pt,[{key:"optimize",value:function(){var It;if(this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)){var xt=this.children.head.children.head.domNode,jt={};Object.keys(L.li).forEach(function(ce){var ae=xt.dataset[ce.toLowerCase()];ae&&(jt[ce]=ae)}),this.wrap(this.statics.requiredContainer.blotName,jt)}for(var Gt=arguments.length,Yt=new Array(Gt),ue=0;ue<Gt;ue++)Yt[ue]=arguments[ue];(It=Y(lt(Pt.prototype),"optimize",this)).call.apply(It,[this].concat(Yt))}}]),Pt}(k.Z),tt=function(yt){ht(Pt,yt);var At=it(Pt);function Pt(){return c(this,Pt),At.apply(this,arguments)}return x(Pt)}(mt);tt.blotName="tableBody",tt.tagName=["TBODY"];var J=function(yt){ht(Pt,yt);var At=it(Pt);function Pt(){return c(this,Pt),At.apply(this,arguments)}return x(Pt)}(mt);J.blotName="tableHeader",J.tagName=["THEAD"];var gt=function(yt){ht(Pt,yt);var At=it(Pt);function Pt(){return c(this,Pt),At.apply(this,arguments)}return x(Pt,[{key:"balanceCells",value:function(){var It=this.descendants(dt),xt=this.descendants(at),jt=this.getMaxTableColCount(It,xt);this.balanceRows(jt,It,Q),this.balanceRows(jt,xt,q)}},{key:"getMaxTableColCount",value:function(It,xt){return Math.max(this.getMaxRowColCount(It),this.getMaxRowColCount(xt))}},{key:"getMaxRowColCount",value:function(It){return Math.max.apply(Math,function V(yt){return function o(yt){if(Array.isArray(yt))return u(yt)}(yt)||function b(yt){if(typeof Symbol<"u"&&null!=yt[Symbol.iterator]||null!=yt["@@iterator"])return Array.from(yt)}(yt)||h(yt)||function B(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}(It.map(function(xt){return xt.children.length})))}},{key:"balanceRows",value:function(It,xt,jt){var Gt=this;xt.forEach(function(Yt){new Array(It-Yt.children.length).fill(0).forEach(function(){var ue;(0,K.Z)(Yt.children.head)&&(ue=jt.formats(Yt.children.head.domNode));var ce=Gt.scroll.create(jt.blotName,ue);Yt.appendChild(ce),ce.optimize()})})}},{key:"cells",value:function(It){return this.rows().map(function(xt){return xt.children.at(It)})}},{key:"deleteColumn",value:function(It){var xt=this;[J,tt].forEach(function(jt){var ue=I(xt.descendants(jt),1)[0];!(0,K.Z)(ue)||!(0,K.Z)(ue.children.head)||ue.children.forEach(function(ce){var ae=ce.children.at(It);(0,K.Z)(ae)&&ae.remove()})})}},{key:"insertColumn",value:function(It){var xt=this;[J,tt].forEach(function(jt){var ue=I(xt.descendants(jt),1)[0];if((0,K.Z)(ue)&&(0,K.Z)(ue.children.head)){var ce=jt===J?Q:q;ue.children.forEach(function(ae){var Oe=ae.children.at(It),Ne=ce.formats(ae.children.head.domNode),De=xt.scroll.create(ce.blotName,Ne);ae.insertBefore(De,Oe)})}})}},{key:"insertRow",value:function(It){var xt=this,Yt=I(this.descendants(tt),1)[0];if((0,K.Z)(Yt)&&(0,K.Z)(Yt.children.head)){var ue=et(),ce=this.scroll.create(at.blotName);Yt.children.head.children.forEach(function(){var Oe=xt.scroll.create(q.blotName,ue);ce.appendChild(Oe)});var ae=Yt.children.at(It);Yt.insertBefore(ce,ae)}}},{key:"insertHeaderRow",value:function(){var It=this,Gt=I(this.descendants(J),1)[0],ce=I(this.descendants(tt),1)[0];if(!(0,K.Z)(Gt)&&(0,K.Z)(ce)&&(0,K.Z)(ce.children.head)){var ae=et(),Oe=this.scroll.create(J.blotName),Ne=this.scroll.create(dt.blotName),De=this.children.at(0);Oe.appendChild(Ne),ce.children.head.children.forEach(function(){var He=It.scroll.create(Q.blotName,ae);Ne.appendChild(He),He.optimize()}),this.insertBefore(Oe,De)}}},{key:"rows",value:function(){var It=this.children.head;return(0,K.Z)(It)?It.children.map(function(xt){return xt}):[]}},{key:"formats",value:function(){var It={},xt=this.cells()[0].domNode;return Object.keys(L.li).forEach(function(jt){var Gt=xt.dataset[jt.toLowerCase()];Gt&&(It[jt]=Gt)}),It}},{key:"format",value:function(It,xt){var jt=L.li[It];if(jt){var Gt="data-".concat(It.toLowerCase());this.cells().forEach(function(Yt){(0,R.Z)(Yt.domNode,Gt,xt)}),jt.add(this.domNode,xt)}}}],[{key:"create",value:function(It){var xt=Y(lt(Pt),"create",this).call(this,It);return It&&Object.keys(It).forEach(function(jt){var Gt;null===(Gt=L.li[jt])||void 0===Gt||Gt.add(xt,It[jt])}),xt}}]),Pt}(k.Z);function et(){return"row-".concat((0,P.Z)())}gt.blotName="tableContainer",gt.tagName="TABLE",gt.allowedChildren=[J,tt],tt.requiredContainer=gt,J.requiredContainer=gt,tt.allowedChildren=[at],at.requiredContainer=tt,at.allowedChildren=[q],q.requiredContainer=at,J.allowedChildren=[dt],dt.requiredContainer=J,dt.allowedChildren=[Q],Q.requiredContainer=dt;var rt=r(5635),ct=r(9466);function _t(yt){var At=yt.quill,Lt=yt.range,It=yt.index-1,xt=(new(m())).retain(It).insert("\n");At.updateContents(xt,O.ZP.sources.USER),At.setSelection(Lt.index+1,Lt.length,O.ZP.sources.SILENT)}var E=r(2480);function l(yt,At,Pt){return null==yt.prev&&null==yt.next?null==At.prev&&null==At.next?0===Pt?-1:1:null==At.prev?-1:1:null==yt.prev?-1:null==yt.next?1:null}var i=r(7896),v=r(1342);function d(yt){return(d="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(At){return typeof At}:function(At){return At&&"function"==typeof Symbol&&At.constructor===Symbol&&At!==Symbol.prototype?"symbol":typeof At})(yt)}function st(yt,At){return function Qt(yt){if(Array.isArray(yt))return yt}(yt)||function Zt(yt,At){var Pt=null==yt?null:typeof Symbol<"u"&&yt[Symbol.iterator]||yt["@@iterator"];if(null!=Pt){var Lt,It,xt,jt,Gt=[],Yt=!0,ue=!1;try{if(xt=(Pt=Pt.call(yt)).next,0===At){if(Object(Pt)!==Pt)return;Yt=!1}else for(;!(Yt=(Lt=xt.call(Pt)).done)&&(Gt.push(Lt.value),Gt.length!==At);Yt=!0);}catch(ce){ue=!0,It=ce}finally{try{if(!Yt&&null!=Pt.return&&(jt=Pt.return(),Object(jt)!==jt))return}finally{if(ue)throw It}}return Gt}}(yt,At)||function Ut(yt,At){if(yt){if("string"==typeof yt)return Ft(yt,At);var Pt=Object.prototype.toString.call(yt).slice(8,-1);if("Object"===Pt&&yt.constructor&&(Pt=yt.constructor.name),"Map"===Pt||"Set"===Pt)return Array.from(yt);if("Arguments"===Pt||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pt))return Ft(yt,At)}}(yt,At)||function St(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function Ft(yt,At){(null==At||At>yt.length)&&(At=yt.length);for(var Pt=0,Lt=new Array(At);Pt<At;Pt++)Lt[Pt]=yt[Pt];return Lt}function bt(yt,At){for(var Pt=0;Pt<At.length;Pt++){var Lt=At[Pt];Lt.enumerable=Lt.enumerable||!1,Lt.configurable=!0,"value"in Lt&&(Lt.writable=!0),Object.defineProperty(yt,Nt(Lt.key),Lt)}}function Nt(yt){var At=function Dt(yt,At){if("object"!==d(yt)||null===yt)return yt;var Pt=yt[Symbol.toPrimitive];if(void 0!==Pt){var Lt=Pt.call(yt,At||"default");if("object"!==d(Lt))return Lt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===At?String:Number)(yt)}(yt,"string");return"symbol"===d(At)?At:String(At)}function $t(yt,At){return($t=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(Lt,It){return Lt.__proto__=It,Lt})(yt,At)}function de(yt){return(de=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(Pt){return Pt.__proto__||Object.getPrototypeOf(Pt)})(yt)}var me=[null,null,null,-1],ge=function(yt){!function Mt(yt,At){if("function"!=typeof At&&null!==At)throw new TypeError("Super expression must either be null or a function");yt.prototype=Object.create(At&&At.prototype,{constructor:{value:yt,writable:!0,configurable:!0}}),Object.defineProperty(yt,"prototype",{writable:!1}),At&&$t(yt,At)}(Pt,yt);var At=function kt(yt){var At=function se(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var It,Lt=de(yt);if(At){var xt=de(this).constructor;It=Reflect.construct(Lt,arguments,xt)}else It=Lt.apply(this,arguments);return function Kt(yt,At){if(At&&("object"===d(At)||"function"==typeof At))return At;if(void 0!==At)throw new TypeError("Derived constructors may only return object or undefined");return function Vt(yt){if(void 0===yt)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return yt}(yt)}(this,It)}}(Pt);function Pt(){var Lt;!function re(yt,At){if(!(yt instanceof At))throw new TypeError("Cannot call a class as a function")}(this,Pt);for(var It=arguments.length,xt=new Array(It),jt=0;jt<It;jt++)xt[jt]=arguments[jt];return(Lt=At.call.apply(At,[this].concat(xt))).tableBlots=[q.blotName,Q.blotName],Lt.tableBlots.forEach(function(Gt){Lt.quill.editor.addImmediateFormat(Gt)}),Lt.integrateClipboard(),Lt.addKeyboardHandlers(),Lt.listenBalanceCells(),Lt}return function wt(yt,At,Pt){At&&bt(yt.prototype,At),Pt&&bt(yt,Pt),Object.defineProperty(yt,"prototype",{writable:!1})}(Pt,[{key:"integrateClipboard",value:function(){var It=this;this.tableBlots.forEach(function(xt){return It.quill.clipboard.addTableBlot(xt)}),this.quill.clipboard.addMatcher("tr",xe),this.quill.clipboard.addMatcher("table",(0,i.F)(L.Zt)),this.quill.clipboard.addMatcher("td, th",(0,i.a)(v.h6))}},{key:"addKeyboardHandlers",value:function(){var It=this,xt=Pt.keyboardBindings;Object.keys(xt).forEach(function(jt){xt[jt]&&It.quill.keyboard.addBinding(xt[jt])})}},{key:"balanceTables",value:function(){this.quill.scroll.descendants(gt).forEach(function(It){It.balanceCells()})}},{key:"deleteColumn",value:function(){var xt=st(this.getTable(),3),jt=xt[0],Gt=xt[2];(0,K.Z)(Gt)&&(jt.deleteColumn(Gt.cellOffset()),this.quill.update(O.ZP.sources.USER))}},{key:"deleteRow",value:function(){var jt=st(this.getTable(),2)[1];(0,K.Z)(jt)&&(jt.remove(),this.quill.update(O.ZP.sources.USER))}},{key:"deleteTable",value:function(){var jt=st(this.getTable(),1)[0];if((0,K.Z)(jt)){var Gt=jt.offset();jt.remove(),this.quill.update(O.ZP.sources.USER),this.quill.setSelection(Gt,O.ZP.sources.SILENT)}}},{key:"getTable",value:function(){var It=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.quill.getSelection();if(!(0,K.Z)(It))return me;var jt=st(this.quill.getLine(It.index),2),Gt=jt[0],Yt=jt[1];if(!(0,K.Z)(Gt)||-1===this.tableBlots.indexOf(Gt.statics.blotName))return me;var ue=Gt.parent;return[ue.parent.parent,ue,Gt,Yt]}},{key:"insertColumn",value:function(It){var xt=this.quill.getSelection(),Gt=st(this.getTable(xt),3),Yt=Gt[0],ue=Gt[1],ce=Gt[2];if((0,K.Z)(ce)){var ae=ce.cellOffset();Yt.insertColumn(ae+It),this.quill.update(O.ZP.sources.USER);var Oe=ue.rowOffset();0===It&&(Oe+=1),this.quill.setSelection(xt.index+Oe,xt.length,O.ZP.sources.SILENT)}}},{key:"insertColumnLeft",value:function(){this.insertColumn(0)}},{key:"insertColumnRight",value:function(){this.insertColumn(1)}},{key:"insertRow",value:function(It){var xt=this.quill.getSelection(),Gt=st(this.getTable(xt),3),Yt=Gt[0],ue=Gt[1];if((0,K.Z)(Gt[2])){var ae=ue.rowOffset();Yt.insertRow(ae+It),this.quill.update(O.ZP.sources.USER),It>0?this.quill.setSelection(xt,O.ZP.sources.SILENT):this.quill.setSelection(xt.index+ue.children.length,xt.length,O.ZP.sources.SILENT)}}},{key:"insertRowAbove",value:function(){this.insertRow(0)}},{key:"insertRowBelow",value:function(){this.insertRow(1)}},{key:"insertHeaderRow",value:function(){var It=this.quill.getSelection(),jt=st(this.getTable(It),3),Gt=jt[0];(0,K.Z)(jt[2])&&(Gt.insertHeaderRow(),this.quill.update(O.ZP.sources.USER))}},{key:"insertTable",value:function(It,xt){var jt=this.quill.getSelection();if((0,K.Z)(jt)){var Gt=new Array(It).fill(0).reduce(function(Yt){var ue=new Array(xt).fill("\n").join("");return Yt.insert(ue,{table:et()})},(new(m())).retain(jt.index));this.quill.updateContents(Gt,O.ZP.sources.USER),this.quill.setSelection(jt.index,O.ZP.sources.SILENT),this.balanceTables()}}},{key:"tableFormats",value:function(){return this.tableBlots}},{key:"listenBalanceCells",value:function(){var It=this;this.quill.on(O.ZP.events.SCROLL_OPTIMIZE,function(xt){xt.some(function(jt){return-1!==["TD","TH","TR","TBODY","THEAD","TABLE"].indexOf(jt.target.tagName)&&(It.quill.once(O.ZP.events.TEXT_CHANGE,function(Gt,Yt,ue){ue===O.ZP.sources.USER&&It.balanceTables()}),!0)})}),this.quill.on(O.ZP.events.CONTENT_SETTED,function(){It.quill.once(O.ZP.events.TEXT_CHANGE,function(){It.balanceTables()})})}}],[{key:"register",value:function(){O.ZP.register(Q,!0),O.ZP.register(q,!0),O.ZP.register(dt,!0),O.ZP.register(at,!0),O.ZP.register(tt,!0),O.ZP.register(J,!0),O.ZP.register(gt,!0),[L.li,v.Du].forEach(function(It){Object.keys(It).forEach(function(xt){O.ZP.register(function N(yt,At,Pt){return(At=Nt(At))in yt?Object.defineProperty(yt,At,{value:Pt,enumerable:!0,configurable:!0,writable:!0}):yt[At]=Pt,yt}({},"formats/".concat(xt),It[xt]),!0)})})}}]),Pt}(T.Z);function xe(yt,At){var Lt="THEAD"===yt.parentNode.tagName||null,xt=Array.from(("TABLE"===yt.parentNode.tagName?yt.parentNode:yt.parentNode.parentNode).querySelectorAll("tr")).indexOf(yt)+1;return(0,rt.HI)(At,Lt?"tableHeaderCell":"table",xt)}ge.keyboardBindings={"table backspace":{key:"backspace",format:["table","tableHeaderCell"],collapsed:!0,offset:0,handler:function(){}},"table delete":{key:"del",format:["table","tableHeaderCell"],collapsed:!0,suffix:/^$/,handler:function(){}},"table enter":{key:"enter",shiftKey:null,format:["table"],handler:function(At){var Pt=this.quill.getModule("table");if(Pt){var Lt=this.quill,xt=st(Pt.getTable(At),4),jt=xt[0],ce=l(xt[1],xt[2],xt[3]);if(null==ce||ce<0&&jt.children.length>1&&jt.children.head)return;var Oe=jt.offset();ce<0?_t({quill:Lt,index:Oe,range:At}):(0,E.Z)({quill:Lt,index:Oe,table:jt})}}},"table header enter":{key:"enter",shiftKey:null,format:["tableHeaderCell"],handler:function(At){var Pt=this.quill.getModule("table");if(Pt){var Lt=this.quill,xt=st(Pt.getTable(At),4),jt=xt[0],ce=l(xt[1],xt[2],xt[3]);if(null==ce)return;var ae=jt.offset();ce<0||ce>0&&jt.children.length>1&&jt.children.tail?_t({quill:Lt,index:ae,range:At}):(0,E.Z)({quill:Lt,index:ae,table:jt})}}},"table tab":{key:"tab",shiftKey:null,format:["table","tableHeaderCell"],handler:function(At,Pt){var Lt=Pt.event,It=Pt.line,xt=It.offset(this.quill.scroll);this.quill.setSelection(Lt.shiftKey?xt-1:xt+It.length(),O.ZP.sources.USER)}},"table down":(0,ct.Z)(!1,["table","tableHeaderCell"]),"table up":(0,ct.Z)(!0,["table","tableHeaderCell"])};const be=ge},2480:(_,H,r)=>{"use strict";r.d(H,{Z:()=>T});var g=r(9098),m=r.n(g),O=r(281);function T(j){var k=j.quill,P=j.index+j.table.length(),R=(new(m())).retain(P).insert("\n");k.updateContents(R,O.ZP.sources.USER),k.setSelection(P,O.ZP.sources.USER)}},9466:(_,H,r)=>{"use strict";r.d(H,{Z:()=>m});var g=r(281);function m(O,T){return{key:O?"upArrow":"downArrow",collapsed:!0,format:T,handler:function(k,K){var L=O?"prev":"next",P=K.line,R=P.statics.blotName.indexOf("Line")>-1?P.parent:P,w=R.parent.parent[L],I=R.parent[L]||w?.children.head;if(null!=I){if("tableRow"===I.statics.blotName||"tableHeaderRow"===I.statics.blotName){for(var $=I.children.head,A=R;null!=A.prev;)A=A.prev,$=$.next;var W=$.offset(this.quill.scroll)+Math.min(K.offset,$.length()-1);this.quill.setSelection(W,0,g.ZP.sources.USER)}}else{var V=R.table()[L];null!=V&&this.quill.setSelection(O?V.offset(this.quill.scroll)+V.length()-1:V.offset(this.quill.scroll),0,g.ZP.sources.USER)}return!1}}}},7896:(_,H,r)=>{"use strict";r.d(H,{F:()=>$,a:()=>A});var g=r(1233),m=r(1674),O=r(4569),T=r(5635);function j(W){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(V){return typeof V}:function(V){return V&&"function"==typeof Symbol&&V.constructor===Symbol&&V!==Symbol.prototype?"symbol":typeof V})(W)}function k(W,V){var B=Object.keys(W);if(Object.getOwnPropertySymbols){var h=Object.getOwnPropertySymbols(W);V&&(h=h.filter(function(b){return Object.getOwnPropertyDescriptor(W,b).enumerable})),B.push.apply(B,h)}return B}function K(W){for(var V=1;V<arguments.length;V++){var B=null!=arguments[V]?arguments[V]:{};V%2?k(Object(B),!0).forEach(function(h){L(W,h,B[h])}):Object.getOwnPropertyDescriptors?Object.defineProperties(W,Object.getOwnPropertyDescriptors(B)):k(Object(B)).forEach(function(h){Object.defineProperty(W,h,Object.getOwnPropertyDescriptor(B,h))})}return W}function L(W,V,B){return V=function P(W){var V=function R(W,V){if("object"!==j(W)||null===W)return W;var B=W[Symbol.toPrimitive];if(void 0!==B){var h=B.call(W,V||"default");if("object"!==j(h))return h;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===V?String:Number)(W)}(W,"string");return"symbol"===j(V)?V:String(V)}(V),V in W?Object.defineProperty(W,V,{value:B,enumerable:!0,configurable:!0,writable:!0}):W[V]=B,W}function w(W,V,B,h){W[V]=!h&&W[V]?W[V]:B}function I(W,V,B,h,b,o){return W.filter(function(u){return!!u}).forEach(function(u){var c=B.query(u,g.Scope.ATTRIBUTE);if(null!==c){var y=c.value(V);if(y)return void w(b,c.attrName,y,o)}var x=h[u];if(null!=x&&(x.attrName===u||x.keyName===u)){var M=x.value(V)||void 0;w(b,x.attrName,M,o)}}),b}function $(W){return function(V,B,h){var b=m.Z.keys(V),o=O.Z.keys(V),u=K(K({},I(b,V,h,W,{},!0)),I(o,V,h,W,{},!0));return Object.keys(u).length>0?(0,T.HI)(B,u):B}}function A(W){return function(V,B,h){var b,o=m.Z.keys(V),u=O.Z.keys(V),c="TR"===(null===(b=V.parentNode)||void 0===b?void 0:b.tagName)?V.parentNode:void 0,y=K(K({},I(o,V,h,W,{},!0)),I(u,V,h,W,{},!0));return c&&(y=I(O.Z.keys(c),c,h,W,y,!1)),Object.keys(y).length>0?(0,T.HI)(B,y):B}}},3859:(_,H,r)=>{"use strict";r.d(H,{Z:()=>u});var g=r(9098),m=r.n(g),O=r(2069),T=r(7094),j=r(8034);function k(c){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(y){return typeof y}:function(y){return y&&"function"==typeof Symbol&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y})(c)}function P(c,y){for(var x=0;x<y.length;x++){var M=y[x];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(c,w(M.key),M)}}function w(c){var y=function I(c,y){if("object"!==k(c)||null===c)return c;var x=c[Symbol.toPrimitive];if(void 0!==x){var M=x.call(c,y||"default");if("object"!==k(M))return M;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===y?String:Number)(c)}(c,"string");return"symbol"===k(y)?y:String(y)}function A(c,y){return(A=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(M,Z){return M.__proto__=Z,M})(c,y)}function b(c){return(b=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(x){return x.__proto__||Object.getPrototypeOf(x)})(c)}var o=function(c){!function $(c,y){if("function"!=typeof y&&null!==y)throw new TypeError("Super expression must either be null or a function");c.prototype=Object.create(y&&y.prototype,{constructor:{value:c,writable:!0,configurable:!0}}),Object.defineProperty(c,"prototype",{writable:!1}),y&&A(c,y)}(x,c);var y=function W(c){var y=function h(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Z,M=b(c);if(y){var Y=b(this).constructor;Z=Reflect.construct(M,arguments,Y)}else Z=M.apply(this,arguments);return function V(c,y){if(y&&("object"===k(y)||"function"==typeof y))return y;if(void 0!==y)throw new TypeError("Derived constructors may only return object or undefined");return function B(c){if(void 0===c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(c)}(this,Z)}}(x);function x(M,Z){var Y;return function L(c,y){if(!(c instanceof y))throw new TypeError("Cannot call a class as a function")}(this,x),(Y=y.call(this,M,Z)).preventImageUploading(!1),Y.addDragOverHandler(),Y.addDropHandler(),Y}return function R(c,y,x){y&&P(c.prototype,y),x&&P(c,x),Object.defineProperty(c,"prototype",{writable:!1})}(x,[{key:"addDragOverHandler",value:function(){if((0,j.Z)()){var Z=window.navigator.userAgent.toLowerCase();(-1!==Z.indexOf("msie ")||-1!==Z.indexOf("trident/")||-1!==Z.indexOf("edge/"))&&this.quill.root.addEventListener("dragover",function(ft){ft.preventDefault()})}}},{key:"addDropHandler",value:function(){var Z=this;this.quill.root.addEventListener("drop",function(Y){var ft=0===Y.dataTransfer.files.length,ht=Z.options.onDrop;if(ht&&"function"==typeof ht&&ht(Y),!ft&&!Z.preventImageUpload){var pt;if(Y.preventDefault(),document.caretRangeFromPoint)pt=document.caretRangeFromPoint(Y.clientX,Y.clientY);else{if(!document.caretPositionFromPoint)return;var it=document.caretPositionFromPoint(Y.clientX,Y.clientY);(pt=document.createRange()).setStart(it.offsetNode,it.offset),pt.setEnd(it.offsetNode,it.offset)}var Ot=Z.quill.selection.normalizeNative(pt),X=Z.quill.selection.normalizedToRange(Ot);Z.upload(X,Y.dataTransfer.files)}})}},{key:"preventImageUploading",value:function(Z){return typeof Z<"u"&&(this.preventImageUpload=Z),this.preventImageUpload}},{key:"upload",value:function(Z,Y,ft){var ht=this;if(!this.preventImageUpload||ft){var pt=[];Array.from(Y).forEach(function(it){it&&-1!==ht.options.mimetypes.indexOf(it.type)&&pt.push(it)}),pt.length>0&&this.options.handler.call(this,Z,pt,this.options.imageBlot)}}}]),x}(T.Z);o.DEFAULTS={mimetypes:["image/png","image/jpeg","image/pjpeg","image/gif","image/webp","image/bmp","image/svg+xml","image/vnd.microsoft.icon"],imageBlot:"image",handler:function(y,x,M){var Z=this,Y=x.map(function(ft){return new Promise(function(ht){var pt=new FileReader;pt.onload=function(it){ht(it.target.result)},pt.readAsDataURL(ft)})});Promise.all(Y).then(function(ft){var ht=ft.reduce(function(pt,it){return pt.insert(function K(c,y,x){return(y=w(y))in c?Object.defineProperty(c,y,{value:x,enumerable:!0,configurable:!0,writable:!0}):c[y]=x,c}({},M,it))},(new(m())).retain(y.index).delete(y.length));Z.quill.updateContents(ht,O.Z.sources.USER),Z.quill.setSelection(y.index+ft.length,O.Z.sources.SILENT)})}};const u=o},2141:(_,H,r)=>{"use strict";function g(m){return m?m.substring(0,1).toUpperCase()+m.substring(1):""}r.d(H,{Z:()=>g})},8034:(_,H,r)=>{"use strict";r.d(H,{Z:()=>m});const m=function(){return typeof window<"u"}},5874:(_,H,r)=>{"use strict";function g(m){return null!=m}r.d(H,{Z:()=>g})},1233:(_,H,r)=>{"use strict";r.r(H),r.d(H,{Attributor:()=>y,AttributorStore:()=>X,BlockBlot:()=>Q,ClassAttributor:()=>Y,ContainerBlot:()=>h,EmbedBlot:()=>dt,InlineBlot:()=>F,LeafBlot:()=>u,ParentBlot:()=>W,Registry:()=>P,Scope:()=>m,ScrollBlot:()=>et,StyleAttributor:()=>it,TextBlot:()=>_t});var g=function(E){return E[E.TYPE=3]="TYPE",E[E.LEVEL=12]="LEVEL",E[E.ATTRIBUTE=13]="ATTRIBUTE",E[E.BLOT=14]="BLOT",E[E.INLINE=7]="INLINE",E[E.BLOCK=11]="BLOCK",E[E.BLOCK_BLOT=10]="BLOCK_BLOT",E[E.INLINE_BLOT=6]="INLINE_BLOT",E[E.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",E[E.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",E[E.ANY=15]="ANY",E}(g||{});const m=g;var O=function(){function E(){this.head=null,this.tail=null,this.length=0}return E.prototype.append=function(){for(var l=[],i=0;i<arguments.length;i++)l[i]=arguments[i];if(this.insertBefore(l[0],null),l.length>1){var v=l.slice(1);this.append.apply(this,v)}},E.prototype.at=function(l){for(var i=this.iterator(),v=i();v&&l>0;)l-=1,v=i();return v},E.prototype.contains=function(l){for(var i=this.iterator(),v=i();v;){if(v===l)return!0;v=i()}return!1},E.prototype.indexOf=function(l){for(var i=this.iterator(),v=i(),d=0;v;){if(v===l)return d;d+=1,v=i()}return-1},E.prototype.insertBefore=function(l,i){null!=l&&(this.remove(l),l.next=i,null!=i?(l.prev=i.prev,null!=i.prev&&(i.prev.next=l),i.prev=l,i===this.head&&(this.head=l)):null!=this.tail?(this.tail.next=l,l.prev=this.tail,this.tail=l):(l.prev=null,this.head=this.tail=l),this.length+=1)},E.prototype.offset=function(l){for(var i=0,v=this.head;null!=v;){if(v===l)return i;i+=v.length(),v=v.next}return-1},E.prototype.remove=function(l){this.contains(l)&&(null!=l.prev&&(l.prev.next=l.next),null!=l.next&&(l.next.prev=l.prev),l===this.head&&(this.head=l.next),l===this.tail&&(this.tail=l.prev),this.length-=1)},E.prototype.iterator=function(l){return void 0===l&&(l=this.head),function(){var i=l;return null!=l&&(l=l.next),i}},E.prototype.find=function(l,i){void 0===i&&(i=!1);for(var v=this.iterator(),d=v();d;){var N=d.length();if(l<N||i&&l===N&&(null==d.next||0!==d.next.length()))return[d,l];l-=N,d=v()}return[null,0]},E.prototype.forEach=function(l){for(var i=this.iterator(),v=i();v;)l(v),v=i()},E.prototype.forEachAt=function(l,i,v){if(!(i<=0))for(var d=this.find(l),St=l-d[1],Ut=this.iterator(d[0]),Ft=Ut();Ft&&St<l+i;){var Zt=Ft.length();l>St?v(Ft,l-St,Math.min(i,St+Zt-l)):v(Ft,0,Math.min(Zt,l+i-St)),St+=Zt,Ft=Ut()}},E.prototype.map=function(l){return this.reduce(function(i,v){return i.push(l(v)),i},[])},E.prototype.reduce=function(l,i){for(var v=this.iterator(),d=v();d;)i=l(i,d),d=v();return i},E}();const T=O;var j=function(){var E=function(i,v){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,N){d.__proto__=N}||function(d,N){for(var st in N)Object.prototype.hasOwnProperty.call(N,st)&&(d[st]=N[st])})(i,v)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function v(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(v.prototype=i.prototype,new v)}}();const K=function(E){function l(i){var v=this;return(v=E.call(this,i="[Parchment] "+i)||this).message=i,v.name=v.constructor.name,v}return j(l,E),l}(Error);var L=function(){function E(){this.attributes={},this.classes={},this.tags={},this.types={}}return E.find=function(l,i){if(void 0===i&&(i=!1),null==l)return null;if(this.blots.has(l))return this.blots.get(l)||null;if(i){var v=null;try{v=l.parentNode}catch{return null}return this.find(v,i)}return null},E.prototype.create=function(l,i,v){var d=this.query(i);if(null==d)throw new K("Unable to create ".concat(i," blot"));var N=d,st=i instanceof Node||i.nodeType===Node.TEXT_NODE?i:N.create(v),St=new N(l,st,v);return E.blots.set(St.domNode,St),St},E.prototype.find=function(l,i){return void 0===i&&(i=!1),E.find(l,i)},E.prototype.query=function(l,i){var d,v=this;return void 0===i&&(i=m.ANY),"string"==typeof l?d=this.types[l]||this.attributes[l]:l instanceof Text||l.nodeType===Node.TEXT_NODE?d=this.types.text:"number"==typeof l?l&m.LEVEL&m.BLOCK?d=this.types.block:l&m.LEVEL&m.INLINE&&(d=this.types.inline):l instanceof Element&&((l.getAttribute("class")||"").split(/\s+/).some(function(st){return!!(d=v.classes[st])}),d=d||this.tags[l.tagName]),null==d?null:i&m.LEVEL&d.scope&&i&m.TYPE&d.scope?d:null},E.prototype.register=function(){for(var l=this,i=[],v=0;v<arguments.length;v++)i[v]=arguments[v];if(i.length>1)return i.map(function(st){return l.register(st)});var d=i[0];if("string"!=typeof d.blotName&&"string"!=typeof d.attrName)throw new K("Invalid definition");if("abstract"===d.blotName)throw new K("Cannot register abstract class");return this.types[d.blotName||d.attrName]=d,"string"==typeof d.keyName?this.attributes[d.keyName]=d:(null!=d.className&&(this.classes[d.className]=d),null!=d.tagName&&(d.tagName=Array.isArray(d.tagName)?d.tagName.map(function(st){return st.toUpperCase()}):d.tagName.toUpperCase(),(Array.isArray(d.tagName)?d.tagName:[d.tagName]).forEach(function(st){(null==l.tags[st]||null==d.className)&&(l.tags[st]=d)}))),d},E.blots=new WeakMap,E}();const P=L,w=function(){function E(l,i){this.scroll=l,this.domNode=i,P.blots.set(i,this),this.prev=null,this.next=null}return E.create=function(l){if(null==this.tagName)throw new K("Blot definition missing tagName");var i;return Array.isArray(this.tagName)?("string"==typeof l&&(l=l.toUpperCase(),parseInt(l,10).toString()===l&&(l=parseInt(l,10))),i="number"==typeof l?document.createElement(this.tagName[l-1]):this.tagName.indexOf(l)>-1?document.createElement(l):document.createElement(this.tagName[0])):i=document.createElement(this.tagName),this.className&&i.classList.add(this.className),i},Object.defineProperty(E.prototype,"statics",{get:function(){return this.constructor},enumerable:!1,configurable:!0}),E.prototype.attach=function(){},E.prototype.clone=function(){var l=this.domNode.cloneNode(!1);return this.scroll.create(l)},E.prototype.detach=function(){null!=this.parent&&this.parent.removeChild(this),P.blots.delete(this.domNode)},E.prototype.deleteAt=function(l,i){this.isolate(l,i).remove()},E.prototype.formatAt=function(l,i,v,d){var N=this.isolate(l,i);if(null!=this.scroll.query(v,m.BLOT)&&d)N.wrap(v,d);else if(null!=this.scroll.query(v,m.ATTRIBUTE)){var st=this.scroll.create(this.statics.scope);N.wrap(st),st.format(v,d)}},E.prototype.insertAt=function(l,i,v){var d=null==v?this.scroll.create("text",i):this.scroll.create(i,v),N=this.split(l);this.parent.insertBefore(d,N||void 0)},E.prototype.isolate=function(l,i){var v=this.split(l);if(null==v)throw new Error("Attempt to isolate at end");return v.split(i),v},E.prototype.length=function(){return 1},E.prototype.offset=function(l){return void 0===l&&(l=this.parent),null==this.parent||this===l?0:this.parent.children.offset(this)+this.parent.offset(l)},E.prototype.optimize=function(l){this.statics.requiredContainer&&!(this.parent instanceof this.statics.requiredContainer)&&this.wrap(this.statics.requiredContainer.blotName)},E.prototype.remove=function(){null!=this.domNode.parentNode&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},E.prototype.replaceWith=function(l,i){var v="string"==typeof l?this.scroll.create(l,i):l;return null!=this.parent&&(this.parent.insertBefore(v,this.next||void 0),this.remove()),v},E.prototype.split=function(l,i){return 0===l?this:this.next},E.prototype.update=function(l,i){},E.prototype.wrap=function(l,i){var v="string"==typeof l?this.scroll.create(l,i):l;if(null!=this.parent&&this.parent.insertBefore(v,this.next||void 0),"function"!=typeof v.appendChild)throw new K("Cannot wrap ".concat(l));return v.appendChild(this),v},E.blotName="abstract",E}();var I=function(){var E=function(i,v){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,N){d.__proto__=N}||function(d,N){for(var st in N)Object.prototype.hasOwnProperty.call(N,st)&&(d[st]=N[st])})(i,v)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function v(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(v.prototype=i.prototype,new v)}}();function $(E,l){var i=l.find(E);if(null==i)try{i=l.create(E)}catch{i=l.create(m.INLINE),Array.from(E.childNodes).forEach(function(d){i.domNode.appendChild(d)}),E.parentNode&&E.parentNode.replaceChild(i.domNode,E),i.attach()}return i}const W=function(E){function l(i,v){var d=E.call(this,i,v)||this;return d.uiNode=null,d.build(),d}return I(l,E),l.prototype.appendChild=function(i){this.insertBefore(i)},l.prototype.attach=function(){E.prototype.attach.call(this),this.children.forEach(function(i){i.attach()})},l.prototype.attachUI=function(i){null!=this.uiNode&&this.uiNode.remove(),this.uiNode=i,l.uiClass&&this.uiNode.classList.add(l.uiClass),this.uiNode.setAttribute("contenteditable","false"),this.domNode.insertBefore(this.uiNode,this.domNode.firstChild)},l.prototype.build=function(){var i=this;this.children=new T,Array.from(this.domNode.childNodes).filter(function(v){return v!==i.uiNode}).reverse().forEach(function(v){try{var d=$(v,i.scroll);i.insertBefore(d,i.children.head||void 0)}catch(N){if(N instanceof K)return;throw N}})},l.prototype.deleteAt=function(i,v){if(0===i&&v===this.length())return this.remove();this.children.forEachAt(i,v,function(d,N,st){d.deleteAt(N,st)})},l.prototype.descendant=function(i,v){void 0===v&&(v=0);var d=this.children.find(v),N=d[0],st=d[1];return null==i.blotName&&i(N)||null!=i.blotName&&N instanceof i?[N,st]:N instanceof l?N.descendant(i,st):[null,-1]},l.prototype.descendants=function(i,v,d){void 0===v&&(v=0),void 0===d&&(d=Number.MAX_VALUE);var N=[],st=d;return this.children.forEachAt(v,d,function(St,Ut,Ft){(null==i.blotName&&i(St)||null!=i.blotName&&St instanceof i)&&N.push(St),St instanceof l&&(N=N.concat(St.descendants(i,Ut,st))),st-=Ft}),N},l.prototype.detach=function(){this.children.forEach(function(i){i.detach()}),E.prototype.detach.call(this)},l.prototype.enforceAllowedChildren=function(){var i=this,v=!1;this.children.forEach(function(d){v||i.statics.allowedChildren.some(function(st){return d instanceof st})||(d.statics.scope===m.BLOCK_BLOT?(null!=d.next&&i.splitAfter(d),null!=d.prev&&i.splitAfter(d.prev),d.parent.unwrap(),v=!0):d instanceof l?d.unwrap():d.remove())})},l.prototype.formatAt=function(i,v,d,N){this.children.forEachAt(i,v,function(st,St,Ut){st.formatAt(St,Ut,d,N)})},l.prototype.insertAt=function(i,v,d){var N=this.children.find(i),st=N[0];if(st)st.insertAt(N[1],v,d);else{var Ut=null==d?this.scroll.create("text",v):this.scroll.create(v,d);this.appendChild(Ut)}},l.prototype.insertBefore=function(i,v){null!=i.parent&&i.parent.children.remove(i);var d=null;this.children.insertBefore(i,v||null),i.parent=this,null!=v&&(d=v.domNode),(this.domNode.parentNode!==i.domNode||this.domNode.nextSibling!==d)&&this.domNode.insertBefore(i.domNode,d),i.attach()},l.prototype.length=function(){return this.children.reduce(function(i,v){return i+v.length()},0)},l.prototype.moveChildren=function(i,v){this.children.forEach(function(d){i.insertBefore(d,v)})},l.prototype.optimize=function(i){if(E.prototype.optimize.call(this,i),this.enforceAllowedChildren(),null!=this.uiNode&&this.uiNode!==this.domNode.firstChild&&this.domNode.insertBefore(this.uiNode,this.domNode.firstChild),0===this.children.length)if(null!=this.statics.defaultChild){var v=this.scroll.create(this.statics.defaultChild.blotName);this.appendChild(v)}else this.remove()},l.prototype.path=function(i,v){void 0===v&&(v=!1);var d=this.children.find(i,v),N=d[0],st=d[1],St=[[this,i]];return N instanceof l?St.concat(N.path(st,v)):(null!=N&&St.push([N,st]),St)},l.prototype.removeChild=function(i){this.children.remove(i)},l.prototype.replaceWith=function(i,v){var d="string"==typeof i?this.scroll.create(i,v):i;return d instanceof l&&this.moveChildren(d),E.prototype.replaceWith.call(this,d)},l.prototype.split=function(i,v){if(void 0===v&&(v=!1),!v){if(0===i)return this;if(i===this.length())return this.next}var d=this.clone();return this.parent&&this.parent.insertBefore(d,this.next||void 0),this.children.forEachAt(i,this.length(),function(N,st,St){var Ut=N.split(st,v);null!=Ut&&d.appendChild(Ut)}),d},l.prototype.splitAfter=function(i){for(var v=this.clone();null!=i.next;)v.appendChild(i.next);return this.parent&&this.parent.insertBefore(v,this.next||void 0),v},l.prototype.unwrap=function(){this.parent&&this.moveChildren(this.parent,this.next||void 0),this.remove()},l.prototype.update=function(i,v){var d=this,N=[],st=[];i.forEach(function(St){St.target===d.domNode&&"childList"===St.type&&(N.push.apply(N,St.addedNodes),st.push.apply(st,St.removedNodes))}),st.forEach(function(St){if(!(null!=St.parentNode&&"IFRAME"!==St.tagName&&document.body.compareDocumentPosition(St)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var Ut=d.scroll.find(St);null!=Ut&&(null==Ut.domNode.parentNode||Ut.domNode.parentNode===d.domNode)&&Ut.detach()}}),N.filter(function(St){return St.parentNode===d.domNode||St===d.uiNode}).sort(function(St,Ut){return St===Ut?0:St.compareDocumentPosition(Ut)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(St){var Ut=null;null!=St.nextSibling&&(Ut=d.scroll.find(St.nextSibling));var Ft=$(St,d.scroll);(Ft.next!==Ut||null==Ft.next)&&(null!=Ft.parent&&Ft.parent.removeChild(d),d.insertBefore(Ft,Ut||void 0))}),this.enforceAllowedChildren()},l.uiClass="",l}(w);var V=function(){var E=function(i,v){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,N){d.__proto__=N}||function(d,N){for(var st in N)Object.prototype.hasOwnProperty.call(N,st)&&(d[st]=N[st])})(i,v)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function v(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(v.prototype=i.prototype,new v)}}(),B=function(E){function l(){return null!==E&&E.apply(this,arguments)||this}return V(l,E),l.prototype.checkMerge=function(){return null!==this.next&&this.next.statics.blotName===this.statics.blotName},l.prototype.deleteAt=function(i,v){E.prototype.deleteAt.call(this,i,v),this.enforceAllowedChildren()},l.prototype.formatAt=function(i,v,d,N){E.prototype.formatAt.call(this,i,v,d,N),this.enforceAllowedChildren()},l.prototype.insertAt=function(i,v,d){E.prototype.insertAt.call(this,i,v,d),this.enforceAllowedChildren()},l.prototype.optimize=function(i){E.prototype.optimize.call(this,i),this.children.length>0&&null!=this.next&&this.checkMerge()&&(this.next.moveChildren(this),this.next.remove())},l.blotName="container",l.scope=m.BLOCK_BLOT,l}(W);const h=B;var b=function(){var E=function(i,v){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,N){d.__proto__=N}||function(d,N){for(var st in N)Object.prototype.hasOwnProperty.call(N,st)&&(d[st]=N[st])})(i,v)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function v(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(v.prototype=i.prototype,new v)}}(),o=function(E){function l(){return null!==E&&E.apply(this,arguments)||this}return b(l,E),l.value=function(i){return!0},l.prototype.index=function(i,v){return this.domNode===i||this.domNode.compareDocumentPosition(i)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(v,1):-1},l.prototype.position=function(i,v){var N=Array.from(this.parent.domNode.childNodes).indexOf(this.domNode);return i>0&&(N+=1),[this.parent.domNode,N]},l.prototype.value=function(){var i;return(i={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,i},l.scope=m.INLINE_BLOT,l}(w);const u=o,y=function(){function E(l,i,v){void 0===v&&(v={}),this.attrName=l,this.keyName=i,this.scope=null!=v.scope?v.scope&m.LEVEL|m.TYPE&m.ATTRIBUTE:m.ATTRIBUTE,null!=v.whitelist&&(this.whitelist=v.whitelist)}return E.keys=function(l){return Array.from(l.attributes).map(function(i){return i.name})},E.prototype.add=function(l,i){return!!this.canAdd(l,i)&&(l.setAttribute(this.keyName,i),!0)},E.prototype.canAdd=function(l,i){return null==this.whitelist||("string"==typeof i?this.whitelist.indexOf(i.replace(/["']/g,""))>-1:this.whitelist.indexOf(i)>-1)},E.prototype.remove=function(l){l.removeAttribute(this.keyName)},E.prototype.value=function(l){var i=l.getAttribute(this.keyName);return this.canAdd(l,i)&&i?i:""},E}();var x=function(){var E=function(i,v){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,N){d.__proto__=N}||function(d,N){for(var st in N)Object.prototype.hasOwnProperty.call(N,st)&&(d[st]=N[st])})(i,v)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function v(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(v.prototype=i.prototype,new v)}}();function M(E,l){return(E.getAttribute("class")||"").split(/\s+/).filter(function(v){return 0===v.indexOf("".concat(l,"-"))})}var Z=function(E){function l(){return null!==E&&E.apply(this,arguments)||this}return x(l,E),l.keys=function(i){return(i.getAttribute("class")||"").split(/\s+/).map(function(v){return v.split("-").slice(0,-1).join("-")})},l.prototype.add=function(i,v){return!!this.canAdd(i,v)&&(this.remove(i),i.classList.add("".concat(this.keyName,"-").concat(v)),!0)},l.prototype.remove=function(i){M(i,this.keyName).forEach(function(d){i.classList.remove(d)}),0===i.classList.length&&i.removeAttribute("class")},l.prototype.value=function(i){var d=(M(i,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(i,d)?d:""},l}(y);const Y=Z;var ft=function(){var E=function(i,v){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,N){d.__proto__=N}||function(d,N){for(var st in N)Object.prototype.hasOwnProperty.call(N,st)&&(d[st]=N[st])})(i,v)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function v(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(v.prototype=i.prototype,new v)}}();function ht(E){var l=E.split("-"),i=l.slice(1).map(function(v){return v[0].toUpperCase()+v.slice(1)}).join("");return l[0]+i}var pt=function(E){function l(){return null!==E&&E.apply(this,arguments)||this}return ft(l,E),l.keys=function(i){return(i.getAttribute("style")||"").split(";").map(function(v){return v.split(":")[0].trim()})},l.prototype.add=function(i,v){return!!this.canAdd(i,v)&&(i.style[ht(this.keyName)]=v,!0)},l.prototype.remove=function(i){i.style[ht(this.keyName)]="",i.getAttribute("style")||i.removeAttribute("style")},l.prototype.value=function(i){var v=i.style[ht(this.keyName)];return this.canAdd(i,v)?v:""},l}(y);const it=pt,X=function(){function E(l){this.attributes={},this.domNode=l,this.build()}return E.prototype.attribute=function(l,i){i?l.add(this.domNode,i)&&(null!=l.value(this.domNode)?this.attributes[l.attrName]=l:delete this.attributes[l.attrName]):(l.remove(this.domNode),delete this.attributes[l.attrName])},E.prototype.build=function(){var l=this;this.attributes={};var i=P.find(this.domNode);if(null!=i){var v=y.keys(this.domNode),d=Y.keys(this.domNode),N=it.keys(this.domNode);v.concat(d).concat(N).forEach(function(st){var St=i.scroll.query(st,m.ATTRIBUTE);St instanceof y&&(l.attributes[St.attrName]=St)})}},E.prototype.copy=function(l){var i=this;Object.keys(this.attributes).forEach(function(v){var d=i.attributes[v].value(i.domNode);l.format(v,d)})},E.prototype.move=function(l){var i=this;this.copy(l),Object.keys(this.attributes).forEach(function(v){i.attributes[v].remove(i.domNode)}),this.attributes={}},E.prototype.values=function(){var l=this;return Object.keys(this.attributes).reduce(function(i,v){return i[v]=l.attributes[v].value(l.domNode),i},{})},E}();var vt=function(){var E=function(i,v){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,N){d.__proto__=N}||function(d,N){for(var st in N)Object.prototype.hasOwnProperty.call(N,st)&&(d[st]=N[st])})(i,v)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function v(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(v.prototype=i.prototype,new v)}}();const F=function(E){function l(i,v){var d=E.call(this,i,v)||this;return d.attributes=new X(d.domNode),d}return vt(l,E),l.formats=function(i,v){var d=v.query(l.blotName);if(null==d||i.tagName!==d.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return i.tagName.toLowerCase()}},l.prototype.format=function(i,v){var d=this;if(i!==this.statics.blotName||v){var N=this.scroll.query(i,m.INLINE);if(null==N)return;N instanceof y?this.attributes.attribute(N,v):v&&(i!==this.statics.blotName||this.formats()[i]!==v)&&this.replaceWith(i,v)}else this.children.forEach(function(st){st instanceof l||(st=st.wrap(l.blotName,!0)),d.attributes.copy(st)}),this.unwrap()},l.prototype.formats=function(){var i=this.attributes.values(),v=this.statics.formats(this.domNode,this.scroll);return null!=v&&(i[this.statics.blotName]=v),i},l.prototype.formatAt=function(i,v,d,N){null!=this.formats()[d]||this.scroll.query(d,m.ATTRIBUTE)?this.isolate(i,v).format(d,N):E.prototype.formatAt.call(this,i,v,d,N)},l.prototype.optimize=function(i){E.prototype.optimize.call(this,i);var v=this.formats();if(0===Object.keys(v).length)return this.unwrap();var d=this.next;d instanceof l&&d.prev===this&&function lt(E,l){if(Object.keys(E).length!==Object.keys(l).length)return!1;for(var i in E)if(E[i]!==l[i])return!1;return!0}(v,d.formats())&&(d.moveChildren(this),d.remove())},l.prototype.replaceWith=function(i,v){var d=E.prototype.replaceWith.call(this,i,v);return this.attributes.copy(d),d},l.prototype.update=function(i,v){var d=this;E.prototype.update.call(this,i,v),i.some(function(st){return st.target===d.domNode&&"attributes"===st.type})&&this.attributes.build()},l.prototype.wrap=function(i,v){var d=E.prototype.wrap.call(this,i,v);return d instanceof l&&this.attributes.move(d),d},l.allowedChildren=[l,u],l.blotName="inline",l.scope=m.INLINE_BLOT,l.tagName="SPAN",l}(W);var C=function(){var E=function(i,v){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,N){d.__proto__=N}||function(d,N){for(var st in N)Object.prototype.hasOwnProperty.call(N,st)&&(d[st]=N[st])})(i,v)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function v(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(v.prototype=i.prototype,new v)}}();const Q=function(E){function l(i,v){var d=E.call(this,i,v)||this;return d.attributes=new X(d.domNode),d}return C(l,E),l.formats=function(i,v){var d=v.query(l.blotName);if(null==d||i.tagName!==d.tagName){if("string"==typeof this.tagName)return!0;if(Array.isArray(this.tagName))return i.tagName.toLowerCase()}},l.prototype.format=function(i,v){var d=this.scroll.query(i,m.BLOCK);null!=d&&(d instanceof y?this.attributes.attribute(d,v):i!==this.statics.blotName||v?v&&(i!==this.statics.blotName||this.formats()[i]!==v)&&this.replaceWith(i,v):this.replaceWith(l.blotName))},l.prototype.formats=function(){var i=this.attributes.values(),v=this.statics.formats(this.domNode,this.scroll);return null!=v&&(i[this.statics.blotName]=v),i},l.prototype.formatAt=function(i,v,d,N){null!=this.scroll.query(d,m.BLOCK)?this.format(d,N):E.prototype.formatAt.call(this,i,v,d,N)},l.prototype.insertAt=function(i,v,d){if(null==d||null!=this.scroll.query(v,m.INLINE))E.prototype.insertAt.call(this,i,v,d);else{var N=this.split(i);if(null==N)throw new Error("Attempt to insertAt after block boundaries");var st=this.scroll.create(v,d);N.parent.insertBefore(st,N)}},l.prototype.replaceWith=function(i,v){var d=E.prototype.replaceWith.call(this,i,v);return this.attributes.copy(d),d},l.prototype.update=function(i,v){var d=this;E.prototype.update.call(this,i,v),i.some(function(st){return st.target===d.domNode&&"attributes"===st.type})&&this.attributes.build()},l.blotName="block",l.scope=m.BLOCK_BLOT,l.tagName="P",l.allowedChildren=[F,l,u],l}(W);var D=function(){var E=function(i,v){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,N){d.__proto__=N}||function(d,N){for(var st in N)Object.prototype.hasOwnProperty.call(N,st)&&(d[st]=N[st])})(i,v)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function v(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(v.prototype=i.prototype,new v)}}(),at=function(E){function l(){return null!==E&&E.apply(this,arguments)||this}return D(l,E),l.formats=function(i,v){},l.prototype.format=function(i,v){E.prototype.formatAt.call(this,0,this.length(),i,v)},l.prototype.formatAt=function(i,v,d,N){0===i&&v===this.length()?this.format(d,N):E.prototype.formatAt.call(this,i,v,d,N)},l.prototype.formats=function(){return this.statics.formats(this.domNode,this.scroll)},l}(u);const dt=at;var mt=function(){var E=function(i,v){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,N){d.__proto__=N}||function(d,N){for(var st in N)Object.prototype.hasOwnProperty.call(N,st)&&(d[st]=N[st])})(i,v)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function v(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(v.prototype=i.prototype,new v)}}(),tt={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},gt=function(E){function l(i,v){var d=E.call(this,null,v)||this;return d.registry=i,d.scroll=d,d.build(),d.observer=new MutationObserver(function(N){d.update(N)}),d.observer.observe(d.domNode,tt),d.attach(),d}return mt(l,E),l.prototype.create=function(i,v){return this.registry.create(this,i,v)},l.prototype.find=function(i,v){void 0===v&&(v=!1);var d=this.registry.find(i,v);return d?d.scroll===this?d:v?this.find(d.scroll.domNode.parentNode,!0):null:null},l.prototype.query=function(i,v){return void 0===v&&(v=m.ANY),this.registry.query(i,v)},l.prototype.register=function(){for(var i,v=[],d=0;d<arguments.length;d++)v[d]=arguments[d];return(i=this.registry).register.apply(i,v)},l.prototype.build=function(){null!=this.scroll&&E.prototype.build.call(this)},l.prototype.detach=function(){E.prototype.detach.call(this),this.observer.disconnect()},l.prototype.deleteAt=function(i,v){this.update(),0===i&&v===this.length()?this.children.forEach(function(d){d.remove()}):E.prototype.deleteAt.call(this,i,v)},l.prototype.formatAt=function(i,v,d,N){this.update(),E.prototype.formatAt.call(this,i,v,d,N)},l.prototype.insertAt=function(i,v,d){this.update(),E.prototype.insertAt.call(this,i,v,d)},l.prototype.optimize=function(i,v){var d=this;void 0===i&&(i=[]),void 0===v&&(v={}),E.prototype.optimize.call(this,v);for(var N=v.mutationsMap||new WeakMap,st=Array.from(this.observer.takeRecords());st.length>0;)i.push(st.pop());for(var St=function Qt(re,bt){void 0===bt&&(bt=!0),null!=re&&re!==d&&null!=re.domNode.parentNode&&(N.has(re.domNode)||N.set(re.domNode,[]),bt&&Qt(re.parent))},Ut=function Qt(re){N.has(re.domNode)&&(re instanceof W&&re.children.forEach(Qt),N.delete(re.domNode),re.optimize(v))},Ft=i,Zt=0;Ft.length>0;Zt+=1){if(Zt>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(Ft.forEach(function(Qt){var re=d.find(Qt.target,!0);null!=re&&(re.domNode===Qt.target&&("childList"===Qt.type?(St(d.find(Qt.previousSibling,!1)),Array.from(Qt.addedNodes).forEach(function(bt){var wt=d.find(bt,!1);St(wt,!1),wt instanceof W&&wt.children.forEach(function(Nt){St(Nt,!1)})})):"attributes"===Qt.type&&St(re.prev)),St(re))}),this.children.forEach(Ut),st=(Ft=Array.from(this.observer.takeRecords())).slice();st.length>0;)i.push(st.pop())}},l.prototype.update=function(i,v){var d=this;void 0===v&&(v={}),i=i||this.observer.takeRecords();var N=new WeakMap;i.map(function(st){var St=d.find(st.target,!0);return null==St?null:N.has(St.domNode)?(N.get(St.domNode).push(st),null):(N.set(St.domNode,[st]),St)}).forEach(function(st){null!=st&&st!==d&&N.has(st.domNode)&&st.update(N.get(st.domNode)||[],v)}),v.mutationsMap=N,N.has(this.domNode)&&E.prototype.update.call(this,N.get(this.domNode),v),this.optimize(i,v)},l.blotName="scroll",l.defaultChild=Q,l.allowedChildren=[Q,h],l.scope=m.BLOCK_BLOT,l.tagName="DIV",l}(W);const et=gt;var rt=function(){var E=function(i,v){return(E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,N){d.__proto__=N}||function(d,N){for(var st in N)Object.prototype.hasOwnProperty.call(N,st)&&(d[st]=N[st])})(i,v)};return function(l,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function v(){this.constructor=l}E(l,i),l.prototype=null===i?Object.create(i):(v.prototype=i.prototype,new v)}}();const _t=function(E){function l(i,v){var d=E.call(this,i,v)||this;return d.text=d.statics.value(d.domNode),d}return rt(l,E),l.create=function(i){return document.createTextNode(i)},l.value=function(i){return i.data},l.prototype.deleteAt=function(i,v){this.domNode.data=this.text=this.text.slice(0,i)+this.text.slice(i+v)},l.prototype.index=function(i,v){return this.domNode===i?v:-1},l.prototype.insertAt=function(i,v,d){null==d?(this.text=this.text.slice(0,i)+v+this.text.slice(i),this.domNode.data=this.text):E.prototype.insertAt.call(this,i,v,d)},l.prototype.length=function(){return this.text.length},l.prototype.optimize=function(i){E.prototype.optimize.call(this,i),this.text=this.statics.value(this.domNode),0===this.text.length?this.remove():this.next instanceof l&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},l.prototype.position=function(i,v){return void 0===v&&(v=!1),[this.domNode,i]},l.prototype.split=function(i,v){if(void 0===v&&(v=!1),!v){if(0===i)return this;if(i===this.length())return this.next}var d=this.scroll.create(this.domNode.splitText(i));return this.parent.insertBefore(d,this.next||void 0),this.text=this.statics.value(this.domNode),d},l.prototype.update=function(i,v){var d=this;i.some(function(N){return"characterData"===N.type&&N.target===d.domNode})&&(this.text=this.statics.value(this.domNode))},l.prototype.value=function(){return this.text},l.blotName="text",l.scope=m.INLINE_BLOT,l}(u)},3034:function(_,H){"use strict";var r=Object.prototype.hasOwnProperty,g="~";function m(){}function O(K,L,P){this.fn=K,this.context=L,this.once=P||!1}function T(K,L,P,R,w){if("function"!=typeof P)throw new TypeError("The listener must be a function");var I=new O(P,R||K,w),$=g?g+L:L;return K._events[$]?K._events[$].fn?K._events[$]=[K._events[$],I]:K._events[$].push(I):(K._events[$]=I,K._eventsCount++),K}function j(K,L){0==--K._eventsCount?K._events=new m:delete K._events[L]}function k(){this._events=new m,this._eventsCount=0}Object.create&&(m.prototype=Object.create(null),(new m).__proto__||(g=!1)),k.prototype.eventNames=function(){var P,R,L=[];if(0===this._eventsCount)return L;for(R in P=this._events)r.call(P,R)&&L.push(g?R.slice(1):R);return Object.getOwnPropertySymbols?L.concat(Object.getOwnPropertySymbols(P)):L},k.prototype.listeners=function(L){var R=this._events[g?g+L:L];if(!R)return[];if(R.fn)return[R.fn];for(var w=0,I=R.length,$=new Array(I);w<I;w++)$[w]=R[w].fn;return $},k.prototype.listenerCount=function(L){var R=this._events[g?g+L:L];return R?R.fn?1:R.length:0},k.prototype.emit=function(L,P,R,w,I,$){var A=g?g+L:L;if(!this._events[A])return!1;var B,h,W=this._events[A],V=arguments.length;if(W.fn){switch(W.once&&this.removeListener(L,W.fn,void 0,!0),V){case 1:return W.fn.call(W.context),!0;case 2:return W.fn.call(W.context,P),!0;case 3:return W.fn.call(W.context,P,R),!0;case 4:return W.fn.call(W.context,P,R,w),!0;case 5:return W.fn.call(W.context,P,R,w,I),!0;case 6:return W.fn.call(W.context,P,R,w,I,$),!0}for(h=1,B=new Array(V-1);h<V;h++)B[h-1]=arguments[h];W.fn.apply(W.context,B)}else{var o,b=W.length;for(h=0;h<b;h++)switch(W[h].once&&this.removeListener(L,W[h].fn,void 0,!0),V){case 1:W[h].fn.call(W[h].context);break;case 2:W[h].fn.call(W[h].context,P);break;case 3:W[h].fn.call(W[h].context,P,R);break;case 4:W[h].fn.call(W[h].context,P,R,w);break;default:if(!B)for(o=1,B=new Array(V-1);o<V;o++)B[o-1]=arguments[o];W[h].fn.apply(W[h].context,B)}}return!0},k.prototype.on=function(L,P,R){return T(this,L,P,R,!1)},k.prototype.once=function(L,P,R){return T(this,L,P,R,!0)},k.prototype.removeListener=function(L,P,R,w){var I=g?g+L:L;if(!this._events[I])return this;if(!P)return j(this,I),this;var $=this._events[I];if($.fn)$.fn===P&&(!w||$.once)&&(!R||$.context===R)&&j(this,I);else{for(var A=0,W=[],V=$.length;A<V;A++)($[A].fn!==P||w&&!$[A].once||R&&$[A].context!==R)&&W.push($[A]);W.length?this._events[I]=1===W.length?W[0]:W:j(this,I)}return this},k.prototype.removeAllListeners=function(L){var P;return L?this._events[P=g?g+L:L]&&j(this,P):(this._events=new m,this._eventsCount=0),this},k.prototype.off=k.prototype.removeListener,k.prototype.addListener=k.prototype.on,k.prefixed=g,k.EventEmitter=k,typeof _<"u"&&(_.exports=k)},1456:_=>{var H=-1,r=1,g=0;function m(h,b,o,u){if(h===b)return h?[[g,h]]:[];if(null!=o){var c=function V(h,b,o){var u="number"==typeof o?{index:o,length:0}:o.oldRange,c="number"==typeof o?null:o.newRange,y=h.length,x=b.length;if(0===u.length&&(null===c||0===c.length)){var M=u.index,Z=h.slice(0,M),Y=h.slice(M),ft=c?c.index:null,ht=M+x-y;if(!(null!==ft&&ft!==ht||ht<0||ht>x)){var pt=b.slice(0,ht);if((it=b.slice(ht))===Y){var Ot=Math.min(M,ht);if((X=Z.slice(0,Ot))===(vt=pt.slice(0,Ot)))return W(X,Z.slice(Ot),pt.slice(Ot),Y)}}if(null===ft||ft===M){var F=M,it=(pt=b.slice(0,F),b.slice(F));if(pt===Z){var C=Math.min(y-F,x-F);if((q=Y.slice(Y.length-C))===(Q=it.slice(it.length-C)))return W(Z,Y.slice(0,Y.length-C),it.slice(0,it.length-C),q)}}}if(u.length>0&&c&&0===c.length){var X=h.slice(0,u.index),q=h.slice(u.index+u.length);if(!(x<(Ot=X.length)+(C=q.length))){var vt=b.slice(0,Ot),Q=b.slice(x-C);if(X===vt&&q===Q)return W(X,h.slice(Ot,y-C),b.slice(Ot,x-C),q)}}return null}(h,b,o);if(c)return c}var y=k(h,b),x=h.substring(0,y);y=K(h=h.substring(y),b=b.substring(y));var M=h.substring(h.length-y),Z=function O(h,b){var o;if(!h)return[[r,b]];if(!b)return[[H,h]];var u=h.length>b.length?h:b,c=h.length>b.length?b:h,y=u.indexOf(c);if(-1!==y)return o=[[r,u.substring(0,y)],[g,c],[r,u.substring(y+c.length)]],h.length>b.length&&(o[0][0]=o[2][0]=H),o;if(1===c.length)return[[H,h],[r,b]];var x=function L(h,b){var o=h.length>b.length?h:b,u=h.length>b.length?b:h;if(o.length<4||2*u.length<o.length)return null;function c(it,Ot,X){for(var F,C,q,Q,vt=it.substring(X,X+Math.floor(it.length/4)),lt=-1,ot="";-1!==(lt=Ot.indexOf(vt,lt+1));){var D=k(it.substring(X),Ot.substring(lt)),at=K(it.substring(0,X),Ot.substring(0,lt));ot.length<at+D&&(ot=Ot.substring(lt-at,lt)+Ot.substring(lt,lt+D),F=it.substring(0,X-at),C=it.substring(X+D),q=Ot.substring(0,lt-at),Q=Ot.substring(lt+D))}return 2*ot.length>=it.length?[F,C,q,Q,ot]:null}var M,Z,Y,ft,ht,y=c(o,u,Math.ceil(o.length/4)),x=c(o,u,Math.ceil(o.length/2));return y||x?(M=x?y&&y[4].length>x[4].length?y:x:y,h.length>b.length?(Z=M[0],Y=M[1],ft=M[2],ht=M[3]):(ft=M[0],ht=M[1],Z=M[2],Y=M[3]),[Z,Y,ft,ht,M[4]]):null}(h,b);if(x){var Z=x[1],ft=x[3],ht=x[4],pt=m(x[0],x[2]),it=m(Z,ft);return pt.concat([[g,ht]],it)}return function T(h,b){for(var o=h.length,u=b.length,c=Math.ceil((o+u)/2),y=c,x=2*c,M=new Array(x),Z=new Array(x),Y=0;Y<x;Y++)M[Y]=-1,Z[Y]=-1;M[y+1]=0,Z[y+1]=0;for(var ft=o-u,ht=ft%2!=0,pt=0,it=0,Ot=0,X=0,vt=0;vt<c;vt++){for(var lt=-vt+pt;lt<=vt-it;lt+=2){for(var ot=y+lt,C=(F=lt===-vt||lt!==vt&&M[ot-1]<M[ot+1]?M[ot+1]:M[ot-1]+1)-lt;F<o&&C<u&&h.charAt(F)===b.charAt(C);)F++,C++;if(M[ot]=F,F>o)it+=2;else if(C>u)pt+=2;else if(ht&&(q=y+ft-lt)>=0&&q<x&&-1!==Z[q]&&F>=(Q=o-Z[q]))return j(h,b,F,C)}for(var D=-vt+Ot;D<=vt-X;D+=2){for(var Q,q=y+D,at=(Q=D===-vt||D!==vt&&Z[q-1]<Z[q+1]?Z[q+1]:Z[q-1]+1)-D;Q<o&&at<u&&h.charAt(o-Q-1)===b.charAt(u-at-1);)Q++,at++;if(Z[q]=Q,Q>o)X+=2;else if(at>u)Ot+=2;else if(!ht){var F;if((ot=y+ft-D)>=0&&ot<x&&-1!==M[ot]&&(C=y+(F=M[ot])-ot,F>=(Q=o-Q)))return j(h,b,F,C)}}}return[[H,h],[r,b]]}(h,b)}(h=h.substring(0,h.length-y),b=b.substring(0,b.length-y));return x&&Z.unshift([g,x]),M&&Z.push([g,M]),P(Z,u),Z}function j(h,b,o,u){var c=h.substring(0,o),y=b.substring(0,u),x=h.substring(o),M=b.substring(u),Z=m(c,y),Y=m(x,M);return Z.concat(Y)}function k(h,b){if(!h||!b||h.charAt(0)!==b.charAt(0))return 0;for(var o=0,u=Math.min(h.length,b.length),c=u,y=0;o<c;)h.substring(y,c)==b.substring(y,c)?y=o=c:u=c,c=Math.floor((u-o)/2+o);return R(h.charCodeAt(c-1))&&c--,c}function K(h,b){if(!h||!b||h.slice(-1)!==b.slice(-1))return 0;for(var o=0,u=Math.min(h.length,b.length),c=u,y=0;o<c;)h.substring(h.length-c,h.length-y)==b.substring(b.length-c,b.length-y)?y=o=c:u=c,c=Math.floor((u-o)/2+o);return w(h.charCodeAt(h.length-c))&&c--,c}function P(h,b){h.push([g,""]);for(var M,o=0,u=0,c=0,y="",x="";o<h.length;)if(o<h.length-1&&!h[o][1])h.splice(o,1);else switch(h[o][0]){case r:c++,x+=h[o][1],o++;break;case H:u++,y+=h[o][1],o++;break;case g:var Z=o-c-u-1;if(b){if(Z>=0&&$(h[Z][1])){var Y=h[Z][1].slice(-1);if(h[Z][1]=h[Z][1].slice(0,-1),y=Y+y,x=Y+x,!h[Z][1]){h.splice(Z,1),o--;var ft=Z-1;h[ft]&&h[ft][0]===r&&(c++,x=h[ft][1]+x,ft--),h[ft]&&h[ft][0]===H&&(u++,y=h[ft][1]+y,ft--),Z=ft}}I(h[o][1])&&(Y=h[o][1].charAt(0),h[o][1]=h[o][1].slice(1),y+=Y,x+=Y)}if(o<h.length-1&&!h[o][1]){h.splice(o,1);break}if(y.length>0||x.length>0){y.length>0&&x.length>0&&(0!==(M=k(x,y))&&(Z>=0?h[Z][1]+=x.substring(0,M):(h.splice(0,0,[g,x.substring(0,M)]),o++),x=x.substring(M),y=y.substring(M)),0!==(M=K(x,y))&&(h[o][1]=x.substring(x.length-M)+h[o][1],x=x.substring(0,x.length-M),y=y.substring(0,y.length-M)));var ht=c+u;0===y.length&&0===x.length?(h.splice(o-ht,ht),o-=ht):0===y.length?(h.splice(o-ht,ht,[r,x]),o=o-ht+1):0===x.length?(h.splice(o-ht,ht,[H,y]),o=o-ht+1):(h.splice(o-ht,ht,[H,y],[r,x]),o=o-ht+2)}0!==o&&h[o-1][0]===g?(h[o-1][1]+=h[o][1],h.splice(o,1)):o++,c=0,u=0,y="",x=""}""===h[h.length-1][1]&&h.pop();var pt=!1;for(o=1;o<h.length-1;)h[o-1][0]===g&&h[o+1][0]===g&&(h[o][1].substring(h[o][1].length-h[o-1][1].length)===h[o-1][1]?(h[o][1]=h[o-1][1]+h[o][1].substring(0,h[o][1].length-h[o-1][1].length),h[o+1][1]=h[o-1][1]+h[o+1][1],h.splice(o-1,1),pt=!0):h[o][1].substring(0,h[o+1][1].length)==h[o+1][1]&&(h[o-1][1]+=h[o+1][1],h[o][1]=h[o][1].substring(h[o+1][1].length)+h[o+1][1],h.splice(o+1,1),pt=!0)),o++;pt&&P(h,b)}function R(h){return h>=55296&&h<=56319}function w(h){return h>=56320&&h<=57343}function I(h){return w(h.charCodeAt(0))}function $(h){return R(h.charCodeAt(h.length-1))}function W(h,b,o,u){return $(h)||I(u)?null:function A(h){for(var b=[],o=0;o<h.length;o++)h[o][1].length>0&&b.push(h[o]);return b}([[g,h],[H,b],[r,o],[g,u]])}function B(h,b,o){return m(h,b,o,!0)}B.INSERT=r,B.DELETE=H,B.EQUAL=g,_.exports=B},8805:(_,H,r)=>{_=r.nmd(_);var m="__lodash_hash_undefined__",O=9007199254740991,T="[object Arguments]",k="[object Boolean]",K="[object Date]",P="[object Function]",R="[object GeneratorFunction]",w="[object Map]",I="[object Number]",$="[object Object]",A="[object Promise]",W="[object RegExp]",V="[object Set]",B="[object String]",h="[object Symbol]",b="[object WeakMap]",o="[object ArrayBuffer]",u="[object DataView]",c="[object Float32Array]",y="[object Float64Array]",x="[object Int8Array]",M="[object Int16Array]",Z="[object Int32Array]",Y="[object Uint8Array]",ft="[object Uint8ClampedArray]",ht="[object Uint16Array]",pt="[object Uint32Array]",Ot=/\w*$/,X=/^\[object .+?Constructor\]$/,vt=/^(?:0|[1-9]\d*)$/,lt={};lt[T]=lt["[object Array]"]=lt[o]=lt[u]=lt[k]=lt[K]=lt[c]=lt[y]=lt[x]=lt[M]=lt[Z]=lt[w]=lt[I]=lt[$]=lt[W]=lt[V]=lt[B]=lt[h]=lt[Y]=lt[ft]=lt[ht]=lt[pt]=!0,lt["[object Error]"]=lt[P]=lt[b]=!1;var F="object"==typeof self&&self&&self.Object===Object&&self,C="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g||F||Function("return this")(),q=H&&!H.nodeType&&H,Q=q&&_&&!_.nodeType&&_,D=Q&&Q.exports===q;function at(f,U){return f.set(U[0],U[1]),f}function dt(f,U){return f.add(U),f}function J(f,U,p,G){var Et=-1,Bt=f?f.length:0;for(G&&Bt&&(p=f[++Et]);++Et<Bt;)p=U(p,f[Et],Et,f);return p}function rt(f){var U=!1;if(null!=f&&"function"!=typeof f.toString)try{U=!!(f+"")}catch{}return U}function ct(f){var U=-1,p=Array(f.size);return f.forEach(function(G,Et){p[++U]=[Et,G]}),p}function _t(f,U){return function(p){return f(U(p))}}function E(f){var U=-1,p=Array(f.size);return f.forEach(function(G){p[++U]=G}),p}var f,l=Array.prototype,i=Function.prototype,v=Object.prototype,d=C["__core-js_shared__"],N=(f=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",st=i.toString,St=v.hasOwnProperty,Ut=v.toString,Ft=RegExp("^"+st.call(St).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Zt=D?C.Buffer:void 0,Qt=C.Symbol,re=C.Uint8Array,bt=_t(Object.getPrototypeOf,Object),wt=Object.create,Nt=v.propertyIsEnumerable,Dt=l.splice,Mt=Object.getOwnPropertySymbols,$t=Zt?Zt.isBuffer:void 0,kt=_t(Object.keys,Object),Kt=Ue(C,"DataView"),Vt=Ue(C,"Map"),se=Ue(C,"Promise"),de=Ue(C,"Set"),me=Ue(C,"WeakMap"),ge=Ue(Object,"create"),xe=Re(Kt),be=Re(Vt),yt=Re(se),At=Re(de),Pt=Re(me),Lt=Qt?Qt.prototype:void 0,It=Lt?Lt.valueOf:void 0;function xt(f){var U=-1,p=f?f.length:0;for(this.clear();++U<p;){var G=f[U];this.set(G[0],G[1])}}function ae(f){var U=-1,p=f?f.length:0;for(this.clear();++U<p;){var G=f[U];this.set(G[0],G[1])}}function ve(f){var U=-1,p=f?f.length:0;for(this.clear();++U<p;){var G=f[U];this.set(G[0],G[1])}}function Ae(f){this.__data__=new ae(f)}function ze(f,U,p){var G=f[U];(!St.call(f,U)||!ur(G,p)||void 0===p&&!(U in f))&&(f[U]=p)}function ar(f,U){for(var p=f.length;p--;)if(ur(f[p][0],U))return p;return-1}function Ve(f,U,p,G,Et,Bt,qt){var ne;if(G&&(ne=Bt?G(f,Et,Bt,qt):G(f)),void 0!==ne)return ne;if(!je(f))return f;var fe=Sr(f);if(fe){if(ne=function Nr(f){var U=f.length,p=f.constructor(U);return U&&"string"==typeof f[0]&&St.call(f,"index")&&(p.index=f.index,p.input=f.input),p}(f),!U)return function Zr(f,U){var p=-1,G=f.length;for(U||(U=Array(G));++p<G;)U[p]=f[p];return U}(f,ne)}else{var Jt=nr(f),he=Jt==P||Jt==R;if(tr(f))return function Tr(f,U){if(U)return f.slice();var p=new f.constructor(f.length);return f.copy(p),p}(f,U);if(Jt==$||Jt==T||he&&!Bt){if(rt(f))return Bt?f:{};if(ne=function Qe(f){return"function"!=typeof f.constructor||Ye(f)?{}:function lr(f){return je(f)?wt(f):{}}(bt(f))}(he?{}:f),!U)return function Ir(f,U){return qe(f,Xe(f),U)}(f,function Ze(f,U){return f&&qe(U,or(U),f)}(ne,f))}else{if(!lt[Jt])return Bt?f:{};ne=function Lr(f,U,p,G){var Et=f.constructor;switch(U){case o:return hr(f);case k:case K:return new Et(+f);case u:return function sr(f,U){var p=U?hr(f.buffer):f.buffer;return new f.constructor(p,f.byteOffset,f.byteLength)}(f,G);case c:case y:case x:case M:case Z:case Y:case ft:case ht:case pt:return function dr(f,U){var p=U?hr(f.buffer):f.buffer;return new f.constructor(p,f.byteOffset,f.length)}(f,G);case w:return function kr(f,U,p){return J(U?p(ct(f),!0):ct(f),at,new f.constructor)}(f,G,p);case I:case B:return new Et(f);case W:return function Hr(f){var U=new f.constructor(f.source,Ot.exec(f));return U.lastIndex=f.lastIndex,U}(f);case V:return function zr(f,U,p){return J(U?p(E(f),!0):E(f),dt,new f.constructor)}(f,G,p);case h:return function rr(f){return It?Object(It.call(f)):{}}(f)}}(f,Jt,Ve,U)}}qt||(qt=new Ae);var ye=qt.get(f);if(ye)return ye;if(qt.set(f,ne),!fe)var pe=p?function Vr(f){return function Ge(f,U,p){var G=U(f);return Sr(f)?G:function tt(f,U){for(var p=-1,G=U.length,Et=f.length;++p<G;)f[Et+p]=U[p];return f}(G,p(f))}(f,or,Xe)}(f):or(f);return function mt(f,U){for(var p=-1,G=f?f.length:0;++p<G&&!1!==U(f[p],p,f););}(pe||f,function(Pe,Ee){pe&&(Pe=f[Ee=Pe]),ze(ne,Ee,Ve(Pe,U,p,G,Ee,f,qt))}),ne}function hr(f){var U=new f.constructor(f.byteLength);return new re(U).set(new re(f)),U}function qe(f,U,p,G){p||(p={});for(var Et=-1,Bt=U.length;++Et<Bt;){var qt=U[Et],ne=G?G(p[qt],f[qt],qt,p,f):void 0;ze(p,qt,void 0===ne?f[qt]:ne)}return p}function pr(f,U){var p=f.__data__;return function Ur(f){var U=typeof f;return"string"==U||"number"==U||"symbol"==U||"boolean"==U?"__proto__"!==f:null===f}(U)?p["string"==typeof U?"string":"hash"]:p.map}function Ue(f,U){var p=function et(f,U){return f?.[U]}(f,U);return function Qr(f){return!(!je(f)||function vr(f){return!!N&&N in f}(f))&&(ir(f)||rt(f)?Ft:X).test(Re(f))}(p)?p:void 0}xt.prototype.clear=function jt(){this.__data__=ge?ge(null):{}},xt.prototype.delete=function Gt(f){return this.has(f)&&delete this.__data__[f]},xt.prototype.get=function Yt(f){var U=this.__data__;if(ge){var p=U[f];return p===m?void 0:p}return St.call(U,f)?U[f]:void 0},xt.prototype.has=function ue(f){var U=this.__data__;return ge?void 0!==U[f]:St.call(U,f)},xt.prototype.set=function ce(f,U){return this.__data__[f]=ge&&void 0===U?m:U,this},ae.prototype.clear=function Oe(){this.__data__=[]},ae.prototype.delete=function Ne(f){var U=this.__data__,p=ar(U,f);return!(p<0||(p==U.length-1?U.pop():Dt.call(U,p,1),0))},ae.prototype.get=function De(f){var U=this.__data__,p=ar(U,f);return p<0?void 0:U[p][1]},ae.prototype.has=function He(f){return ar(this.__data__,f)>-1},ae.prototype.set=function Se(f,U){var p=this.__data__,G=ar(p,f);return G<0?p.push([f,U]):p[G][1]=U,this},ve.prototype.clear=function yr(){this.__data__={hash:new xt,map:new(Vt||ae),string:new xt}},ve.prototype.delete=function $e(f){return pr(this,f).delete(f)},ve.prototype.get=function Dr(f){return pr(this,f).get(f)},ve.prototype.has=function gr(f){return pr(this,f).has(f)},ve.prototype.set=function br(f,U){return pr(this,f).set(f,U),this},Ae.prototype.clear=function _r(){this.__data__=new ae},Ae.prototype.delete=function xr(f){return this.__data__.delete(f)},Ae.prototype.get=function Or(f){return this.__data__.get(f)},Ae.prototype.has=function Er(f){return this.__data__.has(f)},Ae.prototype.set=function $r(f,U){var p=this.__data__;if(p instanceof ae){var G=p.__data__;if(!Vt||G.length<199)return G.push([f,U]),this;p=this.__data__=new ve(G)}return p.set(f,U),this};var Xe=Mt?_t(Mt,Object):function ke(){return[]},nr=function jr(f){return Ut.call(f)};function Gr(f,U){return!!(U=U??O)&&("number"==typeof f||vt.test(f))&&f>-1&&f%1==0&&f<U}function Ye(f){var U=f&&f.constructor;return f===("function"==typeof U&&U.prototype||v)}function Re(f){if(null!=f){try{return st.call(f)}catch{}try{return f+""}catch{}}return""}function ur(f,U){return f===U||f!=f&&U!=U}(Kt&&nr(new Kt(new ArrayBuffer(1)))!=u||Vt&&nr(new Vt)!=w||se&&nr(se.resolve())!=A||de&&nr(new de)!=V||me&&nr(new me)!=b)&&(nr=function(f){var U=Ut.call(f),p=U==$?f.constructor:void 0,G=p?Re(p):void 0;if(G)switch(G){case xe:return u;case be:return w;case yt:return A;case At:return V;case Pt:return b}return U});var Sr=Array.isArray;function Je(f){return null!=f&&function mr(f){return"number"==typeof f&&f>-1&&f%1==0&&f<=O}(f.length)&&!ir(f)}var tr=$t||function qr(){return!1};function ir(f){var U=je(f)?Ut.call(f):"";return U==P||U==R}function je(f){var U=typeof f;return!!f&&("object"==U||"function"==U)}function or(f){return Je(f)?function er(f,U){var p=Sr(f)||function We(f){return function Mr(f){return function Br(f){return!!f&&"object"==typeof f}(f)&&Je(f)}(f)&&St.call(f,"callee")&&(!Nt.call(f,"callee")||Ut.call(f)==T)}(f)?function gt(f,U){for(var p=-1,G=Array(f);++p<f;)G[p]=U(p);return G}(f.length,String):[],G=p.length,Et=!!G;for(var Bt in f)(U||St.call(f,Bt))&&(!Et||"length"!=Bt&&!Gr(Bt,G))&&p.push(Bt);return p}(f):function Cr(f){if(!Ye(f))return kt(f);var U=[];for(var p in Object(f))St.call(f,p)&&"constructor"!=p&&U.push(p);return U}(f)}_.exports=function Pr(f){return Ve(f,!0,!0)}},2722:(_,H,r)=>{_=r.nmd(_);var m="__lodash_hash_undefined__",O=1,T=2,j=9007199254740991,k="[object Arguments]",K="[object Array]",L="[object AsyncFunction]",P="[object Boolean]",R="[object Date]",w="[object Error]",I="[object Function]",$="[object GeneratorFunction]",A="[object Map]",W="[object Number]",V="[object Null]",B="[object Object]",h="[object Promise]",b="[object Proxy]",o="[object RegExp]",u="[object Set]",c="[object String]",x="[object Undefined]",M="[object WeakMap]",Z="[object ArrayBuffer]",Y="[object DataView]",C=/^\[object .+?Constructor\]$/,q=/^(?:0|[1-9]\d*)$/,Q={};Q["[object Float32Array]"]=Q["[object Float64Array]"]=Q["[object Int8Array]"]=Q["[object Int16Array]"]=Q["[object Int32Array]"]=Q["[object Uint8Array]"]=Q["[object Uint8ClampedArray]"]=Q["[object Uint16Array]"]=Q["[object Uint32Array]"]=!0,Q[k]=Q[K]=Q[Z]=Q[P]=Q[Y]=Q[R]=Q[w]=Q[I]=Q[A]=Q[W]=Q[B]=Q[o]=Q[u]=Q[c]=Q[M]=!1;var D="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,at="object"==typeof self&&self&&self.Object===Object&&self,dt=D||at||Function("return this")(),mt=H&&!H.nodeType&&H,tt=mt&&_&&!_.nodeType&&_,J=tt&&tt.exports===mt,gt=J&&D.process,et=function(){try{return gt&&gt.binding&&gt.binding("util")}catch{}}(),rt=et&&et.isTypedArray;function E(f,U){for(var p=-1,G=null==f?0:f.length;++p<G;)if(U(f[p],p,f))return!0;return!1}function v(f,U){return f.has(U)}function N(f){var U=-1,p=Array(f.size);return f.forEach(function(G,Et){p[++U]=[Et,G]}),p}function St(f){var U=-1,p=Array(f.size);return f.forEach(function(G){p[++U]=G}),p}var f,Ut=Array.prototype,Zt=Object.prototype,Qt=dt["__core-js_shared__"],re=Function.prototype.toString,bt=Zt.hasOwnProperty,wt=(f=/[^.]+$/.exec(Qt&&Qt.keys&&Qt.keys.IE_PROTO||""))?"Symbol(src)_1."+f:"",Nt=Zt.toString,Dt=RegExp("^"+re.call(bt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Mt=J?dt.Buffer:void 0,$t=dt.Symbol,kt=dt.Uint8Array,Kt=Zt.propertyIsEnumerable,Vt=Ut.splice,se=$t?$t.toStringTag:void 0,de=Object.getOwnPropertySymbols,me=Mt?Mt.isBuffer:void 0,ge=function st(f,U){return function(p){return f(U(p))}}(Object.keys,Object),xe=Xe(dt,"DataView"),be=Xe(dt,"Map"),yt=Xe(dt,"Promise"),At=Xe(dt,"Set"),Pt=Xe(dt,"WeakMap"),Lt=Xe(Object,"create"),It=Re(xe),xt=Re(be),jt=Re(yt),Gt=Re(At),Yt=Re(Pt),ue=$t?$t.prototype:void 0,ce=ue?ue.valueOf:void 0;function ae(f){var U=-1,p=null==f?0:f.length;for(this.clear();++U<p;){var G=f[U];this.set(G[0],G[1])}}function ve(f){var U=-1,p=null==f?0:f.length;for(this.clear();++U<p;){var G=f[U];this.set(G[0],G[1])}}function Ae(f){var U=-1,p=null==f?0:f.length;for(this.clear();++U<p;){var G=f[U];this.set(G[0],G[1])}}function er(f){var U=-1,p=null==f?0:f.length;for(this.__data__=new Ae;++U<p;)this.add(f[U])}function Ze(f){var U=this.__data__=new ve(f);this.size=U.size}function Tr(f,U){for(var p=f.length;p--;)if(Pr(f[p][0],U))return p;return-1}function sr(f){return null==f?void 0===f?x:V:se&&se in Object(f)?function nr(f){var U=bt.call(f,se),p=f[se];try{f[se]=void 0;var G=!0}catch{}var Et=Nt.call(f);return G&&(U?f[se]=p:delete f[se]),Et}(f):function Ye(f){return Nt.call(f)}(f)}function kr(f){return je(f)&&sr(f)==k}function Hr(f,U,p,G,Et){return f===U||(null==f||null==U||!je(f)&&!je(U)?f!=f&&U!=U:function zr(f,U,p,G,Et,Bt){var qt=We(f),ne=We(U),fe=qt?K:Qe(f),Jt=ne?K:Qe(U),he=(fe=fe==k?B:fe)==B,ye=(Jt=Jt==k?B:Jt)==B,pe=fe==Jt;if(pe&&Je(f)){if(!Je(U))return!1;qt=!0,he=!1}if(pe&&!he)return Bt||(Bt=new Ze),qt||Br(f)?qe(f,U,p,G,Et,Bt):function Ir(f,U,p,G,Et,Bt,qt){switch(p){case Y:if(f.byteLength!=U.byteLength||f.byteOffset!=U.byteOffset)return!1;f=f.buffer,U=U.buffer;case Z:return!(f.byteLength!=U.byteLength||!Bt(new kt(f),new kt(U)));case P:case R:case W:return Pr(+f,+U);case w:return f.name==U.name&&f.message==U.message;case o:case c:return f==U+"";case A:var ne=N;case u:if(ne||(ne=St),f.size!=U.size&&!(G&O))return!1;var Jt=qt.get(f);if(Jt)return Jt==U;G|=T,qt.set(f,U);var he=qe(ne(f),ne(U),G,Et,Bt,qt);return qt.delete(f),he;case"[object Symbol]":if(ce)return ce.call(f)==ce.call(U)}return!1}(f,U,fe,p,G,Et,Bt);if(!(p&O)){var Pe=he&&bt.call(f,"__wrapped__"),Ee=ye&&bt.call(U,"__wrapped__");if(Pe||Ee){var Fe=Pe?f.value():f,Ke=Ee?U.value():U;return Bt||(Bt=new Ze),Et(Fe,Ke,p,G,Bt)}}return!!pe&&(Bt||(Bt=new Ze),function Vr(f,U,p,G,Et,Bt){var qt=p&O,ne=pr(f),fe=ne.length;if(fe!=pr(U).length&&!qt)return!1;for(var ye=fe;ye--;){var pe=ne[ye];if(!(qt?pe in U:bt.call(U,pe)))return!1}var Pe=Bt.get(f);if(Pe&&Bt.get(U))return Pe==U;var Ee=!0;Bt.set(f,U),Bt.set(U,f);for(var Fe=qt;++ye<fe;){var Ke=f[pe=ne[ye]],Ar=U[pe];if(G)var wr=qt?G(Ar,Ke,pe,U,f,Bt):G(Ke,Ar,pe,f,U,Bt);if(!(void 0===wr?Ke===Ar||Et(Ke,Ar,p,G,Bt):wr)){Ee=!1;break}Fe||(Fe="constructor"==pe)}if(Ee&&!Fe){var cr=f.constructor,Xr=U.constructor;cr!=Xr&&"constructor"in f&&"constructor"in U&&!("function"==typeof cr&&cr instanceof cr&&"function"==typeof Xr&&Xr instanceof Xr)&&(Ee=!1)}return Bt.delete(f),Bt.delete(U),Ee}(f,U,p,G,Et,Bt))}(f,U,p,G,Hr,Et))}function qe(f,U,p,G,Et,Bt){var qt=p&O,ne=f.length,fe=U.length;if(ne!=fe&&!(qt&&fe>ne))return!1;var Jt=Bt.get(f);if(Jt&&Bt.get(U))return Jt==U;var he=-1,ye=!0,pe=p&T?new er:void 0;for(Bt.set(f,U),Bt.set(U,f);++he<ne;){var Pe=f[he],Ee=U[he];if(G)var Fe=qt?G(Ee,Pe,he,U,f,Bt):G(Pe,Ee,he,f,U,Bt);if(void 0!==Fe){if(Fe)continue;ye=!1;break}if(pe){if(!E(U,function(Ke,Ar){if(!v(pe,Ar)&&(Pe===Ke||Et(Pe,Ke,p,G,Bt)))return pe.push(Ar)})){ye=!1;break}}else if(Pe!==Ee&&!Et(Pe,Ee,p,G,Bt)){ye=!1;break}}return Bt.delete(f),Bt.delete(U),ye}function pr(f){return function hr(f,U,p){var G=U(f);return We(f)?G:function _t(f,U){for(var p=-1,G=U.length,Et=f.length;++p<G;)f[Et+p]=U[p];return f}(G,p(f))}(f,or,Nr)}function Ue(f,U){var p=f.__data__;return function Gr(f){var U=typeof f;return"string"==U||"number"==U||"symbol"==U||"boolean"==U?"__proto__"!==f:null===f}(U)?p["string"==typeof U?"string":"hash"]:p.map}function Xe(f,U){var p=function d(f,U){return f?.[U]}(f,U);return function rr(f){return!(!mr(f)||function Ur(f){return!!wt&&wt in f}(f))&&(tr(f)?Dt:C).test(Re(f))}(p)?p:void 0}ae.prototype.clear=function Oe(){this.__data__=Lt?Lt(null):{},this.size=0},ae.prototype.delete=function Ne(f){var U=this.has(f)&&delete this.__data__[f];return this.size-=U?1:0,U},ae.prototype.get=function De(f){var U=this.__data__;if(Lt){var p=U[f];return p===m?void 0:p}return bt.call(U,f)?U[f]:void 0},ae.prototype.has=function He(f){var U=this.__data__;return Lt?void 0!==U[f]:bt.call(U,f)},ae.prototype.set=function Se(f,U){var p=this.__data__;return this.size+=this.has(f)?0:1,p[f]=Lt&&void 0===U?m:U,this},ve.prototype.clear=function yr(){this.__data__=[],this.size=0},ve.prototype.delete=function $e(f){var U=this.__data__,p=Tr(U,f);return!(p<0||(p==U.length-1?U.pop():Vt.call(U,p,1),--this.size,0))},ve.prototype.get=function Dr(f){var U=this.__data__,p=Tr(U,f);return p<0?void 0:U[p][1]},ve.prototype.has=function gr(f){return Tr(this.__data__,f)>-1},ve.prototype.set=function br(f,U){var p=this.__data__,G=Tr(p,f);return G<0?(++this.size,p.push([f,U])):p[G][1]=U,this},Ae.prototype.clear=function _r(){this.size=0,this.__data__={hash:new ae,map:new(be||ve),string:new ae}},Ae.prototype.delete=function xr(f){var U=Ue(this,f).delete(f);return this.size-=U?1:0,U},Ae.prototype.get=function Or(f){return Ue(this,f).get(f)},Ae.prototype.has=function Er(f){return Ue(this,f).has(f)},Ae.prototype.set=function $r(f,U){var p=Ue(this,f),G=p.size;return p.set(f,U),this.size+=p.size==G?0:1,this},er.prototype.add=er.prototype.push=function ze(f){return this.__data__.set(f,m),this},er.prototype.has=function ar(f){return this.__data__.has(f)},Ze.prototype.clear=function Ve(){this.__data__=new ve,this.size=0},Ze.prototype.delete=function lr(f){var U=this.__data__,p=U.delete(f);return this.size=U.size,p},Ze.prototype.get=function Ge(f){return this.__data__.get(f)},Ze.prototype.has=function jr(f){return this.__data__.has(f)},Ze.prototype.set=function Qr(f,U){var p=this.__data__;if(p instanceof ve){var G=p.__data__;if(!be||G.length<199)return G.push([f,U]),this.size=++p.size,this;p=this.__data__=new Ae(G)}return p.set(f,U),this.size=p.size,this};var Nr=de?function(f){return null==f?[]:(f=Object(f),function ct(f,U){for(var p=-1,G=null==f?0:f.length,Et=0,Bt=[];++p<G;){var qt=f[p];U(qt,p,f)&&(Bt[Et++]=qt)}return Bt}(de(f),function(U){return Kt.call(f,U)}))}:function ke(){return[]},Qe=sr;function Lr(f,U){return!!(U=U??j)&&("number"==typeof f||q.test(f))&&f>-1&&f%1==0&&f<U}function Re(f){if(null!=f){try{return re.call(f)}catch{}try{return f+""}catch{}}return""}function Pr(f,U){return f===U||f!=f&&U!=U}(xe&&Qe(new xe(new ArrayBuffer(1)))!=Y||be&&Qe(new be)!=A||yt&&Qe(yt.resolve())!=h||At&&Qe(new At)!=u||Pt&&Qe(new Pt)!=M)&&(Qe=function(f){var U=sr(f),p=U==B?f.constructor:void 0,G=p?Re(p):"";if(G)switch(G){case It:return Y;case xt:return A;case jt:return h;case Gt:return u;case Yt:return M}return U});var ur=kr(function(){return arguments}())?kr:function(f){return je(f)&&bt.call(f,"callee")&&!Kt.call(f,"callee")},We=Array.isArray,Je=me||function qr(){return!1};function tr(f){if(!mr(f))return!1;var U=sr(f);return U==I||U==$||U==L||U==b}function ir(f){return"number"==typeof f&&f>-1&&f%1==0&&f<=j}function mr(f){var U=typeof f;return null!=f&&("object"==U||"function"==U)}function je(f){return null!=f&&"object"==typeof f}var Br=rt?function i(f){return function(U){return f(U)}}(rt):function dr(f){return je(f)&&ir(f.length)&&!!Q[sr(f)]};function or(f){return function Sr(f){return null!=f&&ir(f.length)&&!tr(f)}(f)?function Cr(f,U){var p=We(f),G=!p&&ur(f),Et=!p&&!G&&Je(f),Bt=!p&&!G&&!Et&&Br(f),qt=p||G||Et||Bt,ne=qt?function l(f,U){for(var p=-1,G=Array(f);++p<f;)G[p]=U(p);return G}(f.length,String):[],fe=ne.length;for(var Jt in f)(U||bt.call(f,Jt))&&(!qt||!("length"==Jt||Et&&("offset"==Jt||"parent"==Jt)||Bt&&("buffer"==Jt||"byteLength"==Jt||"byteOffset"==Jt)||Lr(Jt,fe)))&&ne.push(Jt);return ne}(f):function Zr(f){if(!function vr(f){var U=f&&f.constructor;return f===("function"==typeof U&&U.prototype||Zt)}(f))return ge(f);var U=[];for(var p in Object(f))bt.call(f,p)&&"constructor"!=p&&U.push(p);return U}(f)}_.exports=function Mr(f,U){return Hr(f,U)}},732:(_,H,r)=>{_=r.nmd(_);var m="__lodash_hash_undefined__",j=9007199254740991,k="[object Arguments]",L="[object AsyncFunction]",I="[object Function]",$="[object GeneratorFunction]",V="[object Null]",B="[object Object]",h="[object Proxy]",c="[object Undefined]",ot=/^\[object .+?Constructor\]$/,F=/^(?:0|[1-9]\d*)$/,C={};C["[object Float32Array]"]=C["[object Float64Array]"]=C["[object Int8Array]"]=C["[object Int16Array]"]=C["[object Int32Array]"]=C["[object Uint8Array]"]=C["[object Uint8ClampedArray]"]=C["[object Uint16Array]"]=C["[object Uint32Array]"]=!0,C[k]=C["[object Array]"]=C["[object ArrayBuffer]"]=C["[object Boolean]"]=C["[object DataView]"]=C["[object Date]"]=C["[object Error]"]=C[I]=C["[object Map]"]=C["[object Number]"]=C[B]=C["[object RegExp]"]=C["[object Set]"]=C["[object String]"]=C["[object WeakMap]"]=!1;var p,q="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,Q="object"==typeof self&&self&&self.Object===Object&&self,D=q||Q||Function("return this")(),at=H&&!H.nodeType&&H,dt=at&&_&&!_.nodeType&&_,mt=dt&&dt.exports===at,tt=mt&&q.process,J=function(){try{return dt&&dt.require&&dt.require("util").types||tt&&tt.binding&&tt.binding("util")}catch{}}(),gt=J&&J.isTypedArray,l=Array.prototype,v=Object.prototype,d=D["__core-js_shared__"],N=Function.prototype.toString,st=v.hasOwnProperty,St=(p=/[^.]+$/.exec(d&&d.keys&&d.keys.IE_PROTO||""))?"Symbol(src)_1."+p:"",Ut=v.toString,Ft=N.call(Object),Zt=RegExp("^"+N.call(st).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Qt=mt?D.Buffer:void 0,re=D.Symbol,bt=D.Uint8Array,wt=Qt?Qt.allocUnsafe:void 0,Nt=function E(p,G){return function(Et){return p(G(Et))}}(Object.getPrototypeOf,Object),Dt=Object.create,Mt=v.propertyIsEnumerable,$t=l.splice,kt=re?re.toStringTag:void 0,Kt=function(){try{var p=dr(Object,"defineProperty");return p({},"",{}),p}catch{}}(),Vt=Qt?Qt.isBuffer:void 0,se=Math.max,de=Date.now,me=dr(D,"Map"),ge=dr(Object,"create"),xe=function(){function p(){}return function(G){if(!tr(G))return{};if(Dt)return Dt(G);p.prototype=G;var Et=new p;return p.prototype=void 0,Et}}();function be(p){var G=-1,Et=null==p?0:p.length;for(this.clear();++G<Et;){var Bt=p[G];this.set(Bt[0],Bt[1])}}function xt(p){var G=-1,Et=null==p?0:p.length;for(this.clear();++G<Et;){var Bt=p[G];this.set(Bt[0],Bt[1])}}function ae(p){var G=-1,Et=null==p?0:p.length;for(this.clear();++G<Et;){var Bt=p[G];this.set(Bt[0],Bt[1])}}function ve(p){var G=this.__data__=new xt(p);this.size=G.size}function _r(p,G,Et){(void 0!==Et&&!Ye(p[G],Et)||void 0===Et&&!(G in p))&&Er(p,G,Et)}function xr(p,G,Et){var Bt=p[G];(!st.call(p,G)||!Ye(Bt,Et)||void 0===Et&&!(G in p))&&Er(p,G,Et)}function Or(p,G){for(var Et=p.length;Et--;)if(Ye(p[Et][0],G))return Et;return-1}function Er(p,G,Et){"__proto__"==G&&Kt?Kt(p,G,{configurable:!0,enumerable:!0,value:Et,writable:!0}):p[G]=Et}be.prototype.clear=function yt(){this.__data__=ge?ge(null):{},this.size=0},be.prototype.delete=function At(p){var G=this.has(p)&&delete this.__data__[p];return this.size-=G?1:0,G},be.prototype.get=function Pt(p){var G=this.__data__;if(ge){var Et=G[p];return Et===m?void 0:Et}return st.call(G,p)?G[p]:void 0},be.prototype.has=function Lt(p){var G=this.__data__;return ge?void 0!==G[p]:st.call(G,p)},be.prototype.set=function It(p,G){var Et=this.__data__;return this.size+=this.has(p)?0:1,Et[p]=ge&&void 0===G?m:G,this},xt.prototype.clear=function jt(){this.__data__=[],this.size=0},xt.prototype.delete=function Gt(p){var G=this.__data__,Et=Or(G,p);return!(Et<0||(Et==G.length-1?G.pop():$t.call(G,Et,1),--this.size,0))},xt.prototype.get=function Yt(p){var G=this.__data__,Et=Or(G,p);return Et<0?void 0:G[Et][1]},xt.prototype.has=function ue(p){return Or(this.__data__,p)>-1},xt.prototype.set=function ce(p,G){var Et=this.__data__,Bt=Or(Et,p);return Bt<0?(++this.size,Et.push([p,G])):Et[Bt][1]=G,this},ae.prototype.clear=function Oe(){this.size=0,this.__data__={hash:new be,map:new(me||xt),string:new be}},ae.prototype.delete=function Ne(p){var G=rr(this,p).delete(p);return this.size-=G?1:0,G},ae.prototype.get=function De(p){return rr(this,p).get(p)},ae.prototype.has=function He(p){return rr(this,p).has(p)},ae.prototype.set=function Se(p,G){var Et=rr(this,p),Bt=Et.size;return Et.set(p,G),this.size+=Et.size==Bt?0:1,this},ve.prototype.clear=function yr(){this.__data__=new xt,this.size=0},ve.prototype.delete=function $e(p){var G=this.__data__,Et=G.delete(p);return this.size=G.size,Et},ve.prototype.get=function Dr(p){return this.__data__.get(p)},ve.prototype.has=function gr(p){return this.__data__.has(p)},ve.prototype.set=function br(p,G){var Et=this.__data__;if(Et instanceof xt){var Bt=Et.__data__;if(!me||Bt.length<199)return Bt.push([p,G]),this.size=++Et.size,this;Et=this.__data__=new ae(Bt)}return Et.set(p,G),this.size=Et.size,this};var $r=function zr(p){return function(G,Et,Bt){for(var qt=-1,ne=Object(G),fe=Bt(G),Jt=fe.length;Jt--;){var he=fe[p?Jt:++qt];if(!1===Et(ne[he],he,ne))break}return G}}();function er(p){return null==p?void 0===p?c:V:kt&&kt in Object(p)?function Zr(p){var G=st.call(p,kt),Et=p[kt];try{p[kt]=void 0;var Bt=!0}catch{}var qt=Ut.call(p);return Bt&&(G?p[kt]=Et:delete p[kt]),qt}(p):function Nr(p){return Ut.call(p)}(p)}function ze(p){return ir(p)&&er(p)==k}function lr(p,G,Et,Bt,qt){p!==G&&$r(G,function(ne,fe){if(qt||(qt=new ve),tr(ne))!function Ge(p,G,Et,Bt,qt,ne,fe){var Jt=Lr(p,Et),he=Lr(G,Et),ye=fe.get(he);if(ye)_r(p,Et,ye);else{var pe=ne?ne(Jt,he,Et+"",p,G,fe):void 0,Pe=void 0===pe;if(Pe){var Ee=Pr(he),Fe=!Ee&&Sr(he),Ke=!Ee&&!Fe&&je(he);pe=he,Ee||Fe||Ke?Pr(Jt)?pe=Jt:function We(p){return ir(p)&&ur(p)}(Jt)?pe=function sr(p,G){var Et=-1,Bt=p.length;for(G||(G=Array(Bt));++Et<Bt;)G[Et]=p[Et];return G}(Jt):Fe?(Pe=!1,pe=function Cr(p,G){if(G)return p.slice();var Et=p.length,Bt=wt?wt(Et):new p.constructor(Et);return p.copy(Bt),Bt}(he,!0)):Ke?(Pe=!1,pe=function hr(p,G){var Et=G?function Tr(p){var G=new p.constructor(p.byteLength);return new bt(G).set(new bt(p)),G}(p.buffer):p.buffer;return new p.constructor(Et,p.byteOffset,p.length)}(he,!0)):pe=[]:function mr(p){if(!ir(p)||er(p)!=B)return!1;var G=Nt(p);if(null===G)return!0;var Et=st.call(G,"constructor")&&G.constructor;return"function"==typeof Et&&Et instanceof Et&&N.call(Et)==Ft}(he)||Re(he)?(pe=Jt,Re(Jt)?pe=function Br(p){return function kr(p,G,Et,Bt){var qt=!Et;Et||(Et={});for(var ne=-1,fe=G.length;++ne<fe;){var Jt=G[ne],he=Bt?Bt(Et[Jt],p[Jt],Jt,Et,p):void 0;void 0===he&&(he=p[Jt]),qt?Er(Et,Jt,he):xr(Et,Jt,he)}return Et}(p,or(p))}(Jt):(!tr(Jt)||Je(Jt))&&(pe=function qe(p){return"function"!=typeof p.constructor||Xe(p)?{}:xe(Nt(p))}(he))):Pe=!1}Pe&&(fe.set(he,pe),qt(pe,he,Bt,ne,fe),fe.delete(he)),_r(p,Et,pe)}}(p,G,fe,Et,lr,Bt,qt);else{var Jt=Bt?Bt(Lr(p,fe),ne,fe+"",p,G,qt):void 0;void 0===Jt&&(Jt=ne),_r(p,fe,Jt)}},or)}var Qr=Kt?function(p,G){return Kt(p,"toString",{configurable:!0,enumerable:!1,value:qr(G),writable:!0})}:f;function rr(p,G){var Et=p.__data__;return function pr(p){var G=typeof p;return"string"==G||"number"==G||"symbol"==G||"boolean"==G?"__proto__"!==p:null===p}(G)?Et["string"==typeof G?"string":"hash"]:Et.map}function dr(p,G){var Et=function _t(p,G){return p?.[G]}(p,G);return function ar(p){return!(!tr(p)||function Ue(p){return!!St&&St in p}(p))&&(Je(p)?Zt:ot).test(function vr(p){if(null!=p){try{return N.call(p)}catch{}try{return p+""}catch{}}return""}(p))}(Et)?Et:void 0}function Ir(p,G){var Et=typeof p;return!!(G=G??j)&&("number"==Et||"symbol"!=Et&&F.test(p))&&p>-1&&p%1==0&&p<G}function Xe(p){var G=p&&p.constructor;return p===("function"==typeof G&&G.prototype||v)}function Lr(p,G){if(("constructor"!==G||"function"!=typeof p[G])&&"__proto__"!=G)return p[G]}var Gr=function Ur(p){var G=0,Et=0;return function(){var Bt=de(),qt=16-(Bt-Et);if(Et=Bt,qt>0){if(++G>=800)return arguments[0]}else G=0;return p.apply(void 0,arguments)}}(Qr);function Ye(p,G){return p===G||p!=p&&G!=G}var Re=ze(function(){return arguments}())?ze:function(p){return ir(p)&&st.call(p,"callee")&&!Mt.call(p,"callee")},Pr=Array.isArray;function ur(p){return null!=p&&Mr(p.length)&&!Je(p)}var Sr=Vt||function U(){return!1};function Je(p){if(!tr(p))return!1;var G=er(p);return G==I||G==$||G==L||G==h}function Mr(p){return"number"==typeof p&&p>-1&&p%1==0&&p<=j}function tr(p){var G=typeof p;return null!=p&&("object"==G||"function"==G)}function ir(p){return null!=p&&"object"==typeof p}var je=gt?function ct(p){return function(G){return p(G)}}(gt):function Ze(p){return ir(p)&&Mr(p.length)&&!!C[er(p)]};function or(p){return ur(p)?function Ae(p,G){var Et=Pr(p),Bt=!Et&&Re(p),qt=!Et&&!Bt&&Sr(p),ne=!Et&&!Bt&&!qt&&je(p),fe=Et||Bt||qt||ne,Jt=fe?function rt(p,G){for(var Et=-1,Bt=Array(p);++Et<p;)Bt[Et]=G(Et);return Bt}(p.length,String):[],he=Jt.length;for(var ye in p)(G||st.call(p,ye))&&(!fe||!("length"==ye||qt&&("offset"==ye||"parent"==ye)||ne&&("buffer"==ye||"byteLength"==ye||"byteOffset"==ye)||Ir(ye,he)))&&Jt.push(ye);return Jt}(p,!0):function Ve(p){if(!tr(p))return function nr(p){var G=[];if(null!=p)for(var Et in Object(p))G.push(Et);return G}(p);var G=Xe(p),Et=[];for(var Bt in p)"constructor"==Bt&&(G||!st.call(p,Bt))||Et.push(Bt);return Et}(p)}var ke=function Hr(p){return function jr(p,G){return Gr(function Qe(p,G,Et){return G=se(void 0===G?p.length-1:G,0),function(){for(var Bt=arguments,qt=-1,ne=se(Bt.length-G,0),fe=Array(ne);++qt<ne;)fe[qt]=Bt[G+qt];qt=-1;for(var Jt=Array(G+1);++qt<G;)Jt[qt]=Bt[qt];return Jt[G]=Et(fe),function et(p,G,Et){switch(Et.length){case 0:return p.call(G);case 1:return p.call(G,Et[0]);case 2:return p.call(G,Et[0],Et[1]);case 3:return p.call(G,Et[0],Et[1],Et[2])}return p.apply(G,Et)}(p,this,Jt)}}(p,G,f),p+"")}(function(G,Et){var Bt=-1,qt=Et.length,ne=qt>1?Et[qt-1]:void 0,fe=qt>2?Et[2]:void 0;for(ne=p.length>3&&"function"==typeof ne?(qt--,ne):void 0,fe&&function Vr(p,G,Et){if(!tr(Et))return!1;var Bt=typeof G;return!!("number"==Bt?ur(Et)&&Ir(G,Et.length):"string"==Bt&&G in Et)&&Ye(Et[G],p)}(Et[0],Et[1],fe)&&(ne=qt<3?void 0:ne,qt=1),G=Object(G);++Bt<qt;){var Jt=Et[Bt];Jt&&p(G,Jt,Bt,ne)}return G})}(function(p,G,Et){lr(p,G,Et)});function qr(p){return function(){return p}}function f(p){return p}_.exports=ke},5143:(_,H,r)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const g=r(8805),m=r(2722);var O,T;(T=O||(O={})).compose=function j(P={},R={},w=!1){"object"!=typeof P&&(P={}),"object"!=typeof R&&(R={});let I=g(R);w||(I=Object.keys(I).reduce(($,A)=>(null!=I[A]&&($[A]=I[A]),$),{}));for(const $ in P)void 0!==P[$]&&void 0===R[$]&&(I[$]=P[$]);return Object.keys(I).length>0?I:void 0},T.diff=function k(P={},R={}){"object"!=typeof P&&(P={}),"object"!=typeof R&&(R={});const w=Object.keys(P).concat(Object.keys(R)).reduce((I,$)=>(m(P[$],R[$])||(I[$]=void 0===R[$]?null:R[$]),I),{});return Object.keys(w).length>0?w:void 0},T.invert=function K(P={},R={}){P=P||{};const w=Object.keys(R).reduce((I,$)=>(R[$]!==P[$]&&void 0!==P[$]&&(I[$]=R[$]),I),{});return Object.keys(P).reduce((I,$)=>(P[$]!==R[$]&&void 0===R[$]&&(I[$]=null),I),w)},T.transform=function L(P,R,w=!1){if("object"!=typeof P)return R;if("object"!=typeof R)return;if(!w)return R;const I=Object.keys(R).reduce(($,A)=>(void 0===P[A]&&($[A]=R[A]),$),{});return Object.keys(I).length>0?I:void 0},H.default=O},9098:(_,H,r)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0}),H.AttributeMap=H.OpIterator=H.Op=void 0;const g=r(1456),m=r(8805),O=r(2722),T=r(5143);H.AttributeMap=T.default;const j=r(6237);H.Op=j.default;const k=r(2849);H.OpIterator=k.default;const L=(R,w)=>{if("object"!=typeof R||null===R)throw new Error("cannot retain a "+typeof R);if("object"!=typeof w||null===w)throw new Error("cannot retain a "+typeof w);const I=Object.keys(R)[0];if(!I||I!==Object.keys(w)[0])throw new Error(`embed types not matched: ${I} != ${Object.keys(w)[0]}`);return[I,R[I],w[I]]};class P{constructor(w){this.ops=Array.isArray(w)?w:null!=w&&Array.isArray(w.ops)?w.ops:[]}static registerEmbed(w,I){this.handlers[w]=I}static unregisterEmbed(w){delete this.handlers[w]}static getHandler(w){const I=this.handlers[w];if(!I)throw new Error(`no handlers for embed type "${w}"`);return I}insert(w,I){const $={};return"string"==typeof w&&0===w.length?this:($.insert=w,null!=I&&"object"==typeof I&&Object.keys(I).length>0&&($.attributes=I),this.push($))}delete(w){return w<=0?this:this.push({delete:w})}retain(w,I){if("number"==typeof w&&w<=0)return this;const $={retain:w};return null!=I&&"object"==typeof I&&Object.keys(I).length>0&&($.attributes=I),this.push($)}push(w){let I=this.ops.length,$=this.ops[I-1];if(w=m(w),"object"==typeof $){if("number"==typeof w.delete&&"number"==typeof $.delete)return this.ops[I-1]={delete:$.delete+w.delete},this;if("number"==typeof $.delete&&null!=w.insert&&(I-=1,$=this.ops[I-1],"object"!=typeof $))return this.ops.unshift(w),this;if(O(w.attributes,$.attributes)){if("string"==typeof w.insert&&"string"==typeof $.insert)return this.ops[I-1]={insert:$.insert+w.insert},"object"==typeof w.attributes&&(this.ops[I-1].attributes=w.attributes),this;if("number"==typeof w.retain&&"number"==typeof $.retain)return this.ops[I-1]={retain:$.retain+w.retain},"object"==typeof w.attributes&&(this.ops[I-1].attributes=w.attributes),this}}return I===this.ops.length?this.ops.push(w):this.ops.splice(I,0,w),this}chop(){const w=this.ops[this.ops.length-1];return w&&"number"==typeof w.retain&&!w.attributes&&this.ops.pop(),this}filter(w){return this.ops.filter(w)}forEach(w){this.ops.forEach(w)}map(w){return this.ops.map(w)}partition(w){const I=[],$=[];return this.forEach(A=>{(w(A)?I:$).push(A)}),[I,$]}reduce(w,I){return this.ops.reduce(w,I)}changeLength(){return this.reduce((w,I)=>I.insert?w+j.default.length(I):I.delete?w-I.delete:w,0)}length(){return this.reduce((w,I)=>w+j.default.length(I),0)}slice(w=0,I=1/0){const $=[],A=new k.default(this.ops);let W=0;for(;W<I&&A.hasNext();){let V;W<w?V=A.next(w-W):(V=A.next(I-W),$.push(V)),W+=j.default.length(V)}return new P($)}compose(w){const I=new k.default(this.ops),$=new k.default(w.ops),A=[],W=$.peek();if(null!=W&&"number"==typeof W.retain&&null==W.attributes){let B=W.retain;for(;"insert"===I.peekType()&&I.peekLength()<=B;)B-=I.peekLength(),A.push(I.next());W.retain-B>0&&$.next(W.retain-B)}const V=new P(A);for(;I.hasNext()||$.hasNext();)if("insert"===$.peekType())V.push($.next());else if("delete"===I.peekType())V.push(I.next());else{const B=Math.min(I.peekLength(),$.peekLength()),h=I.next(B),b=$.next(B);if(b.retain){const o={};if("number"==typeof h.retain)o.retain="number"==typeof b.retain?B:b.retain;else if("number"==typeof b.retain)null==h.retain?o.insert=h.insert:o.retain=h.retain;else{const c=null==h.retain?"insert":"retain",[y,x,M]=L(h[c],b.retain),Z=P.getHandler(y);o[c]={[y]:Z.compose(x,M,"retain"===c)}}const u=T.default.compose(h.attributes,b.attributes,"number"==typeof h.retain);if(u&&(o.attributes=u),V.push(o),!$.hasNext()&&O(V.ops[V.ops.length-1],o)){const c=new P(I.rest());return V.concat(c).chop()}}else"number"==typeof b.delete&&("number"==typeof h.retain||"object"==typeof h.retain&&null!==h.retain)&&V.push(b)}return V.chop()}concat(w){const I=new P(this.ops.slice());return w.ops.length>0&&(I.push(w.ops[0]),I.ops=I.ops.concat(w.ops.slice(1))),I}diff(w,I){if(this.ops===w.ops)return new P;const $=[this,w].map(h=>h.map(b=>{if(null!=b.insert)return"string"==typeof b.insert?b.insert:"\0";throw new Error("diff() called "+(h===w?"on":"with")+" non-document")}).join("")),A=new P,W=g($[0],$[1],I),V=new k.default(this.ops),B=new k.default(w.ops);return W.forEach(h=>{let b=h[1].length;for(;b>0;){let o=0;switch(h[0]){case g.INSERT:o=Math.min(B.peekLength(),b),A.push(B.next(o));break;case g.DELETE:o=Math.min(b,V.peekLength()),V.next(o),A.delete(o);break;case g.EQUAL:o=Math.min(V.peekLength(),B.peekLength(),b);const u=V.next(o),c=B.next(o);O(u.insert,c.insert)?A.retain(o,T.default.diff(u.attributes,c.attributes)):A.push(c).delete(o)}b-=o}}),A.chop()}eachLine(w,I="\n"){const $=new k.default(this.ops);let A=new P,W=0;for(;$.hasNext();){if("insert"!==$.peekType())return;const V=$.peek(),B=j.default.length(V)-$.peekLength(),h="string"==typeof V.insert?V.insert.indexOf(I,B)-B:-1;if(h<0)A.push($.next());else if(h>0)A.push($.next(h));else{if(!1===w(A,$.next(1).attributes||{},W))return;W+=1,A=new P}}A.length()>0&&w(A,{},W)}invert(w){const I=new P;return this.reduce(($,A)=>{if(A.insert)I.delete(j.default.length(A));else{if("number"==typeof A.retain&&null==A.attributes)return I.retain(A.retain),$+A.retain;if(A.delete||"number"==typeof A.retain){const W=A.delete||A.retain;return w.slice($,$+W).forEach(B=>{A.delete?I.push(B):A.retain&&A.attributes&&I.retain(j.default.length(B),T.default.invert(A.attributes,B.attributes))}),$+W}if("object"==typeof A.retain&&null!==A.retain){const W=w.slice($,$+1),V=new k.default(W.ops).next(),[B,h,b]=L(A.retain,V.insert),o=P.getHandler(B);return I.retain({[B]:o.invert(h,b)},T.default.invert(A.attributes,V.attributes)),$+1}}return $},0),I.chop()}transform(w,I=!1){if(I=!!I,"number"==typeof w)return this.transformPosition(w,I);const $=w,A=new k.default(this.ops),W=new k.default($.ops),V=new P;for(;A.hasNext()||W.hasNext();)if("insert"!==A.peekType()||!I&&"insert"===W.peekType())if("insert"===W.peekType())V.push(W.next());else{const B=Math.min(A.peekLength(),W.peekLength()),h=A.next(B),b=W.next(B);if(h.delete)continue;if(b.delete)V.push(b);else{const o=h.retain,u=b.retain;let c="object"==typeof u&&null!==u?u:B;if("object"==typeof o&&null!==o&&"object"==typeof u&&null!==u){const y=Object.keys(o)[0];if(y===Object.keys(u)[0]){const x=P.getHandler(y);x&&(c={[y]:x.transform(o[y],u[y],I)})}}V.retain(c,T.default.transform(h.attributes,b.attributes,I))}}else V.retain(j.default.length(A.next()));return V.chop()}transformPosition(w,I=!1){I=!!I;const $=new k.default(this.ops);let A=0;for(;$.hasNext()&&A<=w;){const W=$.peekLength(),V=$.peekType();$.next(),"delete"!==V?("insert"===V&&(A<w||!I)&&(w+=W),A+=W):w-=Math.min(W,w-A)}return w}}P.Op=j.default,P.OpIterator=k.default,P.AttributeMap=T.default,P.handlers={},H.default=P,_.exports=P,_.exports.default=P},6237:(_,H)=>{"use strict";var r;Object.defineProperty(H,"__esModule",{value:!0}),(r||(r={})).length=function m(O){return"number"==typeof O.delete?O.delete:"number"==typeof O.retain?O.retain:"object"==typeof O.retain&&null!==O.retain?1:"string"==typeof O.insert?O.insert.length:1},H.default=r},2849:(_,H,r)=>{"use strict";Object.defineProperty(H,"__esModule",{value:!0});const g=r(6237);H.default=class m{constructor(T){this.ops=T,this.index=0,this.offset=0}hasNext(){return this.peekLength()<1/0}next(T){T||(T=1/0);const j=this.ops[this.index];if(j){const k=this.offset,K=g.default.length(j);if(T>=K-k?(T=K-k,this.index+=1,this.offset=0):this.offset+=T,"number"==typeof j.delete)return{delete:T};{const L={};return j.attributes&&(L.attributes=j.attributes),"number"==typeof j.retain?L.retain=T:"object"==typeof j.retain&&null!==j.retain?L.retain=j.retain:L.insert="string"==typeof j.insert?j.insert.substr(k,T):j.insert,L}}return{retain:1/0}}peek(){return this.ops[this.index]}peekLength(){return this.ops[this.index]?g.default.length(this.ops[this.index])-this.offset:1/0}peekType(){const T=this.ops[this.index];return T?"number"==typeof T.delete?"delete":"number"==typeof T.retain||"object"==typeof T.retain&&null!==T.retain?"retain":"insert":"retain"}rest(){if(this.hasNext()){if(0===this.offset)return this.ops.slice(this.index);{const T=this.offset,j=this.index,k=this.next(),K=this.ops.slice(this.index);return this.offset=T,this.index=j,[k].concat(K)}}return[]}}},1863:(_,H,r)=>{"use strict";var g=r(9731);_.exports=g},6572:(_,H,r)=>{"use strict";var g=r(4401);_.exports=g},2318:(_,H,r)=>{"use strict";var g=r(3661);_.exports=g},576:(_,H,r)=>{"use strict";var g=r(5606);_.exports=g},2327:(_,H,r)=>{"use strict";r(5445);var g=r(6731);_.exports=g("Array","fill")},3274:(_,H,r)=>{"use strict";r(9477),r(6272);var g=r(577);_.exports=g.Array.from},5339:(_,H,r)=>{"use strict";r(2947);var g=r(577);_.exports=g.Object.values},1189:(_,H,r)=>{"use strict";r(538);var g=r(6731);_.exports=g("String","endsWith")},5142:(_,H,r)=>{"use strict";r(297)},1019:(_,H,r)=>{"use strict";r(4660)},1183:(_,H,r)=>{"use strict";r(5275)},2570:(_,H,r)=>{"use strict";r(2839)},297:(_,H,r)=>{"use strict";var g=r(1863);_.exports=g},4660:(_,H,r)=>{"use strict";var g=r(6572);_.exports=g},5275:(_,H,r)=>{"use strict";var g=r(2318);_.exports=g},2839:(_,H,r)=>{"use strict";var g=r(576);_.exports=g},6324:(_,H,r)=>{"use strict";var g=r(2539),m=r(7471),O=TypeError;_.exports=function(T){if(g(T))return T;throw new O(m(T)+" is not a function")}},2162:(_,H,r)=>{"use strict";var g=r(2539),m=String,O=TypeError;_.exports=function(T){if("object"==typeof T||g(T))return T;throw new O("Can't set "+m(T)+" as a prototype")}},2572:(_,H,r)=>{"use strict";var g=r(5485),m=r(3830),O=r(8503).f,T=g("unscopables"),j=Array.prototype;void 0===j[T]&&O(j,T,{configurable:!0,value:m(null)}),_.exports=function(k){j[T][k]=!0}},8874:(_,H,r)=>{"use strict";var g=r(3988),m=String,O=TypeError;_.exports=function(T){if(g(T))return T;throw new O(m(T)+" is not an object")}},9236:(_,H,r)=>{"use strict";var g=r(6015),m=r(7234),O=r(3235);_.exports=function(j){for(var k=g(this),K=O(k),L=arguments.length,P=m(L>1?arguments[1]:void 0,K),R=L>2?arguments[2]:void 0,w=void 0===R?K:m(R,K);w>P;)k[P++]=j;return k}},8459:(_,H,r)=>{"use strict";var g=r(9794),m=r(2977),O=r(6015),T=r(9154),j=r(7024),k=r(6467),K=r(3235),L=r(3003),P=r(2387),R=r(7874),w=Array;_.exports=function($){var A=O($),W=k(this),V=arguments.length,B=V>1?arguments[1]:void 0,h=void 0!==B;h&&(B=g(B,V>2?arguments[2]:void 0));var u,c,y,x,M,Z,b=R(A),o=0;if(!b||this===w&&j(b))for(u=K(A),c=W?new this(u):w(u);u>o;o++)Z=h?B(A[o],o):A[o],L(c,o,Z);else for(M=(x=P(A,b)).next,c=W?new this:[];!(y=m(M,x)).done;o++)Z=h?T(x,B,[y.value,o],!0):y.value,L(c,o,Z);return c.length=o,c}},5644:(_,H,r)=>{"use strict";var g=r(7625),m=r(7234),O=r(3235),T=function(j){return function(k,K,L){var I,P=g(k),R=O(P),w=m(L,R);if(j&&K!=K){for(;R>w;)if((I=P[w++])!=I)return!0}else for(;R>w;w++)if((j||w in P)&&P[w]===K)return j||w||0;return!j&&-1}};_.exports={includes:T(!0),indexOf:T(!1)}},9154:(_,H,r)=>{"use strict";var g=r(8874),m=r(8880);_.exports=function(O,T,j,k){try{return k?T(g(j)[0],j[1]):T(j)}catch(K){m(O,"throw",K)}}},3346:(_,H,r)=>{"use strict";var m=r(5485)("iterator"),O=!1;try{var T=0,j={next:function(){return{done:!!T++}},return:function(){O=!0}};j[m]=function(){return this},Array.from(j,function(){throw 2})}catch{}_.exports=function(k,K){try{if(!K&&!O)return!1}catch{return!1}var L=!1;try{var P={};P[m]=function(){return{next:function(){return{done:L=!0}}}},k(P)}catch{}return L}},4545:(_,H,r)=>{"use strict";var g=r(4038),m=g({}.toString),O=g("".slice);_.exports=function(T){return O(m(T),8,-1)}},2702:(_,H,r)=>{"use strict";var g=r(1923),m=r(2539),O=r(4545),j=r(5485)("toStringTag"),k=Object,K="Arguments"===O(function(){return arguments}());_.exports=g?O:function(P){var R,w,I;return void 0===P?"Undefined":null===P?"Null":"string"==typeof(w=function(P,R){try{return P[R]}catch{}}(R=k(P),j))?w:K?O(R):"Object"===(I=O(R))&&m(R.callee)?"Arguments":I}},1358:(_,H,r)=>{"use strict";var g=r(2623),m=r(3054),O=r(3037),T=r(8503);_.exports=function(j,k,K){for(var L=m(k),P=T.f,R=O.f,w=0;w<L.length;w++){var I=L[w];!g(j,I)&&(!K||!g(K,I))&&P(j,I,R(k,I))}}},6775:(_,H,r)=>{"use strict";var m=r(5485)("match");_.exports=function(O){var T=/./;try{"/./"[O](T)}catch{try{return T[m]=!1,"/./"[O](T)}catch{}}return!1}},6141:(_,H,r)=>{"use strict";var g=r(5202);_.exports=!g(function(){function m(){}return m.prototype.constructor=null,Object.getPrototypeOf(new m)!==m.prototype})},3585:_=>{"use strict";_.exports=function(H,r){return{value:H,done:r}}},8868:(_,H,r)=>{"use strict";var g=r(5007),m=r(8503),O=r(4238);_.exports=g?function(T,j,k){return m.f(T,j,O(1,k))}:function(T,j,k){return T[j]=k,T}},4238:_=>{"use strict";_.exports=function(H,r){return{enumerable:!(1&H),configurable:!(2&H),writable:!(4&H),value:r}}},3003:(_,H,r)=>{"use strict";var g=r(3164),m=r(8503),O=r(4238);_.exports=function(T,j,k){var K=g(j);K in T?m.f(T,K,O(0,k)):T[K]=k}},916:(_,H,r)=>{"use strict";var g=r(2539),m=r(8503),O=r(6614),T=r(2136);_.exports=function(j,k,K,L){L||(L={});var P=L.enumerable,R=void 0!==L.name?L.name:k;if(g(K)&&O(K,R,L),L.global)P?j[k]=K:T(k,K);else{try{L.unsafe?j[k]&&(P=!0):delete j[k]}catch{}P?j[k]=K:m.f(j,k,{value:K,enumerable:!1,configurable:!L.nonConfigurable,writable:!L.nonWritable})}return j}},2136:(_,H,r)=>{"use strict";var g=r(730),m=Object.defineProperty;_.exports=function(O,T){try{m(g,O,{value:T,configurable:!0,writable:!0})}catch{g[O]=T}return T}},5007:(_,H,r)=>{"use strict";var g=r(5202);_.exports=!g(function(){return 7!==Object.defineProperty({},1,{get:function(){return 7}})[1]})},8629:_=>{"use strict";var H="object"==typeof document&&document.all;_.exports={all:H,IS_HTMLDDA:typeof H>"u"&&void 0!==H}},2215:(_,H,r)=>{"use strict";var g=r(730),m=r(3988),O=g.document,T=m(O)&&m(O.createElement);_.exports=function(j){return T?O.createElement(j):{}}},932:_=>{"use strict";_.exports=typeof navigator<"u"&&String(navigator.userAgent)||""},7626:(_,H,r)=>{"use strict";var K,L,g=r(730),m=r(932),O=g.process,T=g.Deno,j=O&&O.versions||T&&T.version,k=j&&j.v8;k&&(L=(K=k.split("."))[0]>0&&K[0]<4?1:+(K[0]+K[1])),!L&&m&&(!(K=m.match(/Edge\/(\d+)/))||K[1]>=74)&&(K=m.match(/Chrome\/(\d+)/))&&(L=+K[1]),_.exports=L},6731:(_,H,r)=>{"use strict";var g=r(730),m=r(4038);_.exports=function(O,T){return m(g[O].prototype[T])}},8552:_=>{"use strict";_.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},2189:(_,H,r)=>{"use strict";var g=r(730),m=r(3037).f,O=r(8868),T=r(916),j=r(2136),k=r(1358),K=r(3455);_.exports=function(L,P){var A,W,V,B,h,R=L.target,w=L.global,I=L.stat;if(A=w?g:I?g[R]||j(R,{}):(g[R]||{}).prototype)for(W in P){if(B=P[W],V=L.dontCallGetSet?(h=m(A,W))&&h.value:A[W],!K(w?W:R+(I?".":"#")+W,L.forced)&&void 0!==V){if(typeof B==typeof V)continue;k(B,V)}(L.sham||V&&V.sham)&&O(B,"sham",!0),T(A,W,B,L)}}},5202:_=>{"use strict";_.exports=function(H){try{return!!H()}catch{return!0}}},9794:(_,H,r)=>{"use strict";var g=r(6192),m=r(6324),O=r(2865),T=g(g.bind);_.exports=function(j,k){return m(j),void 0===k?j:O?T(j,k):function(){return j.apply(k,arguments)}}},2865:(_,H,r)=>{"use strict";var g=r(5202);_.exports=!g(function(){var m=function(){}.bind();return"function"!=typeof m||m.hasOwnProperty("prototype")})},2977:(_,H,r)=>{"use strict";var g=r(2865),m=Function.prototype.call;_.exports=g?m.bind(m):function(){return m.apply(m,arguments)}},9895:(_,H,r)=>{"use strict";var g=r(5007),m=r(2623),O=Function.prototype,T=g&&Object.getOwnPropertyDescriptor,j=m(O,"name"),k=j&&"something"===function(){}.name,K=j&&(!g||g&&T(O,"name").configurable);_.exports={EXISTS:j,PROPER:k,CONFIGURABLE:K}},6589:(_,H,r)=>{"use strict";var g=r(4038),m=r(6324);_.exports=function(O,T,j){try{return g(m(Object.getOwnPropertyDescriptor(O,T)[j]))}catch{}}},6192:(_,H,r)=>{"use strict";var g=r(4545),m=r(4038);_.exports=function(O){if("Function"===g(O))return m(O)}},4038:(_,H,r)=>{"use strict";var g=r(2865),m=Function.prototype,O=m.call,T=g&&m.bind.bind(O,O);_.exports=g?T:function(j){return function(){return O.apply(j,arguments)}}},7300:(_,H,r)=>{"use strict";var g=r(730),m=r(2539);_.exports=function(T,j){return arguments.length<2?function(T){return m(T)?T:void 0}(g[T]):g[T]&&g[T][j]}},7874:(_,H,r)=>{"use strict";var g=r(2702),m=r(3923),O=r(2219),T=r(7817),k=r(5485)("iterator");_.exports=function(K){if(!O(K))return m(K,k)||m(K,"@@iterator")||T[g(K)]}},2387:(_,H,r)=>{"use strict";var g=r(2977),m=r(6324),O=r(8874),T=r(7471),j=r(7874),k=TypeError;_.exports=function(K,L){var P=arguments.length<2?j(K):L;if(m(P))return O(g(P,K));throw new k(T(K)+" is not iterable")}},3923:(_,H,r)=>{"use strict";var g=r(6324),m=r(2219);_.exports=function(O,T){var j=O[T];return m(j)?void 0:g(j)}},730:function(_,H,r){"use strict";var g=function(m){return m&&m.Math===Math&&m};_.exports=g("object"==typeof globalThis&&globalThis)||g("object"==typeof window&&window)||g("object"==typeof self&&self)||g("object"==typeof r.g&&r.g)||g("object"==typeof this&&this)||function(){return this}()||Function("return this")()},2623:(_,H,r)=>{"use strict";var g=r(4038),m=r(6015),O=g({}.hasOwnProperty);_.exports=Object.hasOwn||function(j,k){return O(m(j),k)}},7467:_=>{"use strict";_.exports={}},845:(_,H,r)=>{"use strict";var g=r(7300);_.exports=g("document","documentElement")},2470:(_,H,r)=>{"use strict";var g=r(5007),m=r(5202),O=r(2215);_.exports=!g&&!m(function(){return 7!==Object.defineProperty(O("div"),"a",{get:function(){return 7}}).a})},6854:(_,H,r)=>{"use strict";var g=r(4038),m=r(5202),O=r(4545),T=Object,j=g("".split);_.exports=m(function(){return!T("z").propertyIsEnumerable(0)})?function(k){return"String"===O(k)?j(k,""):T(k)}:T},7821:(_,H,r)=>{"use strict";var g=r(4038),m=r(2539),O=r(6838),T=g(Function.toString);m(O.inspectSource)||(O.inspectSource=function(j){return T(j)}),_.exports=O.inspectSource},5378:(_,H,r)=>{"use strict";var I,$,A,g=r(2543),m=r(730),O=r(3988),T=r(8868),j=r(2623),k=r(6838),K=r(3511),L=r(7467),P="Object already initialized",R=m.TypeError;if(g||k.state){var B=k.state||(k.state=new(0,m.WeakMap));B.get=B.get,B.has=B.has,B.set=B.set,I=function(b,o){if(B.has(b))throw new R(P);return o.facade=b,B.set(b,o),o},$=function(b){return B.get(b)||{}},A=function(b){return B.has(b)}}else{var h=K("state");L[h]=!0,I=function(b,o){if(j(b,h))throw new R(P);return o.facade=b,T(b,h,o),o},$=function(b){return j(b,h)?b[h]:{}},A=function(b){return j(b,h)}}_.exports={set:I,get:$,has:A,enforce:function(b){return A(b)?$(b):I(b,{})},getterFor:function(b){return function(o){var u;if(!O(o)||(u=$(o)).type!==b)throw new R("Incompatible receiver, "+b+" required");return u}}}},7024:(_,H,r)=>{"use strict";var g=r(5485),m=r(7817),O=g("iterator"),T=Array.prototype;_.exports=function(j){return void 0!==j&&(m.Array===j||T[O]===j)}},2539:(_,H,r)=>{"use strict";var g=r(8629),m=g.all;_.exports=g.IS_HTMLDDA?function(O){return"function"==typeof O||O===m}:function(O){return"function"==typeof O}},6467:(_,H,r)=>{"use strict";var g=r(4038),m=r(5202),O=r(2539),T=r(2702),j=r(7300),k=r(7821),K=function(){},L=[],P=j("Reflect","construct"),R=/^\s*(?:class|function)\b/,w=g(R.exec),I=!R.test(K),$=function(V){if(!O(V))return!1;try{return P(K,L,V),!0}catch{return!1}},A=function(V){if(!O(V))return!1;switch(T(V)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return I||!!w(R,k(V))}catch{return!0}};A.sham=!0,_.exports=!P||m(function(){var W;return $($.call)||!$(Object)||!$(function(){W=!0})||W})?A:$},3455:(_,H,r)=>{"use strict";var g=r(5202),m=r(2539),O=/#|\.prototype\./,T=function(P,R){var w=k[j(P)];return w===L||w!==K&&(m(R)?g(R):!!R)},j=T.normalize=function(P){return String(P).replace(O,".").toLowerCase()},k=T.data={},K=T.NATIVE="N",L=T.POLYFILL="P";_.exports=T},2219:_=>{"use strict";_.exports=function(H){return null==H}},3988:(_,H,r)=>{"use strict";var g=r(2539),m=r(8629),O=m.all;_.exports=m.IS_HTMLDDA?function(T){return"object"==typeof T?null!==T:g(T)||T===O}:function(T){return"object"==typeof T?null!==T:g(T)}},4708:_=>{"use strict";_.exports=!1},184:(_,H,r)=>{"use strict";var g=r(3988),m=r(4545),T=r(5485)("match");_.exports=function(j){var k;return g(j)&&(void 0!==(k=j[T])?!!k:"RegExp"===m(j))}},8820:(_,H,r)=>{"use strict";var g=r(7300),m=r(2539),O=r(7676),T=r(3713),j=Object;_.exports=T?function(k){return"symbol"==typeof k}:function(k){var K=g("Symbol");return m(K)&&O(K.prototype,j(k))}},8880:(_,H,r)=>{"use strict";var g=r(2977),m=r(8874),O=r(3923);_.exports=function(T,j,k){var K,L;m(T);try{if(!(K=O(T,"return"))){if("throw"===j)throw k;return k}K=g(K,T)}catch(P){L=!0,K=P}if("throw"===j)throw k;if(L)throw K;return m(K),k}},3450:(_,H,r)=>{"use strict";var g=r(344).IteratorPrototype,m=r(3830),O=r(4238),T=r(3506),j=r(7817),k=function(){return this};_.exports=function(K,L,P,R){var w=L+" Iterator";return K.prototype=m(g,{next:O(+!R,P)}),T(K,w,!1,!0),j[w]=k,K}},3174:(_,H,r)=>{"use strict";var g=r(2189),m=r(2977),O=r(4708),T=r(9895),j=r(2539),k=r(3450),K=r(8059),L=r(5502),P=r(3506),R=r(8868),w=r(916),I=r(5485),$=r(7817),A=r(344),W=T.PROPER,V=T.CONFIGURABLE,B=A.IteratorPrototype,h=A.BUGGY_SAFARI_ITERATORS,b=I("iterator"),o="keys",u="values",c="entries",y=function(){return this};_.exports=function(x,M,Z,Y,ft,ht,pt){k(Z,M,Y);var C,q,Q,it=function(D){if(D===ft&&ot)return ot;if(!h&&D&&D in vt)return vt[D];switch(D){case o:case u:case c:return function(){return new Z(this,D)}}return function(){return new Z(this)}},Ot=M+" Iterator",X=!1,vt=x.prototype,lt=vt[b]||vt["@@iterator"]||ft&&vt[ft],ot=!h&&lt||it(ft),F="Array"===M&&vt.entries||lt;if(F&&(C=K(F.call(new x)))!==Object.prototype&&C.next&&(!O&&K(C)!==B&&(L?L(C,B):j(C[b])||w(C,b,y)),P(C,Ot,!0,!0),O&&($[Ot]=y)),W&&ft===u&&lt&&lt.name!==u&&(!O&&V?R(vt,"name",u):(X=!0,ot=function(){return m(lt,this)})),ft)if(q={values:it(u),keys:ht?ot:it(o),entries:it(c)},pt)for(Q in q)(h||X||!(Q in vt))&&w(vt,Q,q[Q]);else g({target:M,proto:!0,forced:h||X},q);return(!O||pt)&&vt[b]!==ot&&w(vt,b,ot,{name:ft}),$[M]=ot,q}},344:(_,H,r)=>{"use strict";var w,I,$,g=r(5202),m=r(2539),O=r(3988),T=r(3830),j=r(8059),k=r(916),K=r(5485),L=r(4708),P=K("iterator"),R=!1;[].keys&&("next"in($=[].keys())?(I=j(j($)))!==Object.prototype&&(w=I):R=!0),!O(w)||g(function(){var W={};return w[P].call(W)!==W})?w={}:L&&(w=T(w)),m(w[P])||k(w,P,function(){return this}),_.exports={IteratorPrototype:w,BUGGY_SAFARI_ITERATORS:R}},7817:_=>{"use strict";_.exports={}},3235:(_,H,r)=>{"use strict";var g=r(3627);_.exports=function(m){return g(m.length)}},6614:(_,H,r)=>{"use strict";var g=r(4038),m=r(5202),O=r(2539),T=r(2623),j=r(5007),k=r(9895).CONFIGURABLE,K=r(7821),L=r(5378),P=L.enforce,R=L.get,w=String,I=Object.defineProperty,$=g("".slice),A=g("".replace),W=g([].join),V=j&&!m(function(){return 8!==I(function(){},"length",{value:8}).length}),B=String(String).split("String"),h=_.exports=function(b,o,u){"Symbol("===$(w(o),0,7)&&(o="["+A(w(o),/^Symbol\(([^)]*)\)/,"$1")+"]"),u&&u.getter&&(o="get "+o),u&&u.setter&&(o="set "+o),(!T(b,"name")||k&&b.name!==o)&&(j?I(b,"name",{value:o,configurable:!0}):b.name=o),V&&u&&T(u,"arity")&&b.length!==u.arity&&I(b,"length",{value:u.arity});try{u&&T(u,"constructor")&&u.constructor?j&&I(b,"prototype",{writable:!1}):b.prototype&&(b.prototype=void 0)}catch{}var c=P(b);return T(c,"source")||(c.source=W(B,"string"==typeof o?o:"")),b};Function.prototype.toString=h(function(){return O(this)&&R(this).source||K(this)},"toString")},3041:_=>{"use strict";var H=Math.ceil,r=Math.floor;_.exports=Math.trunc||function(m){var O=+m;return(O>0?r:H)(O)}},50:(_,H,r)=>{"use strict";var g=r(184),m=TypeError;_.exports=function(O){if(g(O))throw new m("The method doesn't accept regular expressions");return O}},3830:(_,H,r)=>{"use strict";var B,g=r(8874),m=r(3944),O=r(8552),T=r(7467),j=r(845),k=r(2215),K=r(3511),R="prototype",w="script",I=K("IE_PROTO"),$=function(){},A=function(b){return"<"+w+">"+b+"</"+w+">"},W=function(b){b.write(A("")),b.close();var o=b.parentWindow.Object;return b=null,o},h=function(){try{B=new ActiveXObject("htmlfile")}catch{}h=typeof document<"u"?document.domain&&B?W(B):function(){var u,b=k("iframe"),o="java"+w+":";return b.style.display="none",j.appendChild(b),b.src=String(o),(u=b.contentWindow.document).open(),u.write(A("document.F=Object")),u.close(),u.F}():W(B);for(var b=O.length;b--;)delete h[R][O[b]];return h()};T[I]=!0,_.exports=Object.create||function(o,u){var c;return null!==o?($[R]=g(o),c=new $,$[R]=null,c[I]=o):c=h(),void 0===u?c:m.f(c,u)}},3944:(_,H,r)=>{"use strict";var g=r(5007),m=r(2268),O=r(8503),T=r(8874),j=r(7625),k=r(4254);H.f=g&&!m?Object.defineProperties:function(L,P){T(L);for(var A,R=j(P),w=k(P),I=w.length,$=0;I>$;)O.f(L,A=w[$++],R[A]);return L}},8503:(_,H,r)=>{"use strict";var g=r(5007),m=r(2470),O=r(2268),T=r(8874),j=r(3164),k=TypeError,K=Object.defineProperty,L=Object.getOwnPropertyDescriptor,P="enumerable",R="configurable",w="writable";H.f=g?O?function($,A,W){if(T($),A=j(A),T(W),"function"==typeof $&&"prototype"===A&&"value"in W&&w in W&&!W[w]){var V=L($,A);V&&V[w]&&($[A]=W.value,W={configurable:R in W?W[R]:V[R],enumerable:P in W?W[P]:V[P],writable:!1})}return K($,A,W)}:K:function($,A,W){if(T($),A=j(A),T(W),m)try{return K($,A,W)}catch{}if("get"in W||"set"in W)throw new k("Accessors not supported");return"value"in W&&($[A]=W.value),$}},3037:(_,H,r)=>{"use strict";var g=r(5007),m=r(2977),O=r(6251),T=r(4238),j=r(7625),k=r(3164),K=r(2623),L=r(2470),P=Object.getOwnPropertyDescriptor;H.f=g?P:function(w,I){if(w=j(w),I=k(I),L)try{return P(w,I)}catch{}if(K(w,I))return T(!m(O.f,w,I),w[I])}},5974:(_,H,r)=>{"use strict";var g=r(7862),O=r(8552).concat("length","prototype");H.f=Object.getOwnPropertyNames||function(j){return g(j,O)}},1526:(_,H)=>{"use strict";H.f=Object.getOwnPropertySymbols},8059:(_,H,r)=>{"use strict";var g=r(2623),m=r(2539),O=r(6015),T=r(3511),j=r(6141),k=T("IE_PROTO"),K=Object,L=K.prototype;_.exports=j?K.getPrototypeOf:function(P){var R=O(P);if(g(R,k))return R[k];var w=R.constructor;return m(w)&&R instanceof w?w.prototype:R instanceof K?L:null}},7676:(_,H,r)=>{"use strict";var g=r(4038);_.exports=g({}.isPrototypeOf)},7862:(_,H,r)=>{"use strict";var g=r(4038),m=r(2623),O=r(7625),T=r(5644).indexOf,j=r(7467),k=g([].push);_.exports=function(K,L){var I,P=O(K),R=0,w=[];for(I in P)!m(j,I)&&m(P,I)&&k(w,I);for(;L.length>R;)m(P,I=L[R++])&&(~T(w,I)||k(w,I));return w}},4254:(_,H,r)=>{"use strict";var g=r(7862),m=r(8552);_.exports=Object.keys||function(T){return g(T,m)}},6251:(_,H)=>{"use strict";var r={}.propertyIsEnumerable,g=Object.getOwnPropertyDescriptor,m=g&&!r.call({1:2},1);H.f=m?function(T){var j=g(this,T);return!!j&&j.enumerable}:r},5502:(_,H,r)=>{"use strict";var g=r(6589),m=r(8874),O=r(2162);_.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var k,T=!1,j={};try{(k=g(Object.prototype,"__proto__","set"))(j,[]),T=j instanceof Array}catch{}return function(L,P){return m(L),O(P),T?k(L,P):L.__proto__=P,L}}():void 0)},7830:(_,H,r)=>{"use strict";var g=r(5007),m=r(5202),O=r(4038),T=r(8059),j=r(4254),k=r(7625),L=O(r(6251).f),P=O([].push),R=g&&m(function(){var I=Object.create(null);return I[2]=2,!L(I,2)}),w=function(I){return function($){for(var o,A=k($),W=j(A),V=R&&null===T(A),B=W.length,h=0,b=[];B>h;)o=W[h++],(!g||(V?o in A:L(A,o)))&&P(b,I?[o,A[o]]:A[o]);return b}};_.exports={entries:w(!0),values:w(!1)}},532:(_,H,r)=>{"use strict";var g=r(2977),m=r(2539),O=r(3988),T=TypeError;_.exports=function(j,k){var K,L;if("string"===k&&m(K=j.toString)&&!O(L=g(K,j))||m(K=j.valueOf)&&!O(L=g(K,j))||"string"!==k&&m(K=j.toString)&&!O(L=g(K,j)))return L;throw new T("Can't convert object to primitive value")}},3054:(_,H,r)=>{"use strict";var g=r(7300),m=r(4038),O=r(5974),T=r(1526),j=r(8874),k=m([].concat);_.exports=g("Reflect","ownKeys")||function(L){var P=O.f(j(L)),R=T.f;return R?k(P,R(L)):P}},577:(_,H,r)=>{"use strict";var g=r(730);_.exports=g},6373:(_,H,r)=>{"use strict";var g=r(2219),m=TypeError;_.exports=function(O){if(g(O))throw new m("Can't call method on "+O);return O}},3506:(_,H,r)=>{"use strict";var g=r(8503).f,m=r(2623),T=r(5485)("toStringTag");_.exports=function(j,k,K){j&&!K&&(j=j.prototype),j&&!m(j,T)&&g(j,T,{configurable:!0,value:k})}},3511:(_,H,r)=>{"use strict";var g=r(6568),m=r(2858),O=g("keys");_.exports=function(T){return O[T]||(O[T]=m(T))}},6838:(_,H,r)=>{"use strict";var g=r(730),m=r(2136),O="__core-js_shared__",T=g[O]||m(O,{});_.exports=T},6568:(_,H,r)=>{"use strict";var g=r(4708),m=r(6838);(_.exports=function(O,T){return m[O]||(m[O]=void 0!==T?T:{})})("versions",[]).push({version:"3.34.0",mode:g?"pure":"global",copyright:"\xa9 2014-2023 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.34.0/LICENSE",source:"https://github.com/zloirock/core-js"})},6365:(_,H,r)=>{"use strict";var g=r(4038),m=r(3550),O=r(2532),T=r(6373),j=g("".charAt),k=g("".charCodeAt),K=g("".slice),L=function(P){return function(R,w){var W,V,I=O(T(R)),$=m(w),A=I.length;return $<0||$>=A?P?"":void 0:(W=k(I,$))<55296||W>56319||$+1===A||(V=k(I,$+1))<56320||V>57343?P?j(I,$):W:P?K(I,$,$+2):V-56320+(W-55296<<10)+65536}};_.exports={codeAt:L(!1),charAt:L(!0)}},3370:(_,H,r)=>{"use strict";var g=r(7626),m=r(5202),T=r(730).String;_.exports=!!Object.getOwnPropertySymbols&&!m(function(){var j=Symbol("symbol detection");return!T(j)||!(Object(j)instanceof Symbol)||!Symbol.sham&&g&&g<41})},7234:(_,H,r)=>{"use strict";var g=r(3550),m=Math.max,O=Math.min;_.exports=function(T,j){var k=g(T);return k<0?m(k+j,0):O(k,j)}},7625:(_,H,r)=>{"use strict";var g=r(6854),m=r(6373);_.exports=function(O){return g(m(O))}},3550:(_,H,r)=>{"use strict";var g=r(3041);_.exports=function(m){var O=+m;return O!=O||0===O?0:g(O)}},3627:(_,H,r)=>{"use strict";var g=r(3550),m=Math.min;_.exports=function(O){return O>0?m(g(O),9007199254740991):0}},6015:(_,H,r)=>{"use strict";var g=r(6373),m=Object;_.exports=function(O){return m(g(O))}},634:(_,H,r)=>{"use strict";var g=r(2977),m=r(3988),O=r(8820),T=r(3923),j=r(532),k=r(5485),K=TypeError,L=k("toPrimitive");_.exports=function(P,R){if(!m(P)||O(P))return P;var I,w=T(P,L);if(w){if(void 0===R&&(R="default"),I=g(w,P,R),!m(I)||O(I))return I;throw new K("Can't convert object to primitive value")}return void 0===R&&(R="number"),j(P,R)}},3164:(_,H,r)=>{"use strict";var g=r(634),m=r(8820);_.exports=function(O){var T=g(O,"string");return m(T)?T:T+""}},1923:(_,H,r)=>{"use strict";var O={};O[r(5485)("toStringTag")]="z",_.exports="[object z]"===String(O)},2532:(_,H,r)=>{"use strict";var g=r(2702),m=String;_.exports=function(O){if("Symbol"===g(O))throw new TypeError("Cannot convert a Symbol value to a string");return m(O)}},7471:_=>{"use strict";var H=String;_.exports=function(r){try{return H(r)}catch{return"Object"}}},2858:(_,H,r)=>{"use strict";var g=r(4038),m=0,O=Math.random(),T=g(1..toString);_.exports=function(j){return"Symbol("+(void 0===j?"":j)+")_"+T(++m+O,36)}},3713:(_,H,r)=>{"use strict";var g=r(3370);_.exports=g&&!Symbol.sham&&"symbol"==typeof Symbol.iterator},2268:(_,H,r)=>{"use strict";var g=r(5007),m=r(5202);_.exports=g&&m(function(){return 42!==Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype})},2543:(_,H,r)=>{"use strict";var g=r(730),m=r(2539),O=g.WeakMap;_.exports=m(O)&&/native code/.test(String(O))},5485:(_,H,r)=>{"use strict";var g=r(730),m=r(6568),O=r(2623),T=r(2858),j=r(3370),k=r(3713),K=g.Symbol,L=m("wks"),P=k?K.for||K:K&&K.withoutSetter||T;_.exports=function(R){return O(L,R)||(L[R]=j&&O(K,R)?K[R]:P("Symbol."+R)),L[R]}},5445:(_,H,r)=>{"use strict";var g=r(2189),m=r(9236),O=r(2572);g({target:"Array",proto:!0},{fill:m}),O("fill")},6272:(_,H,r)=>{"use strict";var g=r(2189),m=r(8459);g({target:"Array",stat:!0,forced:!r(3346)(function(j){Array.from(j)})},{from:m})},2947:(_,H,r)=>{"use strict";var g=r(2189),m=r(7830).values;g({target:"Object",stat:!0},{values:function(T){return m(T)}})},538:(_,H,r)=>{"use strict";var W,g=r(2189),m=r(6192),O=r(3037).f,T=r(3627),j=r(2532),k=r(50),K=r(6373),L=r(6775),P=r(4708),R=m("".endsWith),w=m("".slice),I=Math.min,$=L("endsWith");g({target:"String",proto:!0,forced:!(!P&&!$&&(W=O(String.prototype,"endsWith"),W&&!W.writable)||$)},{endsWith:function(V){var B=j(K(this));k(V);var h=arguments.length>1?arguments[1]:void 0,b=B.length,o=void 0===h?b:I(T(h),b),u=j(V);return R?R(B,u,o):w(B,o-u.length,o)===u}})},9477:(_,H,r)=>{"use strict";var g=r(6365).charAt,m=r(2532),O=r(5378),T=r(3174),j=r(3585),k="String Iterator",K=O.set,L=O.getterFor(k);T(String,"String",function(P){K(this,{type:k,string:m(P),index:0})},function(){var $,R=L(this),w=R.string,I=R.index;return I>=w.length?j(void 0,!0):($=g(w,I),R.index+=$.length,j($,!1))})},9731:(_,H,r)=>{"use strict";var g=r(2327);_.exports=g},4401:(_,H,r)=>{"use strict";var g=r(3274);_.exports=g},3661:(_,H,r)=>{"use strict";var g=r(5339);_.exports=g},5606:(_,H,r)=>{"use strict";var g=r(1189);_.exports=g}},ie={};function ee(_){var H=ie[_];if(void 0!==H)return H.exports;var r=ie[_]={id:_,loaded:!1,exports:{}};return wn[_].call(r.exports,r,r.exports,ee),r.loaded=!0,r.exports}ee.n=_=>{var H=_&&_.__esModule?()=>_.default:()=>_;return ee.d(H,{a:H}),H},ee.d=(_,H)=>{for(var r in H)ee.o(H,r)&&!ee.o(_,r)&&Object.defineProperty(_,r,{enumerable:!0,get:H[r]})},ee.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch{if("object"==typeof window)return window}}(),ee.o=(_,H)=>Object.prototype.hasOwnProperty.call(_,H),ee.r=_=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(_,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(_,"__esModule",{value:!0})},ee.nmd=_=>(_.paths=[],_.children||(_.children=[]),_);var on={};return(()=>{"use strict";ee.d(on,{default:()=>Kn}),ee(1019),ee(5142),ee(1183),ee(2570);var m=ee(2432),O=ee(715),T=ee(4048),j=ee(1233);function k(s){return(k="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function L(s,a){for(var z=0;z<a.length;z++){var nt=a[z];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,R(nt.key),nt)}}function R(s){var a=function w(s,a){if("object"!==k(s)||null===s)return s;var z=s[Symbol.toPrimitive];if(void 0!==z){var nt=z.call(s,a||"default");if("object"!==k(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===k(a)?a:String(a)}function I(){return I=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,z,nt){var Ct=function $(s,a){for(;!Object.prototype.hasOwnProperty.call(s,a)&&null!==(s=o(s)););return s}(a,z);if(Ct){var Ht=Object.getOwnPropertyDescriptor(Ct,z);return Ht.get?Ht.get.call(arguments.length<3?a:nt):Ht.value}},I.apply(this,arguments)}function W(s,a){return(W=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt})(s,a)}function o(s){return(o=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)})(s)}var u=function(s){!function A(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&W(s,a)}(z,s);var a=function V(s){var a=function b(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,nt=o(s);if(a){var Ht=o(this).constructor;Ct=Reflect.construct(nt,arguments,Ht)}else Ct=nt.apply(this,arguments);return function B(s,a){if(a&&("object"===k(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function h(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,Ct)}}(z);function z(){return function K(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,z),a.apply(this,arguments)}return function P(s,a,z){a&&L(s.prototype,a),z&&L(s,z),Object.defineProperty(s,"prototype",{writable:!1})}(z,[{key:"add",value:function(Ct,Ht){if("+1"===Ht||"-1"===Ht){var Ce=this.value(Ct)||0;Ht="+1"===Ht?Ce+1:Ce-1}return 0===Ht?(this.remove(Ct),!0):I(o(z.prototype),"add",this).call(this,Ct,Ht)}},{key:"canAdd",value:function(Ct,Ht){return I(o(z.prototype),"canAdd",this).call(this,Ct,Ht)||I(o(z.prototype),"canAdd",this).call(this,Ct,parseInt(Ht,10))}},{key:"value",value:function(Ct){return parseInt(I(o(z.prototype),"value",this).call(this,Ct),10)||void 0}}]),z}(j.ClassAttributor);const y=new u("indent","ql-indent",{scope:j.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});var x=ee(6446);function M(s){return(M="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function Z(s,a){for(var z=0;z<a.length;z++){var nt=a[z];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,ft(nt.key),nt)}}function ft(s){var a=function ht(s,a){if("object"!==M(s)||null===s)return s;var z=s[Symbol.toPrimitive];if(void 0!==z){var nt=z.call(s,a||"default");if("object"!==M(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===M(a)?a:String(a)}function Ot(s,a){return(Ot=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt})(s,a)}function F(s){return(F=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)})(s)}var C=function(s){!function it(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&Ot(s,a)}(z,s);var a=function X(s){var a=function ot(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,nt=F(s);if(a){var Ht=F(this).constructor;Ct=Reflect.construct(nt,arguments,Ht)}else Ct=nt.apply(this,arguments);return function vt(s,a){if(a&&("object"===M(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function lt(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,Ct)}}(z);function z(){return function pt(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,z),a.apply(this,arguments)}return function Y(s,a,z){return a&&Z(s.prototype,a),z&&Z(s,z),Object.defineProperty(s,"prototype",{writable:!1}),s}(z)}(x.ZP);C.blotName="blockquote",C.tagName="blockquote";const q=C;function Q(s){return(Q="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function at(s,a){for(var z=0;z<a.length;z++){var nt=a[z];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,mt(nt.key),nt)}}function mt(s){var a=function tt(s,a){if("object"!==Q(s)||null===s)return s;var z=s[Symbol.toPrimitive];if(void 0!==z){var nt=z.call(s,a||"default");if("object"!==Q(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===Q(a)?a:String(a)}function gt(s,a){return(gt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt})(s,a)}function E(s){return(E=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)})(s)}var l=function(s){!function J(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&gt(s,a)}(z,s);var a=function et(s){var a=function _t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,nt=E(s);if(a){var Ht=E(this).constructor;Ct=Reflect.construct(nt,arguments,Ht)}else Ct=nt.apply(this,arguments);return function rt(s,a){if(a&&("object"===Q(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function ct(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,Ct)}}(z);function z(){return function D(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,z),a.apply(this,arguments)}return function dt(s,a,z){a&&at(s.prototype,a),z&&at(s,z),Object.defineProperty(s,"prototype",{writable:!1})}(z,null,[{key:"formats",value:function(Ct){return this.tagName.indexOf(Ct.tagName)+1}}]),z}(x.ZP);l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"];const i=l;var v=ee(3553),d=ee(281);function N(s){return(N="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function st(){return st=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,z,nt){var Ct=function St(s,a){for(;!Object.prototype.hasOwnProperty.call(s,a)&&null!==(s=kt(s)););return s}(a,z);if(Ct){var Ht=Object.getOwnPropertyDescriptor(Ct,z);return Ht.get?Ht.get.call(arguments.length<3?a:nt):Ht.value}},st.apply(this,arguments)}function Ut(s,a){for(var z=0;z<a.length;z++){var nt=a[z];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,Zt(nt.key),nt)}}function Ft(s,a,z){return a&&Ut(s.prototype,a),z&&Ut(s,z),Object.defineProperty(s,"prototype",{writable:!1}),s}function Zt(s){var a=function Qt(s,a){if("object"!==N(s)||null===s)return s;var z=s[Symbol.toPrimitive];if(void 0!==z){var nt=z.call(s,a||"default");if("object"!==N(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===N(a)?a:String(a)}function re(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}function bt(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&wt(s,a)}function wt(s,a){return(wt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt})(s,a)}function Nt(s){var a=function $t(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,nt=kt(s);if(a){var Ht=kt(this).constructor;Ct=Reflect.construct(nt,arguments,Ht)}else Ct=nt.apply(this,arguments);return function Dt(s,a){if(a&&("object"===N(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function Mt(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,Ct)}}function kt(s){return(kt=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)})(s)}var Kt=function(s){bt(z,s);var a=Nt(z);function z(){return re(this,z),a.apply(this,arguments)}return Ft(z)}(v.Z);Kt.blotName="list-container",Kt.tagName="OL";var Vt=function(s){bt(z,s);var a=Nt(z);function z(nt,Ct){var Ht;re(this,z),Ht=a.call(this,nt,Ct);var Ce=Ct.ownerDocument.createElement("span"),$n=function(Zn){if(nt.isEnabled()){var An=Ht.statics.formats(Ct,nt);"checked"===An?(Ht.format("list","unchecked"),Zn.preventDefault()):"unchecked"===An&&(Ht.format("list","checked"),Zn.preventDefault())}};return Ce.addEventListener("mousedown",$n),Ce.addEventListener("touchstart",$n),Ht.attachUI(Ce),Ht}return Ft(z,[{key:"format",value:function(Ct,Ht){Ct===this.statics.blotName&&Ht?this.domNode.setAttribute("data-list",Ht):st(kt(z.prototype),"format",this).call(this,Ct,Ht)}}],[{key:"create",value:function(Ct){var Ht=st(kt(z),"create",this).call(this);return Ht.setAttribute("data-list",Ct),Ht}},{key:"formats",value:function(Ct){return Ct.getAttribute("data-list")||void 0}},{key:"register",value:function(){d.ZP.register(Kt)}}]),z}(x.ZP);Vt.blotName="list",Vt.tagName="LI",Kt.allowedChildren=[Vt],Vt.requiredContainer=Kt;var se=ee(7898),de=ee(6039),me=ee(5832),ge=ee(1629),xe=ee(3991);function be(s){return(be="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function yt(s,a){for(var z=0;z<a.length;z++){var nt=a[z];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,Pt(nt.key),nt)}}function Pt(s){var a=function Lt(s,a){if("object"!==be(s)||null===s)return s;var z=s[Symbol.toPrimitive];if(void 0!==z){var nt=z.call(s,a||"default");if("object"!==be(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===be(a)?a:String(a)}function jt(s,a){return(jt=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt})(s,a)}function ae(s){return(ae=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)})(s)}var Oe=function(s){!function xt(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&jt(s,a)}(z,s);var a=function Gt(s){var a=function ce(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,nt=ae(s);if(a){var Ht=ae(this).constructor;Ct=Reflect.construct(nt,arguments,Ht)}else Ct=nt.apply(this,arguments);return function Yt(s,a){if(a&&("object"===be(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function ue(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,Ct)}}(z);function z(){return function It(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,z),a.apply(this,arguments)}return function At(s,a,z){return a&&yt(s.prototype,a),z&&yt(s,z),Object.defineProperty(s,"prototype",{writable:!1}),s}(z)}(xe.Z);Oe.blotName="italic",Oe.tagName=["EM","I"];const Ne=Oe;var De=ee(7256),He=ee(6603);function Se(s){return(Se="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function yr(s,a){for(var z=0;z<a.length;z++){var nt=a[z];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,Dr(nt.key),nt)}}function Dr(s){var a=function gr(s,a){if("object"!==Se(s)||null===s)return s;var z=s[Symbol.toPrimitive];if(void 0!==z){var nt=z.call(s,a||"default");if("object"!==Se(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===Se(a)?a:String(a)}function br(){return br=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,z,nt){var Ct=function Ae(s,a){for(;!Object.prototype.hasOwnProperty.call(s,a)&&null!==(s=ze(s)););return s}(a,z);if(Ct){var Ht=Object.getOwnPropertyDescriptor(Ct,z);return Ht.get?Ht.get.call(arguments.length<3?a:nt):Ht.value}},br.apply(this,arguments)}function xr(s,a){return(xr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt})(s,a)}function ze(s){return(ze=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)})(s)}var ar=function(s){!function _r(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&xr(s,a)}(z,s);var a=function Or(s){var a=function er(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,nt=ze(s);if(a){var Ht=ze(this).constructor;Ct=Reflect.construct(nt,arguments,Ht)}else Ct=nt.apply(this,arguments);return function Er(s,a){if(a&&("object"===Se(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function $r(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,Ct)}}(z);function z(){return function ve(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,z),a.apply(this,arguments)}return function $e(s,a,z){a&&yr(s.prototype,a),z&&yr(s,z),Object.defineProperty(s,"prototype",{writable:!1})}(z,null,[{key:"create",value:function(Ct){return"super"===Ct?document.createElement("sup"):"sub"===Ct?document.createElement("sub"):br(ze(z),"create",this).call(this,Ct)}},{key:"formats",value:function(Ct){return"SUB"===Ct.tagName?"sub":"SUP"===Ct.tagName?"super":void 0}}]),z}(He.Z);ar.blotName="script",ar.tagName=["SUB","SUP"];const Ze=ar;function Ve(s){return(Ve="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function lr(s,a){for(var z=0;z<a.length;z++){var nt=a[z];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,jr(nt.key),nt)}}function jr(s){var a=function Qr(s,a){if("object"!==Ve(s)||null===s)return s;var z=s[Symbol.toPrimitive];if(void 0!==z){var nt=z.call(s,a||"default");if("object"!==Ve(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===Ve(a)?a:String(a)}function hr(s,a){return(hr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt})(s,a)}function rr(s){return(rr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)})(s)}var dr=function(s){!function Tr(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&hr(s,a)}(z,s);var a=function sr(s){var a=function zr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,nt=rr(s);if(a){var Ht=rr(this).constructor;Ct=Reflect.construct(nt,arguments,Ht)}else Ct=nt.apply(this,arguments);return function kr(s,a){if(a&&("object"===Ve(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function Hr(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,Ct)}}(z);function z(){return function Cr(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,z),a.apply(this,arguments)}return function Ge(s,a,z){return a&&lr(s.prototype,a),z&&lr(s,z),Object.defineProperty(s,"prototype",{writable:!1}),s}(z)}(xe.Z);dr.blotName="strike",dr.tagName=["S","STRIKE"];const Zr=dr;function qe(s){return(qe="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function Ir(s,a){for(var z=0;z<a.length;z++){var nt=a[z];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,pr(nt.key),nt)}}function pr(s){var a=function Ue(s,a){if("object"!==qe(s)||null===s)return s;var z=s[Symbol.toPrimitive];if(void 0!==z){var nt=z.call(s,a||"default");if("object"!==qe(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===qe(a)?a:String(a)}function Nr(s,a){return(Nr=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt})(s,a)}function vr(s){return(vr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)})(s)}var Ye=function(s){!function nr(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&Nr(s,a)}(z,s);var a=function Qe(s){var a=function Ur(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,nt=vr(s);if(a){var Ht=vr(this).constructor;Ct=Reflect.construct(nt,arguments,Ht)}else Ct=nt.apply(this,arguments);return function Lr(s,a){if(a&&("object"===qe(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function Gr(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,Ct)}}(z);function z(){return function Xe(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,z),a.apply(this,arguments)}return function Vr(s,a,z){return a&&Ir(s.prototype,a),z&&Ir(s,z),Object.defineProperty(s,"prototype",{writable:!1}),s}(z)}(He.Z);Ye.blotName="underline",Ye.tagName="U";const Re=Ye;var Pr=ee(7452),ur=ee(8034);function We(s){return(We="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function Je(s,a){for(var z=0;z<a.length;z++){var nt=a[z];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,tr(nt.key),nt)}}function tr(s){var a=function ir(s,a){if("object"!==We(s)||null===s)return s;var z=s[Symbol.toPrimitive];if(void 0!==z){var nt=z.call(s,a||"default");if("object"!==We(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===We(a)?a:String(a)}function mr(){return mr=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,z,nt){var Ct=function je(s,a){for(;!Object.prototype.hasOwnProperty.call(s,a)&&null!==(s=p(s)););return s}(a,z);if(Ct){var Ht=Object.getOwnPropertyDescriptor(Ct,z);return Ht.get?Ht.get.call(arguments.length<3?a:nt):Ht.value}},mr.apply(this,arguments)}function or(s,a){return(or=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt})(s,a)}function p(s){return(p=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)})(s)}var G=function(s){!function Br(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&or(s,a)}(z,s);var a=function ke(s){var a=function U(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,nt=p(s);if(a){var Ht=p(this).constructor;Ct=Reflect.construct(nt,arguments,Ht)}else Ct=nt.apply(this,arguments);return function qr(s,a){if(a&&("object"===We(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function f(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,Ct)}}(z);function z(){return function Sr(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,z),a.apply(this,arguments)}return function Mr(s,a,z){a&&Je(s.prototype,a),z&&Je(s,z),Object.defineProperty(s,"prototype",{writable:!1})}(z,[{key:"html",value:function(){var Ct=this.value();return"<span>".concat(Ct.formula,"</span>")}}],[{key:"create",value:function(Ct){var Ht=null;if((0,ur.Z)()&&(Ht=window.katex),null==Ht)throw new Error("Formula module requires KaTeX.");var Ce=mr(p(z),"create",this).call(this,Ct);return"string"==typeof Ct&&(Ht.render(Ct,Ce,{throwOnError:!1,errorColor:"#f00"}),Ce.setAttribute("data-value",Ct)),Ce}},{key:"value",value:function(Ct){return Ct.getAttribute("data-value")}}]),z}(Pr.Z);G.blotName="formula",G.className="ql-formula",G.tagName="SPAN";const Et=G;function Bt(s){return(Bt="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function ne(s,a){for(var z=0;z<a.length;z++){var nt=a[z];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,Jt(nt.key),nt)}}function Jt(s){var a=function he(s,a){if("object"!==Bt(s)||null===s)return s;var z=s[Symbol.toPrimitive];if(void 0!==z){var nt=z.call(s,a||"default");if("object"!==Bt(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===Bt(a)?a:String(a)}function ye(){return ye=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,z,nt){var Ct=function pe(s,a){for(;!Object.prototype.hasOwnProperty.call(s,a)&&null!==(s=cr(s)););return s}(a,z);if(Ct){var Ht=Object.getOwnPropertyDescriptor(Ct,z);return Ht.get?Ht.get.call(arguments.length<3?a:nt):Ht.value}},ye.apply(this,arguments)}function Ee(s,a){return(Ee=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt})(s,a)}function cr(s){return(cr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)})(s)}var Xr=["alt","height","width"],fn=function(s){!function Pe(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&Ee(s,a)}(z,s);var a=function Fe(s){var a=function wr(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,nt=cr(s);if(a){var Ht=cr(this).constructor;Ct=Reflect.construct(nt,arguments,Ht)}else Ct=nt.apply(this,arguments);return function Ke(s,a){if(a&&("object"===Bt(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function Ar(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,Ct)}}(z);function z(){return function qt(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,z),a.apply(this,arguments)}return function fe(s,a,z){a&&ne(s.prototype,a),z&&ne(s,z),Object.defineProperty(s,"prototype",{writable:!1})}(z,[{key:"format",value:function(Ct,Ht){Xr.indexOf(Ct)>-1?Ht?this.domNode.setAttribute(Ct,Ht):this.domNode.removeAttribute(Ct):ye(cr(z.prototype),"format",this).call(this,Ct,Ht)}}],[{key:"create",value:function(Ct){var Ht=ye(cr(z),"create",this).call(this,Ct);return"string"==typeof Ct&&Ht.setAttribute("src",this.sanitize(Ct)),Ht}},{key:"formats",value:function(Ct){return Xr.reduce(function(Ht,Ce){return Ct.hasAttribute(Ce)&&(Ht[Ce]=Ct.getAttribute(Ce)),Ht},{})}},{key:"match",value:function(Ct){return/\.(jpe?g|gif|png)$/.test(Ct)||/^data:image\/.+;base64/.test(Ct)}},{key:"register",value:function(){(0,ur.Z)()&&/Firefox/i.test(navigator.userAgent)&&setTimeout(function(){document.execCommand("enableObjectResizing",!1,!1)},1)}},{key:"sanitize",value:function(Ct){return(0,De.N)(Ct,["http","https","data"])?Ct:"//:0"}},{key:"value",value:function(Ct){return Ct.getAttribute("src")}}]),z}(j.EmbedBlot);fn.blotName="image",fn.tagName="IMG";const qn=fn;function Yr(s){return(Yr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function gn(s,a){for(var z=0;z<a.length;z++){var nt=a[z];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,bn(nt.key),nt)}}function bn(s){var a=function _n(s,a){if("object"!==Yr(s)||null===s)return s;var z=s[Symbol.toPrimitive];if(void 0!==z){var nt=z.call(s,a||"default");if("object"!==Yr(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===Yr(a)?a:String(a)}function an(){return an=typeof Reflect<"u"&&Reflect.get?Reflect.get.bind():function(a,z,nt){var Ct=function Qn(s,a){for(;!Object.prototype.hasOwnProperty.call(s,a)&&null!==(s=Fr(s)););return s}(a,z);if(Ct){var Ht=Object.getOwnPropertyDescriptor(Ct,z);return Ht.get?Ht.get.call(arguments.length<3?a:nt):Ht.value}},an.apply(this,arguments)}function On(s,a){return(On=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt})(s,a)}function Fr(s){return(Fr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)})(s)}var xn=["height","width"],hn=function(s){!function Yn(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&On(s,a)}(z,s);var a=function Jn(s){var a=function Rn(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,nt=Fr(s);if(a){var Ht=Fr(this).constructor;Ct=Reflect.construct(nt,arguments,Ht)}else Ct=nt.apply(this,arguments);return function ti(s,a){if(a&&("object"===Yr(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function ei(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,Ct)}}(z);function z(){return function Xn(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,z),a.apply(this,arguments)}return function Wr(s,a,z){a&&gn(s.prototype,a),z&&gn(s,z),Object.defineProperty(s,"prototype",{writable:!1})}(z,[{key:"format",value:function(Ct,Ht){xn.indexOf(Ct)>-1?Ht?this.domNode.setAttribute(Ct,Ht):this.domNode.removeAttribute(Ct):an(Fr(z.prototype),"format",this).call(this,Ct,Ht)}},{key:"html",value:function(){var Ht=this.value().video;return'<a href="'.concat(Ht,'">').concat(Ht,"</a>")}}],[{key:"create",value:function(Ct){var Ht=an(Fr(z),"create",this).call(this,Ct);return Ht.setAttribute("frameborder","0"),Ht.setAttribute("allowfullscreen",!0),Ht.setAttribute("src",this.sanitize(Ct)),Ht}},{key:"formats",value:function(Ct){return xn.reduce(function(Ht,Ce){return Ct.hasAttribute(Ce)&&(Ht[Ce]=Ct.getAttribute(Ce)),Ht},{})}},{key:"sanitize",value:function(Ct){return De.Z.sanitize(Ct)}},{key:"value",value:function(Ct){return Ct.getAttribute("src")}}]),z}(x.i2);hn.blotName="video",hn.className="ql-video",hn.tagName="IFRAME";const ri=hn;var In=ee(7309),Nn=ee(9072),Ln=ee(867),ni=ee(9098),Mn=ee.n(ni);function Jr(s){return(Jr="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function dn(s,a){for(var z=0;z<a.length;z++){var nt=a[z];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,oi(nt.key),nt)}}function oi(s){var a=function ai(s,a){if("object"!==Jr(s)||null===s)return s;var z=s[Symbol.toPrimitive];if(void 0!==z){var nt=z.call(s,a||"default");if("object"!==Jr(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===Jr(a)?a:String(a)}function pn(s,a){return(pn=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt})(s,a)}function vn(s){return(vn=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)})(s)}var mn=function(s){!function li(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&pn(s,a)}(z,s);var a=function si(s){var a=function ui(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,nt=vn(s);if(a){var Ht=vn(this).constructor;Ct=Reflect.construct(nt,arguments,Ht)}else Ct=nt.apply(this,arguments);return function ln(s,a){if(a&&("object"===Jr(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return function Bn(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}(s)}(this,Ct)}}(z);function z(){return function ii(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,z),a.apply(this,arguments)}return function tn(s,a,z){a&&dn(s.prototype,a),z&&dn(s,z),Object.defineProperty(s,"prototype",{writable:!1})}(z,[{key:"length",value:function(){return 1}},{key:"value",value:function(){return"\n"}},{key:"optimize",value:function(){!this.prev&&!this.next&&this.remove()}}],[{key:"value",value:function(){return"\n"}}]),z}(j.EmbedBlot);mn.blotName="multilineBreak",mn.tagName="BR";const ci=mn;function en(s){return(en="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function jn(s,a){for(var z=0;z<a.length;z++){var nt=a[z];nt.enumerable=nt.enumerable||!1,nt.configurable=!0,"value"in nt&&(nt.writable=!0),Object.defineProperty(s,kn(nt.key),nt)}}function kn(s){var a=function Hn(s,a){if("object"!==en(s)||null===s)return s;var z=s[Symbol.toPrimitive];if(void 0!==z){var nt=z.call(s,a||"default");if("object"!==en(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===en(a)?a:String(a)}function En(s,a){return(En=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(nt,Ct){return nt.__proto__=Ct,nt})(s,a)}function Un(s){if(void 0===s)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return s}function Kr(s){return(Kr=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(z){return z.__proto__||Object.getPrototypeOf(z)})(s)}function Wn(s){return s.nextSibling||s.previousSibling?(new(Mn())).insert({multilineBreak:""}):(new(Mn())).insert("\n")}const gi=function(s){!function di(s,a){if("function"!=typeof a&&null!==a)throw new TypeError("Super expression must either be null or a function");s.prototype=Object.create(a&&a.prototype,{constructor:{value:s,writable:!0,configurable:!0}}),Object.defineProperty(s,"prototype",{writable:!1}),a&&En(s,a)}(z,s);var a=function pi(s){var a=function mi(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}();return function(){var Ct,nt=Kr(s);if(a){var Ht=Kr(this).constructor;Ct=Reflect.construct(nt,arguments,Ht)}else Ct=nt.apply(this,arguments);return function vi(s,a){if(a&&("object"===en(a)||"function"==typeof a))return a;if(void 0!==a)throw new TypeError("Derived constructors may only return object or undefined");return Un(s)}(this,Ct)}}(z);function z(nt,Ct){var Ht;return function sn(s,a){if(!(s instanceof a))throw new TypeError("Cannot call a class as a function")}(this,z),Ht=a.call(this,nt,Ct),d.ZP.register(function Dn(s,a,z){return(a=kn(a))in s?Object.defineProperty(s,a,{value:z,enumerable:!0,configurable:!0,writable:!0}):s[a]=z,s}({},"blots/multilineBreak",ci),!0),nt.keyboard.addBinding({key:"enter",shiftKey:!0},Ht.enterHandler.bind(Un(Ht))),nt.keyboard.bindings.enter.unshift(nt.keyboard.bindings.enter.pop()),nt.clipboard.addMatcher("BR",Wn),Ht}return function hi(s,a,z){a&&jn(s.prototype,a),z&&jn(s,z),Object.defineProperty(s,"prototype",{writable:!1})}(z,[{key:"enterHandler",value:function(Ct){var Ht=this.quill.getLeaf(Ct.index)[0],Ce=this.quill.getLeaf(Ct.index+1)[0];this.quill.insertEmbed(Ct.index,"multilineBreak",!0,"user"),(null===Ce||Ht.parent!==Ce.parent)&&this.quill.insertEmbed(Ct.index,"multilineBreak",!0,"user"),this.quill.setSelection(Ct.index+1,d.ZP.sources.SILENT)}}]),z}(ee(7094).Z);var Cn=ee(6054),Fn=ee(1342),Tn=ee(319);function un(s){return(un="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(s)}function Pn(s,a){var z=Object.keys(s);if(Object.getOwnPropertySymbols){var nt=Object.getOwnPropertySymbols(s);a&&(nt=nt.filter(function(Ct){return Object.getOwnPropertyDescriptor(s,Ct).enumerable})),z.push.apply(z,nt)}return z}function cn(s){for(var a=1;a<arguments.length;a++){var z=null!=arguments[a]?arguments[a]:{};a%2?Pn(Object(z),!0).forEach(function(nt){bi(s,nt,z[nt])}):Object.getOwnPropertyDescriptors?Object.defineProperties(s,Object.getOwnPropertyDescriptors(z)):Pn(Object(z)).forEach(function(nt){Object.defineProperty(s,nt,Object.getOwnPropertyDescriptor(z,nt))})}return s}function bi(s,a,z){return a=function _i(s){var a=function Sn(s,a){if("object"!==un(s)||null===s)return s;var z=s[Symbol.toPrimitive];if(void 0!==z){var nt=z.call(s,a||"default");if("object"!==un(nt))return nt;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===a?String:Number)(s)}(s,"string");return"symbol"===un(a)?a:String(a)}(a),a in s?Object.defineProperty(s,a,{value:z,enumerable:!0,configurable:!0,writable:!0}):s[a]=z,s}function rn(s,a){return a.reduce(function(z,nt){return z["".concat(s).concat(nt.attrName)]=nt,z},{})}m.default.register(cn(cn(cn(cn({"attributors/attribute/direction":T.IF},rn("attributors/attribute/",Tn.Qu)),rn("attributors/attribute/",Fn.yA)),{},{"attributors/class/align":O.dk,"attributors/class/background":se.Y,"attributors/class/color":de.Hn,"attributors/class/direction":T.hY,"attributors/class/font":me._,"attributors/class/size":ge.m,"attributors/style/align":O.HE,"attributors/style/background":se.w,"attributors/style/color":de.HQ,"attributors/style/direction":T.H8,"attributors/style/font":me.H,"attributors/style/size":ge.Z},rn("attributors/style/",Tn.VT)),rn("attributors/style/",Fn.kk)),!0),m.default.register({"formats/align":O.dk,"formats/direction":T.hY,"formats/indent":y,"formats/background":se.w,"formats/color":de.HQ,"formats/font":me._,"formats/size":ge.m,"formats/blockquote":q,"formats/code-block":In.ZP,"formats/header":i,"formats/list":Vt,"formats/bold":xe.Z,"formats/code":In.EK,"formats/italic":Ne,"formats/link":De.Z,"formats/script":Ze,"formats/strike":Zr,"formats/underline":Re,"formats/formula":Et,"formats/image":qn,"formats/video":ri,"tableModules/lite":Cn.Z,"tableModules/main":Ln.Z,"modules/syntax":Nn.ZP,"modules/multiline":gi,"modules/table":Ln.Z},!0);const Kn=m.default})(),on.default})(),Pi.exports=ee()}}]);