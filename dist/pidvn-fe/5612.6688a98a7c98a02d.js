"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[5612],{65612:(U,w,r)=>{r.r(w),r.d(w,{WarehouseModule:()=>Ve});var C=r(60177),a=r(89417),M=r(31958),b=r(50513),B=r(74696),T=r(38927),v=r(97529),E=r(72544),_=r(21011),f=r(43053),S=r(72874),z=r(23359),R=r(9541),q=r(46661),x=r(38296),e=r(54438),k=r(45794),j=r(45312),D=r(21626);let A=(()=>{class i{constructor(t){this.httpClient=t,this.baseUrl=j.c.baseUrl}getCheckLotNoIqc(t){return this.httpClient.post(`${this.baseUrl}/WH/Check_date_iqc/Check`,t)}static#e=this.\u0275fac=function(o){return new(o||i)(e.KVO(D.Qq))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var F=r(37736),p=r(31837);const G=()=>[10,25,50,100];let O=(()=>{class i{constructor(t,o,n,s){this.toastr=t,this.checkDateIqcSvc=o,this.jwtHelperService=n,this.datepipe=s,this.isOpenIqcRequestModal=!1,this.isOpenIqcDetailModal=!1,this.searchVo={},this.iqcRequest={}}ngOnInit(){}ngAfterViewInit(){this.getDataIqcCheckDate()}getDataIqcCheckDate(){let t=new Date,o=t.setMonth(t.getMonth()-1),n=this.datepipe.transform(o,"yyyy-MM");this.dataGrid.instance.beginCustomLoading("Loading"),this.checkDateIqcSvc.getCheckLotNoIqc({month:n}).subscribe(s=>{this.dataGrid.instance.endCustomLoading(),this.data=s}),console.log(this.data)}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(k.tw),e.rXU(A),e.rXU(F.X7),e.rXU(C.vh))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-check-date-iqc"]],viewQuery:function(o,n){if(1&o&&e.GBs(x.s,5),2&o){let s;e.mGM(s=e.lsd())&&(n.dataGrid=s.first)}},decls:20,vars:14,consts:[["dataGrid",""],["id","gridContainer",3,"dataSource","remoteOperations","allowColumnReordering","rowAlternationEnabled","showBorders","columnAutoWidth"],[3,"height","width"],[3,"visible"],[3,"enabled"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],["dataField","month","caption","Th\xe1ng ki\u1ec3m k\xea"],["dataField","date","caption","Ng\xe0y IQC IPH","format","yyyy-MM-dd","dataType","date"],["dataField","model","caption","Model"],["dataField","lotNo","caption","Lot No"],["dataField","qty","caption","Qty"],["dataField","lotGroup","caption","Lot Groups"],["dataField","updateAt","caption","Ng\xe0y IQC Outside","format","yyyy-MM-dd","dataType","date"]],template:function(o,n){1&o&&(e.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),e.EFF(2," WAREHOUSE "),e.k0s(),e.j41(3,"nz-breadcrumb-item"),e.EFF(4," Ki\u1ec3m tra h\xe0ng IQC qu\xe1 6 th\xe1ng "),e.k0s()(),e.nrm(5,"br"),e.j41(6,"dx-data-grid",1,0),e.nrm(8,"dxo-load-panel",2)(9,"dxo-filter-row",3)(10,"dxo-export",4)(11,"dxo-paging",5)(12,"dxo-pager",6)(13,"dxi-column",7)(14,"dxi-column",8)(15,"dxi-column",9)(16,"dxi-column",10)(17,"dxi-column",11)(18,"dxi-column",12)(19,"dxi-column",13),e.k0s()),2&o&&(e.R7$(6),e.Y8G("dataSource",n.data)("remoteOperations",!1)("allowColumnReordering",!0)("rowAlternationEnabled",!0)("showBorders",!0)("columnAutoWidth",!0),e.R7$(2),e.Y8G("height",100)("width",250),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(13,G)))},dependencies:[M.hL,M.K7,x.s,p.nj_,p.ZJU,p.FTx,p.xzc,p.sVQ,p.PVd]})}return i})();class V{}var d=r(92887),y=r(2578),u=r(47848);let h=(()=>{class i{constructor(t){this.httpClient=t,this.baseUrl=j.c.baseUrl}saveMaterial(t){return this.httpClient.post(`${this.baseUrl}/Warehouse/Material/Receipt/SaveMaterials`,t)}getMaterials(t){return this.httpClient.post(`${this.baseUrl}/Warehouse/Material/Receipt`,t)}getLotsByLotNo(t){return this.httpClient.post(`${this.baseUrl}/Warehouse/Material/Receipt/GetLotsByLotNo`,t)}saveBigBox(t,o){return this.httpClient.post(`${this.baseUrl}/Warehouse/Material/Receipt/SaveBigBox?invoice=${o}`,t)}findSlipByInvoice(t){return this.httpClient.get(`${this.baseUrl}/Warehouse/Material/Receipt/Slip?invoice=${t}`)}deleteRecord(t){return this.httpClient.put(`${this.baseUrl}/Warehouse/Material/Receipt/Record`,t)}getDetailOuterLabel(t){return this.httpClient.post(`${this.baseUrl}/Warehouse/Material/Receipt/DetailOuterLabel`,t)}createPurWhHeader(t){return this.httpClient.post(`${this.baseUrl}/Warehouse/Material/Receipt/CreatePurWhHeader`,t)}getInvoiceDetail(t){return this.httpClient.post(`${this.baseUrl}/Warehouse/Material/Receipt/InvoiceDetail`,t)}static#e=this.\u0275fac=function(o){return new(o||i)(e.KVO(D.Qq))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var m=r(16389),I=r(25930),N=r(58960),P=r(27380);const H=()=>[10,25,50,100];function X(i,g){if(1&i){const t=e.RV6();e.j41(0,"i",65),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.clearQrCode())}),e.k0s()}}function Y(i,g){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.nI1(3,"uppercase"),e.k0s(),e.j41(4,"td",75),e.EFF(5),e.k0s(),e.j41(6,"td"),e.EFF(7),e.k0s(),e.j41(8,"td"),e.EFF(9),e.k0s(),e.j41(10,"td"),e.EFF(11),e.k0s(),e.j41(12,"td"),e.EFF(13),e.k0s(),e.j41(14,"td"),e.EFF(15),e.k0s(),e.j41(16,"td"),e.EFF(17),e.k0s(),e.j41(18,"td",73)(19,"a",76),e.bIt("nzOnConfirm",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.deleteScannedData(n))}),e.EFF(20," X\xf3a "),e.k0s()()()}if(2&i){const t=g.$implicit;e.R7$(2),e.JRh(e.bMT(3,8,t.model)),e.R7$(3),e.JRh(t.qty),e.R7$(2),e.JRh(t.lotNo),e.R7$(2),e.JRh(t.vendorCode),e.R7$(2),e.JRh(t.serial),e.R7$(2),e.JRh(t.invoiceNo),e.R7$(2),e.JRh(t.poNo),e.R7$(2),e.JRh(t.slipNo)}}function Q(i,g){if(1&i){const t=e.RV6();e.j41(0,"div",66)(1,"div",67)(2,"div",68)(3,"button",69),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveData())}),e.EFF(4," L\u01b0u d\u1eef li\u1ec7u "),e.k0s()()(),e.j41(5,"div",67)(6,"div",70)(7,"label",71),e.EFF(8),e.nI1(9,"number"),e.k0s()()()(),e.j41(10,"nz-table",72,2)(12,"thead")(13,"tr")(14,"th",73),e.EFF(15,"Part No"),e.k0s(),e.j41(16,"th",73),e.EFF(17,"Qty"),e.k0s(),e.j41(18,"th",73),e.EFF(19,"Lot"),e.k0s(),e.j41(20,"th",73),e.EFF(21,"Vendor"),e.k0s(),e.j41(22,"th",73),e.EFF(23,"Serial"),e.k0s(),e.j41(24,"th",73),e.EFF(25,"Invoice"),e.k0s(),e.j41(26,"th",73),e.EFF(27,"PO"),e.k0s(),e.j41(28,"th",73),e.EFF(29,"Slip"),e.k0s(),e.j41(30,"th",73),e.EFF(31,"Action"),e.k0s()()(),e.j41(32,"tbody"),e.DNE(33,Y,21,10,"tr",74),e.k0s()()}if(2&i){const t=e.sdS(11),o=e.XpG();e.R7$(3),e.Y8G("nzLoading",o.isLoading),e.R7$(5),e.SpI(" Total Qty: ",e.i5U(9,6,o.totalQtyScanned,"1.3")," "),e.R7$(2),e.Y8G("nzData",o.listBoxScanned)("nzBordered",!0)("nzFrontPagination",!1),e.R7$(23),e.Y8G("ngForOf",t.data)}}function K(i,g){if(1&i){const t=e.RV6();e.j41(0,"tr")(1,"td"),e.EFF(2),e.k0s(),e.j41(3,"td",73)(4,"a",76),e.bIt("nzOnConfirm",function(){const n=e.eBV(t).$implicit,s=e.XpG(2);return e.Njj(s.deleteBigBoxScanned(n))}),e.EFF(5," X\xf3a "),e.k0s()()()}if(2&i){const t=g.$implicit;e.R7$(2),e.JRh(t.value)}}function J(i,g){if(1&i){const t=e.RV6();e.j41(0,"div",66)(1,"div",67)(2,"div",68)(3,"button",69),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.showDetailBigBox())}),e.EFF(4," L\u01b0u d\u1eef li\u1ec7u "),e.k0s()()(),e.j41(5,"div",67)(6,"div",70),e.nrm(7,"label",71),e.k0s()()(),e.j41(8,"nz-table",77,3)(10,"thead")(11,"tr")(12,"th",73),e.EFF(13,"Gi\xe1 tr\u1ecb"),e.k0s(),e.j41(14,"th",73),e.EFF(15,"Action"),e.k0s()()(),e.j41(16,"tbody"),e.DNE(17,K,6,1,"tr",74),e.k0s()()}if(2&i){const t=e.sdS(9),o=e.XpG();e.R7$(3),e.Y8G("nzLoading",o.isLoading),e.R7$(5),e.Y8G("nzData",o.listBigBoxScanned)("nzBordered",!0)("nzFrontPagination",!1),e.R7$(9),e.Y8G("ngForOf",t.data)}}function Z(i,g){if(1&i){const t=e.RV6();e.j41(0,"div",78)(1,"a",79),e.bIt("click",function(){const n=e.eBV(t).$implicit,s=e.XpG();return e.Njj(s.deleteRecord(n.data))}),e.EFF(2,"X\xf3a"),e.k0s()()}}function ee(i,g){if(1&i&&(e.qex(0),e.j41(1,"div",34)(2,"div",35)(3,"label",36),e.EFF(4),e.nI1(5,"number"),e.k0s(),e.j41(6,"label",37),e.EFF(7),e.nI1(8,"number"),e.k0s()()(),e.j41(9,"dx-data-grid",80),e.nrm(10,"dxo-selection",81)(11,"dxi-column",82)(12,"dxi-column",83)(13,"dxi-column",84)(14,"dxi-column",85),e.j41(15,"dxo-summary"),e.nrm(16,"dxi-group-item",86)(17,"dxi-group-item",87),e.k0s(),e.nrm(18,"dxi-sort-by-group-summary-info",88),e.k0s(),e.bVm()),2&i){const t=e.XpG();e.R7$(),e.Y8G("nzGutter",24),e.R7$(3),e.SpI(" Total Record: ",e.bMT(5,8,t.listBigBoxDetail.length)," "),e.R7$(3),e.SpI(" Total Qty: ",e.i5U(8,10,t.totalQtyDetailBigBox,"1.0-3")," "),e.R7$(2),e.Y8G("dataSource",t.listBigBoxDetail)("showBorders",!0),e.R7$(2),e.Y8G("groupIndex",0),e.R7$(6),e.Y8G("showInGroupFooter",!1)("alignByColumn",!0)}}function te(i,g){if(1&i){const t=e.RV6();e.j41(0,"button",89),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelSaveBigBox())}),e.EFF(1," Close "),e.k0s(),e.j41(2,"button",90),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveBigBox())}),e.EFF(3," L\u01b0u "),e.k0s()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("nzLoading",t.loadingBtnSaveBigBox)}}function ne(i,g){if(1&i&&(e.j41(0,"li"),e.EFF(1),e.k0s()),2&i){const t=g.$implicit;e.R7$(),e.SpI(" ",t," ")}}function oe(i,g){if(1&i&&(e.j41(0,"ul"),e.DNE(1,ne,2,1,"li",74),e.k0s()),2&i){const t=e.XpG(2);e.R7$(),e.Y8G("ngForOf",t.responseMessage.duplicateList)}}function ie(i,g){if(1&i&&(e.qex(0),e.j41(1,"h4"),e.EFF(2),e.k0s(),e.j41(3,"h4"),e.EFF(4),e.k0s(),e.DNE(5,oe,2,1,"ul",91),e.bVm()),2&i){const t=e.XpG();e.R7$(2),e.SpI(" S\u1ed1 l\u01b0\u1ee3ng \u0111\xe3 l\u01b0u: ",t.responseMessage?t.responseMessage.amountSaved:""," "),e.R7$(2),e.SpI(" S\u1ed1 l\u01b0\u1ee3ng b\u1ecb tr\xf9ng: ",t.responseMessage?t.responseMessage.duplicateList.length:""," "),e.R7$(),e.Y8G("ngIf",t.responseMessage)}}function ae(i,g){if(1&i){const t=e.RV6();e.j41(0,"button",92),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isShowResponseModal=!1)}),e.EFF(1," OK "),e.k0s()}}function se(i,g){if(1&i&&(e.qex(0),e.j41(1,"p"),e.EFF(2),e.k0s(),e.bVm()),2&i){const t=e.XpG();e.R7$(2),e.JRh(t.errorMessage)}}function le(i,g){if(1&i){const t=e.RV6();e.j41(0,"button",92),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isShowErrorModal=!1)}),e.EFF(1," OK "),e.k0s()}}let re=(()=>{class i{constructor(t,o,n){this.toastr=t,this.jwtHelperService=o,this.materialReceiptService=n,this.isQrInValid=!1,this.isLoading=!1,this.listBoxScanned=new Array,this.mapBoxScanned=new Map,this.totalBoxScanned=0,this.totalQtyScanned=0,this.totalQtySearch=0,this.recordTotal=0,this.isShowErrorModal=!1,this.isShowResponseModal=!1,this.isShowBigBoxDetailModal=!1,this.searchVo={model:null,lotNo:null,whUserCode:null,currentPage:1,recordPerPage:10,recordStart:0,recordTotal:50,fromDate:null,toDate:null,slipNo:null,invoice:null},this.invoiceInput="",this.listBigBoxScanned=new Array,this.mapBigBoxScanned=new Map,this.listBigBoxDetail=new Array,this.totalQtyDetailBigBox=0,this.loadingBtnSaveBigBox=!1}ngOnInit(){}handleKeyboardEvent(t){if(13==t.keyCode){if(!this.qrCode)return;let o=this.qrCode.split(";");if("B"==o[0].trim()||"b"==o[0].trim())console.log("Scan big box: ",o),console.log("QR Code: ",this.qrCode),this.mapBigBoxScanned.set(this.qrCode,{key:this.qrCode.toUpperCase(),value:this.qrCode.toUpperCase()}),this.listBigBoxScanned=Array.from(this.mapBigBoxScanned.values()),this.totalBoxScanned=this.listBigBoxScanned.length,this.qrCode="";else{let n=new V;"21010284"===o[4]?this.handleElektrisolaVendor(n,o):(n.key=o[3],n.model=o[0],n.qty=parseFloat(o[2]),n.lotNo=o[3].toUpperCase(),n.vendorCode=o[4],n.serial=o[5],n.invoiceNo=this.invoiceInput.toUpperCase(),n.poNo=o[7],n.poSeq=o[8],n.slipNo=this.slipInput.toUpperCase(),n.qrCode=this.qrCode,n.lotGroup="21041684"===o[4]?o[3].split("*")[0]:"21019313"===o[4]?`${o[3].split("*")[0]}*${o[3].split("*")[1]}`:o[3],n.whUserCode=this.jwtHelperService.decodeToken(localStorage.getItem("accessToken")?.toString()).Username),this.mapBoxScanned.set(`${n.key}`,n),this.listBoxScanned=Array.from(this.mapBoxScanned.values()),this.totalBoxScanned=this.listBoxScanned.length,this.totalQtyScanned=this.sumBoxQtyScanned(),this.qrCode=""}console.log("aaa : ",this.listBoxScanned)}}handleElektrisolaVendor(t,o){t.key=`${o[3]}*${o[5]}`,t.model=o[0],t.qty=parseFloat(o[2]),t.lotNo=`${o[3]}${o[5]}`.toUpperCase(),t.vendorCode=o[4],t.serial=o[5],t.invoiceNo=this.invoiceInput?this.invoiceInput.toUpperCase():null,t.poNo=this.poInput,t.slipNo=this.slipInput?this.slipInput.toUpperCase():null,t.qrCode=this.qrCode,t.lotGroup=o[3],t.whUserCode=this.jwtHelperService.decodeToken(localStorage.getItem("accessToken")?.toString()).Username}deleteScannedData(t){this.mapBoxScanned.delete(t.key),this.listBoxScanned=Array.from(this.mapBoxScanned.values()),this.totalBoxScanned=this.listBoxScanned.length,this.totalQtyScanned=this.sumBoxQtyScanned()}saveData(){if(""==this.invoiceInput||""==this.slipInput)return void this.toastr.warning("C\u1ea7n nh\u1eadp s\u1ed1 Invoice v\xe0 Slip");this.isLoading=!0,console.log("Save Data: ",this.listBoxScanned);let t={regNo:this.slipInput,type:"IM",userId:this.jwtHelperService.decodeToken(localStorage.getItem("accessToken")?.toString()).UserId};this.materialReceiptService.createPurWhHeader(t).subscribe(o=>{this.materialReceiptService.saveMaterial(this.listBoxScanned).subscribe(n=>{this.toastr.success("L\u01b0u th\xe0nh c\xf4ng !","Success"),this.isLoading=!1,this.responseMessage=n,this.isShowResponseModal=!0,this.invoiceInput="",this.poInput="",this.slipInput="",this.resetData(),this.getMaterials(this.searchVo)},n=>{this.isLoading=!1,this.errorMessage=n,this.isShowErrorModal=!0})})}getMaterials(t){this.isLoading=!0,this.materialReceiptService.getMaterials(t).subscribe(o=>{console.log("PurWhRecords: ",o),this.purWhRecords=o.data,this.searchVo.recordTotal=o.recordTotal,this.totalQtySearch=o.totalQty,this.recordTotal=o.recordTotal,this.isLoading=!1})}sumBoxQtyScanned(){let t=0;return this.listBoxScanned.forEach(o=>{t+=o.qty}),t}resetData(){this.mapBoxScanned=new Map,this.listBoxScanned=new Array,this.listBigBoxScanned=new Array,this.mapBigBoxScanned=new Map,this.listBigBoxDetail=new Array,this.totalBoxScanned=0,this.totalQtyScanned=0,this.totalQtyDetailBigBox=0,this.qrCode=""}clearQrCode(){this.qrCode="",this.isQrInValid=!1}playErrorSound(){console.log("Playing Sound");let t=new Audio;t.src="../../../../../assets/sounds/ErrorSound.mp3",t.load(),t.play()}nzPageIndexChange(t){console.log("nzPageIndexChange => ",t),this.searchVo.currentPage=t,this.pagingCalculate(this.searchVo)}nzPageSizeChange(t){console.log("nzPageSizeChange => ",t),this.searchVo.recordPerPage=t,this.pagingCalculate(this.searchVo)}pagingCalculate(t){t.recordStart=(t.currentPage-1)*t.recordPerPage,this.getMaterials(this.searchVo)}onChange(t){this.searchVo.fromDate=t[0],this.searchVo.toDate=t[1]}onOk(t){this.searchVo.fromDate=t[0],this.searchVo.toDate=t[1]}onCalendarChange(t){this.searchVo.fromDate=t[0],this.searchVo.toDate=t[1]}searchData(){this.getMaterials(this.searchVo)}deleteBigBoxScanned(t){this.mapBigBoxScanned.delete(t.key),this.listBigBoxScanned=Array.from(this.mapBigBoxScanned.values()),this.totalBoxScanned=this.listBigBoxScanned.length}showDetailBigBox(){this.isLoading=!0;let t=new Array;this.listBigBoxScanned.forEach(o=>{let n=o.value.split(";");n.shift(),n.shift(),n.forEach(s=>{t.push(`${s}`)})}),this.materialReceiptService.getDetailOuterLabel(t).subscribe(o=>{this.isShowBigBoxDetailModal=!0,this.listBigBoxDetail=o,console.log("Detail Big Box: ",this.listBigBoxDetail),this.listBigBoxDetail.forEach(n=>{this.totalQtyDetailBigBox+=n.qty}),this.isLoading=!1})}saveBigBox(){if(this.loadingBtnSaveBigBox=!0,""==this.invoiceInput||""==this.slipInput)return this.toastr.warning("C\u1ea7n nh\u1eadp s\u1ed1 Invoice v\xe0 Slip"),void(this.loadingBtnSaveBigBox=!1);new Array,console.log("this.listBigBoxDetail: ",this.listBigBoxDetail);let o=new Array;this.listBigBoxDetail.forEach(s=>{let c=new V;c.lotNo=s.lotNo.toUpperCase(),c.qty=s.qty,c.model=s.model,c.invoiceNo=s.invoice,c.slipNo=this.slipInput?this.slipInput.toUpperCase():null,c.whUserCode=this.jwtHelperService.decodeToken(localStorage.getItem("accessToken")?.toString()).Username,o.push(c)}),console.log("DATA SAVE: ",o);let n={regNo:this.slipInput,type:"IM",userId:this.jwtHelperService.decodeToken(localStorage.getItem("accessToken")?.toString()).UserId};this.materialReceiptService.createPurWhHeader(n).subscribe(s=>{this.materialReceiptService.saveBigBox(o,this.invoiceInput).subscribe(c=>{console.log(c),this.toastr.success("L\u01b0u th\xe0nh c\xf4ng !","Success"),this.isShowBigBoxDetailModal=!1,this.responseMessage=c,this.isShowResponseModal=!0,this.invoiceInput="",this.poInput="",this.slipInput="",this.resetData(),this.getMaterials(this.searchVo),this.loadingBtnSaveBigBox=!1})})}cancelSaveBigBox(){this.totalQtyDetailBigBox=0,this.isShowBigBoxDetailModal=!1}onSearchSlip(){this.invoiceInput?this.materialReceiptService.findSlipByInvoice(this.invoiceInput).subscribe(t=>{if(!t[0]?.slipNo)return this.toastr.warning("Ch\u01b0a c\xf3 Slip trong h\u1ec7 th\u1ed1ng !"),void(this.slipInput="");this.slipInput=t[0]?.slipNo}):this.toastr.warning("B\u1ea1n c\u1ea7n nh\u1eadp Invoice !")}deleteRecord(t){let o=this.jwtHelperService.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;if("3011934"!=o)return void this.toastr.warning("B\u1ea1n kh\xf4ng c\xf3 quy\u1ec1n x\xf3a !","note");let n={id:t.id,updatedBy:o};console.log("Delete: ",t),this.materialReceiptService.deleteRecord(n).subscribe(s=>{this.toastr.success(s.lotNo,"\u0110\xe3 x\xf3a"),this.getMaterials(this.searchVo)})}onExportClient(t){console.log(t);const o=new d.Workbook,n=o.addWorksheet("Main sheet");(0,u.V)({component:t.component,worksheet:n}).then(function(){o.xlsx.writeBuffer().then(function(s){y(new Blob([s],{type:"application/octet-stream"}),"Data.xlsx")})})}checkDataSauNhapKho(){this.materialReceiptService.getInvoiceDetail(this.searchVo).subscribe(t=>{const o={};t.forEach(s=>{o[s.model]||(o[s.model]=0),o[s.model]+=s.qty});const n=Object.entries(o).map(([s,c])=>({model:s,qty:c}));this.invoiceDetails=n})}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(k.tw),e.rXU(F.X7),e.rXU(h))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-material-receipt"]],hostBindings:function(o,n){1&o&&e.bIt("keydown",function(c){return n.handleKeyboardEvent(c)},!1,e.tSv)},decls:143,vars:60,consts:[["inputQrCode",""],["suffixIconSearch",""],["scanTable",""],["bigBoxScanTable",""],["nzTitle","Nh\u1eadp kho NVL"],["nzHeader","Scan QR code",3,"nzActive","nzShowArrow"],["nz-row","","nzJustify","space-around","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","4","nzLg","3"],["for","qr-code"],["nz-col","","nzXs","24","nzSm","12","nzLg","13"],[3,"nzSuffix"],["nz-input","","autofocus","",2,"text-align","center",3,"ngModelChange","ngModel"],["nz-col","","nzXs","24","nzSm","4","nzLg","5"],["nz-input","","readonly","",2,"text-align","center",3,"ngModelChange","ngModel"],["nz-row","","nzJustify","start","nzAlign","middle",2,"margin-top","10px",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","4","nzLg","7"],["nz-input","",2,"text-align","center","font-weight","bold","color","blue","text-transform","uppercase",3,"ngModelChange","ngModel"],["nz-col","","nzXs","24","nzSm","4","nzLg","2"],["nz-col","","nzXs","24","nzSm","4","nzLg","4"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","1","nzLg","18"],["nz-col","","nzXs","24","nzSm","1","nzLg","6"],["nz-button","","nzType","default",1,"search-slip",2,"width","100%",3,"click"],["nz-icon","","nzType","search"],[3,"ngIf"],["nzTitle","D\u1eef li\u1ec7u nh\u1eadp kho"],["nzHeader","T\xecm ki\u1ebfm",3,"nzActive","nzShowArrow"],["nz-col","","nzXs","12","nzSm","12","nzLg","4"],["nzXs","24","nzSm","24","nzLg","24"],["nz-input","",3,"ngModelChange","ngModel"],["nz-col","","nzXs","12","nzSm","12","nzLg","6"],["nzFormat","yyyy-MM-dd","ngModel","",3,"ngModelChange","nzOnCalendarChange","nzOnOk"],["nz-col","","nzXs","12","nzSm","12","nzLg","2"],["nz-button","","nzType","primary",1,"btn","btn-success","float-right",2,"float","right",3,"click"],["nz-row","","nzJustify","end","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzLg","24"],[2,"color","#2196f3","float","left"],[2,"color","#2196f3","float","right"],["keyExpr","id",3,"onExporting","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"enabled"],[3,"visible"],["dataField","model","caption","PartNo"],["dataField","lotNo","caption","LotNo"],["dataField","qty","dataType","number","format","#,##0.00","caption","Qty"],["dataField","vendorCode","caption","Vendor"],["dataField","createdAt","dataType","date","format","yyyy-MM-dd HH:mm:ss","caption","Date"],["dataField","slipNo","caption","Slip"],["dataField","invoice","caption","Invoice"],["caption","Action","cellTemplate","actionTemplate"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],["column","lotNo","summaryType","count"],["column","qty","summaryType","sum","valueFormat","#,##0.00"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],["nzTitle","Check sau nh\u1eadp kho"],["nz-button","","nzType","primary",1,"btn","btn-success","float-right",3,"click"],["keyExpr","model",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],["dataField","model","caption","Part"],["dataField","qty","caption","Qty","dataType","number","format","#,##0.00","alignment","left"],["column","qty","summaryType","sum","valueFormat","#,##0.0"],["nzTitle","Danh s\xe1ch h\u1ed9p con","nzWidth","900px",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[3,"nzModalFooter"],["nzTitle","Information",3,"nzVisibleChange","nzVisible"],["nzTitle","Error",3,"nzVisibleChange","nzVisible"],["id","clearQR","nz-icon","","nzType","close-circle","nzTheme","outline",3,"click"],["nz-row","","nzAlign","middle",2,"margin-bottom","5px"],["nz-col","","nzXs","12","nzSm","12","nzLg","12"],["nz-row","","nzJustify","start"],["nz-button","","nzType","primary",1,"col-md-2",3,"click","nzLoading"],["nz-row","","nzJustify","end"],[2,"color","#2196f3"],["id","scanTable","nzSize","small","nzTitle","D\u1eef li\u1ec7u Scanned",3,"nzData","nzBordered","nzFrontPagination"],[1,"text-center"],[4,"ngFor","ngForOf"],[1,"text-right"],["nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a ?","nzPopconfirmPlacement","top",2,"color","red",3,"nzOnConfirm"],["id","bigBoxScanTable","nzSize","small","nzTitle","D\u1eef li\u1ec7u Scanned",3,"nzData","nzBordered","nzFrontPagination"],[2,"text-align","center"],[2,"color","red",3,"click"],["id","gridContainer","keyExpr","id",3,"dataSource","showBorders"],["mode","single"],["dataField","lotGroup",3,"groupIndex"],["dataField","lotNo","caption","Lot No"],["dataField","model","caption","Model"],["dataField","qty","alignment","right"],["column","lotNo","summaryType","count","displayFormat","{0} Lot"],["column","qty","summaryType","sum",3,"showInGroupFooter","alignByColumn"],["summaryItem","count"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click","nzLoading"],[4,"ngIf"],["nz-button","","nzType","primary",3,"click"]],template:function(o,n){if(1&o){const s=e.RV6();e.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),e.EFF(2," Warehouse "),e.k0s(),e.j41(3,"nz-breadcrumb-item"),e.EFF(4," Nh\u1eadp kho nguy\xean v\u1eadt li\u1ec7u "),e.k0s()(),e.nrm(5,"br"),e.j41(6,"nz-tabset")(7,"nz-tab",4)(8,"nz-collapse")(9,"nz-collapse-panel",5)(10,"div",6)(11,"div",7)(12,"label",8),e.EFF(13,"QR Code:"),e.k0s()(),e.j41(14,"div",9)(15,"nz-input-group",10)(16,"input",11,0),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(n.qrCode,l)||(n.qrCode=l),e.Njj(l)}),e.k0s()(),e.DNE(18,X,1,0,"ng-template",null,1,e.C5r),e.k0s(),e.j41(20,"div",7)(21,"label"),e.EFF(22,"\u0110\xe3 scan:"),e.k0s()(),e.j41(23,"div",12)(24,"input",13),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(n.totalBoxScanned,l)||(n.totalBoxScanned=l),e.Njj(l)}),e.k0s()()(),e.j41(25,"div",14)(26,"div",7)(27,"label"),e.EFF(28,"Invoice:"),e.k0s()(),e.j41(29,"div",15)(30,"input",16),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(n.invoiceInput,l)||(n.invoiceInput=l),e.Njj(l)}),e.k0s()(),e.j41(31,"div",17)(32,"label"),e.EFF(33,"PO:"),e.k0s()(),e.j41(34,"div",18)(35,"input",16),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(n.poInput,l)||(n.poInput=l),e.Njj(l)}),e.k0s()(),e.j41(36,"div",7)(37,"label"),e.EFF(38,"Slip:"),e.k0s()(),e.j41(39,"div",12)(40,"div",19)(41,"div",20)(42,"input",16),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(n.slipInput,l)||(n.slipInput=l),e.Njj(l)}),e.k0s()(),e.j41(43,"div",21)(44,"button",22),e.bIt("click",function(){return e.eBV(s),e.Njj(n.onSearchSlip())}),e.nrm(45,"i",23),e.k0s()()()()()()(),e.nrm(46,"br"),e.DNE(47,Q,34,9,"ng-template",24)(48,J,18,5,"ng-template",24),e.k0s(),e.j41(49,"nz-tab",25)(50,"nz-collapse")(51,"nz-collapse-panel",26)(52,"div",19)(53,"div",27)(54,"label",28),e.EFF(55,"Part No"),e.k0s(),e.j41(56,"div",28)(57,"input",29),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(n.searchVo.model,l)||(n.searchVo.model=l),e.Njj(l)}),e.k0s()()(),e.j41(58,"div",27)(59,"label",28),e.EFF(60,"Lot"),e.k0s(),e.j41(61,"div",28)(62,"input",29),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(n.searchVo.lotNo,l)||(n.searchVo.lotNo=l),e.Njj(l)}),e.k0s()()(),e.j41(63,"div",27)(64,"label",28),e.EFF(65,"Slip No"),e.k0s(),e.j41(66,"div",28)(67,"input",29),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(n.searchVo.slipNo,l)||(n.searchVo.slipNo=l),e.Njj(l)}),e.k0s()()(),e.j41(68,"div",27)(69,"label",28),e.EFF(70,"Invoice"),e.k0s(),e.j41(71,"div",28)(72,"input",29),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(n.searchVo.invoice,l)||(n.searchVo.invoice=l),e.Njj(l)}),e.k0s()()(),e.j41(73,"div",30)(74,"label",28),e.EFF(75,"Date"),e.k0s(),e.j41(76,"div",28)(77,"nz-range-picker",31),e.bIt("ngModelChange",function(l){return e.eBV(s),e.Njj(n.onChange(l))})("nzOnCalendarChange",function(l){return e.eBV(s),e.Njj(n.onCalendarChange(l))})("nzOnOk",function(l){return e.eBV(s),e.Njj(n.onOk(l))}),e.k0s()()(),e.j41(78,"div",32)(79,"label",28),e.EFF(80,"\xa0"),e.k0s(),e.j41(81,"div",28)(82,"button",33),e.bIt("click",function(){return e.eBV(s),e.Njj(n.searchData())}),e.EFF(83," Search "),e.k0s()()()()()(),e.nrm(84,"br"),e.j41(85,"div",34)(86,"div",35)(87,"label",36),e.EFF(88),e.nI1(89,"number"),e.k0s(),e.j41(90,"label",37),e.EFF(91),e.nI1(92,"number"),e.k0s()()(),e.j41(93,"dx-data-grid",38),e.bIt("onExporting",function(l){return e.eBV(s),e.Njj(n.onExportClient(l))}),e.nrm(94,"dxo-export",39)(95,"dxo-filter-row",40)(96,"dxo-column-fixing",39)(97,"dxi-column",41)(98,"dxi-column",42)(99,"dxi-column",43)(100,"dxi-column",44)(101,"dxi-column",45)(102,"dxi-column",46)(103,"dxi-column",47),e.j41(104,"dxi-column",48),e.DNE(105,Z,3,0,"div",49),e.k0s(),e.j41(106,"dxo-summary"),e.nrm(107,"dxi-total-item",50)(108,"dxi-total-item",51),e.k0s(),e.nrm(109,"dxo-paging",52)(110,"dxo-pager",53),e.k0s()(),e.j41(111,"nz-tab",54)(112,"nz-collapse")(113,"nz-collapse-panel",26)(114,"div",19)(115,"div",27)(116,"label",28),e.EFF(117,"Invoice"),e.k0s(),e.j41(118,"div",28)(119,"input",29),e.mxI("ngModelChange",function(l){return e.eBV(s),e.DH7(n.searchVo.invoice,l)||(n.searchVo.invoice=l),e.Njj(l)}),e.k0s()()(),e.j41(120,"div",27)(121,"label",28),e.EFF(122,"\xa0"),e.k0s(),e.j41(123,"div",28)(124,"button",55),e.bIt("click",function(){return e.eBV(s),e.Njj(n.checkDataSauNhapKho())}),e.EFF(125," Search "),e.k0s()()()()()(),e.j41(126,"dx-data-grid",56),e.nrm(127,"dxo-paging",52)(128,"dxo-filter-row",40)(129,"dxo-export",39)(130,"dxi-column",57)(131,"dxi-column",58),e.j41(132,"dxo-summary"),e.nrm(133,"dxi-total-item",59),e.k0s()()()(),e.j41(134,"nz-modal",60),e.mxI("nzVisibleChange",function(l){return e.eBV(s),e.DH7(n.isShowBigBoxDetailModal,l)||(n.isShowBigBoxDetailModal=l),e.Njj(l)}),e.DNE(135,ee,19,13,"ng-container",61)(136,te,4,1,"ng-template",62),e.k0s(),e.j41(137,"nz-modal",63),e.mxI("nzVisibleChange",function(l){return e.eBV(s),e.DH7(n.isShowResponseModal,l)||(n.isShowResponseModal=l),e.Njj(l)}),e.DNE(138,ie,6,3,"ng-container",61)(139,ae,2,0,"ng-template",62),e.k0s(),e.j41(140,"nz-modal",64),e.mxI("nzVisibleChange",function(l){return e.eBV(s),e.DH7(n.isShowErrorModal,l)||(n.isShowErrorModal=l),e.Njj(l)}),e.DNE(141,se,3,1,"ng-container",61)(142,le,2,0,"ng-template",62),e.k0s()}if(2&o){const s=e.sdS(19);e.R7$(9),e.Y8G("nzActive",!0)("nzShowArrow",!1),e.R7$(),e.Y8G("nzGutter",24),e.R7$(5),e.Y8G("nzSuffix",s),e.R7$(),e.R50("ngModel",n.qrCode),e.R7$(8),e.R50("ngModel",n.totalBoxScanned),e.R7$(),e.Y8G("nzGutter",24),e.R7$(5),e.R50("ngModel",n.invoiceInput),e.R7$(5),e.R50("ngModel",n.poInput),e.R7$(5),e.Y8G("nzGutter",24),e.R7$(2),e.R50("ngModel",n.slipInput),e.R7$(5),e.Y8G("ngIf",n.listBoxScanned.length),e.R7$(),e.Y8G("ngIf",n.listBigBoxScanned.length),e.R7$(3),e.Y8G("nzActive",!0)("nzShowArrow",!1),e.R7$(),e.Y8G("nzGutter",24),e.R7$(5),e.R50("ngModel",n.searchVo.model),e.R7$(5),e.R50("ngModel",n.searchVo.lotNo),e.R7$(5),e.R50("ngModel",n.searchVo.slipNo),e.R7$(5),e.R50("ngModel",n.searchVo.invoice),e.R7$(13),e.Y8G("nzGutter",24),e.R7$(3),e.SpI(" Total Record: ",e.bMT(89,54,n.recordTotal)," "),e.R7$(3),e.SpI(" Total Qty: ",e.i5U(92,56,n.totalQtySearch,"1.3")," "),e.R7$(2),e.Y8G("dataSource",n.purWhRecords)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(9),e.Y8G("dxTemplateOf","actionTemplate"),e.R7$(4),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(59,H)),e.R7$(3),e.Y8G("nzActive",!0)("nzShowArrow",!1),e.R7$(),e.Y8G("nzGutter",24),e.R7$(5),e.R50("ngModel",n.searchVo.invoice),e.R7$(7),e.Y8G("dataSource",n.invoiceDetails)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("pageSize",10),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!1),e.R7$(5),e.R50("nzVisible",n.isShowBigBoxDetailModal),e.R7$(3),e.R50("nzVisible",n.isShowResponseModal),e.R7$(3),e.R50("nzVisible",n.isShowErrorModal)}},dependencies:[C.Sq,C.bT,a.me,a.BC,a.vS,M.hL,M.K7,b.aO,m.c,I.p,B.Vz,B.pc,E.Dn,_.Sy,_.tg,_.vN,R.JZ,R.rE,v.Uq,v.e,z.CP,z.SO,z._4,z.IL,z.aj,z.kt,S.PV,N.SN,N.vw,f.F2,f.Oj,f.A9,x.s,p.hVU,p.Omo,p.nj_,p.ZJU,p.FTx,p.sVQ,p.PVd,p.x$q,p.XvM,p.ryC,p.CWS,P.eC,C.Pc,C.QX],styles:["label[_ngcontent-%COMP%]{font-weight:700}#clearQR[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}nz-table[_ngcontent-%COMP%]   .text-left[_ngcontent-%COMP%]{text-align:left}"]})}return i})(),ce=(()=>{class i{constructor(){}ngOnInit(){}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-warehouse"]],decls:1,vars:0,template:function(o,n){1&o&&e.nrm(0,"router-outlet")},dependencies:[q.n3]})}return i})(),de=(()=>{class i{constructor(t){this.httpClient=t,this.baseUrl=j.c.baseUrl}getInvoices(){return this.httpClient.get(`${this.baseUrl}/WH/IQC/Invoices`)}getIqcRequests(t){return this.httpClient.post(`${this.baseUrl}/WH/IQC/Requests`,t)}getIqcRequestDetail(t,o){return this.httpClient.post(`${this.baseUrl}/WH/IQC/Requests/${t}`,o)}createIqcRequest(t){return this.httpClient.post(`${this.baseUrl}/WH/IQC/Request`,t)}getSlipNoByInvoice(t){return this.httpClient.get(`${this.baseUrl}/WH/IQC/SlipNo?invoice=${t}`)}createIqcRequestSorting(t,o){return this.httpClient.post(`${this.baseUrl}/WH/IQC/IqcRequestSorting?requestType=${o}`,t)}getIqcDataSortingInfo(t){return this.httpClient.get(`${this.baseUrl}/WH/IQC/IqcDataSorting?requestNo=${t}`)}static#e=this.\u0275fac=function(o){return new(o||i)(e.KVO(D.Qq))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var ue=r(73315),$=r(1997),L=r(97685);const pe=["qrIpt"],he=()=>({status:1,label:"Ch\u1edd x\u1eed l\xfd"}),ge=()=>({status:2,label:"\u0110ang x\u1eed l\xfd"}),me=()=>({status:3,label:"\u0110\xe3 x\u1eed l\xfd"}),_e=(i,g,t)=>[i,g,t],ze=()=>[10,20,50,100],Ce=()=>[""],W=()=>[10,25,50,100];function Re(i,g){if(1&i){const t=e.RV6();e.j41(0,"button",24),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isOpenIqcRequestModal=!0)}),e.nrm(1,"i",25),e.EFF(2," IQC Request "),e.k0s()}}function fe(i,g){1&i&&(e.j41(0,"button",26),e.nrm(1,"i",25),e.EFF(2," IQC Request (H\xe0ng sorting) "),e.k0s())}function ve(i,g){1&i&&(e.j41(0,"button",27),e.nrm(1,"i",25),e.EFF(2," IQC Request (H\xe0ng qu\xe1 6 th\xe1ng) "),e.k0s())}function Se(i,g){if(1&i&&e.nrm(0,"nz-option",36),2&i){const t=g.$implicit;e.Y8G("nzValue",t)("nzLabel",t)}}function Me(i,g){if(1&i&&e.nrm(0,"nz-option",36),2&i){const t=g.$implicit;e.Y8G("nzValue",t.invoice)("nzLabel",t.invoice)}}function be(i,g){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"nz-table",28)(2,"tbody")(3,"tr")(4,"td",29),e.EFF(5," Request No "),e.j41(6,"span",30),e.EFF(7,"*"),e.k0s()(),e.j41(8,"td")(9,"nz-select",31),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.iqcRequest.requestNo,n)||(s.iqcRequest.requestNo=n),e.Njj(n)}),e.DNE(10,Se,1,2,"nz-option",32),e.k0s()()(),e.j41(11,"tr")(12,"td",29),e.EFF(13," Invoice "),e.j41(14,"span",30),e.EFF(15,"*"),e.k0s()(),e.j41(16,"td")(17,"nz-select",33),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.iqcRequest.invoice,n)||(s.iqcRequest.invoice=n),e.Njj(n)}),e.bIt("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.Njj(s.onChangeInvoice(n))}),e.DNE(18,Me,1,2,"nz-option",32),e.k0s()()(),e.j41(19,"tr")(20,"td",29),e.EFF(21," Supplier "),e.j41(22,"span",30),e.EFF(23,"*"),e.k0s()(),e.j41(24,"td")(25,"input",34,1),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.iqcRequest.supplier,n)||(s.iqcRequest.supplier=n),e.Njj(n)}),e.k0s()()(),e.j41(27,"tr")(28,"td",29),e.EFF(29,"Ghi ch\xfa"),e.k0s(),e.j41(30,"td")(31,"input",35),e.mxI("ngModelChange",function(n){e.eBV(t);const s=e.XpG();return e.DH7(s.iqcRequest.remark,n)||(s.iqcRequest.remark=n),e.Njj(n)}),e.k0s()()()()(),e.bVm()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(8,Ce))("nzFrontPagination",!1),e.R7$(8),e.R50("ngModel",t.iqcRequest.requestNo),e.R7$(),e.Y8G("ngForOf",t.slipNos),e.R7$(7),e.R50("ngModel",t.iqcRequest.invoice),e.R7$(),e.Y8G("ngForOf",t.invoices),e.R7$(7),e.R50("ngModel",t.iqcRequest.supplier),e.R7$(6),e.R50("ngModel",t.iqcRequest.remark)}}function Ie(i,g){if(1&i){const t=e.RV6();e.j41(0,"button",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isOpenIqcRequestModal=!1)}),e.EFF(1," \u0110\xf3ng "),e.k0s(),e.j41(2,"button",38),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createIqcRequest())}),e.EFF(3," T\u1ea1o y\xeau c\u1ea7u IQC "),e.k0s()}if(2&i){const t=e.XpG();e.R7$(2),e.Y8G("disabled",!t.iqcRequest.requestNo)}}function Ee(i,g){if(1&i&&(e.j41(0,"dx-data-grid",41),e.nrm(1,"dxo-filter-row",7)(2,"dxi-column",42)(3,"dxi-column",43)(4,"dxi-column",44),e.j41(5,"dxi-column",45),e.nrm(6,"dxi-column",46)(7,"dxi-column",47),e.k0s(),e.nrm(8,"dxo-paging",18)(9,"dxo-pager",19),e.k0s()),2&i){const t=e.XpG(2);e.Y8G("dataSource",t.iqcRequestDetails)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("allowEditing",!1),e.R7$(),e.Y8G("allowEditing",!1),e.R7$(),e.Y8G("allowEditing",!1),e.R7$(4),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(14,W))}}function xe(i,g){if(1&i&&(e.j41(0,"dx-data-grid",41),e.nrm(1,"dxo-filter-row",7)(2,"dxi-column",42)(3,"dxi-column",43)(4,"dxi-column",48),e.j41(5,"dxi-column",45),e.nrm(6,"dxi-column",49)(7,"dxi-column",50)(8,"dxi-column",51),e.k0s(),e.nrm(9,"dxo-paging",18)(10,"dxo-pager",19),e.k0s()),2&i){const t=e.XpG(2);e.Y8G("dataSource",t.iqcRequestDetails)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("allowEditing",!1),e.R7$(),e.Y8G("allowEditing",!1),e.R7$(),e.Y8G("allowEditing",!1),e.R7$(5),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(14,W))}}function Be(i,g){if(1&i&&(e.qex(0),e.j41(1,"label"),e.EFF(2,"Request No: "),e.k0s(),e.j41(3,"span",39),e.EFF(4),e.k0s(),e.EFF(5," \xa0 | \xa0 "),e.j41(6,"label"),e.EFF(7,"Invoice No: "),e.k0s(),e.j41(8,"span",39),e.EFF(9),e.k0s(),e.DNE(10,Ee,10,15,"dx-data-grid",40)(11,xe,11,15,"dx-data-grid",40),e.bVm()),2&i){const t=e.XpG();e.R7$(4),e.JRh(t.iqcRequestSelected.requestNo),e.R7$(5),e.JRh(t.iqcRequestSelected.invoice),e.R7$(),e.Y8G("ngIf","INSIDE"==(null==t.iqcRequestSelected?null:t.iqcRequestSelected.goodsType)),e.R7$(),e.Y8G("ngIf","INSIDE"!=(null==t.iqcRequestSelected?null:t.iqcRequestSelected.goodsType))}}function qe(i,g){if(1&i){const t=e.RV6();e.j41(0,"button",37),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isOpenIqcDetailModal=!1)}),e.EFF(1," \u0110\xf3ng "),e.k0s()}}let Fe=(()=>{class i{constructor(t,o,n,s){this.toastr=t,this.whIqcSvc=o,this.jwtHelperService=n,this.qaIqcSvc=s,this.isOpenIqcRequestModal=!1,this.isOpenIqcDetailModal=!1,this.searchVo={},this.iqcRequest={}}ngOnInit(){this.getIQCRequests(),this.getInvoices()}onSearch(){console.log("SearchVo: ",this.searchVo),this.getIQCRequests()}getInvoices(){this.whIqcSvc.getInvoices().subscribe(t=>{this.invoices=t})}getSlipNoByInvoice(t){this.whIqcSvc.getSlipNoByInvoice(t).subscribe(o=>{this.slipNos=o})}getIQCRequests(){this.whIqcSvc.getIqcRequests(this.searchVo).subscribe(t=>{console.log(t),this.iqcRequests=t})}createIqcRequest(){if(!this.iqcRequest?.requestNo||!this.iqcRequest?.invoice||!this.iqcRequest?.supplier)return void this.toastr.warning("C\u1ea7n nh\u1eadp \u0111\u1ee7 th\xf4ng tin !","Warning");let t=this.jwtHelperService.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;this.iqcRequest.requestedBy=t,this.whIqcSvc.createIqcRequest(this.iqcRequest).subscribe(o=>{this.toastr.success("\u0110\xe3 t\u1ea1o request IQC","Success"),this.getIQCRequests(),this.isOpenIqcRequestModal=!1})}openIqcDetailModal(t){this.iqcRequestSelected={...t},console.log("AAAA: ",this.iqcRequestSelected),"6Month"===this.iqcRequestSelected.type&&this.qaIqcSvc.getLotIqcOver6Month(this.iqcRequestSelected.requestNo,this.iqcRequestSelected.goodsType).subscribe(n=>{this.iqcRequestDetails=n.result,console.log("iqcRequestDetails: ",this.iqcRequestDetails)});let o={invoice:t.invoice,requestNo:t.requestNo};this.whIqcSvc.getIqcRequestDetail(o.requestNo,o).subscribe(n=>{this.iqcRequestDetails=n,this.isOpenIqcDetailModal=!0})}onChangeInvoice(t){t?this.getSlipNoByInvoice(t):this.iqcRequest.requestNo=null}onChange(t){this.searchVo.fromDate=t[0],this.searchVo.toDate=t[1]}onCalendarChange(t){this.searchVo.fromDate=t[0],this.searchVo.toDate=t[1]}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(k.tw),e.rXU(de),e.rXU(F.X7),e.rXU(ue.p))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-wh-iqc-request"]],viewQuery:function(o,n){if(1&o&&e.GBs(pe,5),2&o){let s;e.mGM(s=e.lsd())&&(n.qrIpt=s.first)}},decls:32,vars:22,consts:[["iqcRequestTable",""],["requestNo",""],[3,"onRowClick","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],["location","before"],["nz-button","","nzType","primary",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","default",4,"nzSpaceItem"],["nz-button","","nzType","default","routerLink","/admin/warehouse/iqc-recheck",4,"nzSpaceItem"],[3,"visible"],["dataField","requestNo","caption","Request No"],["dataField","invoice","caption","Invoice"],["dataField","supplier","caption","Supplier"],["dataField","status","caption","IQC Status"],["displayExpr","label","valueExpr","status",3,"dataSource"],["dataField","requestedByName","caption","Ng\u01b0\u1eddi request"],["dataField","createdAt","caption","Ng\xe0y t\u1ea1o","dataType","date","format","yyyy-MM-dd HH:mm"],["dataField","remark","caption","Ghi ch\xfa"],["dataField","type","caption","Request Type"],["dataField","goodsType","caption","Goods Type"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],["nzTitle","Y\xeau c\u1ea7u IQC ki\u1ec3m tra ch\u1ea5t l\u01b0\u1ee3ng",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[3,"nzModalFooter"],["nzTitle","Th\xf4ng tin ki\u1ec3m tra ch\u1ea5t l\u01b0\u1ee3ng","nzWidth","100%",3,"nzVisibleChange","nzVisible"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","plus"],["nz-button","","nzType","default"],["nz-button","","nzType","default","routerLink","/admin/warehouse/iqc-recheck"],["nzBordered","","nzSize","small",3,"nzData","nzFrontPagination"],[2,"font-weight","bold"],[2,"color","red"],[3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel",4,"ngFor","ngForOf"],["nzShowSearch","","nzAllowClear","","nzPlaceHolder","M\xe3 Invoice",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Nh\xe0 cung c\u1ea5p",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Ghi ch\xfa",3,"ngModelChange","ngModel"],[3,"nzValue","nzLabel"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click","disabled"],[2,"color","green"],[3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled",4,"ngIf"],[3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],["dataField","model","caption","Model",3,"allowEditing"],["dataField","lotGroup","caption","Lot Group",3,"allowEditing"],["dataField","lotNo","caption","LotNo",3,"allowEditing"],["caption","K\u1ebft qu\u1ea3 IQC"],["dataField","result1","caption","Ngo\u1ea1i quan"],["dataField","result2","caption","K\xedch th\u01b0\u1edbc"],["dataField","qty","caption","Qty","dataType","number","format","#,##0",3,"allowEditing"],["dataField","result1","caption","GP"],["dataField","result2","caption","Ngo\u1ea1i quan"],["dataField","result3","caption","K\xedch th\u01b0\u1edbc"]],template:function(o,n){if(1&o){const s=e.RV6();e.j41(0,"nz-breadcrumb")(1,"nz-breadcrumb-item"),e.EFF(2," Warehouse "),e.k0s(),e.j41(3,"nz-breadcrumb-item"),e.EFF(4," IQC Request"),e.k0s()(),e.j41(5,"dx-data-grid",2,0),e.bIt("onRowClick",function(l){return e.eBV(s),e.Njj(n.openIqcDetailModal(l.data))}),e.j41(7,"dxo-toolbar")(8,"dxi-item",3)(9,"nz-space"),e.DNE(10,Re,3,0,"button",4)(11,fe,3,0,"button",5)(12,ve,3,0,"button",6),e.k0s()()(),e.nrm(13,"dxo-filter-row",7)(14,"dxi-column",8)(15,"dxi-column",9)(16,"dxi-column",10),e.j41(17,"dxi-column",11),e.nrm(18,"dxo-lookup",12),e.k0s(),e.nrm(19,"dxi-column",13)(20,"dxi-column",14)(21,"dxi-column",15)(22,"dxi-column",16)(23,"dxi-column",17)(24,"dxo-paging",18)(25,"dxo-pager",19),e.k0s(),e.j41(26,"nz-modal",20),e.mxI("nzVisibleChange",function(l){return e.eBV(s),e.DH7(n.isOpenIqcRequestModal,l)||(n.isOpenIqcRequestModal=l),e.Njj(l)}),e.DNE(27,be,32,9,"ng-container",21)(28,Ie,4,1,"ng-template",22),e.k0s(),e.j41(29,"nz-modal",23),e.mxI("nzVisibleChange",function(l){return e.eBV(s),e.DH7(n.isOpenIqcDetailModal,l)||(n.isOpenIqcDetailModal=l),e.Njj(l)}),e.DNE(30,Be,12,4,"ng-container",21)(31,qe,2,0,"ng-template",22),e.k0s()}2&o&&(e.R7$(5),e.Y8G("dataSource",n.iqcRequests)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(8),e.Y8G("visible",!0),e.R7$(5),e.Y8G("dataSource",e.sMw(17,_e,e.lJ4(14,he),e.lJ4(15,ge),e.lJ4(16,me))),e.R7$(6),e.Y8G("pageSize",20),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(21,ze)),e.R7$(),e.R50("nzVisible",n.isOpenIqcRequestModal),e.R7$(3),e.R50("nzVisible",n.isOpenIqcDetailModal))},dependencies:[C.Sq,C.bT,a.me,a.BC,a.vS,q.Wk,M.hL,M.K7,b.aO,m.c,I.p,E.Dn,_.Sy,z.CP,z.SO,z.aj,z.kt,f.F2,f.Oj,f.A9,$.ld,$.WI,x.s,p.nj_,p.b4U,p.CVf,p.FTx,p.sVQ,p.PVd,p.KOr,L.U5,L.Dq],styles:["label[_ngcontent-%COMP%]{font-weight:700}nz-input[_ngcontent-%COMP%], nz-select[_ngcontent-%COMP%]{width:100%}nz-table[_ngcontent-%COMP%]   tr[_ngcontent-%COMP%]:hover{cursor:pointer}nz-table[_ngcontent-%COMP%]   .text-center[_ngcontent-%COMP%]{text-align:center}nz-table[_ngcontent-%COMP%]   .text-right[_ngcontent-%COMP%]{text-align:right}nz-table[_ngcontent-%COMP%]   .text-left[_ngcontent-%COMP%]{text-align:left}nz-table[_ngcontent-%COMP%]   .text-primary[_ngcontent-%COMP%]{color:#007bff}nz-table[_ngcontent-%COMP%]   .text-success[_ngcontent-%COMP%]{color:#28a745}nz-table[_ngcontent-%COMP%]   .text-danger[_ngcontent-%COMP%]{color:#dc3545}#scanTbl[_ngcontent-%COMP%]{width:100%}#scanTbl[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;border-collapse:collapse;padding:5px}#scanTbl[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#2d2dda}#scanTbl[_ngcontent-%COMP%]   #evaluate[_ngcontent-%COMP%]{text-align:center;font-weight:700}"]})}return i})();class ye{}let we=(()=>{class i{constructor(t){this.httpClient=t,this.baseUrl=j.c.baseUrl}createIqcRequest(t){return this.httpClient.post(`${this.baseUrl}/WH/IQC-Recheck/Request`,t)}getLotGroupsIqcOver6Month(){return this.httpClient.get(`${this.baseUrl}/WH/IQC-Recheck/LotGroupsIqcOver6Month`)}static#e=this.\u0275fac=function(o){return new(o||i)(e.KVO(D.Qq))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();const ke=["qrIpt"],je=()=>[10,25,50,100],De=[{path:"",component:ce,children:[{path:"material-receipt",component:re},{path:"iqc-request",component:Fe},{path:"check-date-iqc",component:O},{path:"iqc-recheck",component:(()=>{class i{ngOnInit(){}constructor(t,o,n){this.toastr=t,this.whIqcRecheckSvc=o,this.jwtHelperSvc=n,this.isOpenCreateIqcRequestModal=!1}ngAfterViewInit(){this.getLotGroupsIqcOver6Month()}createRequest(){let t=new Set,o=new Array;for(const l of this.selectedRows)o.push(l.lotGroup),t.add(l.classified);if(t.size>=2)return void this.toastr.warning("Ch\u1ec9 ch\u1ecdn 1 lo\u1ea1i h\xe0ng cho 1 request","Warning");let n=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).Username,s=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).UserId,c=new ye;c.requestedBy=n,c.type="6Month",c.lotGroups=o,c.goodsType=t.values().next().value,c.userId=s,this.whIqcRecheckSvc.createIqcRequest(c).subscribe(l=>{this.lotsOver6MonthGrid.instance.clearSelection(),this.toastr.success("OK","Success")})}getLotGroupsIqcOver6Month(){this.lotsOver6MonthGrid?.instance.beginCustomLoading("\u0110ang l\u1ea5y d\u1eef li\u1ec7u h\xe0ng t\u1ed3n kho qu\xe1 6 th\xe1ng ch\u01b0a IQC"),this.whIqcRecheckSvc.getLotGroupsIqcOver6Month().subscribe(t=>{this.lotsOver6Month=t.result,this.lotsOver6MonthGrid.instance.endCustomLoading()},t=>{this.lotsOver6MonthGrid.instance.endCustomLoading()})}onSelectionChanged(t){this.selectedRows=t.selectedRowsData}static#e=this.\u0275fac=function(o){return new(o||i)(e.rXU(k.tw),e.rXU(we),e.rXU(F.X7))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-wh-iqc-recheck"]],viewQuery:function(o,n){if(1&o&&(e.GBs(ke,5),e.GBs(x.s,5)),2&o){let s;e.mGM(s=e.lsd())&&(n.qrIpt=s.first),e.mGM(s=e.lsd())&&(n.lotsOver6MonthGrid=s.first)}},decls:15,vars:15,consts:[["lotsOver6MonthGrid",""],[3,"onSelectionChanged","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],["mode","multiple",3,"selectAllMode","showCheckBoxesMode"],["location","before"],["nz-button","","nzType","primary",3,"click","disabled"],["nz-icon","","nzType","plus"],[3,"visible"],["dataField","model","caption","Model"],["dataField","lotGroup","caption","LotGroup"],["dataField","classified","caption","Classified"],["dataField","amount","caption","Boxes"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"]],template:function(o,n){if(1&o){const s=e.RV6();e.j41(0,"dx-data-grid",1,0),e.bIt("onSelectionChanged",function(l){return e.eBV(s),e.Njj(n.onSelectionChanged(l))}),e.nrm(2,"dxo-selection",2),e.j41(3,"dxo-toolbar")(4,"dxi-item",3)(5,"button",4),e.bIt("click",function(){return e.eBV(s),e.Njj(n.createRequest())}),e.nrm(6,"span",5),e.EFF(7," T\u1ea1o request IQC h\xe0ng qu\xe1 6 th\xe1ng "),e.k0s()()(),e.nrm(8,"dxo-filter-row",6)(9,"dxi-column",7)(10,"dxi-column",8)(11,"dxi-column",9)(12,"dxi-column",10)(13,"dxo-paging",11)(14,"dxo-pager",12),e.k0s()}2&o&&(e.Y8G("dataSource",n.lotsOver6Month)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(2),e.Y8G("selectAllMode","allPages")("showCheckBoxesMode","always"),e.R7$(3),e.Y8G("disabled",!(null!=n.selectedRows&&n.selectedRows.length)),e.R7$(3),e.Y8G("visible",!0),e.R7$(5),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(14,je)))},dependencies:[b.aO,m.c,I.p,E.Dn,x.s,p.hVU,p.nj_,p.CVf,p.FTx,p.sVQ,p.PVd,p.KOr],styles:["#scanTbl[_ngcontent-%COMP%]{width:100%}#scanTbl[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid #ccc;border-collapse:collapse;padding:5px}#scanTbl[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#2d2dda}#scanTbl[_ngcontent-%COMP%]   #evaluate[_ngcontent-%COMP%]{text-align:center;font-weight:700}"]})}return i})()}]}];let Te=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({imports:[q.iI.forChild(De),q.iI]})}return i})();var Ne=r(86505),Ge=r(35154),Oe=r(19448);let Ve=(()=>{class i{static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({providers:[C.vh],imports:[C.MD,a.YN,Te,M.EJ,b.Zw,B.GB,E.Y3,_.j,R.hM,v.f3,T.PQ,z.$G,S.g9,N.LE,f.U6,Ne.Hf,Ge.Qt,$.DH,x.N,L.pc,Oe.g]})}return i})()},74696:(U,w,r)=>{r.d(w,{GB:()=>V,Vz:()=>O,pc:()=>p});var C=r(15215),a=r(54438),M=r(73586),b=r(7605),B=r(58728),T=r(40713),v=r(16042),E=r(57806),_=r(21025),f=r(70317),S=r(72544),z=r(28203),R=r(26841);const q=["*"],x=["collapseHeader"];function e(d,y){if(1&d&&(a.qex(0),a.nrm(1,"span",7),a.bVm()),2&d){const u=y.$implicit,h=a.XpG(2);a.R7$(),a.Y8G("nzType",u||"right")("nzRotate",h.nzActive?90:0)}}function k(d,y){if(1&d&&(a.j41(0,"div"),a.DNE(1,e,2,2,"ng-container",3),a.k0s()),2&d){const u=a.XpG();a.R7$(),a.Y8G("nzStringTemplateOutlet",u.nzExpandedIcon)}}function j(d,y){if(1&d&&(a.qex(0),a.EFF(1),a.bVm()),2&d){const u=a.XpG();a.R7$(),a.JRh(u.nzHeader)}}function D(d,y){if(1&d&&(a.qex(0),a.EFF(1),a.bVm()),2&d){const u=a.XpG(2);a.R7$(),a.JRh(u.nzExtra)}}function A(d,y){if(1&d&&(a.j41(0,"div",4),a.DNE(1,D,2,1,"ng-container",3),a.k0s()),2&d){const u=a.XpG();a.R7$(),a.Y8G("nzStringTemplateOutlet",u.nzExtra)}}const F="collapse";let p=(()=>{class d{constructor(u,h,m,I){this.nzConfigService=u,this.cdr=h,this.directionality=m,this.destroy$=I,this._nzModuleName=F,this.nzAccordion=!1,this.nzBordered=!0,this.nzGhost=!1,this.nzExpandIconPosition="left",this.dir="ltr",this.listOfNzCollapsePanelComponent=[],this.nzConfigService.getConfigChangeEventForComponent(F).pipe((0,b.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,b.Q)(this.destroy$)).subscribe(u=>{this.dir=u,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(u){this.listOfNzCollapsePanelComponent.push(u)}removePanel(u){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(u),1)}click(u){this.nzAccordion&&!u.nzActive&&this.listOfNzCollapsePanelComponent.filter(h=>h!==u).forEach(h=>{h.nzActive&&(h.nzActive=!1,h.nzActiveChange.emit(h.nzActive),h.markForCheck())}),u.nzActive=!u.nzActive,u.nzActiveChange.emit(u.nzActive)}static#e=this.\u0275fac=function(h){return new(h||d)(a.rXU(v.yx),a.rXU(a.gRc),a.rXU(z.dS,8),a.rXU(_.y4))};static#t=this.\u0275cmp=a.VBU({type:d,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(h,m){2&h&&a.AVh("ant-collapse-icon-position-start","left"===m.nzExpandIconPosition)("ant-collapse-icon-position-end","right"===m.nzExpandIconPosition)("ant-collapse-ghost",m.nzGhost)("ant-collapse-borderless",!m.nzBordered)("ant-collapse-rtl","rtl"===m.dir)},inputs:{nzAccordion:"nzAccordion",nzBordered:"nzBordered",nzGhost:"nzGhost",nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],standalone:!0,features:[a.Jv_([_.y4]),a.aNF],ngContentSelectors:q,decls:1,vars:0,template:function(h,m){1&h&&(a.NAR(),a.SdG(0))},encapsulation:2,changeDetection:0})}return(0,C.Cg)([(0,v.H4)(),(0,f.H3)()],d.prototype,"nzAccordion",void 0),(0,C.Cg)([(0,v.H4)(),(0,f.H3)()],d.prototype,"nzBordered",void 0),(0,C.Cg)([(0,v.H4)(),(0,f.H3)()],d.prototype,"nzGhost",void 0),d})();const G="collapsePanel";let O=(()=>{class d{markForCheck(){this.cdr.markForCheck()}constructor(u,h,m,I,N,P){this.nzConfigService=u,this.ngZone=h,this.cdr=m,this.destroy$=I,this.nzCollapseComponent=N,this.noAnimation=P,this._nzModuleName=G,this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=!0,this.nzActiveChange=new a.bkB,this.nzConfigService.getConfigChangeEventForComponent(G).pipe((0,b.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.nzCollapseComponent.addPanel(this),this.ngZone.runOutsideAngular(()=>(0,M.R)(this.collapseHeader.nativeElement,"click").pipe((0,B.p)(()=>!this.nzDisabled),(0,b.Q)(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})}))}ngOnDestroy(){this.nzCollapseComponent.removePanel(this)}static#e=this.\u0275fac=function(h){return new(h||d)(a.rXU(v.yx),a.rXU(a.SKi),a.rXU(a.gRc),a.rXU(_.y4),a.rXU(p,1),a.rXU(R.z,8))};static#t=this.\u0275cmp=a.VBU({type:d,selectors:[["nz-collapse-panel"]],viewQuery:function(h,m){if(1&h&&a.GBs(x,7),2&h){let I;a.mGM(I=a.lsd())&&(m.collapseHeader=I.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(h,m){2&h&&a.AVh("ant-collapse-no-arrow",!m.nzShowArrow)("ant-collapse-item-active",m.nzActive)("ant-collapse-item-disabled",m.nzDisabled)},inputs:{nzActive:"nzActive",nzDisabled:"nzDisabled",nzShowArrow:"nzShowArrow",nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],standalone:!0,features:[a.Jv_([_.y4]),a.aNF],ngContentSelectors:q,decls:9,vars:8,consts:[["collapseHeader",""],["role","button",1,"ant-collapse-header"],[1,"ant-collapse-header-text"],[4,"nzStringTemplateOutlet"],[1,"ant-collapse-extra"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"]],template:function(h,m){1&h&&(a.NAR(),a.j41(0,"div",1,0),a.DNE(2,k,2,1,"div"),a.j41(3,"span",2),a.DNE(4,j,2,1,"ng-container",3),a.k0s(),a.DNE(5,A,2,1,"div",4),a.k0s(),a.j41(6,"div",5)(7,"div",6),a.SdG(8),a.k0s()()),2&h&&(a.BMQ("aria-expanded",m.nzActive),a.R7$(2),a.vxM(2,m.nzShowArrow?2:-1),a.R7$(2),a.Y8G("nzStringTemplateOutlet",m.nzHeader),a.R7$(),a.vxM(5,m.nzExtra?5:-1),a.R7$(),a.AVh("ant-collapse-content-active",m.nzActive),a.Y8G("@.disabled",!(null==m.noAnimation||!m.noAnimation.nzNoAnimation))("@collapseMotion",m.nzActive?"expanded":"hidden"))},dependencies:[E.C,E.m,S.Y3,S.Dn],encapsulation:2,data:{animation:[T.GE]},changeDetection:0})}return(0,C.Cg)([(0,f.H3)()],d.prototype,"nzActive",void 0),(0,C.Cg)([(0,f.H3)()],d.prototype,"nzDisabled",void 0),(0,C.Cg)([(0,v.H4)(),(0,f.H3)()],d.prototype,"nzShowArrow",void 0),d})(),V=(()=>{class d{static#e=this.\u0275fac=function(h){return new(h||d)};static#t=this.\u0275mod=a.$C({type:d});static#n=this.\u0275inj=a.G2t({imports:[O]})}return d})()},19448:(U,w,r)=>{r.d(w,{g:()=>E,j:()=>v});var C=r(15215),a=r(54438),M=r(57806),b=r(70317);function B(_,f){if(1&_&&(a.qex(0),a.EFF(1),a.bVm()),2&_){const S=a.XpG(2);a.R7$(),a.JRh(S.nzText)}}function T(_,f){if(1&_&&(a.j41(0,"span",0),a.DNE(1,B,2,1,"ng-container",1),a.k0s()),2&_){const S=a.XpG();a.R7$(),a.Y8G("nzStringTemplateOutlet",S.nzText)}}let v=(()=>{class _{constructor(){this.nzType="horizontal",this.nzOrientation="center",this.nzDashed=!1,this.nzPlain=!1}static#e=this.\u0275fac=function(z){return new(z||_)};static#t=this.\u0275cmp=a.VBU({type:_,selectors:[["nz-divider"]],hostAttrs:[1,"ant-divider"],hostVars:16,hostBindings:function(z,R){2&z&&a.AVh("ant-divider-horizontal","horizontal"===R.nzType)("ant-divider-vertical","vertical"===R.nzType)("ant-divider-with-text",R.nzText)("ant-divider-plain",R.nzPlain)("ant-divider-with-text-left",R.nzText&&"left"===R.nzOrientation)("ant-divider-with-text-right",R.nzText&&"right"===R.nzOrientation)("ant-divider-with-text-center",R.nzText&&"center"===R.nzOrientation)("ant-divider-dashed",R.nzDashed)},inputs:{nzText:"nzText",nzType:"nzType",nzOrientation:"nzOrientation",nzDashed:"nzDashed",nzPlain:"nzPlain"},exportAs:["nzDivider"],standalone:!0,features:[a.aNF],decls:1,vars:1,consts:[[1,"ant-divider-inner-text"],[4,"nzStringTemplateOutlet"]],template:function(z,R){1&z&&a.DNE(0,T,2,1,"span",0),2&z&&a.vxM(0,R.nzText?0:-1)},dependencies:[M.C,M.m],encapsulation:2,changeDetection:0})}return(0,C.Cg)([(0,b.H3)()],_.prototype,"nzDashed",void 0),(0,C.Cg)([(0,b.H3)()],_.prototype,"nzPlain",void 0),_})(),E=(()=>{class _{static#e=this.\u0275fac=function(z){return new(z||_)};static#t=this.\u0275mod=a.$C({type:_});static#n=this.\u0275inj=a.G2t({imports:[v]})}return _})()}}]);