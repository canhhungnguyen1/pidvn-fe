"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[5227],{97608:(H,R,r)=>{r.r(R),r.d(R,{IsDeviceMngModule:()=>$e});var C=r(60177),n=r(33514),x=r(12673),I=r(87018),y=r(53281),T=r(31958),F=r(19448),D=r(97529),v=r(79116),f=r(43053),p=r(23359),E=r(9541),g=r(46661),P=r(92887),L=r(71451),Y=r(2578),V=r.n(Y),e=r(54438),U=r(45312),q=r(21626);let k=(()=>{class i{constructor(t){this.httpClient=t,this.baseUrl=U.c.baseUrl}getUsers(){return this.httpClient.get(`${this.baseUrl}/IS/DeviceManagement/Users`)}getLocations(){return this.httpClient.get(`${this.baseUrl}/IS/DeviceManagement/Locations`)}getDevices(){return this.httpClient.get(`${this.baseUrl}/IS/DeviceManagement/Devices`)}getDevice(t){return this.httpClient.get(`${this.baseUrl}/IS/DeviceManagement/Devices/${t}`)}getTransactions(){return this.httpClient.get(`${this.baseUrl}/IS/DeviceManagement/Transactions`)}saveTransaction(t){return this.httpClient.post(`${this.baseUrl}/IS/DeviceManagement/Transaction`,t)}getInventoryRequests(){return this.httpClient.get(`${this.baseUrl}/IS/DeviceManagement/Inventory/Requests`)}createInventoryRequest(t){return this.httpClient.post(`${this.baseUrl}/IS/DeviceManagement/Inventory/Request`,t)}saveInventoryData(t){return this.httpClient.post(`${this.baseUrl}/IS/DeviceManagement/Inventory/Data`,t)}getInventoryData(t){return this.httpClient.get(`${this.baseUrl}/IS/DeviceManagement/Inventory/Data?requestId=${t}`)}static#e=this.\u0275fac=function(a){return new(a||i)(e.KVO(q.Qq))};static#t=this.\u0275prov=e.jDH({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var A=r(37736),B=r(45794),G=r(27380),d=r(31837),S=r(50513),M=r(16389),j=r(25930),N=r(72544),s=r(35154),_=r(97685),l=r(45398),z=r(3104);const b=["devicesGrid"],w=()=>[10,25,50,100],X=i=>({items:i,valueExpr:"id",displayExpr:"name",placeholder:"Ch\u1ecdn lo\u1ea1i giao d\u1ecbch",searchEnabled:!0}),Z=i=>({items:i,valueExpr:"username",displayExpr:"codeName",placeholder:"M\xe3 nh\xe2n vi\xean",searchEnabled:!0}),ee=(i,u)=>({items:i,valueExpr:"name",displayExpr:u,placeholder:"T\xean thi\u1ebft b\u1ecb",searchEnabled:!0}),te=i=>({items:i,valueExpr:"id",displayExpr:"name",placeholder:"V\u1ecb tr\xed",searchEnabled:!0}),ne=()=>({top:"5vh"}),ie=()=>({height:"80vh",overflow:"auto"}),W=()=>[""],oe=()=>[];function ae(i,u){if(1&i){const t=e.RV6();e.j41(0,"button",63),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.goToTab(2))}),e.nrm(1,"span",64),e.EFF(2," QR Code "),e.k0s()}}function se(i,u){1&i&&(e.qex(0),e.DNE(1,ae,3,0,"button",62),e.bVm())}function le(i,u){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"a",65),e.bIt("click",function(){const o=e.eBV(t).$implicit,c=e.XpG();return e.Njj(c.openDeviceDetailModal(o.data))}),e.EFF(2),e.k0s()()}if(2&i){const t=u.$implicit;e.R7$(2),e.JRh(t.data.name)}}function re(i,u){if(1&i){const t=e.RV6();e.j41(0,"button",71),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.printLabel())}),e.nrm(1,"span",72),e.EFF(2," Print "),e.k0s()}2&i&&e.Y8G("useExistingCss",!0)}function ce(i,u){if(1&i&&(e.j41(0,"table",73)(1,"tbody")(2,"tr")(3,"td",74),e.EFF(4," PIDVN "),e.k0s(),e.j41(5,"td",75),e.EFF(6,"Code"),e.k0s(),e.j41(7,"td"),e.EFF(8),e.k0s()(),e.j41(9,"tr")(10,"td",76),e.nrm(11,"qrcode",77),e.k0s(),e.j41(12,"td"),e.EFF(13,"Model"),e.k0s(),e.j41(14,"td"),e.EFF(15),e.k0s()(),e.j41(16,"tr")(17,"td"),e.EFF(18,"Start Date"),e.k0s(),e.j41(19,"td"),e.EFF(20),e.nI1(21,"date"),e.k0s()(),e.j41(22,"tr")(23,"td"),e.EFF(24,"Serial"),e.k0s(),e.j41(25,"td"),e.EFF(26),e.k0s()()()()),2&i){const t=u.$implicit;e.R7$(8),e.JRh(t.name),e.R7$(3),e.Y8G("qrdata",t.name)("allowEmptyString",!0)("cssClass","center")("elementType","img")("errorCorrectionLevel","Q")("margin",1)("scale",1)("width",35),e.R7$(4),e.JRh(t.model),e.R7$(5),e.JRh(e.i5U(21,12,t.purchaseDate,"yyyy-MM-dd")),e.R7$(6),e.JRh(t.serial)}}function de(i,u){if(1&i&&(e.j41(0,"nz-tab",66)(1,"nz-space"),e.DNE(2,re,3,1,"button",67),e.k0s(),e.nrm(3,"nz-divider",68),e.j41(4,"div",69),e.DNE(5,ce,27,15,"table",70),e.k0s()()),2&i){const t=e.XpG();e.R7$(5),e.Y8G("ngForOf",t.selectedRows)}}function ue(i,u){1&i&&e.nrm(0,"img",93)}function me(i,u){1&i&&e.nrm(0,"img",94)}function pe(i,u){1&i&&e.nrm(0,"img",95)}function ve(i,u){1&i&&e.nrm(0,"nz-divider",96)}function ge(i,u){if(1&i&&(e.j41(0,"ul",98)(1,"li"),e.EFF(2),e.k0s(),e.j41(3,"li"),e.EFF(4),e.k0s(),e.j41(5,"li"),e.EFF(6),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(2),e.SpI("T\xean nh\xe2n vi\xean: ",null==t.deviceSelected?null:t.deviceSelected.picName,""),e.R7$(2),e.SpI("M\xe3 nh\xe2n vi\xean: ",null==t.deviceSelected?null:t.deviceSelected.picCode,""),e.R7$(2),e.SpI("B\u1ed9 ph\u1eadn: ",null==t.deviceSelected?null:t.deviceSelected.sectionName,"")}}function he(i,u){if(1&i&&(e.j41(0,"ul",98)(1,"li"),e.EFF(2),e.k0s(),e.j41(3,"li"),e.EFF(4),e.k0s(),e.j41(5,"li"),e.EFF(6,"B\u1ed9 ph\u1eadn: IT"),e.k0s()()),2&i){const t=e.XpG(3);e.R7$(2),e.SpI("T\xean nh\xe2n vi\xean: ",null==t.deviceSelected?null:t.deviceSelected.itUserName,""),e.R7$(2),e.SpI("M\xe3 nh\xe2n vi\xean: ",null==t.deviceSelected?null:t.deviceSelected.itUserCode,"")}}function _e(i,u){if(1&i&&(e.j41(0,"nz-table",81,4)(2,"tbody")(3,"tr")(4,"td")(5,"label"),e.EFF(6,"Giao d\u1ecbch"),e.k0s()(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td")(10,"label"),e.EFF(11,"Ng\xe0y Giao/Nh\u1eadn"),e.k0s()(),e.j41(12,"td"),e.EFF(13),e.nI1(14,"date"),e.k0s()(),e.j41(15,"tr")(16,"td")(17,"label"),e.EFF(18,"P.I.C"),e.k0s()(),e.j41(19,"td",97),e.EFF(20),e.k0s(),e.DNE(21,ge,7,3,"ng-template",null,5,e.C5r),e.j41(23,"td")(24,"label"),e.EFF(25,"V\u1ecb tr\xed"),e.k0s()(),e.j41(26,"td"),e.EFF(27),e.k0s()(),e.j41(28,"tr")(29,"td")(30,"label"),e.EFF(31,"IT User"),e.k0s()(),e.j41(32,"td",97),e.EFF(33),e.k0s(),e.DNE(34,he,7,2,"ng-template",null,6,e.C5r),e.j41(36,"td")(37,"label"),e.EFF(38,"Remark"),e.k0s()(),e.j41(39,"td"),e.EFF(40),e.k0s()()()()),2&i){const t=e.sdS(22),a=e.sdS(35),o=e.XpG(2);e.Y8G("nzData",e.lJ4(12,W)),e.R7$(8),e.JRh(null==o.deviceSelected?null:o.deviceSelected.recordTypeName),e.R7$(5),e.JRh(e.i5U(14,9,null==o.deviceSelected?null:o.deviceSelected.date,"yyyy-MM-dd")),e.R7$(6),e.Y8G("nzTooltipTitle",t),e.R7$(),e.SpI(" ",null==o.deviceSelected?null:o.deviceSelected.picName," "),e.R7$(7),e.JRh(null==o.deviceSelected?null:o.deviceSelected.locationName),e.R7$(5),e.Y8G("nzTooltipTitle",a),e.R7$(),e.SpI(" ",null==o.deviceSelected?null:o.deviceSelected.itUserName," "),e.R7$(7),e.JRh(null==o.deviceSelected?null:o.deviceSelected.transactionRemark)}}function ze(i,u){if(1&i&&(e.qex(0),e.j41(1,"div",78)(2,"div",79),e.nrm(3,"nz-divider",80),e.j41(4,"nz-table",81,3)(6,"tbody")(7,"tr")(8,"td")(9,"label"),e.EFF(10,"T\xean thi\u1ebft b\u1ecb"),e.k0s()(),e.j41(11,"td"),e.EFF(12),e.k0s(),e.j41(13,"td",82),e.DNE(14,ue,1,0,"img",83)(15,me,1,0,"img",84)(16,pe,1,0,"img",85),e.k0s()(),e.j41(17,"tr")(18,"td")(19,"label"),e.EFF(20,"Model"),e.k0s()(),e.j41(21,"td"),e.EFF(22),e.k0s()(),e.j41(23,"tr")(24,"td")(25,"label"),e.EFF(26,"Lo\u1ea1i thi\u1ebft b\u1ecb"),e.k0s()(),e.j41(27,"td"),e.EFF(28),e.k0s()(),e.j41(29,"tr")(30,"td")(31,"label"),e.EFF(32,"Th\u01b0\u01a1ng hi\u1ec7u"),e.k0s()(),e.j41(33,"td"),e.EFF(34),e.k0s()(),e.j41(35,"tr")(36,"td")(37,"label"),e.EFF(38,"Ng\xe0y mua"),e.k0s()(),e.j41(39,"td"),e.EFF(40),e.nI1(41,"date"),e.k0s(),e.j41(42,"td")(43,"label"),e.EFF(44,"FA Code"),e.k0s()(),e.j41(45,"td"),e.EFF(46),e.k0s()(),e.j41(47,"tr")(48,"td")(49,"label"),e.EFF(50,"H\u1ec7 \u0111i\u1ec1u h\xe0nh"),e.k0s()(),e.j41(51,"td"),e.EFF(52),e.k0s(),e.j41(53,"td")(54,"label"),e.EFF(55,"Serial"),e.k0s()(),e.j41(56,"td"),e.EFF(57),e.k0s()()()(),e.DNE(58,ve,1,0,"nz-divider",86)(59,_e,41,13,"nz-table",87),e.k0s(),e.j41(60,"div",79),e.nrm(61,"nz-divider",88),e.j41(62,"dx-data-grid",89,0),e.nrm(64,"dxo-header-filter",10)(65,"dxo-filter-row",10)(66,"dxo-export",11)(67,"dxo-column-chooser",12,1)(69,"dxi-column",90)(70,"dxi-column",91)(71,"dxi-column",92),e.k0s()()(),e.bVm()),2&i){const t=e.XpG();e.R7$(),e.Y8G("nzGutter",24),e.R7$(3),e.Y8G("nzData",e.lJ4(31,W)),e.R7$(8),e.JRh(null==t.deviceSelected?null:t.deviceSelected.name),e.R7$(2),e.Y8G("ngIf","LAPTOP"===t.deviceSelected.type),e.R7$(),e.Y8G("ngIf","PC-AIO"===t.deviceSelected.type),e.R7$(),e.Y8G("ngIf","PC"===t.deviceSelected.type),e.R7$(6),e.JRh(null==t.deviceSelected?null:t.deviceSelected.model),e.R7$(6),e.JRh(null==t.deviceSelected?null:t.deviceSelected.type),e.R7$(6),e.JRh(null==t.deviceSelected?null:t.deviceSelected.brand),e.R7$(6),e.JRh(e.i5U(41,28,null==t.deviceSelected?null:t.deviceSelected.purchaseDate,"yyyy-MM-dd")),e.R7$(6),e.SpI(" ",null!=t.deviceSelected&&t.deviceSelected.faCode?null==t.deviceSelected?null:t.deviceSelected.faCode:"N/A"," "),e.R7$(6),e.JRh(null==t.deviceSelected?null:t.deviceSelected.os),e.R7$(5),e.SpI(" ",null!=t.deviceSelected&&t.deviceSelected.serialNo?null==t.deviceSelected?null:t.deviceSelected.serialNo:"N/A"," "),e.R7$(),e.Y8G("ngIf",t.deviceSelected.transactionId),e.R7$(),e.Y8G("ngIf",t.deviceSelected.transactionId),e.R7$(3),e.Y8G("dataSource",e.lJ4(32,oe))("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!1)("hoverStateEnabled",!0),e.R7$(2),e.Y8G("visible",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("enabled",!0)("mode","select")}}let Ce=(()=>{class i{constructor(t,a,o,c){this.router=t,this.isDeviceMngSvc=a,this.jwtHelperSvc=o,this.toastr=c,this.devices=[],this.users=[],this.recordTypes=[{id:"IN",name:"Nh\u1eadn l\u1ea1i"},{id:"OUT",name:"B\xe0n giao"}],this.transactions=[],this.locations=[],this.isOpenDeviceDetailModal=!1,this.selectedTabIndex=0,this.displayDeviceName=h=>h?`(${h.type}) - ${h.name}`:""}ngOnInit(){this.getDevices(),this.getTransactions(),this.getUsers(),this.getLocations()}onSelectionChanged(t){this.selectedRows=t.selectedRowsData}goToTab(t){this.selectedTabIndex=t}getDevices(){this.devicesGrid?.instance.beginCustomLoading("\u0110ang t\u1ea3i d\u1eef li\u1ec7u ..."),this.isDeviceMngSvc.getDevices().subscribe(t=>{this.devices=t.result,this.resetFiltersAndSorting(),this.devicesGrid.instance.endCustomLoading()},t=>{this.devicesGrid.instance.endCustomLoading()})}resetFiltersAndSorting(){this.devicesGrid.instance.clearFilter(),this.devicesGrid.instance.clearSorting(),this.devicesGrid.instance.clearSelection()}getTransactions(){this.isDeviceMngSvc.getTransactions().subscribe(t=>{this.transactions=t.result})}getUsers(){this.isDeviceMngSvc.getUsers().subscribe(t=>{this.users=t.result})}getLocations(){this.isDeviceMngSvc.getLocations().subscribe(t=>{this.locations=t.result})}saveTransaction(t){const a=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")||"")?.Username,o={...t.changes[0].data,itUserCode:a,date:new Date,id:null};this.isDeviceMngSvc.saveTransaction(o).subscribe(c=>{this.toastr.success("\u0110\xe3 l\u01b0u l\u1ea1i l\u1ecbch s\u1eed","Th\xe0nh c\xf4ng"),this.getDevices(),this.getTransactions()},c=>{this.getDevices(),this.getTransactions()})}openDeviceDetailModal(t){this.deviceSelected=t,this.isOpenDeviceDetailModal=!0,console.log(t)}onCellPreparedHistory(t){"header"===t.rowType&&(t.cellElement.style.backgroundColor="#000080",t.cellElement.style.color="#ffffff",t.cellElement.style.fontWeight="bold")}onExportDevices(t){const a=new P.Workbook,o=a.addWorksheet("Devices");(0,L.V)({component:t.component,worksheet:o}).then(function(){a.xlsx.writeBuffer().then(function(c){V()(new Blob([c],{type:"application/octet-stream"}),"Devices.xlsx")})})}printLabel(){console.log(this.selectedRows)}static#e=this.\u0275fac=function(a){return new(a||i)(e.rXU(g.Ix),e.rXU(k),e.rXU(A.X7),e.rXU(B.tw))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-is-dv-mng-devices"]],viewQuery:function(a,o){if(1&a&&e.GBs(b,5),2&a){let c;e.mGM(c=e.lsd())&&(o.devicesGrid=c.first)}},decls:76,vars:78,consts:[["devicesGrid",""],["columnChooser",""],["transactionGrid",""],["deviceInfoTable",""],["transactionInfoTable",""],["titleTemplatePICUser",""],["titleTemplateItUser",""],[3,"nzSelectedIndexChange","nzSelectedIndex"],["nzTitle","Danh s\xe1ch thi\u1ebft b\u1ecb"],["keyExpr","id",3,"onCellPrepared","onExporting","onSelectionChanged","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled","hoverStateEnabled"],[3,"visible"],[3,"enabled"],[3,"enabled","mode"],["mode","multiple",3,"selectAllMode","showCheckBoxesMode"],[3,"enabled","mode","title"],["location","before"],[4,"ngIf"],["location","after"],["icon","refresh",3,"onClick"],["name","exportButton","location","after"],["name","columnChooserButton","location","after"],["dataField","name","caption","T\xean thi\u1ebft b\u1ecb","cellTemplate","deviceNameTemplate","fixedPosition","left",3,"fixed"],[3,"allowSelectAll"],[4,"dxTemplate","dxTemplateOf"],["dataField","model","caption","Model"],["dataField","type","caption","Lo\u1ea1i thi\u1ebft b\u1ecb"],["dataField","faCode","caption","FA Code",3,"visible"],["dataField","purchaseDate","caption","Ng\xe0y mua","dataType","date","format","yyyy-MM-dd","alignment","center"],["dataField","locationName","caption","V\u1ecb tr\xed"],["dataField","status","caption","Tr\u1ea1ng th\xe1i",3,"visible"],["dataField","recordTypeName","caption","Transaction Type"],["dataField","picCode","caption","PIC Code","alignment","center",3,"visible"],["dataField","picName","caption","PIC Name"],["dataField","sectionName","caption","Section"],["dataField","date","caption","Ng\xe0y Giao/Nh\u1eadn","dataType","date","format","yyyy-MM-dd","alignment","center"],["dataField","remark","caption","Ghi ch\xfa",3,"visible"],["column","name","summaryType","count","displayFormat","T\u1ed5ng: {0} (Thi\u1ebft b\u1ecb)"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],["nzTitle","L\u1ecbch s\u1eed giao nh\u1eadn"],["keyExpr","id",3,"onSaved","onCellPrepared","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled","hoverStateEnabled"],["dataField","deviceName","caption","T\xean thi\u1ebft b\u1ecb","fixed","true"],["type","required","message","T\xean thi\u1ebft b\u1ecb b\u1eaft bu\u1ed9c ch\u1ecdn"],["dataField","recordType","caption","Lo\u1ea1i giao dich",3,"visible"],["type","required","message","Lo\u1ea1i giao dich b\u1eaft bu\u1ed9c ch\u1ecdn"],["dataField","recordTypeName","caption","Lo\u1ea1i giao dich"],["dataField","itUserCode","caption","IT UserCode"],["dataField","itUserName","caption","IT Name"],["dataField","picCode","caption","PIC Code"],["type","required","message","PIC Code b\u1eaft bu\u1ed9c ch\u1ecdn"],["type","required","message","Location b\u1eaft bu\u1ed9c ch\u1ecdn"],["dataField","remark","caption","Remark"],["mode","popup",3,"allowAdding","allowUpdating","allowDeleting"],["title","Th\xf4ng tin giao d\u1ecbch",3,"width","height","showTitle","dragEnabled"],["dataField","recordType","editorType","dxSelectBox",3,"editorOptions"],["dataField","picCode","editorType","dxSelectBox",3,"editorOptions"],["dataField","deviceName","editorType","dxSelectBox",3,"editorOptions"],["dataField","locationId","editorType","dxSelectBox",3,"editorOptions"],["dataField","remark"],["nzTitle","Tem thi\u1ebft b\u1ecb",4,"ngIf"],["nzTitle","Th\xf4ng tin thi\u1ebft b\u1ecb",3,"nzVisibleChange","nzOnCancel","nzOnOk","nzVisible","nzWidth","nzStyle","nzBodyStyle"],[4,"nzModalContent"],["nz-button","","nzType","default",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","default",3,"click"],["nz-icon","","nzType","qrcode"],[3,"click"],["nzTitle","Tem thi\u1ebft b\u1ecb"],["nz-button","","nzType","primary","printSectionId","printLabel","ngxPrint","",3,"useExistingCss","click",4,"nzSpaceItem"],[2,"margin","2px 0px"],["id","printLabel"],["class","label","style","width: 5.2cm",4,"ngFor","ngForOf"],["nz-button","","nzType","primary","printSectionId","printLabel","ngxPrint","",3,"click","useExistingCss"],["nz-icon","","nzType","printer"],[1,"label",2,"width","5.2cm"],[2,"text-align","center","font-weight","bold","width","22%"],[2,"width","25%"],["rowspan","3",2,"text-align","center"],[2,"float","left",3,"qrdata","allowEmptyString","cssClass","elementType","errorCorrectionLevel","margin","scale","width"],["nz-row","","nzJustify","start","nzAlign","top",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzMd","12","nzLg","12"],["nzText","Device Infomation","nzOrientation","left","nzPlain","true",2,"margin-top","-20px"],["nzSize","small","nzBordered","","nzFrontPagination","false",3,"nzData"],["rowspan","4","colspan","2",2,"text-align","center","vertical-align","middle"],["nz-image","","nzSrc","../../../../../assets/images/devices/LAPTOP.png","width","25%",4,"ngIf"],["nz-image","","nzSrc","../../../../../assets/images/devices/PC-AIO.png","width","25%",4,"ngIf"],["nz-image","","nzSrc","../../../../../assets/images/devices/PC.jpg","width","25%",4,"ngIf"],["nzText","Transction Infomation","nzOrientation","left","style","margin-top: -20px","nzPlain","true",4,"ngIf"],["nzSize","small","nzBordered","","nzFrontPagination","false",3,"nzData",4,"ngIf"],["nzText","License Infomation","nzOrientation","left","nzPlain","true",2,"margin-top","-20px"],["keyExpr","id",2,"margin-top","-20px",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled","hoverStateEnabled"],["dataField","name","caption","Ph\u1ea7n m\u1ec1m"],["dataField","startDate","caption","Ng\xe0y b\u1eaft \u0111\u1ea7u"],["dataField","endDate","caption","Ng\xe0y k\u1ebft th\xfac"],["nz-image","","nzSrc","../../../../../assets/images/devices/LAPTOP.png","width","25%"],["nz-image","","nzSrc","../../../../../assets/images/devices/PC-AIO.png","width","25%"],["nz-image","","nzSrc","../../../../../assets/images/devices/PC.jpg","width","25%"],["nzText","Transction Infomation","nzOrientation","left","nzPlain","true",2,"margin-top","-20px"],["nz-tooltip","",3,"nzTooltipTitle"],[2,"margin-left","-25px"]],template:function(a,o){if(1&a){const c=e.RV6();e.j41(0,"nz-tabset",7),e.mxI("nzSelectedIndexChange",function(m){return e.eBV(c),e.DH7(o.selectedTabIndex,m)||(o.selectedTabIndex=m),e.Njj(m)}),e.j41(1,"nz-tab",8)(2,"dx-data-grid",9,0),e.bIt("onCellPrepared",function(m){return e.eBV(c),e.Njj(o.onCellPreparedHistory(m))})("onExporting",function(m){return e.eBV(c),e.Njj(o.onExportDevices(m))})("onSelectionChanged",function(m){return e.eBV(c),e.Njj(o.onSelectionChanged(m))}),e.nrm(4,"dxo-header-filter",10)(5,"dxo-filter-row",10)(6,"dxo-export",11)(7,"dxo-column-chooser",12,1)(9,"dxo-selection",13)(10,"dxo-column-chooser",14,1),e.j41(12,"dxo-toolbar")(13,"dxi-item",15)(14,"nz-space"),e.DNE(15,se,2,0,"ng-container",16),e.k0s()(),e.j41(16,"dxi-item",17)(17,"dx-button",18),e.bIt("onClick",function(){return e.eBV(c),e.Njj(o.getDevices())}),e.k0s()(),e.nrm(18,"dxi-item",19)(19,"dxi-item",20),e.k0s(),e.j41(20,"dxi-column",21)(21,"dxo-header-filter",22),e.nrm(22,"dxo-search",11),e.k0s()(),e.DNE(23,le,3,1,"div",23),e.nrm(24,"dxi-column",24)(25,"dxi-column",25)(26,"dxi-column",26)(27,"dxi-column",27)(28,"dxi-column",28)(29,"dxi-column",29)(30,"dxi-column",30)(31,"dxi-column",31)(32,"dxi-column",32)(33,"dxi-column",33)(34,"dxi-column",34)(35,"dxi-column",35),e.j41(36,"dxo-summary"),e.nrm(37,"dxi-total-item",36),e.k0s(),e.nrm(38,"dxo-paging",37)(39,"dxo-pager",38),e.k0s()(),e.j41(40,"nz-tab",39)(41,"dx-data-grid",40,2),e.bIt("onSaved",function(m){return e.eBV(c),e.Njj(o.saveTransaction(m))})("onCellPrepared",function(m){return e.eBV(c),e.Njj(o.onCellPreparedHistory(m))}),e.nrm(43,"dxo-header-filter",10)(44,"dxo-filter-row",10)(45,"dxo-export",11)(46,"dxo-column-chooser",14,1),e.j41(48,"dxi-column",41),e.nrm(49,"dxi-validation-rule",42),e.k0s(),e.j41(50,"dxi-column",43),e.nrm(51,"dxi-validation-rule",44),e.k0s(),e.nrm(52,"dxi-column",45)(53,"dxi-column",46)(54,"dxi-column",47),e.j41(55,"dxi-column",48),e.nrm(56,"dxi-validation-rule",49),e.k0s(),e.nrm(57,"dxi-column",32),e.j41(58,"dxi-column",28),e.nrm(59,"dxi-validation-rule",50),e.k0s(),e.nrm(60,"dxi-column",33)(61,"dxi-column",34)(62,"dxi-column",51),e.j41(63,"dxo-editing",52),e.nrm(64,"dxo-popup",53),e.j41(65,"dxo-form"),e.nrm(66,"dxi-item",54)(67,"dxi-item",55)(68,"dxi-item",56)(69,"dxi-item",57)(70,"dxi-item",58),e.k0s()(),e.nrm(71,"dxo-paging",37)(72,"dxo-pager",38),e.k0s()(),e.DNE(73,de,6,1,"nz-tab",59),e.k0s(),e.j41(74,"nz-modal",60),e.mxI("nzVisibleChange",function(m){return e.eBV(c),e.DH7(o.isOpenDeviceDetailModal,m)||(o.isOpenDeviceDetailModal=m),e.Njj(m)}),e.bIt("nzOnCancel",function(){return e.eBV(c),e.Njj(o.isOpenDeviceDetailModal=!1)})("nzOnOk",function(){return e.eBV(c),e.Njj(o.isOpenDeviceDetailModal=!1)}),e.DNE(75,ze,72,33,"ng-container",61),e.k0s()}2&a&&(e.R50("nzSelectedIndex",o.selectedTabIndex),e.R7$(2),e.Y8G("dataSource",o.devices)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!1)("hoverStateEnabled",!0),e.R7$(2),e.Y8G("visible",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("enabled",!0)("mode","select"),e.R7$(2),e.Y8G("selectAllMode","allPages")("showCheckBoxesMode","always"),e.R7$(),e.Y8G("enabled",!0)("mode","select")("title","C\u1ed9t hi\u1ec3n th\u1ecb"),e.R7$(5),e.Y8G("ngIf",null==o.selectedRows?null:o.selectedRows.length),e.R7$(5),e.Y8G("fixed",!0),e.R7$(),e.Y8G("allowSelectAll",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("dxTemplateOf","deviceNameTemplate"),e.R7$(3),e.Y8G("visible",!1),e.R7$(3),e.Y8G("visible",!0),e.R7$(2),e.Y8G("visible",!1),e.R7$(4),e.Y8G("visible",!0),e.R7$(3),e.Y8G("pageSize",12),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(65,w)),e.R7$(2),e.Y8G("dataSource",o.transactions)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!1)("hoverStateEnabled",!0),e.R7$(2),e.Y8G("visible",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("enabled",!0)("mode","select")("title","C\u1ed9t hi\u1ec3n th\u1ecb"),e.R7$(4),e.Y8G("visible",!1),e.R7$(13),e.Y8G("allowAdding",!0)("allowUpdating",!1)("allowDeleting",!1),e.R7$(),e.Y8G("width",800)("height",400)("showTitle",!0)("dragEnabled",!0),e.R7$(2),e.Y8G("editorOptions",e.eq3(66,X,o.recordTypes)),e.R7$(),e.Y8G("editorOptions",e.eq3(68,Z,o.users)),e.R7$(),e.Y8G("editorOptions",e.l_i(70,ee,o.devices,o.displayDeviceName)),e.R7$(),e.Y8G("editorOptions",e.eq3(73,te,o.locations)),e.R7$(2),e.Y8G("pageSize",12),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(75,w)),e.R7$(),e.Y8G("ngIf",null==o.selectedRows?null:o.selectedRows.length),e.R7$(),e.R50("nzVisible",o.isOpenDeviceDetailModal),e.Y8G("nzWidth","100vw")("nzStyle",e.lJ4(76,ne))("nzBodyStyle",e.lJ4(77,ie)))},dependencies:[C.Sq,C.bT,D.Uq,D.e,n.e,G.eC,x.s,d.i2Q,d.ZWy,d.hVU,d.nj_,d.gtJ,d.Inh,d.$Xk,d.dDC,d.CVf,d.Tot,d.ZJU,d.FTx,d.sVQ,d.PVd,d.XvM,d.CWS,d.KOr,E.JZ,E.rE,f.F2,f.A9,p.CP,p.SO,p.aj,p.kt,F.j,v.r,S.aO,M.c,j.p,N.Dn,s.LH,_.U5,_.Dq,l.c,z.G,C.vh],styles:["nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#6600c5}.label[_ngcontent-%COMP%]{font-size:10px;float:left;margin:2px;width:150px}.label[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], .label[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid black;border-collapse:collapse}"]})}return i})(),Ee=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-is-dv-mng-menu"]],decls:15,vars:1,consts:[["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","12","nzMd","12","nzLg","6"],["routerLink","/admin/is/is-device-mng/devices",1,"item","devices"],["src","./../../../../../../assets/images/devices.png","alt",""],["routerLink","/admin/is/is-device-mng/inventory-requests",1,"item","ivt"],["src","./../../../../../../assets/images/inventory.png"]],template:function(a,o){1&a&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"img",3),e.j41(4,"h6"),e.EFF(5,"Danh s\xe1ch thi\u1ebft b\u1ecb"),e.k0s(),e.j41(6,"h4"),e.EFF(7,"Devices"),e.k0s()()(),e.j41(8,"div",1)(9,"div",4),e.nrm(10,"img",5),e.j41(11,"h6"),e.EFF(12,"Ki\u1ec3m K\xea"),e.k0s(),e.j41(13,"h4"),e.EFF(14,"Inventory"),e.k0s()()()()),2&a&&e.Y8G("nzGutter",8)},dependencies:[g.Wk,D.Uq,D.e],styles:[".item[_ngcontent-%COMP%]{text-align:center;border:1px solid #ccc;padding:15px 10px}.item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#fff}.item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:15px;font-size:18px;color:#fff;font-weight:700}.devices[_ngcontent-%COMP%]{background:#e07e37}.in-out[_ngcontent-%COMP%]{background:#3498db}.new[_ngcontent-%COMP%]{background:#9f756f}.ivt[_ngcontent-%COMP%]{background:#24a835}"]})}return i})();var $=r(89417),O=r(21011);const fe=()=>[10,25,50,100],De=()=>[""];function be(i,u){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"a",19),e.bIt("click",function(){const o=e.eBV(t).$implicit,c=e.XpG();return e.Njj(c.redirectDetail(o))}),e.EFF(2),e.k0s()()}if(2&i){const t=u.$implicit;e.R7$(2),e.JRh(t.data.requestNo)}}function xe(i,u){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"nz-table",20,1)(3,"tbody")(4,"tr")(5,"td")(6,"label"),e.EFF(7,"Phi\u1ebfu ki\u1ec3m k\xea"),e.k0s()(),e.j41(8,"td"),e.EFF(9),e.k0s()(),e.j41(10,"tr")(11,"td")(12,"label"),e.EFF(13,"Ng\u01b0\u1eddi t\u1ea1o"),e.k0s()(),e.j41(14,"td"),e.EFF(15),e.k0s()(),e.j41(16,"tr")(17,"td")(18,"label"),e.EFF(19,"Ghi ch\xfa"),e.k0s()(),e.j41(20,"td")(21,"textarea",21),e.mxI("ngModelChange",function(o){e.eBV(t);const c=e.XpG();return e.DH7(c.ivtReq.remark,o)||(c.ivtReq.remark=o),e.Njj(o)}),e.k0s()()()()(),e.bVm()}if(2&i){const t=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(6,De))("nzSize","small"),e.R7$(8),e.JRh(t.ivtReq.requestNo),e.R7$(6),e.Lme("",t.ivtReq.createdBy," - ",t.ivtReq.createdByName,""),e.R7$(6),e.R50("ngModel",t.ivtReq.remark)}}function Ie(i,u){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"button",22),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.isOpenCreateRequestInventoryModal=!1)}),e.EFF(2," H\u1ee7y "),e.k0s(),e.j41(3,"button",23),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.createdInventoryRequest())}),e.EFF(4," T\u1ea1o "),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("nzLoading",t.isLoading)}}let Fe=(()=>{class i{constructor(t,a,o,c){this.toastr=t,this.jwtHelperSvc=a,this.router=o,this.isDeviceMngSvc=c,this.isLoading=!1,this.ivtReq={},this.inventoryRequests=[],this.isOpenCreateRequestInventoryModal=!1}ngOnInit(){this.jwt=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()),this.getInventoryRequests()}getInventoryRequests(){this.isDeviceMngSvc.getInventoryRequests().subscribe(t=>{this.inventoryRequests=t.result.reverse()})}redirectDetail(t){console.log(t.data),this.router.navigate(["admin/is/is-device-mng/inventory-requests",`${t.data.id}`],{queryParams:{reqNo:t.data.requestNo}})}openCreateRequestInventoryModal(){this.ivtReq={},this.ivtReq.requestNo=this.generateIvtCode(this.inventoryRequests),this.ivtReq.createdBy=this.jwt.Username,this.ivtReq.createdByName=this.jwt.FullName,this.isOpenCreateRequestInventoryModal=!0}createdInventoryRequest(){this.isLoading=!0,this.isDeviceMngSvc.createInventoryRequest(this.ivtReq).subscribe(t=>{this.toastr.success("T\u1ea1o phi\u1ebfu ki\u1ec3m k\xea th\xe0nh c\xf4ng"),this.isOpenCreateRequestInventoryModal=!1,this.getInventoryRequests(),this.isLoading=!1},t=>{this.toastr.error("T\u1ea1o phi\u1ebfu ki\u1ec3m k\xea th\u1ea5t b\u1ea1i","Error"),this.isLoading=!1})}generateIvtCode(t){const o=(new Date).toISOString().split("T")[0],c=t.filter(Oe=>Oe.createdAt.startsWith(o));return`IVT-${o.replace(/-/g,"")}-${String(c.length+1).padStart(2,"0")}`}static#e=this.\u0275fac=function(a){return new(a||i)(e.rXU(B.tw),e.rXU(A.X7),e.rXU(g.Ix),e.rXU(k))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-is-dv-mng-ivt-req"]],decls:19,vars:21,consts:[["columnChooser",""],["ivtCreateTable",""],["keyExpr","id",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"enabled","mode","title"],["location","before"],["icon","plus","type","default","text","T\u1ea1o phi\u1ebfu ki\u1ec3m k\xea",3,"onClick"],["name","columnChooserButton","location","after"],[3,"visible"],["dataField","requestNo","caption","Phi\u1ebfu ki\u1ec3m k\xea","cellTemplate","requestNoTemplate","fixedPosition","left",3,"fixed"],[4,"dxTemplate","dxTemplateOf"],["dataField","createdBy","caption","Ng\u01b0\u1eddi t\u1ea1o (ID)",3,"visible"],["dataField","createdByName","caption","Ng\u01b0\u1eddi t\u1ea1o (Name)",3,"visible"],["dataField","remark","caption","Ghi ch\xfa"],["dataField","createdAt","dataType","date","format","yyyy-MM-dd","caption","Ng\xe0y t\u1ea1o",3,"visible"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],["nzTitle","T\u1ea1o phi\u1ebfu ki\u1ec3m k\xea",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],[3,"click"],["id","ivtCreateTable","nzBordered","","nzFrontPagination","false",3,"nzData","nzSize"],["rows","2","nz-input","",3,"ngModelChange","ngModel"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click","nzLoading"]],template:function(a,o){if(1&a){const c=e.RV6();e.j41(0,"dx-data-grid",2),e.nrm(1,"dxo-column-chooser",3,0),e.j41(3,"dxo-toolbar")(4,"dxi-item",4)(5,"dx-button",5),e.bIt("onClick",function(){return e.eBV(c),e.Njj(o.openCreateRequestInventoryModal())}),e.k0s()(),e.nrm(6,"dxi-item",6),e.k0s(),e.nrm(7,"dxo-filter-row",7)(8,"dxi-column",8),e.DNE(9,be,3,1,"div",9),e.nrm(10,"dxi-column",10)(11,"dxi-column",11)(12,"dxi-column",12)(13,"dxi-column",13)(14,"dxo-paging",14)(15,"dxo-pager",15),e.k0s(),e.j41(16,"nz-modal",16),e.mxI("nzVisibleChange",function(m){return e.eBV(c),e.DH7(o.isOpenCreateRequestInventoryModal,m)||(o.isOpenCreateRequestInventoryModal=m),e.Njj(m)}),e.DNE(17,xe,22,7,"ng-container",17)(18,Ie,5,1,"div",18),e.k0s()}2&a&&(e.Y8G("dataSource",o.inventoryRequests)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("enabled",!0)("mode","select")("title","C\u1ed9t hi\u1ec3n th\u1ecb"),e.R7$(6),e.Y8G("visible",!0),e.R7$(),e.Y8G("fixed",!0),e.R7$(),e.Y8G("dxTemplateOf","requestNoTemplate"),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("visible",!1),e.R7$(2),e.Y8G("visible",!0),e.R7$(),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(20,fe)),e.R7$(),e.R50("nzVisible",o.isOpenCreateRequestInventoryModal))},dependencies:[$.me,$.BC,$.vS,n.e,G.eC,x.s,d.i2Q,d.nj_,d.CVf,d.FTx,d.sVQ,d.PVd,d.KOr,f.F2,f.Oj,f.A9,p.CP,p.SO,p.aj,p.kt,S.aO,M.c,j.p,O.Sy]})}return i})();var K=r(66646),Q=r(23617);const Te=["deviceNameIpt"],J=()=>[""];function Re(i,u){if(1&i){const t=e.RV6();e.j41(0,"button",36),e.bIt("click",function(){e.eBV(t);const o=e.XpG(2);return e.Njj(o.getDevice())}),e.nrm(1,"span",37),e.EFF(2," T\xecm ki\u1ebfm "),e.k0s()}if(2&i){const t=e.XpG(2);e.Y8G("nzLoading",t.isLoading)}}function ye(i,u){1&i&&(e.j41(0,"nz-spin",38),e.nrm(1,"nz-alert",39),e.k0s())}function Se(i,u){1&i&&e.nrm(0,"img",47)}function Me(i,u){1&i&&e.nrm(0,"img",48)}function je(i,u){1&i&&e.nrm(0,"img",49)}function ke(i,u){if(1&i){const t=e.RV6();e.j41(0,"nz-table",40,4)(2,"tbody")(3,"tr")(4,"td")(5,"label"),e.EFF(6,"T\xean thi\u1ebft b\u1ecb"),e.k0s()(),e.j41(7,"td"),e.EFF(8),e.k0s(),e.j41(9,"td",41),e.DNE(10,Se,1,0,"img",42)(11,Me,1,0,"img",43)(12,je,1,0,"img",44),e.k0s()(),e.j41(13,"tr")(14,"td")(15,"label"),e.EFF(16,"Model"),e.k0s()(),e.j41(17,"td"),e.EFF(18),e.k0s()(),e.j41(19,"tr")(20,"td")(21,"label"),e.EFF(22,"Lo\u1ea1i thi\u1ebft b\u1ecb"),e.k0s()(),e.j41(23,"td"),e.EFF(24),e.k0s()(),e.j41(25,"tr")(26,"td")(27,"label"),e.EFF(28,"Th\u01b0\u01a1ng hi\u1ec7u"),e.k0s()(),e.j41(29,"td"),e.EFF(30),e.k0s()(),e.j41(31,"tr")(32,"td")(33,"label"),e.EFF(34,"Ng\xe0y mua"),e.k0s()(),e.j41(35,"td"),e.EFF(36),e.nI1(37,"date"),e.k0s(),e.j41(38,"td")(39,"label"),e.EFF(40,"FA Code"),e.k0s()(),e.j41(41,"td"),e.EFF(42),e.k0s()(),e.j41(43,"tr")(44,"td")(45,"label"),e.EFF(46,"H\u1ec7 \u0111i\u1ec1u h\xe0nh"),e.k0s()(),e.j41(47,"td"),e.EFF(48),e.k0s(),e.j41(49,"td")(50,"label"),e.EFF(51,"Serial"),e.k0s()(),e.j41(52,"td"),e.EFF(53),e.k0s()(),e.j41(54,"tr")(55,"td")(56,"label"),e.EFF(57,"V\u1ecb tr\xed"),e.k0s()(),e.j41(58,"td")(59,"dx-select-box",45),e.mxI("valueChange",function(o){e.eBV(t);const c=e.XpG(2);return e.DH7(c.device.locationId,o)||(c.device.locationId=o),e.Njj(o)}),e.k0s()(),e.j41(60,"td")(61,"label"),e.EFF(62,"Ghi ch\xfa ki\u1ec3m k\xea"),e.k0s()(),e.j41(63,"td")(64,"dx-text-box",46),e.mxI("valueChange",function(o){e.eBV(t);const c=e.XpG(2);return e.DH7(c.device.remark,o)||(c.device.remark=o),e.Njj(o)}),e.k0s()()()()()}if(2&i){const t=e.XpG(2);e.Y8G("nzData",e.lJ4(21,J)),e.R7$(8),e.JRh(null==t.device?null:t.device.name),e.R7$(2),e.Y8G("ngIf","LAPTOP"===t.device.type),e.R7$(),e.Y8G("ngIf","PC-AIO"===t.device.type),e.R7$(),e.Y8G("ngIf","PC"===t.device.type),e.R7$(6),e.JRh(null==t.device?null:t.device.model),e.R7$(6),e.JRh(null==t.device?null:t.device.type),e.R7$(6),e.JRh(null==t.device?null:t.device.brand),e.R7$(6),e.JRh(e.i5U(37,18,null==t.device?null:t.device.purchaseDate,"yyyy-MM-dd")),e.R7$(6),e.JRh(null!=t.device&&t.device.faCode?null==t.device?null:t.device.faCode:"N/A"),e.R7$(6),e.JRh(null==t.device?null:t.device.os),e.R7$(5),e.SpI(" ",null!=t.device&&t.device.serialNo?null==t.device?null:t.device.serialNo:"N/A"," "),e.R7$(6),e.Y8G("dataSource",t.locations)("searchEnabled",!0)("labelMode","hidden"),e.R50("value",t.device.locationId),e.R7$(5),e.Y8G("labelMode","hidden"),e.R50("value",t.device.remark)}}function Ae(i,u){if(1&i){const t=e.RV6();e.qex(0),e.j41(1,"nz-table",28)(2,"thead")(3,"tr")(4,"th"),e.EFF(5,"M\xe3 thi\u1ebft b\u1ecb"),e.k0s(),e.j41(6,"th")(7,"nz-input-group",29)(8,"input",30,2),e.bIt("blur",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.getDevice())}),e.k0s()(),e.DNE(10,Re,3,1,"ng-template",null,3,e.C5r),e.k0s(),e.j41(12,"th",31)(13,"span",32),e.EFF(14,"M\xe3 ki\u1ec3m k\xea: "),e.k0s(),e.j41(15,"span",33),e.EFF(16),e.k0s()()()()(),e.DNE(17,ye,2,0,"nz-spin",34)(18,ke,65,22,"nz-table",35),e.bVm()}if(2&i){const t=e.sdS(11),a=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(5,J)),e.R7$(6),e.Y8G("nzAddOnAfter",t),e.R7$(9),e.JRh(a.requestNo),e.R7$(),e.Y8G("ngIf",a.isLoading),e.R7$(),e.Y8G("ngIf",a.device)}}function Be(i,u){if(1&i){const t=e.RV6();e.j41(0,"div")(1,"button",50),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.isOpenScanInventoryModal=!1)}),e.EFF(2," \u0110\xf3ng "),e.k0s(),e.j41(3,"button",51),e.bIt("click",function(){e.eBV(t);const o=e.XpG();return e.Njj(o.saveInventoryData())}),e.nrm(4,"span",52),e.EFF(5," L\u01b0u "),e.k0s()()}if(2&i){const t=e.XpG();e.R7$(3),e.Y8G("nzLoading",t.isLoadingSaveInventory)}}const Ne=[{path:"menu",component:Ee},{path:"devices",component:Ce},{path:"inventory-requests",component:Fe},{path:"inventory-requests/:id",component:(()=>{class i{constructor(t,a,o,c,h){this.router=t,this.isDeviceMngSvc=a,this.jwtHelperSvc=o,this.toastr=c,this.activatedRoute=h,this.inventoryData=[],this.isOpenScanInventoryModal=!1,this.isLoading=!1,this.isLoadingSaveInventory=!1,this.locations=[]}ngOnInit(){this.requestId=Number(this.activatedRoute.snapshot.params.id),this.requestNo=this.activatedRoute.snapshot.queryParamMap.get("reqNo"),this.getInventoryData(),this.getLocations()}getLocations(){this.isDeviceMngSvc.getLocations().subscribe(t=>{this.locations=t.result})}getInventoryData(){this.isDeviceMngSvc.getInventoryData(this.requestId).subscribe(t=>{this.inventoryData=t.result.reverse()})}openScanInventoryModal(){this.device=null,this.isOpenScanInventoryModal=!0,setTimeout(()=>{this.deviceNameIpt.nativeElement.focus()},500)}getDevice(){this.deviceNameIpt.nativeElement.value?(this.isLoading=!0,this.isDeviceMngSvc.getDevice(this.deviceNameIpt.nativeElement.value).subscribe(t=>{this.device=t.result,this.isLoading=!1},t=>{this.device=null,this.isLoading=!1})):this.toastr.warning("C\u1ea7n scan m\xe3 thi\u1ebft b\u1ecb","Warning")}saveInventoryData(){this.isLoadingSaveInventory=!0,console.log("saveInventoryData",this.device);let t=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).Username,a={...this.device,deviceName:this.device.name,requestId:this.requestId,createdBy:t};this.isDeviceMngSvc.saveInventoryData(a).subscribe(o=>{this.getInventoryData(),this.isLoadingSaveInventory=!1,this.toastr.success("Th\xe0nh c\xf4ng","Success"),this.deviceNameIpt.nativeElement.value=null,this.deviceNameIpt.nativeElement.focus(),this.device=null},o=>{this.isLoadingSaveInventory=!1,this.toastr.error("C\xf3 l\u1ed7i l\u01b0u d\u1eef li\u1ec7u","Error"),this.isOpenScanInventoryModal=!1})}static#e=this.\u0275fac=function(a){return new(a||i)(e.rXU(g.Ix),e.rXU(k),e.rXU(A.X7),e.rXU(B.tw),e.rXU(g.nX))};static#t=this.\u0275cmp=e.VBU({type:i,selectors:[["app-is-dv-mng-ivt-req-detail"]],viewQuery:function(a,o){if(1&a&&e.GBs(Te,5),2&a){let c;e.mGM(c=e.lsd())&&(o.deviceNameIpt=c.first)}},decls:35,vars:19,consts:[["basicTable",""],["devicesGrid",""],["deviceNameIpt",""],["suffixIconButton",""],["deviceInfoTable",""],["nzFrontPagination","false","nzBordered","","nzSize","small",3,"nzData"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","qrcode"],[2,"text-align","right"],[2,"font-weight","bold"],[2,"font-weight","bold","color","green"],["keyExpr","id",2,"margin-top","-25px",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled","hoverStateEnabled"],[3,"visible"],[3,"enabled"],["location","before"],[1,"ivt-data",2,"color","blue"],["name","exportButton"],["dataField","deviceName","caption","T\xean thi\u1ebft b\u1ecb","fixedPosition","left",3,"fixed"],[3,"allowSelectAll"],["dataField","deviceType","caption","Lo\u1ea1i thi\u1ebft b\u1ecb"],["dataField","locationName","caption","V\u1ecb tr\xed"],["dataField","createdBy","caption","Ng\u01b0\u1eddi ki\u1ec3m k\xea (ID)",3,"visible"],["dataField","createdByName","caption","Ng\u01b0\u1eddi ki\u1ec3m k\xea (Name)"],["dataField","remark","caption","Ghi ch\xfa"],["dataField","createdAt","caption","Th\u1eddi gian","dataType","date","format","yyyy-MM-dd HH:mm","alignment","center"],["nzTitle","Th\xf4ng tin thi\u1ebft b\u1ecb","nzWidth","100%",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["nzFrontPagination","false","nzBordered","","nzSize","small",2,"margin-top","-15px",3,"nzData"],["nzSearch","",3,"nzAddOnAfter"],["type","text","nz-input","","placeholder","Scan m\xe3 thi\u1ebft b\u1ecb",3,"blur"],[2,"text-align","center"],[2,"color","black","font-weight","bold"],[2,"color","green","font-weight","bold"],["style","margin-top: -15px","nzTip","H\u1ec7 th\u1ed1ng \u0111ang t\u1ea3i d\u1eef li\u1ec7u ...",4,"ngIf"],["nzSize","small","nzBordered","","nzFrontPagination","false","style","margin-top: -15px",3,"nzData",4,"ngIf"],["nz-button","","nzType","primary","nzSearch","",3,"click","nzLoading"],["nz-icon","","nzType","search"],["nzTip","H\u1ec7 th\u1ed1ng \u0111ang t\u1ea3i d\u1eef li\u1ec7u ...",2,"margin-top","-15px"],["nzType","info","nzMessage","H\u1ec7 th\xf4ng \u0111ang t\u1ea3i d\u1eef li\u1ec7u","nzDescription","Hi\u1ec3n th\u1ecb th\xf4ng tin v\u1ec1 thi\u1ebft b\u1ecb"],["nzSize","small","nzBordered","","nzFrontPagination","false",2,"margin-top","-15px",3,"nzData"],["rowspan","4","colspan","2",2,"text-align","center","vertical-align","middle","width","50%"],["nz-image","","nzSrc","../../../../../assets/images/devices/LAPTOP.png","width","25%",4,"ngIf"],["nz-image","","nzSrc","../../../../../assets/images/devices/PC-AIO.png","width","25%",4,"ngIf"],["nz-image","","nzSrc","../../../../../assets/images/devices/PC.jpg","width","25%",4,"ngIf"],["label","Location","labelLocation","left","showColonAfterLabel","true","placeholder","Ch\u1ecdn v\u1ecb tr\xed","displayExpr","name","valueExpr","id",3,"valueChange","dataSource","searchEnabled","labelMode","value"],["label","Remark","labelLocation","left","showColonAfterLabel","true","placeholder","Ghi ch\xfa",3,"valueChange","labelMode","value"],["nz-image","","nzSrc","../../../../../assets/images/devices/LAPTOP.png","width","25%"],["nz-image","","nzSrc","../../../../../assets/images/devices/PC-AIO.png","width","25%"],["nz-image","","nzSrc","../../../../../assets/images/devices/PC.jpg","width","25%"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click","nzLoading"],["nz-icon","","nzType","save"]],template:function(a,o){if(1&a){const c=e.RV6();e.j41(0,"nz-table",5,0)(2,"thead")(3,"tr")(4,"th")(5,"button",6),e.bIt("click",function(){return e.eBV(c),e.Njj(o.openScanInventoryModal())}),e.nrm(6,"span",7),e.EFF(7," Scan ki\u1ec3m k\xea "),e.k0s()(),e.j41(8,"th",8)(9,"label",9),e.EFF(10,"M\xe3 ki\u1ec3m k\xea:"),e.k0s(),e.j41(11,"label",10),e.EFF(12),e.k0s()()()()(),e.j41(13,"dx-data-grid",11,1),e.nrm(15,"dxo-header-filter",12)(16,"dxo-filter-row",12)(17,"dxo-export",13),e.j41(18,"dxo-toolbar")(19,"dxi-item",14)(20,"span",15),e.EFF(21,"Danh s\xe1ch thi\u1ebft b\u1ecb \u0111\xe3 ki\u1ec3m k\xea"),e.k0s()(),e.nrm(22,"dxi-item",16),e.k0s(),e.j41(23,"dxi-column",17)(24,"dxo-header-filter",18),e.nrm(25,"dxo-search",13),e.k0s()(),e.nrm(26,"dxi-column",19)(27,"dxi-column",20)(28,"dxi-column",21)(29,"dxi-column",22)(30,"dxi-column",23)(31,"dxi-column",24),e.k0s(),e.j41(32,"nz-modal",25),e.mxI("nzVisibleChange",function(m){return e.eBV(c),e.DH7(o.isOpenScanInventoryModal,m)||(o.isOpenScanInventoryModal=m),e.Njj(m)}),e.DNE(33,Ae,19,6,"ng-container",26)(34,Be,6,1,"div",27),e.k0s()}2&a&&(e.Y8G("nzData",e.lJ4(18,J)),e.R7$(12),e.SpI(" ",o.requestNo," "),e.R7$(),e.Y8G("dataSource",o.inventoryData)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!1)("hoverStateEnabled",!0),e.R7$(2),e.Y8G("visible",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(6),e.Y8G("fixed",!0),e.R7$(),e.Y8G("allowSelectAll",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(3),e.Y8G("visible",!1),e.R7$(4),e.R50("nzVisible",o.isOpenScanInventoryModal))},dependencies:[C.bT,x.s,d.ZWy,d.nj_,d.gtJ,d.CVf,d.ZJU,d.FTx,d.KOr,I.l,y.m,f.F2,f.Oj,f.A9,p.CP,p.SO,p._4,p.IL,p.aj,p.kt,v.r,S.aO,M.c,j.p,N.Dn,O.Sy,O.tg,K.a,Q.Y,C.vh],styles:["nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#6600c5}"]})}return i})()}];let Ge=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({imports:[g.iI.forChild(Ne),g.iI]})}return i})();var we=r(1997);let $e=(()=>{class i{static#e=this.\u0275fac=function(a){return new(a||i)};static#t=this.\u0275mod=e.$C({type:i});static#n=this.\u0275inj=e.G2t({imports:[C.MD,$.YN,Ge,D.f3,n.L,x.N,I.S,y.Z,T.EJ,E.hM,f.U6,p.$G,F.g,v.et,S.Zw,N.Y3,O.j,K.V,Q.$,we.DH,s.Qt,_.pc,l.f,z.j]})}return i})()},23617:(H,R,r)=>{r.d(R,{$:()=>N,Y:()=>j});var C=r(15215),n=r(54438),x=r(45286),I=r(7605),y=r(40713),T=r(16042),F=r(57806),D=r(70317),v=r(72544),f=r(28203);function p(s,_){1&s&&n.eu8(0)}function E(s,_){if(1&s&&n.DNE(0,p,1,0,"ng-container",6),2&s){const l=n.XpG(3);n.Y8G("nzStringTemplateOutlet",l.nzIcon)}}function g(s,_){if(1&s&&n.nrm(0,"span",7),2&s){const l=n.XpG(3);n.Y8G("nzType",l.nzIconType||l.inferredIconType)("nzTheme",l.iconTheme)}}function P(s,_){if(1&s&&(n.j41(0,"div",2),n.DNE(1,E,1,1,"ng-container")(2,g,1,2),n.k0s()),2&s){const l=n.XpG(2);n.R7$(),n.vxM(1,l.nzIcon?1:2)}}function L(s,_){if(1&s&&(n.qex(0),n.EFF(1),n.bVm()),2&s){const l=n.XpG(4);n.R7$(),n.JRh(l.nzMessage)}}function Y(s,_){if(1&s&&(n.j41(0,"span",8),n.DNE(1,L,2,1,"ng-container",6),n.k0s()),2&s){const l=n.XpG(3);n.R7$(),n.Y8G("nzStringTemplateOutlet",l.nzMessage)}}function V(s,_){if(1&s&&(n.qex(0),n.EFF(1),n.bVm()),2&s){const l=n.XpG(4);n.R7$(),n.JRh(l.nzDescription)}}function e(s,_){if(1&s&&(n.j41(0,"span",9),n.DNE(1,V,2,1,"ng-container",6),n.k0s()),2&s){const l=n.XpG(3);n.R7$(),n.Y8G("nzStringTemplateOutlet",l.nzDescription)}}function U(s,_){if(1&s&&(n.j41(0,"div",3),n.DNE(1,Y,2,1,"span",8)(2,e,2,1,"span",9),n.k0s()),2&s){const l=n.XpG(2);n.R7$(),n.vxM(1,l.nzMessage?1:-1),n.R7$(),n.vxM(2,l.nzDescription?2:-1)}}function q(s,_){if(1&s&&(n.qex(0),n.EFF(1),n.bVm()),2&s){const l=n.XpG(3);n.R7$(),n.JRh(l.nzAction)}}function k(s,_){if(1&s&&(n.j41(0,"div",4),n.DNE(1,q,2,1,"ng-container",6),n.k0s()),2&s){const l=n.XpG(2);n.R7$(),n.Y8G("nzStringTemplateOutlet",l.nzAction)}}function A(s,_){if(1&s&&(n.qex(0),n.j41(1,"span",11),n.EFF(2),n.k0s(),n.bVm()),2&s){const l=n.XpG(4);n.R7$(2),n.JRh(l.nzCloseText)}}function B(s,_){if(1&s&&n.DNE(0,A,3,1,"ng-container",6),2&s){const l=n.XpG(3);n.Y8G("nzStringTemplateOutlet",l.nzCloseText)}}function G(s,_){1&s&&n.nrm(0,"span",12)}function d(s,_){if(1&s){const l=n.RV6();n.j41(0,"button",10),n.bIt("click",function(){n.eBV(l);const b=n.XpG(2);return n.Njj(b.closeAlert())}),n.DNE(1,B,1,1,"ng-container")(2,G,1,0),n.k0s()}if(2&s){const l=n.XpG(2);n.R7$(),n.vxM(1,l.nzCloseText?1:2)}}function S(s,_){if(1&s){const l=n.RV6();n.j41(0,"div",1),n.bIt("@slideAlertMotion.done",function(){n.eBV(l);const b=n.XpG();return n.Njj(b.onFadeAnimationDone())}),n.DNE(1,P,3,1,"div",2)(2,U,3,2,"div",3)(3,k,2,1,"div",4)(4,d,3,1,"button",5),n.k0s()}if(2&s){const l=n.XpG();n.AVh("ant-alert-rtl","rtl"===l.dir)("ant-alert-success","success"===l.nzType)("ant-alert-info","info"===l.nzType)("ant-alert-warning","warning"===l.nzType)("ant-alert-error","error"===l.nzType)("ant-alert-no-icon",!l.nzShowIcon)("ant-alert-banner",l.nzBanner)("ant-alert-closable",l.nzCloseable)("ant-alert-with-description",!!l.nzDescription),n.Y8G("@.disabled",l.nzNoAnimation)("@slideAlertMotion",void 0),n.R7$(),n.vxM(1,l.nzShowIcon?1:-1),n.R7$(),n.vxM(2,l.nzMessage||l.nzDescription?2:-1),n.R7$(),n.vxM(3,l.nzAction?3:-1),n.R7$(),n.vxM(4,l.nzCloseable||l.nzCloseText?4:-1)}}const M="alert";let j=(()=>{class s{constructor(l,z,b){this.nzConfigService=l,this.cdr=z,this.directionality=b,this._nzModuleName=M,this.nzAction=null,this.nzCloseText=null,this.nzIconType=null,this.nzMessage=null,this.nzDescription=null,this.nzType="info",this.nzCloseable=!1,this.nzShowIcon=!1,this.nzBanner=!1,this.nzNoAnimation=!1,this.nzIcon=null,this.nzOnClose=new n.bkB,this.closed=!1,this.iconTheme="fill",this.inferredIconType="info-circle",this.dir="ltr",this.isTypeSet=!1,this.isShowIconSet=!1,this.destroy$=new x.B7,this.nzConfigService.getConfigChangeEventForComponent(M).pipe((0,I.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,I.Q)(this.destroy$)).subscribe(l=>{this.dir=l,this.cdr.detectChanges()}),this.dir=this.directionality.value}closeAlert(){this.closed=!0}onFadeAnimationDone(){this.closed&&this.nzOnClose.emit(!0)}ngOnChanges(l){const{nzShowIcon:z,nzDescription:b,nzType:w,nzBanner:X}=l;if(z&&(this.isShowIconSet=!0),w)switch(this.isTypeSet=!0,this.nzType){case"error":this.inferredIconType="close-circle";break;case"success":this.inferredIconType="check-circle";break;case"info":this.inferredIconType="info-circle";break;case"warning":this.inferredIconType="exclamation-circle"}b&&(this.iconTheme=this.nzDescription?"outline":"fill"),X&&(this.isTypeSet||(this.nzType="warning"),this.isShowIconSet||(this.nzShowIcon=!0))}ngOnDestroy(){this.destroy$.next(!0),this.destroy$.complete()}static#e=this.\u0275fac=function(z){return new(z||s)(n.rXU(T.yx),n.rXU(n.gRc),n.rXU(f.dS,8))};static#t=this.\u0275cmp=n.VBU({type:s,selectors:[["nz-alert"]],inputs:{nzAction:"nzAction",nzCloseText:"nzCloseText",nzIconType:"nzIconType",nzMessage:"nzMessage",nzDescription:"nzDescription",nzType:"nzType",nzCloseable:"nzCloseable",nzShowIcon:"nzShowIcon",nzBanner:"nzBanner",nzNoAnimation:"nzNoAnimation",nzIcon:"nzIcon"},outputs:{nzOnClose:"nzOnClose"},exportAs:["nzAlert"],standalone:!0,features:[n.OA$,n.aNF],decls:1,vars:1,consts:[[1,"ant-alert",3,"ant-alert-rtl","ant-alert-success","ant-alert-info","ant-alert-warning","ant-alert-error","ant-alert-no-icon","ant-alert-banner","ant-alert-closable","ant-alert-with-description"],[1,"ant-alert"],[1,"ant-alert-icon"],[1,"ant-alert-content"],[1,"ant-alert-action"],["type","button","tabindex","0",1,"ant-alert-close-icon"],[4,"nzStringTemplateOutlet"],["nz-icon","",3,"nzType","nzTheme"],[1,"ant-alert-message"],[1,"ant-alert-description"],["type","button","tabindex","0",1,"ant-alert-close-icon",3,"click"],[1,"ant-alert-close-text"],["nz-icon","","nzType","close"]],template:function(z,b){1&z&&n.DNE(0,S,5,24,"div",0),2&z&&n.vxM(0,b.closed?-1:0)},dependencies:[v.Y3,v.Dn,F.C,F.m],encapsulation:2,data:{animation:[y.Sn]},changeDetection:0})}return(0,C.Cg)([(0,T.H4)(),(0,D.H3)()],s.prototype,"nzCloseable",void 0),(0,C.Cg)([(0,T.H4)(),(0,D.H3)()],s.prototype,"nzShowIcon",void 0),(0,C.Cg)([(0,D.H3)()],s.prototype,"nzBanner",void 0),(0,C.Cg)([(0,D.H3)()],s.prototype,"nzNoAnimation",void 0),s})(),N=(()=>{class s{static#e=this.\u0275fac=function(z){return new(z||s)};static#t=this.\u0275mod=n.$C({type:s});static#n=this.\u0275inj=n.G2t({imports:[j]})}return s})()},19448:(H,R,r)=>{r.d(R,{g:()=>D,j:()=>F});var C=r(15215),n=r(54438),x=r(57806),I=r(70317);function y(v,f){if(1&v&&(n.qex(0),n.EFF(1),n.bVm()),2&v){const p=n.XpG(2);n.R7$(),n.JRh(p.nzText)}}function T(v,f){if(1&v&&(n.j41(0,"span",0),n.DNE(1,y,2,1,"ng-container",1),n.k0s()),2&v){const p=n.XpG();n.R7$(),n.Y8G("nzStringTemplateOutlet",p.nzText)}}let F=(()=>{class v{constructor(){this.nzType="horizontal",this.nzOrientation="center",this.nzDashed=!1,this.nzPlain=!1}static#e=this.\u0275fac=function(E){return new(E||v)};static#t=this.\u0275cmp=n.VBU({type:v,selectors:[["nz-divider"]],hostAttrs:[1,"ant-divider"],hostVars:16,hostBindings:function(E,g){2&E&&n.AVh("ant-divider-horizontal","horizontal"===g.nzType)("ant-divider-vertical","vertical"===g.nzType)("ant-divider-with-text",g.nzText)("ant-divider-plain",g.nzPlain)("ant-divider-with-text-left",g.nzText&&"left"===g.nzOrientation)("ant-divider-with-text-right",g.nzText&&"right"===g.nzOrientation)("ant-divider-with-text-center",g.nzText&&"center"===g.nzOrientation)("ant-divider-dashed",g.nzDashed)},inputs:{nzText:"nzText",nzType:"nzType",nzOrientation:"nzOrientation",nzDashed:"nzDashed",nzPlain:"nzPlain"},exportAs:["nzDivider"],standalone:!0,features:[n.aNF],decls:1,vars:1,consts:[[1,"ant-divider-inner-text"],[4,"nzStringTemplateOutlet"]],template:function(E,g){1&E&&n.DNE(0,T,2,1,"span",0),2&E&&n.vxM(0,g.nzText?0:-1)},dependencies:[x.C,x.m],encapsulation:2,changeDetection:0})}return(0,C.Cg)([(0,I.H3)()],v.prototype,"nzDashed",void 0),(0,C.Cg)([(0,I.H3)()],v.prototype,"nzPlain",void 0),v})(),D=(()=>{class v{static#e=this.\u0275fac=function(E){return new(E||v)};static#t=this.\u0275mod=n.$C({type:v});static#n=this.\u0275inj=n.G2t({imports:[F]})}return v})()}}]);