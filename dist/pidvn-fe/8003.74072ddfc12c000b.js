"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[8003],{78003:(de,X,c)=>{c.r(X),c.d(X,{SparePartModule:()=>Fn});var h=c(60177),d=c(33514),f=c(12673),O=c(48446),q=c(87018),Y=c(30219),D=c(72898),x=c(50513),E=c(97529),p=c(72544),z=c(53606),T=c(97685),b=c(46661),e=c(54438);let Q=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-spare-part-menu"]],decls:36,vars:1,consts:[["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","12","nzMd","12","nzLg","6"],["routerLink","/admin/spare-part/spare-parts",1,"item","spare-parts"],["src","./../../../../../../assets/images/spare-parts.png","alt",""],["routerLink","/admin/spare-part/spare-part-in-out",1,"item","in-out"],["src","./../../../../../../assets/images/history.png","alt",""],["routerLink","/admin/spare-part/spare-part-requests",1,"item","wip-ivt"],["src","./../../../../../../assets/images/check-list.png","alt",""],["routerLink","/admin/spare-part/spare-part-reports",1,"item","report"],["src","./../../../../../../assets/images/report.png"],["routerLink","/admin/spare-part/spare-part-ivt-his",1,"item","in-out"]],template:function(i,n){1&i&&(e.j41(0,"div",0)(1,"div",1)(2,"div",2),e.nrm(3,"img",3),e.j41(4,"h6"),e.EFF(5,"Danh s\xe1ch"),e.k0s(),e.j41(6,"h4"),e.EFF(7,"Spare part"),e.k0s()()(),e.j41(8,"div",1)(9,"div",4),e.nrm(10,"img",5),e.j41(11,"h6"),e.EFF(12,"L\u1ecbch s\u1eed nh\u1eadp xu\u1ea5t"),e.k0s(),e.j41(13,"h4"),e.EFF(14,"In / Out history"),e.k0s()()(),e.j41(15,"div",1)(16,"div",6),e.nrm(17,"img",7),e.j41(18,"h6"),e.EFF(19,"T\u1ea1o request"),e.k0s(),e.j41(20,"h4"),e.EFF(21,"Request"),e.k0s()()(),e.j41(22,"div",1)(23,"div",8),e.nrm(24,"img",9),e.j41(25,"h6"),e.EFF(26,"B\xe1o c\xe1o"),e.k0s(),e.j41(27,"h4"),e.EFF(28,"Reports"),e.k0s()()(),e.j41(29,"div",1)(30,"div",10),e.nrm(31,"img",9),e.j41(32,"h6"),e.EFF(33,"Ki\u1ec3m K\xea"),e.k0s(),e.j41(34,"h4"),e.EFF(35,"Inventory"),e.k0s()()()()),2&i&&e.Y8G("nzGutter",8)},dependencies:[b.Wk,E.Uq,E.e],styles:[".item[_ngcontent-%COMP%]{text-align:center;border:1px solid #ccc;padding:15px 10px}.item[_ngcontent-%COMP%]   h4[_ngcontent-%COMP%]{text-transform:uppercase;font-weight:700;color:#fff}.item[_ngcontent-%COMP%]   h6[_ngcontent-%COMP%]{margin-top:15px;font-size:18px;color:#fff;font-weight:700}.spare-parts[_ngcontent-%COMP%]{background:#e07e37}.in-out[_ngcontent-%COMP%]{background:#3498db}.wip-ivt[_ngcontent-%COMP%]{background:#9f756f}.report[_ngcontent-%COMP%]{background:#24a835}"]})}return a})();var I=c(45794),N=c(45312),M=c(21626);let F=(()=>{class a{constructor(t){this.httpClient=t,this.baseUrl=N.c.baseUrl}getSpareParts(){return this.httpClient.get(`${this.baseUrl}/SparePart/SpareParts`)}getSparePartsivt(t){return this.httpClient.get(`${this.baseUrl}/SparePart/SparePartsivt?code=${t}`,t)}getSparePartsivthis(){return this.httpClient.get(`${this.baseUrl}/SparePart/SparePartsivthis`)}getSparePartsivtDetail(t){return this.httpClient.get(`${this.baseUrl}/SparePart/SparePartsivtdetail?ivtNo=${t}`,t)}saveSparePart(t){return this.httpClient.post(`${this.baseUrl}/SparePart/SparePart`,t)}getSparePartRecords(t){return this.httpClient.post(`${this.baseUrl}/SparePart/GetSparePartRecords`,t)}saveSparePartRecords(t){return this.httpClient.post(`${this.baseUrl}/SparePart/SparePartRecords`,t)}getSparePartInventoryRequests(){return this.httpClient.get(`${this.baseUrl}/SparePart/SparePartInventoryRequests`)}saveSparePartInventoryRequest(t){return this.httpClient.post(`${this.baseUrl}/SparePart/SparePartInventoryRequest`,t)}saveSparePartIvt(t){return console.log(t),this.httpClient.post(`${this.baseUrl}/SparePart/SaveSparePartIvt`,t)}getLineStandard(){return this.httpClient.get(`${this.baseUrl}/SparePart/Lines`)}getMachineStandard(){return this.httpClient.get(`${this.baseUrl}/SparePart/Machines`)}getInventoryRequest(t){return this.httpClient.get(`${this.baseUrl}/SparePart/Inventory/Request/${t}`)}getInventoryData(t){return this.httpClient.get(`${this.baseUrl}/SparePart/Inventory/Data?requestId=${t}`)}getSparePartDataChart(t){return this.httpClient.post(`${this.baseUrl}/SparePart/Charts`,t)}updateSparePartRecord(t){return this.httpClient.put(`${this.baseUrl}/SparePart/SparePartRecord`,t)}deleteSparePartRecord(t){return this.httpClient.delete(`${this.baseUrl}/SparePart/SparePartRecord/${t}`)}getSparePartRecordsByStandardPrice(t){return this.httpClient.post(`${this.baseUrl}/SparePart/SparePartRecordsByStandardPrice`,t)}changeRack(t){return this.httpClient.post(`${this.baseUrl}/SparePart/ChangeRack`,t)}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(M.Qq))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var P=c(89417),S=c(27380),s=c(31837),j=c(16389),A=c(25930),w=c(9541),m=c(43053),C=c(23359),_=c(1997),g=c(21011),v=c(45398),G=c(3104);const ne=["fileInput"],ae=()=>[10,25,50,100],ce=()=>[""];function Te(a,o){if(1&a&&(e.j41(0,"div",34),e.nrm(1,"nz-qrcode",35),e.k0s()),2&a){const t=o.$implicit;e.R7$(),e.Y8G("nzValue",t.data.partNumber)("nzSize",50)}}function ke(a,o){if(1&a&&e.nrm(0,"img",41),2&a){const t=e.XpG().$implicit;e.Y8G("src",t.image,e.B4B)}}function Ie(a,o){if(1&a&&(e.j41(0,"div",36)(1,"nz-table",37)(2,"thead")(3,"tr")(4,"th",38),e.EFF(5),e.k0s(),e.j41(6,"th",34),e.EFF(7),e.k0s()()(),e.j41(8,"tbody")(9,"tr")(10,"td",34),e.nrm(11,"qrcode",39),e.k0s(),e.j41(12,"td"),e.DNE(13,ke,1,1,"img",40),e.k0s()()()()()),2&a){const t=o.$implicit;e.R7$(),e.Y8G("nzData",e.lJ4(12,ce)),e.R7$(4),e.SpI(" ",t.partNumber," "),e.R7$(2),e.SpI(" ",t.name," "),e.R7$(4),e.Y8G("qrdata",t.partNumber)("allowEmptyString",!0)("cssClass","center")("elementType","img")("errorCorrectionLevel","M")("margin",4)("scale",1)("width",100),e.R7$(2),e.Y8G("ngIf",t.image)}}function Me(a,o){if(1&a&&e.nrm(0,"img",52),2&a){const t=e.XpG(2);e.Y8G("src",t.sparePartCreate.image,e.B4B)}}function Oe(a,o){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"nz-table",42,1)(3,"tbody")(4,"tr")(5,"td"),e.EFF(6,"Part Number"),e.k0s(),e.j41(7,"td")(8,"input",43),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.sparePartCreate.partNumber,n)||(r.sparePartCreate.partNumber=n),e.Njj(n)}),e.k0s()()(),e.j41(9,"tr")(10,"td"),e.EFF(11,"Galileo Name"),e.k0s(),e.j41(12,"td")(13,"input",44),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.sparePartCreate.galileoName,n)||(r.sparePartCreate.galileoName=n),e.Njj(n)}),e.k0s()()(),e.j41(14,"tr")(15,"td"),e.EFF(16,"Name"),e.k0s(),e.j41(17,"td")(18,"input",45),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.sparePartCreate.name,n)||(r.sparePartCreate.name=n),e.Njj(n)}),e.k0s()()(),e.j41(19,"tr")(20,"td"),e.EFF(21,"\u0110\u01a1n v\u1ecb"),e.k0s(),e.j41(22,"td")(23,"input",46),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.sparePartCreate.unit,n)||(r.sparePartCreate.unit=n),e.Njj(n)}),e.k0s()()(),e.j41(24,"tr")(25,"td"),e.EFF(26,"Lo\u1ea1i h\xe0ng"),e.k0s(),e.j41(27,"td")(28,"nz-select",47),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.sparePartCreate.type,n)||(r.sparePartCreate.type=n),e.Njj(n)}),e.nrm(29,"nz-option",48)(30,"nz-option",49),e.k0s()()(),e.j41(31,"tr")(32,"td"),e.EFF(33,"\u1ea2nh"),e.k0s(),e.j41(34,"td")(35,"input",50,2),e.bIt("change",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.handleFileSelect(n))}),e.k0s(),e.DNE(37,Me,1,1,"img",51),e.k0s()()()(),e.bVm()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(8,ce))("nzFrontPagination",!1),e.R7$(7),e.R50("ngModel",t.sparePartCreate.partNumber),e.R7$(5),e.R50("ngModel",t.sparePartCreate.galileoName),e.R7$(5),e.R50("ngModel",t.sparePartCreate.name),e.R7$(5),e.R50("ngModel",t.sparePartCreate.unit),e.R7$(5),e.R50("ngModel",t.sparePartCreate.type),e.R7$(9),e.Y8G("ngIf",t.sparePartCreate.image)}}function De(a,o){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"button",53),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isOpenAddSparePartModal=!1)}),e.EFF(2," \u0110\xf3ng "),e.k0s(),e.j41(3,"button",54),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onCreateSparePart())}),e.EFF(4," T\u1ea1o "),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(3),e.Y8G("nzLoading",t.isConfirmLoading)}}let Fe=(()=>{class a{constructor(t,i){this.toastr=t,this.sparePartSvc=i,this.isOpenAddSparePartModal=!1,this.isOpenPrintQRModal=!1,this.isConfirmLoading=!1,this.sparePartCreate={},this.selectedIndex=0}ngOnInit(){this.getSpareParts()}getSpareParts(){this.sparePartSvc.getSpareParts().subscribe(t=>{this.spareParts=t,console.log(this.spareParts)})}onExportClient(t){}openAddSparePartModal(){this.isOpenAddSparePartModal=!0,this.sparePartCreate={}}onCreateSparePart(){this.sparePartCreate.partNumber?this.sparePartCreate.name?this.sparePartCreate.unit?this.sparePartCreate.type?this.sparePartSvc.saveSparePart(this.sparePartCreate).subscribe(t=>{this.getSpareParts(),this.isOpenAddSparePartModal=!1,this.toastr.success("Success","OK")}):this.toastr.warning("C\u1ea7n nh\u1eadp lo\u1ea1i h\xe0ng","Warning"):this.toastr.warning("C\u1ea7n nh\u1eadp \u0111\u01a1n v\u1ecb","Warning"):this.toastr.warning("C\u1ea7n nh\u1eadp Name","Warning"):this.toastr.warning("C\u1ea7n nh\u1eadp Part Number","Warning")}openPrintQRModal(){this.isOpenPrintQRModal=!0}onSelectionChanged(t){this.selectedRows=t.selectedRowsData}changeTab(){this.selectedIndex=1}handleFileSelect(t){const i=t.target.files[0];if(i){const n=new FileReader;n.onload=()=>{this.sparePartCreate.image=n.result},n.readAsDataURL(i)}}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(I.tw),e.rXU(F))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-spare-parts"]],viewQuery:function(i,n){if(1&i&&e.GBs(ne,5),2&i){let r;e.mGM(r=e.lsd())&&(n.fileInput=r.first)}},decls:37,vars:28,consts:[["columnChooser",""],["basicTable",""],["fileInput",""],[3,"nzSelectedIndexChange","nzSelectedIndex"],["nzTitle","Spare Parts"],["keyExpr","id",3,"onExporting","onSelectionChanged","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],["mode","multiple",3,"selectAllMode","showCheckBoxesMode"],[3,"pageSize"],[3,"visible"],[3,"enabled"],[3,"enabled","mode","title"],["location","before"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","plus"],["location","after"],["name","exportButton"],["name","columnChooserButton","location","after"],["dataField","partNumber","caption","Part Number"],["dataField","galileoName","caption","Galileo Name"],["dataField","name","caption","Name"],["caption","QR Code","cellTemplate","qrCodeTemplate","fixedPosition","right",3,"fixed","visible"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],["dataField","type","caption","Lo\u1ea1i h\xe0ng"],["dataField","unit","caption","\u0110\u01a1n v\u1ecb"],[3,"showPageSizeSelector","allowedPageSizes"],["nzTitle","QR Code"],["nz-button","","printSectionId","qrPrint","ngxPrint","",3,"click","nzType","useExistingCss"],["nz-icon","","nzType","printer"],["id","qrPrint"],["nz-row","","nzJustify","start","nzAlign","middle",3,"nzGutter"],["nz-col","","nzXs","12","nzSm","12","nzMd","12","nzLg","12",4,"ngFor","ngForOf"],["nzTitle","Th\xeam m\u1edbi Spare Part",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],[2,"text-align","center"],[3,"nzValue","nzSize"],["nz-col","","nzXs","12","nzSm","12","nzMd","12","nzLg","12"],["nzBordered","","nzFrontPagination","false","id","labelTbl",3,"nzData"],[2,"width","40%","text-align","center"],[3,"qrdata","allowEmptyString","cssClass","elementType","errorCorrectionLevel","margin","scale","width"],["alt","\u1ea2nh xem tr\u01b0\u1edbc","width","100%","height","100px",3,"src",4,"ngIf"],["alt","\u1ea2nh xem tr\u01b0\u1edbc","width","100%","height","100px",3,"src"],["nzBordered","",3,"nzData","nzFrontPagination"],["nz-input","","placeholder","Part Number",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Galileo Name",3,"ngModelChange","ngModel"],["nz-input","","placeholder","Name",3,"ngModelChange","ngModel"],["nz-input","","placeholder","\u0110\u01a1n v\u1ecb",3,"ngModelChange","ngModel"],[2,"width","100%",3,"ngModelChange","ngModel"],["nzValue","M4","nzLabel","M4"],["nzValue","M8","nzLabel","M8"],["type","file",3,"change"],["alt","\u1ea2nh xem tr\u01b0\u1edbc","width","100%","height","200px",3,"src",4,"ngIf"],["alt","\u1ea2nh xem tr\u01b0\u1edbc","width","100%","height","200px",3,"src"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click","nzLoading"]],template:function(i,n){if(1&i){const r=e.RV6();e.j41(0,"nz-tabset",3),e.mxI("nzSelectedIndexChange",function(l){return e.eBV(r),e.DH7(n.selectedIndex,l)||(n.selectedIndex=l),e.Njj(l)}),e.j41(1,"nz-tab",4)(2,"dx-data-grid",5),e.bIt("onExporting",function(l){return e.eBV(r),e.Njj(n.onExportClient(l))})("onSelectionChanged",function(l){return e.eBV(r),e.Njj(n.onSelectionChanged(l))}),e.nrm(3,"dxo-selection",6)(4,"dxo-paging",7)(5,"dxo-filter-row",8)(6,"dxo-export",9)(7,"dxo-column-chooser",10,0),e.j41(9,"dxo-toolbar")(10,"dxi-item",11)(11,"button",12),e.bIt("click",function(){return e.eBV(r),e.Njj(n.openAddSparePartModal())}),e.nrm(12,"span",13),e.EFF(13," Th\xeam m\u1edbi "),e.k0s()(),e.j41(14,"dxi-item",14),e.nrm(15,"nz-space"),e.k0s(),e.nrm(16,"dxi-item",15)(17,"dxi-item",16),e.k0s(),e.nrm(18,"dxi-column",17)(19,"dxi-column",18)(20,"dxi-column",19),e.j41(21,"dxi-column",20),e.DNE(22,Te,2,2,"div",21),e.k0s(),e.nrm(23,"dxi-column",22)(24,"dxi-column",23)(25,"dxo-paging",7)(26,"dxo-pager",24),e.k0s()(),e.j41(27,"nz-tab",25)(28,"button",26),e.bIt("click",function(){return e.eBV(r),e.Njj(n.changeTab())}),e.nrm(29,"span",27),e.EFF(30," Print Label "),e.k0s(),e.j41(31,"div",28)(32,"div",29),e.DNE(33,Ie,14,13,"div",30),e.k0s()()()(),e.j41(34,"nz-modal",31),e.mxI("nzVisibleChange",function(l){return e.eBV(r),e.DH7(n.isOpenAddSparePartModal,l)||(n.isOpenAddSparePartModal=l),e.Njj(l)}),e.DNE(35,Oe,38,9,"ng-container",32)(36,De,5,1,"div",33),e.k0s()}2&i&&(e.R50("nzSelectedIndex",n.selectedIndex),e.R7$(2),e.Y8G("dataSource",n.spareParts)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(),e.Y8G("selectAllMode","allPages")("showCheckBoxesMode","always"),e.R7$(),e.Y8G("pageSize",10),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("enabled",!0)("mode","select")("title","C\u1ed9t hi\u1ec3n th\u1ecb"),e.R7$(14),e.Y8G("fixed",!0)("visible",!1),e.R7$(),e.Y8G("dxTemplateOf","qrCodeTemplate"),e.R7$(3),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(27,ae)),e.R7$(2),e.Y8G("nzType","primary")("useExistingCss",!0),e.R7$(4),e.Y8G("nzGutter",24),e.R7$(),e.Y8G("ngForOf",n.selectedRows),e.R7$(),e.R50("nzVisible",n.isOpenAddSparePartModal))},dependencies:[h.Sq,h.bT,P.me,P.BC,P.vS,E.Uq,E.e,S.eC,f.s,s.i2Q,s.hVU,s.nj_,s.CVf,s.ZJU,s.FTx,s.sVQ,s.PVd,s.KOr,z.m,x.aO,j.c,A.p,T.U5,p.Dn,w.JZ,w.rE,m.F2,m.Oj,m.A9,C.CP,C.SO,C._4,C.IL,C.aj,C.kt,_.ld,_.WI,g.Sy,v.c,G.G],styles:["#labelTbl[_ngcontent-%COMP%]   table[_ngcontent-%COMP%], #labelTbl[_ngcontent-%COMP%]   th[_ngcontent-%COMP%], #labelTbl[_ngcontent-%COMP%]   td[_ngcontent-%COMP%]{border:1px solid black;border-collapse:collapse}"]})}return a})();var ue=c(10467),ie=c(53281),pe=c(58728),je=c(92887),Ae=c(71451),we=c(2578),B=c(37736);let me=(()=>{class a{constructor(t){this.httpClient=t,this.baseUrl=N.c.baseUrl}createRequest(t,i,n){return this.httpClient.post(`${this.baseUrl}/SparePart/CreateRequest?factoryCode=${i}&subsectionId=${n}`,t)}getSections(){return this.httpClient.get(`${this.baseUrl}/SparePart/Sections`)}getSubsections(){return this.httpClient.get(`${this.baseUrl}/SparePart/Subsections`)}getRequests(t){return this.httpClient.post(`${this.baseUrl}/SparePart/SparePartRequestMasters`,t)}getRequestDetail(t){return this.httpClient.get(`${this.baseUrl}/SparePart/SparePartRequestDetail/${t}`)}downloadM4M8Request(t){return this.httpClient.post(`${this.baseUrl}/SparePart/DownloadM4M8Request?requestId=${t}`,{},{responseType:"blob"})}deleteSparePartRequest(t){return this.httpClient.delete(`${this.baseUrl}/SparePart/SparePartRequestMasters/${t}`)}static#e=this.\u0275fac=function(i){return new(i||a)(e.KVO(M.Qq))};static#t=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})();var J=c(72874),H=c(58960);const Ge=["userCodeIpt"],Ne=["sparePartQrCodeIpt"],Be=["validatorChangeRack"],Le=()=>({id:"Nh\u1eadp kho",name:"Nh\u1eadp kho"}),Ve=()=>({id:"Xu\u1ea5t kho",name:"Xu\u1ea5t kho"}),qe=()=>({id:"Tr\u1ea3 v\u1ec1 (OK)",name:"Tr\u1ea3 v\u1ec1 (OK)"}),Ue=()=>({id:"Tr\u1ea3 V\u1ec0 (NG)",name:"Tr\u1ea3 V\u1ec0 (NG)"}),_e=(a,o,t,i)=>[a,o,t,i],he=()=>({id:"M4",name:"M4"}),ge=()=>({id:"M8",name:"M8"}),Ce=(a,o)=>[a,o],fe=()=>[10,25,50,100],Z=()=>[""],$e=()=>({id:"INPUT",name:"NH\u1eacP KHO"}),Xe=()=>({id:"OUTPUT",name:"XU\u1ea4T KHO"}),Ye=()=>({id:"OK_RETURN",name:"OK RETURN"}),He=()=>({id:"NG_RETURN",name:"NG RETURN"}),We=()=>({color:"red"});function Qe(a,o){if(1&a){const t=e.RV6();e.j41(0,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openOutputSparePartModal())}),e.nrm(1,"span",51),e.EFF(2," NH\u1eacP XU\u1ea4T H\xc0NG "),e.k0s()}}function Ke(a,o){if(1&a){const t=e.RV6();e.j41(0,"button",52),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openModalChangeRack())}),e.nrm(1,"span",53),e.EFF(2," CHUY\u1ec2N RACK "),e.k0s()}}function Je(a,o){1&a&&(e.j41(0,"button",54),e.nrm(1,"span",55),e.EFF(2," DANH S\xc1CH REQUEST H\xc0NG M4 "),e.k0s())}function Ze(a,o){if(1&a){const t=e.RV6();e.j41(0,"div",56)(1,"a",57),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.openModalEditSparePartRecord(n.data))}),e.EFF(2,"S\u1eeda"),e.k0s()()}}function et(a,o){if(1&a){const t=e.RV6();e.j41(0,"dx-select-box",89),e.bIt("onValueChanged",function(n){e.eBV(t);const r=e.XpG(3);return e.Njj(r.getSparePartRequestDetails(n))}),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG(3);return e.DH7(r.request.id,n)||(r.request.id=n),e.Njj(n)}),e.k0s()}if(2&a){const t=e.XpG(3);e.Y8G("labelMode","floating")("dataSource",t.sparePartRequestMasters)("searchEnabled",!0),e.R50("ngModel",t.request.id)}}function tt(a,o){if(1&a){const t=e.RV6();e.j41(0,"dx-select-box",90),e.bIt("onValueChanged",function(n){e.eBV(t);const r=e.XpG(3);return e.Njj(r.getSparePartRequestDetails(n))}),e.k0s()}if(2&a){const t=e.XpG(3);e.Y8G("labelMode","floating")("dataSource",t.sparePartRequestMasters)("searchEnabled",!0)}}function nt(a,o){if(1&a&&(e.j41(0,"div",56)(1,"span"),e.EFF(2),e.k0s()()),2&a){const t=o.$implicit;e.R7$(2),e.Lme("",t.data.requestQty," / ",t.data.issuedQty?t.data.issuedQty:0," ")}}function at(a,o){if(1&a&&(e.j41(0,"div",82)(1,"nz-table",61)(2,"thead")(3,"tr")(4,"th"),e.DNE(5,et,1,4,"dx-select-box",83)(6,tt,1,3,"dx-select-box",84),e.k0s(),e.j41(7,"th")(8,"label",85),e.EFF(9),e.k0s()()()()(),e.j41(10,"dx-data-grid",86),e.nrm(11,"dxi-column",87)(12,"dxi-column",88),e.DNE(13,nt,3,2,"div",40),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("nzData",e.lJ4(12,Z)),e.R7$(4),e.Y8G("ngIf",t.request),e.R7$(),e.Y8G("ngIf",!t.request),e.R7$(3),e.JRh(null==t.request?null:t.request.subsectionName),e.R7$(),e.Y8G("showBorders",!0)("dataSource",t.sparePartRequestDetails)("showColumnLines",!0)("showRowLines",!0)("allowColumnResizing",!0)("columnMinWidth",50)("columnAutoWidth",!0),e.R7$(3),e.Y8G("dxTemplateOf","qtyTemplate")}}function it(a,o){if(1&a){const t=e.RV6();e.j41(0,"td",62)(1,"dx-text-box",91),e.mxI("valueChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.po,n)||(r.po=n),e.Njj(n)}),e.k0s()()}if(2&a){const t=e.XpG(2);e.R7$(),e.Y8G("labelMode","floating"),e.R50("value",t.po)}}function rt(a,o){if(1&a){const t=e.RV6();e.j41(0,"td",62)(1,"dx-text-box",92),e.mxI("valueChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.supplier,n)||(r.supplier=n),e.Njj(n)}),e.k0s()()}if(2&a){const t=e.XpG(2);e.R7$(),e.Y8G("labelMode","floating"),e.R50("value",t.supplier)}}function ot(a,o){if(1&a){const t=e.RV6();e.j41(0,"td",62)(1,"dx-select-box",93),e.mxI("valueChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.factoryCode,n)||(r.factoryCode=n),e.Njj(n)}),e.k0s()()}if(2&a){const t=e.XpG(2);e.R7$(),e.Y8G("labelMode","floating")("dataSource",t.factories),e.R50("value",t.factoryCode),e.Y8G("searchEnabled",!0)}}function st(a,o){if(1&a){const t=e.RV6();e.j41(0,"td",62)(1,"dx-select-box",94),e.mxI("valueChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.machine,n)||(r.machine=n),e.Njj(n)}),e.k0s()()}if(2&a){const t=e.XpG(2);e.R7$(),e.Y8G("labelMode","floating")("dataSource",t.machines),e.R50("value",t.machine),e.Y8G("searchEnabled",!0)}}function lt(a,o){if(1&a){const t=e.RV6();e.j41(0,"td",62)(1,"dx-select-box",95),e.mxI("valueChange",function(n){e.eBV(t);const r=e.XpG(2);return e.DH7(r.line,n)||(r.line=n),e.Njj(n)}),e.k0s()()}if(2&a){const t=e.XpG(2);e.R7$(),e.Y8G("labelMode","floating")("dataSource",t.lines),e.R50("value",t.line),e.Y8G("searchEnabled",!0)}}function dt(a,o){if(1&a&&(e.j41(0,"dxi-column",96),e.nrm(1,"dxi-validation-rule",97)(2,"dxo-lookup",98),e.k0s()),2&a){const t=e.XpG(2);e.Y8G("width",120),e.R7$(2),e.Y8G("allowClearing",!0)("enterKeyHint",!0)("dataSource",t.factories)}}function ct(a,o){if(1&a&&(e.j41(0,"dxi-column",32),e.nrm(1,"dxo-lookup",99),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("allowClearing",!0)("dataSource",t.machines)}}function ut(a,o){if(1&a&&(e.j41(0,"dxi-column",33),e.nrm(1,"dxo-lookup",100),e.k0s()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("allowClearing",!0)("dataSource",t.lines)}}function pt(a,o){1&a&&e.nrm(0,"dxi-column",30)}function mt(a,o){1&a&&e.nrm(0,"dxi-column",31)}function _t(a,o){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"div",58),e.DNE(2,at,14,13,"div",59),e.j41(3,"div",60)(4,"nz-table",61)(5,"tbody")(6,"tr")(7,"td",62)(8,"input",63,2),e.bIt("keydown.enter",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.scanUserCode(n))})("click",function(){e.eBV(t);const n=e.sdS(9);return e.Njj(n.select())}),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.userCode,n)||(r.userCode=n),e.Njj(n)}),e.k0s()(),e.j41(10,"td",62)(11,"dx-select-box",64),e.mxI("valueChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.goodsType,n)||(r.goodsType=n),e.Njj(n)}),e.bIt("onValueChanged",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.changeGoodsType(n))}),e.k0s()(),e.j41(12,"td",62)(13,"dx-select-box",65),e.mxI("valueChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.rackType,n)||(r.rackType=n),e.Njj(n)}),e.bIt("onValueChanged",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.changerackType(n))}),e.k0s()(),e.j41(14,"td",62)(15,"dx-select-box",66),e.mxI("valueChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.transactionType,n)||(r.transactionType=n),e.Njj(n)}),e.bIt("onValueChanged",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.changeTransactionType(n))}),e.k0s()(),e.DNE(16,it,2,2,"td",67)(17,rt,2,2,"td",67),e.k0s(),e.j41(18,"tr"),e.DNE(19,ot,2,4,"td",67)(20,st,2,4,"td",67)(21,lt,2,4,"td",67),e.k0s()()(),e.j41(22,"dx-data-grid",68,3),e.bIt("onSaving",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.saveSparePartRecords(n))}),e.nrm(24,"dxo-editing",69)(25,"dxo-column-chooser",10,1),e.j41(27,"dxo-toolbar")(28,"dxi-item",11)(29,"input",70,4),e.bIt("keydown.enter",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.scanSparePartQrCode(n))})("click",function(){e.eBV(t);const n=e.sdS(30);return e.Njj(n.select())}),e.k0s()(),e.nrm(31,"dxi-item",71),e.k0s(),e.nrm(32,"dxi-column",72),e.j41(33,"dxi-column",73),e.nrm(34,"dxi-validation-rule",74),e.k0s(),e.DNE(35,dt,3,4,"dxi-column",75)(36,ct,2,2,"dxi-column",76)(37,ut,2,2,"dxi-column",77)(38,pt,1,0,"dxi-column",78)(39,mt,1,0,"dxi-column",79),e.nrm(40,"dxi-column",80)(41,"dxi-column",81)(42,"dxi-column",38)(43,"dxo-paging",43)(44,"dxo-pager",44),e.k0s()()(),e.bVm()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("nzGutter",24),e.R7$(),e.Y8G("ngIf","OUTPUT"===t.transactionType&&"M4"===t.goodsType),e.R7$(),e.Y8G("nzXs",24)("nzSm",24)("nzMd","OUTPUT"===t.transactionType&&"M4"==t.goodsType?15:24)("nzLg","OUTPUT"===t.transactionType&&"M4"==t.goodsType?15:24),e.R7$(),e.Y8G("nzData",e.lJ4(50,Z)),e.R7$(4),e.R50("ngModel",t.userCode),e.Y8G("maxlength",7),e.R7$(3),e.Y8G("labelMode","floating")("dataSource",e.l_i(53,Ce,e.lJ4(51,he),e.lJ4(52,ge))),e.R50("value",t.goodsType),e.R7$(2),e.Y8G("labelMode","floating")("dataSource",t.data_rack),e.R50("value",t.rackType),e.Y8G("searchEnabled",!0),e.R7$(2),e.Y8G("labelMode","floating")("dataSource",e.ziG(60,_e,e.lJ4(56,$e),e.lJ4(57,Xe),e.lJ4(58,Ye),e.lJ4(59,He))),e.R50("value",t.transactionType),e.R7$(),e.Y8G("ngIf","INPUT"==t.transactionType),e.R7$(),e.Y8G("ngIf","INPUT"==t.transactionType),e.R7$(2),e.Y8G("ngIf","OUTPUT"==t.transactionType&&"M4"==t.goodsType),e.R7$(),e.Y8G("ngIf","OUTPUT"==t.transactionType&&"M4"==t.goodsType),e.R7$(),e.Y8G("ngIf","OUTPUT"==t.transactionType&&"M4"==t.goodsType),e.R7$(),e.Y8G("showBorders",!0)("dataSource",t.listSparePartScanned)("showColumnLines",!0)("showRowLines",!0)("allowColumnResizing",!0)("columnMinWidth",50)("columnAutoWidth",!0),e.R7$(2),e.Y8G("allowUpdating",!0)("selectTextOnEditStart",!0),e.R7$(),e.Y8G("enabled",!0)("mode","select")("title","C\u1ed9t hi\u1ec3n th\u1ecb"),e.R7$(7),e.Y8G("width",180)("allowEditing",!1),e.R7$(),e.Y8G("width",60),e.R7$(),e.Y8G("min",0),e.R7$(),e.Y8G("ngIf","INPUT"!=t.transactionType&&"M4"!=t.goodsType),e.R7$(),e.Y8G("ngIf","INPUT"!=t.transactionType&&"M4"!=t.goodsType),e.R7$(),e.Y8G("ngIf","INPUT"!=t.transactionType&&"M4"!=t.goodsType),e.R7$(),e.Y8G("ngIf","INPUT"==t.transactionType),e.R7$(),e.Y8G("ngIf","INPUT"==t.transactionType),e.R7$(),e.Y8G("visible",!1),e.R7$(),e.Y8G("visible",!1),e.R7$(2),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(65,fe))}}function ht(a,o){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.cancelSaveOutputSparePart())}),e.EFF(2," H\u1ee7y "),e.k0s()()}}function gt(a,o){if(1&a&&e.nrm(0,"nz-option",107),2&a){const t=o.$implicit;e.Y8G("nzLabel",t.name)("nzValue",t.code)}}function Ct(a,o){if(1&a&&e.nrm(0,"nz-option",107),2&a){const t=o.$implicit;e.Y8G("nzLabel",t.name)("nzValue",t.name)}}function ft(a,o){if(1&a&&e.nrm(0,"nz-option",107),2&a){const t=o.$implicit;e.Y8G("nzLabel",t.vnName)("nzValue",t.id)}}function Rt(a,o){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"nz-table",101)(2,"tbody")(3,"tr")(4,"td")(5,"label"),e.EFF(6,"Part No"),e.k0s()(),e.j41(7,"td")(8,"input",102),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.sparePartRecordEdit.partNumber,n)||(r.sparePartRecordEdit.partNumber=n),e.Njj(n)}),e.k0s()()(),e.j41(9,"tr")(10,"td")(11,"label"),e.EFF(12,"S\u1ed1 l\u01b0\u1ee3ng"),e.k0s()(),e.j41(13,"td")(14,"input",103),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.sparePartRecordEdit.qty,n)||(r.sparePartRecordEdit.qty=n),e.Njj(n)}),e.k0s()()(),e.j41(15,"tr")(16,"td")(17,"label"),e.EFF(18,"Nh\xe0 m\xe1y"),e.k0s()(),e.j41(19,"td")(20,"nz-select",104),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.sparePartRecordEdit.factoryCode,n)||(r.sparePartRecordEdit.factoryCode=n),e.Njj(n)}),e.DNE(21,gt,1,2,"nz-option",105),e.k0s()()(),e.j41(22,"tr")(23,"td")(24,"label"),e.EFF(25,"Line"),e.k0s()(),e.j41(26,"td")(27,"nz-select",106),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.sparePartRecordEdit.line,n)||(r.sparePartRecordEdit.line=n),e.Njj(n)}),e.DNE(28,Ct,1,2,"nz-option",105),e.k0s()()(),e.j41(29,"tr")(30,"td")(31,"label"),e.EFF(32,"M\xe1y"),e.k0s()(),e.j41(33,"td")(34,"nz-select",106),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.sparePartRecordEdit.machineId,n)||(r.sparePartRecordEdit.machineId=n),e.Njj(n)}),e.DNE(35,ft,1,2,"nz-option",105),e.k0s()()(),e.j41(36,"tr")(37,"td")(38,"label"),e.EFF(39,"Ng\u01b0\u1eddi nh\u1eadn"),e.k0s()(),e.j41(40,"td")(41,"input",102),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.sparePartRecordEdit.receiveUserCode,n)||(r.sparePartRecordEdit.receiveUserCode=n),e.Njj(n)}),e.k0s()()(),e.j41(42,"tr")(43,"td")(44,"label"),e.EFF(45,"Ghi ch\xfa"),e.k0s()(),e.j41(46,"td")(47,"input",102),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.sparePartRecordEdit.remark,n)||(r.sparePartRecordEdit.remark=n),e.Njj(n)}),e.k0s()()()()(),e.bVm()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(11,Z)),e.R7$(7),e.R50("ngModel",t.sparePartRecordEdit.partNumber),e.R7$(6),e.R50("ngModel",t.sparePartRecordEdit.qty),e.R7$(6),e.R50("ngModel",t.sparePartRecordEdit.factoryCode),e.R7$(),e.Y8G("ngForOf",t.factories),e.R7$(6),e.R50("ngModel",t.sparePartRecordEdit.line),e.R7$(),e.Y8G("ngForOf",t.lines),e.R7$(6),e.R50("ngModel",t.sparePartRecordEdit.machineId),e.R7$(),e.Y8G("ngForOf",t.machines),e.R7$(6),e.R50("ngModel",t.sparePartRecordEdit.receiveUserCode),e.R7$(6),e.R50("ngModel",t.sparePartRecordEdit.remark)}}function vt(a,o){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"button",108),e.bIt("nzOnConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onDeleteSparePartRecord())}),e.EFF(2," X\xf3a "),e.k0s(),e.j41(3,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isOpenModalEditSparePartRecord=!1)}),e.EFF(4," H\u1ee7y "),e.k0s(),e.j41(5,"button",109),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.onEditSparePartRecord())}),e.EFF(6," L\u01b0u "),e.k0s()()}}function xt(a,o){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"dx-validation-group",null,5)(3,"nz-table",61)(4,"thead")(5,"tr")(6,"th")(7,"dx-text-box",110,6),e.mxI("valueChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.rackChangeInfo.partNumber,n)||(r.rackChangeInfo.partNumber=n),e.Njj(n)}),e.j41(9,"dx-validator"),e.nrm(10,"dxi-validation-rule",111),e.k0s()()(),e.j41(11,"th")(12,"dx-select-box",112),e.mxI("valueChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.rackChangeInfo.fromRack,n)||(r.rackChangeInfo.fromRack=n),e.Njj(n)}),e.j41(13,"dx-validator"),e.nrm(14,"dxi-validation-rule",113),e.k0s()()(),e.j41(15,"th")(16,"dx-select-box",114),e.mxI("valueChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.rackChangeInfo.toRack,n)||(r.rackChangeInfo.toRack=n),e.Njj(n)}),e.j41(17,"dx-validator"),e.nrm(18,"dxi-validation-rule",115),e.k0s()()()()()()(),e.bVm()}if(2&a){const t=e.XpG();e.R7$(3),e.Y8G("nzData",e.lJ4(14,Z)),e.R7$(4),e.Y8G("labelMode","static")("ngStyle",e.lJ4(15,We)),e.R50("value",t.rackChangeInfo.partNumber),e.R7$(5),e.Y8G("labelMode","static")("dataSource",t.data_rack)("searchEnabled",!0)("showClearButton",!0),e.R50("value",t.rackChangeInfo.fromRack),e.R7$(4),e.Y8G("labelMode","static")("dataSource",t.data_rack)("searchEnabled",!0)("showClearButton",!0),e.R50("value",t.rackChangeInfo.toRack)}}function bt(a,o){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"button",17),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isOpenModalChangeRack=!1)}),e.EFF(2," \u0110\xf3ng "),e.k0s(),e.j41(3,"button",116),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.saveChangeRack())}),e.EFF(4," Chuy\u1ec3n rack "),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(3),e.Y8G("nzLoading",t.isLoading)}}let St=(()=>{class a{constructor(t,i,n,r,u,l,R,y){this.toastr=t,this.sparePartSvc=i,this.jwtHelperSvc=n,this.http=r,this.sparePartRequestSvc=u,this.activatedRoute=l,this.router=R,this.cdr=y,this.baseUrl=N.c.baseUrl,this.searchParams={dateRange:[new Date,new Date]},this.isLoading=!1,this.isOpenOutputSparePartModal=!1,this.mapSparePartScanned=new Map,this.listSparePartScanned=new Array,this.insertType="manual",this.uploading=!1,this.fileList=[],this.factories=[{code:"RE",name:"RELAY FACTORY"},{code:"EM",name:"EMC FACTORY"},{code:"PN",name:"PIH ENC FACTORY"},{code:"PR",name:"PIH RE FACTORY"},{code:"SP",name:"SPEAKER"},{code:"TN",name:"HFC FACTORY"},{code:"HO",name:"HEAD OFFICE"},{code:"PC",name:"PCB FACTORY"}],this.isOpenModalEditSparePartRecord=!1,this.sparePartRecordEdit={},this.isOpenModalChangeRack=!1,this.rackChangeInfo={},this.beforeUpload=L=>(this.fileList=this.fileList.concat(L),!1),this.data_rack=[{id:"R1-A-1",name:"R1-A-1"},{id:"R1-A-2",name:"R1-A-2"},{id:"R1-A-3",name:"R1-A-3"},{id:"R1-A-4",name:"R1-A-4"},{id:"R1-B-1",name:"R1-B-1"},{id:"R1-B-2",name:"R1-B-2"},{id:"R1-B-3",name:"R1-B-3"},{id:"R1-B-4",name:"R1-B-4"},{id:"R1-C-1",name:"R1-C-1"},{id:"R1-C-2",name:"R1-C-2"},{id:"R1-C-3",name:"R1-C-3"},{id:"R1-C-4",name:"R1-C-4"},{id:"R1-D-1",name:"R1-D-1"},{id:"R1-D-2",name:"R1-D-2"},{id:"R1-D-3",name:"R1-D-3"},{id:"R2-A-1",name:"R2-A-1"},{id:"R2-A-2",name:"R2-A-2"},{id:"R2-A-3",name:"R2-A-3"},{id:"R2-A-4",name:"R2-A-4"},{id:"R2-B-1",name:"R2-B-1"},{id:"R2-B-2",name:"R2-B-2"},{id:"R2-B-3",name:"R2-B-3"},{id:"R2-B-4",name:"R2-B-4"},{id:"R2-C-1",name:"R2-C-1"},{id:"R2-C-2",name:"R2-C-2"},{id:"R2-C-3",name:"R2-C-3"},{id:"R2-C-4",name:"R2-C-4"},{id:"R3-A-1",name:"R3-A-1"},{id:"R3-A-2",name:"R3-A-2"},{id:"R3-A-3",name:"R3-A-3"},{id:"R3-A-4",name:"R3-A-4"},{id:"R3-B-1",name:"R3-B-1"},{id:"R3-B-2",name:"R3-B-2"},{id:"R3-B-3",name:"R3-B-3"},{id:"R3-B-4",name:"R3-B-4"},{id:"R3-C-1",name:"R3-C-1"},{id:"R3-C-2",name:"R3-C-2"},{id:"R3-C-3",name:"R3-C-3"},{id:"R3-C-4",name:"R3-C-4"},{id:"R3-D-1",name:"R3-D-1"},{id:"R3-D-2",name:"R3-D-2"},{id:"R3-D-3",name:"R3-D-3"},{id:"R3-D-4",name:"R3-D-4"},{id:"R4-A-1",name:"R4-A-1"},{id:"R4-A-2",name:"R4-A-2"},{id:"R4-A-3",name:"R4-A-3"},{id:"R4-B-1",name:"R4-B-1"},{id:"R4-B-2",name:"R4-B-2"},{id:"R4-B-3",name:"R4-B-3"},{id:"R4-C-1",name:"R4-C-1"},{id:"R4-C-2",name:"R4-C-2"},{id:"R4-C-3",name:"R4-C-3"},{id:"R5-A-1",name:"R5-A-1"},{id:"R5-A-2",name:"R5-A-2"},{id:"R5-A-3",name:"R5-A-3"},{id:"R5-A-4",name:"R5-A-4"},{id:"R5-B-1",name:"R5-B-1"},{id:"R5-B-2",name:"R5-B-2"},{id:"R5-B-3",name:"R5-B-3"},{id:"R5-C-1",name:"R5-C-1"},{id:"R5-C-2",name:"R5-C-2"},{id:"R5-C-3",name:"R5-C-3"},{id:"R6-A-1",name:"R6-A-1"},{id:"R6-A-2",name:"R6-A-2"},{id:"R6-A-3",name:"R6-A-3"},{id:"R6-B-1",name:"R6-B-1"},{id:"R6-B-2",name:"R6-B-2"},{id:"R6-B-3",name:"R6-B-3"},{id:"R6-C-1",name:"R6-C-1"},{id:"R6-C-2",name:"R6-C-2"},{id:"R6-C-3",name:"R6-C-3"}]}ngOnInit(){console.log("ngOnInit");let t=new Date((new Date).getFullYear(),(new Date).getMonth(),1);this.searchParams.dateRange=[t,new Date],this.getLineStandard(),this.getMachineStandard(),this.getSparePartRecords(),this.getSparePartRequestMasters(),this.whUserCode=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;const i=this.activatedRoute.snapshot.queryParamMap.get("requestId");i&&(this.isOpenOutputSparePartModal=!0,this.goodsType="M4",this.transactionType="OUTPUT",this.getRequestDetail(i),this.sparePartRequestSvc.getRequests({}).subscribe(n=>{this.request=n.find(r=>r.id===Number(i)),console.log("Request",this.request)}))}ngAfterViewInit(){}getLineStandard(){this.sparePartSvc.getLineStandard().subscribe(t=>{this.lines=t})}getMachineStandard(){this.sparePartSvc.getMachineStandard().subscribe(t=>{this.machines=t})}getSparePartRecords(){this.sparePartSvc.getSparePartRecords(this.searchParams).subscribe(t=>{this.sparePartRecords=t})}openOutputSparePartModal(){this.insertType="manual",this.isOpenOutputSparePartModal=!0,this.uploadResult=null,this.mapSparePartScanned=new Map,this.listSparePartScanned=new Array,setTimeout(()=>{this.userCodeIpt.nativeElement.focus()},500)}onExportClient(t){const i=new je.Workbook,n=i.addWorksheet("Main sheet");(0,Ae.V)({component:t.component,worksheet:n}).then(function(){i.xlsx.writeBuffer().then(function(r){we(new Blob([r],{type:"application/octet-stream"}),"M4M8-History.xlsx")})})}scanUserCode(t){if(this.userCode=t.target.value,this.userCode.length<7)return this.toastr.warning("M\xe3 nh\xe2n vi\xean kh\xf4ng \u0111\xfang","Warning"),void this.userCodeIpt.nativeElement.select();this.sparePartQrCodeIpt.nativeElement.select()}scanSparePartQrCode(t){if(!this.userCode)return this.toastr.warning("C\u1ea7n scan m\xe3 nh\xe2n vi\xean","Warning"),void this.userCodeIpt.nativeElement.select();if(!this.goodsType)return void this.toastr.warning("C\u1ea7n ch\u1ecdn lo\u1ea1i h\xe0ng","Warning");if(!this.transactionType)return void this.toastr.warning("C\u1ea7n ch\u1ecdn lo\u1ea1i giao d\u1ecbch","Warning");if(!this.rackType&&"INPUT"==this.transactionType)return void this.toastr.warning("C\u1ea7n ch\u1ecdn rack h\xe0ng","Warning");if("OUTPUT"===this.transactionType&&"M4"===this.goodsType&&!this.factoryCode)return void this.toastr.warning("C\u1ea7n ch\u1ecdn nh\xe0 m\xe1y","Warning");let i=Object.assign({whUserCode:this.whUserCode,date:new Date,receiveUserCode:this.userCode,partNumber:t.target.value.toUpperCase().trim(),qty:0,line:this.line,machine:this.machine,factoryCode:this.factoryCode,insertType:this.insertType,requestNo:this.request?this.request.requestNo:null,userCode:this.userCode,goodsType:this.goodsType,rackType:this.rackType,type:this.transactionType,po:this.po,supplier:this.supplier});console.log(i),this.listSparePartScanned.push(i),this.listSparePartScanned.reverse(),this.sparePartQrCodeIpt.nativeElement.select()}cancelSaveOutputSparePart(){this.isOpenOutputSparePartModal=!1,this.resetInputForm(),this.router.navigate(["/admin/spare-part/spare-part-in-out"])}resetInputForm(){this.userCode=null,this.po=null,this.supplier=null,this.transactionType=null,this.goodsType=null,this.rackType=null,this.factoryCode=null,this.machine=null,this.line=null,this.request=null}saveSparePartRecords(t){var i=this;return(0,ue.A)(function*(){let n=new Array;yield t.changes.forEach(r=>{n.push(r.key)}),i.sparePartSvc.saveSparePartRecords(n).subscribe(r=>{i.getSparePartRecords(),i.isOpenOutputSparePartModal=!1,i.toastr.success("OK"," L\u01b0u th\xe0nh c\xf4ng"),i.resetInputForm(),i.router.navigate(["/admin/spare-part/spare-part-in-out"])})})()}handleUploadExcel(){const t=new FormData;this.fileList.forEach(n=>{t.append("file",n)}),this.uploading=!0;const i=new M.Kd("POST",this.uploadExcelApi,t,{});this.http.request(i).pipe((0,pe.p)(n=>n instanceof M.cS)).subscribe(n=>{this.uploading=!1,console.log("RESPONSE UPLOAD: ",n),this.fileList=[],this.uploadResult=n.body},()=>{this.uploading=!1})}openModalEditSparePartRecord(t){console.log(t),this.sparePartRecordEdit=t,this.isOpenModalEditSparePartRecord=!0,console.log(this.sparePartRecordEdit)}onEditSparePartRecord(){console.log(this.sparePartRecordEdit);let t={id:this.sparePartRecordEdit.id,partNumber:this.sparePartRecordEdit.partNumber.toUpperCase(),qty:this.sparePartRecordEdit.qty,factoryCode:this.sparePartRecordEdit.factoryCode,line:this.sparePartRecordEdit.line,machine:this.sparePartRecordEdit.machineId,remark:this.sparePartRecordEdit.remark,receiveUserCode:this.sparePartRecordEdit.receiveUserCode.trim()};this.sparePartSvc.updateSparePartRecord(t).subscribe(i=>{this.isOpenModalEditSparePartRecord=!1,this.getSparePartRecords()})}onDeleteSparePartRecord(){this.sparePartSvc.deleteSparePartRecord(this.sparePartRecordEdit.id).subscribe(i=>{this.isOpenModalEditSparePartRecord=!1,this.getSparePartRecords()})}changeGoodsType(t){console.log("changeGoodsType: ",t),this.goodsType=t.value,this.sparePartQrCodeIpt.nativeElement.select()}changerackType(t){console.log("changerackType: ",t),this.rackType=t.value,this.sparePartQrCodeIpt.nativeElement.select()}changeTransactionType(t){console.log("changeTransactionType: ",t),this.transactionType=t.value,this.sparePartQrCodeIpt.nativeElement.select(),this.sparePartRequestDetails=new Array,this.mapSparePartScanned=new Map,this.listSparePartScanned=new Array}getSparePartRequestMasters(){this.sparePartRequestSvc.getRequests({}).subscribe(t=>{this.sparePartRequestMasters=t})}getSparePartRequestDetails(t){const i=t.component.option("selectedItem");this.request=i,console.log("getSparePartRequestDetails",this.request),this.getRequestDetail(i.id)}getRequestDetail(t){this.sparePartRequestSvc.getRequestDetail(t).subscribe(i=>{this.sparePartRequestDetails=i})}openModalChangeRack(){this.rackChangeInfo={},this.isOpenModalChangeRack=!0,setTimeout(()=>{this.partNumberCrIpt.instance.focus()},500)}saveChangeRack(){let t=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;this.rackChangeInfo.username=t,this.rackChangeInfo.partNumber?this.rackChangeInfo.fromRack!==this.rackChangeInfo.toRack?(this.isLoading=!0,console.log(this.rackChangeInfo),this.sparePartSvc.changeRack(this.rackChangeInfo).subscribe(i=>{this.toastr.success("\u0110\xe3 l\u01b0u l\u1ea1i l\u1ecbch s\u1eed chuy\u1ec3n Rack","Notification"),this.isOpenModalChangeRack=!1,this.isLoading=!1})):this.toastr.warning("From Rack v\xe0 To Rack c\u1ea7n kh\xe1c nhau","Warning"):this.toastr.warning("C\u1ea7n scan Part Number","Warning")}onCellPreparedHistory(t){"header"===t.rowType&&(t.cellElement.style.backgroundColor="#000080",t.cellElement.style.color="#ffffff",t.cellElement.style.fontWeight="bold")}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(I.tw),e.rXU(F),e.rXU(B.X7),e.rXU(M.Qq),e.rXU(me),e.rXU(b.nX),e.rXU(b.Ix),e.rXU(e.gRc))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-spare-part-in-out"]],viewQuery:function(i,n){if(1&i&&(e.GBs(Ge,5),e.GBs(Ne,5),e.GBs(f.s,5),e.GBs(Be,5),e.GBs(ie.m,5)),2&i){let r;e.mGM(r=e.lsd())&&(n.userCodeIpt=r.first),e.mGM(r=e.lsd())&&(n.sparePartQrCodeIpt=r.first),e.mGM(r=e.lsd())&&(n.sparePartOutputGrid=r.first),e.mGM(r=e.lsd())&&(n.validatorChangeRack=r.first),e.mGM(r=e.lsd())&&(n.partNumberCrIpt=r.first)}},decls:57,vars:43,consts:[["sparePartRecordGrid",""],["columnChooser",""],["userCodeIpt",""],["sparePartOutputGrid",""],["sparePartQrCodeIpt",""],["validatorChangeRack",""],["partNumberCrIpt",""],["keyExpr","id",3,"onExporting","onCellPrepared","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"visible"],[3,"enabled"],[3,"enabled","mode","title"],["location","before"],["nz-button","","nzType","primary","style","background: #24a835; border: 1px solid #24a835",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","primary","style","background: #ff7b00; border: 1px solid #ff7b00",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","primary","style","background: #999695; border: 1px solid #999695","routerLink","/admin/spare-part/spare-part-requests",4,"nzSpaceItem"],["location","after"],["nzFormat","yyyy-MM-dd","nzMode","date",3,"ngModelChange","ngModel"],["nz-button","","nzType","default",3,"click"],["nz-icon","","nzType","search"],["name","exportButton","location","after"],["name","columnChooserButton","location","after"],["dataField","requestNo","caption","Request No",3,"visible"],["dataField","partNumber","caption","Part Number"],["dataField","galileoName","caption","Galileo Name"],["dataField","qty","caption","Qty","alignment","right"],["dataField","type","caption","Type"],["displayExpr","name","valueExpr","id",3,"dataSource"],["dataField","goodsType","caption","Lo\u1ea1i h\xe0ng"],["dataField","rackType","caption","Rack",3,"visible"],[3,"allowSelectAll"],["dataField","po","caption","PO"],["dataField","supplier","caption","Supplier"],["dataField","machine","caption","M\xe1y"],["dataField","line","caption","Line"],["dataField","whUser","caption","WH User"],["dataField","otherUser","caption","Other User"],["dataField","date","caption","Date","dataType","date","format","yyyy-MM-dd"],["alignment","center","dataField","createdAt","caption","Time","dataType","date","format","HH:mm"],["dataField","remark","caption","Ghi ch\xfa"],["caption","Action","cellTemplate","actionTemplate","fixedPosition","right",3,"fixed"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],["column","qty","summaryType","sum","valueFormat","#,##0"],["column","totalPrice","summaryType","sum","valueFormat","#,##0"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],["nzTitle","Nh\u1eadp xu\u1ea5t h\xe0ng M4/M8","nzWidth","100%",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["nzTitle","Edit Spare Part record",3,"nzVisibleChange","nzVisible"],["nzTitle","Chuy\u1ec3n Rack","nzWidth","50%",3,"nzVisibleChange","nzOnOk","nzOnCancel","nzVisible"],["nz-button","","nzType","primary",2,"background","#24a835","border","1px solid #24a835",3,"click"],["nz-icon","","nzType","logout"],["nz-button","","nzType","primary",2,"background","#ff7b00","border","1px solid #ff7b00",3,"click"],["nz-icon","","nzType","swap","nzTheme","outline"],["nz-button","","nzType","primary","routerLink","/admin/spare-part/spare-part-requests",2,"background","#999695","border","1px solid #999695"],["nz-icon","","nzType","ordered-list","nzTheme","outline"],[2,"text-align","center"],[3,"click"],["nz-row","",3,"nzGutter"],["nz-col","","nzXs","24","nzSm","24","nzMd","9","nzLg","9",4,"ngIf"],["nz-col","",3,"nzXs","nzSm","nzMd","nzLg"],["nzFrontPagination","false","nzBordered","","nzSize","small",3,"nzData"],["width","15%"],["nz-input","","placeholder","User","autocomplete","off",3,"keydown.enter","click","ngModelChange","ngModel","maxlength"],["label","Lo\u1ea1i h\xe0ng","labelLocation","left","showColonAfterLabel","true","displayExpr","name","valueExpr","id",3,"valueChange","onValueChanged","labelMode","dataSource","value"],["label","Rack","labelLocation","left","showColonAfterLabel","true","displayExpr","name","valueExpr","id",3,"valueChange","onValueChanged","labelMode","dataSource","value","searchEnabled"],["label","Giao d\u1ecbch","labelLocation","left","showColonAfterLabel","true","displayExpr","name","valueExpr","id",3,"valueChange","onValueChanged","labelMode","dataSource","value"],["width","15%",4,"ngIf"],[2,"margin-top","-25px",3,"onSaving","showBorders","dataSource","showColumnLines","showRowLines","allowColumnResizing","columnMinWidth","columnAutoWidth"],["mode","batch",3,"allowUpdating","selectTextOnEditStart"],["id","sparePartQrCodeIpt","nz-input","","placeholder","M\xe3 spare part","autocomplete","off",3,"keydown.enter","click"],["name","saveButton","location","after"],["dataField","partNumber","caption","Part",3,"width","allowEditing"],["dataField","qty","caption","Qty",3,"width"],["type","range","message","Qty ph\u1ea3i l\u1edbn h\u01a1n 0",3,"min"],["dataField","factoryCode","caption","Nh\xe0 m\xe1y",3,"width",4,"ngIf"],["dataField","machine","caption","M\xe1y",4,"ngIf"],["dataField","line","caption","Line",4,"ngIf"],["dataField","po","caption","PO",4,"ngIf"],["dataField","supplier","caption","Supplier",4,"ngIf"],["dataField","type","caption","Giao d\u1ecbch",3,"visible"],["dataField","whUserCode","caption","User",3,"visible"],["nz-col","","nzXs","24","nzSm","24","nzMd","9","nzLg","9"],["label","Request Number","labelLocation","left","showColonAfterLabel","true","displayExpr","requestNo","valueExpr","id",3,"labelMode","dataSource","searchEnabled","ngModel","onValueChanged","ngModelChange",4,"ngIf"],["label","Request Number","labelLocation","left","showColonAfterLabel","true","displayExpr","requestNo","valueExpr","id",3,"labelMode","dataSource","searchEnabled","onValueChanged",4,"ngIf"],[2,"color","blue"],["keyExpr","id",2,"margin-top","-25px",3,"showBorders","dataSource","showColumnLines","showRowLines","allowColumnResizing","columnMinWidth","columnAutoWidth"],["dataField","partNumber","caption","Part"],["dataField","requestQty","caption","Req/Kit (Qty)","cellTemplate","qtyTemplate"],["label","Request Number","labelLocation","left","showColonAfterLabel","true","displayExpr","requestNo","valueExpr","id",3,"onValueChanged","ngModelChange","labelMode","dataSource","searchEnabled","ngModel"],["label","Request Number","labelLocation","left","showColonAfterLabel","true","displayExpr","requestNo","valueExpr","id",3,"onValueChanged","labelMode","dataSource","searchEnabled"],["label","PO","labelLocation","left","showColonAfterLabel","true",3,"valueChange","labelMode","value"],["label","Supplier","labelLocation","left","showColonAfterLabel","true",3,"valueChange","labelMode","value"],["label","Nh\xe0 m\xe1y","labelLocation","left","showColonAfterLabel","true","displayExpr","name","valueExpr","code",3,"valueChange","labelMode","dataSource","value","searchEnabled"],["label","Machine","labelLocation","left","showColonAfterLabel","true","displayExpr","vnName","valueExpr","id",3,"valueChange","labelMode","dataSource","value","searchEnabled"],["label","Line","labelLocation","left","showColonAfterLabel","true","displayExpr","name","valueExpr","name",3,"valueChange","labelMode","dataSource","value","searchEnabled"],["dataField","factoryCode","caption","Nh\xe0 m\xe1y",3,"width"],["type","required","message","C\u1ea7n ch\u1ecdn nh\xe0 m\xe1y"],["displayExpr","name","valueExpr","code",3,"allowClearing","enterKeyHint","dataSource"],["displayExpr","vnName","valueExpr","id",3,"allowClearing","dataSource"],["displayExpr","name","valueExpr","name",3,"allowClearing","dataSource"],["nzFrontPagination","false","nzBordered","",3,"nzData"],["nz-input","",3,"ngModelChange","ngModel"],["nz-input","","type","number",3,"ngModelChange","ngModel"],[3,"ngModelChange","ngModel"],[3,"nzLabel","nzValue",4,"ngFor","ngForOf"],["nzShowSearch","",3,"ngModelChange","ngModel"],[3,"nzLabel","nzValue"],["nz-button","","nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n x\xf3a kh\xf4ng ?","nzType","primary","nzDanger","",2,"float","left",3,"nzOnConfirm"],["nz-button","","nzType","primary",3,"click"],["label","Part Number","labelLocation","left","showColonAfterLabel","true","placeholder","Scan Part Number",3,"valueChange","labelMode","ngStyle","value"],["type","required","message","Part Number is required"],["label","From Rack","labelLocation","left","showColonAfterLabel","true","displayExpr","id","valueExpr","id",3,"valueChange","labelMode","dataSource","searchEnabled","showClearButton","value"],["type","required","message","From Rack is required"],["label","To Rack","labelLocation","left","showColonAfterLabel","true","displayExpr","id","valueExpr","id",3,"valueChange","labelMode","dataSource","searchEnabled","showClearButton","value"],["type","required","message","To Rack is required"],["nz-button","","nzType","primary",3,"click","nzLoading"]],template:function(i,n){if(1&i){const r=e.RV6();e.j41(0,"div")(1,"dx-data-grid",7,0),e.bIt("onExporting",function(l){return e.eBV(r),e.Njj(n.onExportClient(l))})("onCellPrepared",function(l){return e.eBV(r),e.Njj(n.onCellPreparedHistory(l))}),e.nrm(3,"dxo-header-filter",8)(4,"dxo-filter-row",8)(5,"dxo-export",9)(6,"dxo-column-chooser",10,1),e.j41(8,"dxo-toolbar")(9,"dxi-item",11)(10,"nz-space"),e.DNE(11,Qe,3,0,"button",12)(12,Ke,3,0,"button",13)(13,Je,3,0,"button",14),e.k0s()(),e.j41(14,"dxi-item",15)(15,"nz-space")(16,"nz-range-picker",16),e.mxI("ngModelChange",function(l){return e.eBV(r),e.DH7(n.searchParams.dateRange,l)||(n.searchParams.dateRange=l),e.Njj(l)}),e.k0s(),e.j41(17,"button",17),e.bIt("click",function(){return e.eBV(r),e.Njj(n.getSparePartRecords())}),e.nrm(18,"span",18),e.k0s()()(),e.nrm(19,"dxi-item",19)(20,"dxi-item",20),e.k0s(),e.nrm(21,"dxi-column",21)(22,"dxi-column",22)(23,"dxi-column",23)(24,"dxi-column",24),e.j41(25,"dxi-column",25),e.nrm(26,"dxo-lookup",26),e.k0s(),e.j41(27,"dxi-column",27),e.nrm(28,"dxo-lookup",26),e.k0s(),e.j41(29,"dxi-column",28)(30,"dxo-header-filter",29),e.nrm(31,"dxo-search",9),e.k0s()(),e.nrm(32,"dxi-column",30)(33,"dxi-column",31)(34,"dxi-column",32)(35,"dxi-column",33)(36,"dxi-column",34)(37,"dxi-column",35)(38,"dxi-column",36)(39,"dxi-column",37)(40,"dxi-column",38)(41,"dxi-column",39),e.DNE(42,Ze,3,0,"div",40),e.j41(43,"dxo-summary"),e.nrm(44,"dxi-total-item",41)(45,"dxi-total-item",42),e.k0s(),e.nrm(46,"dxo-paging",43)(47,"dxo-pager",44),e.k0s()(),e.j41(48,"nz-modal",45),e.mxI("nzVisibleChange",function(l){return e.eBV(r),e.DH7(n.isOpenOutputSparePartModal,l)||(n.isOpenOutputSparePartModal=l),e.Njj(l)}),e.DNE(49,_t,45,66,"ng-container",46)(50,ht,3,0,"div",47),e.k0s(),e.j41(51,"nz-modal",48),e.mxI("nzVisibleChange",function(l){return e.eBV(r),e.DH7(n.isOpenModalEditSparePartRecord,l)||(n.isOpenModalEditSparePartRecord=l),e.Njj(l)}),e.DNE(52,Rt,48,12,"ng-container",46)(53,vt,7,0,"div",47),e.k0s(),e.j41(54,"nz-modal",49),e.mxI("nzVisibleChange",function(l){return e.eBV(r),e.DH7(n.isOpenModalChangeRack,l)||(n.isOpenModalChangeRack=l),e.Njj(l)}),e.bIt("nzOnOk",function(){return e.eBV(r),e.Njj(n.isOpenModalChangeRack=!1)})("nzOnCancel",function(){return e.eBV(r),e.Njj(n.isOpenModalChangeRack=!1)}),e.DNE(55,xt,19,16,"ng-container",46)(56,bt,5,1,"div",47),e.k0s()}2&i&&(e.R7$(),e.Y8G("dataSource",n.sparePartRecords)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(2),e.Y8G("visible",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("enabled",!0)("mode","select")("title","C\u1ed9t hi\u1ec3n th\u1ecb"),e.R7$(10),e.R50("ngModel",n.searchParams.dateRange),e.R7$(5),e.Y8G("visible",!1),e.R7$(5),e.Y8G("dataSource",e.ziG(32,_e,e.lJ4(28,Le),e.lJ4(29,Ve),e.lJ4(30,qe),e.lJ4(31,Ue))),e.R7$(2),e.Y8G("dataSource",e.l_i(39,Ce,e.lJ4(37,he),e.lJ4(38,ge))),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("allowSelectAll",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(10),e.Y8G("fixed",!0),e.R7$(),e.Y8G("dxTemplateOf","actionTemplate"),e.R7$(4),e.Y8G("pageSize",20),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(42,fe)),e.R7$(),e.R50("nzVisible",n.isOpenOutputSparePartModal),e.R7$(3),e.R50("nzVisible",n.isOpenModalEditSparePartRecord),e.R7$(3),e.R50("nzVisible",n.isOpenModalChangeRack))},dependencies:[h.Sq,h.bT,h.B3,P.me,P.Q0,P.BC,P.tU,P.vS,b.Wk,E.Uq,E.e,S.eC,f.s,s.i2Q,s.ZWy,s.nj_,s.gtJ,s.b4U,s.Inh,s.$Xk,s.CVf,s.ZJU,s.FTx,s.sVQ,s.PVd,s.XvM,s.CWS,s.KOr,x.aO,j.c,A.p,T.U5,T.Dq,p.Dn,m.F2,m.Oj,m.A9,C.CP,C.SO,C._4,C.IL,C.aj,C.kt,_.ld,_.WI,g.Sy,J.PV,H.SN,H.vw,ie.m,q.l,Y.E,D._],styles:["nz-table[_ngcontent-%COMP%]   nz-select[_ngcontent-%COMP%], nz-table[_ngcontent-%COMP%]   nz-input-number[_ngcontent-%COMP%]{width:100%}nz-table[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700;color:#2631d0}"]})}return a})();var Pt=c(86372);const Et=()=>[""];function zt(a,o){if(1&a){const t=e.RV6();e.j41(0,"div",19)(1,"a",20),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.redirectDetail(n))}),e.EFF(2,"Chi ti\u1ebft"),e.k0s()()}}function yt(a,o){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"nz-table",21,0)(3,"tbody")(4,"tr")(5,"td")(6,"label"),e.EFF(7,"Phi\u1ebfu ki\u1ec3m k\xea"),e.k0s()(),e.j41(8,"td"),e.EFF(9),e.k0s()(),e.j41(10,"tr")(11,"td")(12,"label"),e.EFF(13,"Ng\u01b0\u1eddi t\u1ea1o"),e.k0s()(),e.j41(14,"td"),e.EFF(15),e.k0s()(),e.j41(16,"tr")(17,"td")(18,"label"),e.EFF(19,"Ng\xe0y ki\u1ec3m k\xea"),e.k0s(),e.j41(20,"span",22),e.EFF(21,"*"),e.k0s()(),e.j41(22,"td")(23,"nz-date-picker",23),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.ivtDate,n)||(r.ivtDate=n),e.Njj(n)}),e.k0s()()(),e.j41(24,"tr")(25,"td")(26,"label"),e.EFF(27,"Ng\xe0y ch\u1ed1t ki\u1ec3m k\xea"),e.k0s(),e.j41(28,"span",22),e.EFF(29,"*"),e.k0s()(),e.j41(30,"td")(31,"nz-date-picker",24),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.ivtCloseDate,n)||(r.ivtCloseDate=n),e.Njj(n)}),e.k0s()()(),e.j41(32,"tr")(33,"td")(34,"label"),e.EFF(35,"Ghi ch\xfa"),e.k0s()(),e.j41(36,"td")(37,"textarea",25),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.remark,n)||(r.remark=n),e.Njj(n)}),e.k0s()()()()(),e.bVm()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(10,Et))("nzSize","small"),e.R7$(8),e.JRh(t.ivtReq),e.R7$(6),e.Lme("",t.jwt.FullName," - ",t.jwt.Username,""),e.R7$(8),e.Y8G("nzDisabledDate",t.disabledDate),e.R50("ngModel",t.ivtDate),e.R7$(8),e.Y8G("nzDisabledDate",t.disabledDate),e.R50("ngModel",t.ivtCloseDate),e.R7$(6),e.R50("ngModel",t.remark)}}function Tt(a,o){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"button",26),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeCreateRequestInventoryModal())}),e.EFF(2," H\u1ee7y "),e.k0s(),e.j41(3,"button",27),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.createInventoryRequest())}),e.EFF(4," T\u1ea1o "),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(3),e.Y8G("nzLoading",t.isLoading)}}let kt=(()=>{class a{constructor(t,i,n,r){this.toastr=t,this.jwtHelperSvc=i,this.sparePartSvc=n,this.router=r,this.disabledDate=u=>(0,Pt.A)(u,new Date)<0,this.userLogin={username:"",fullName:""},this.isOpenCreateRequestInventoryModal=!1,this.isLoading=!1}ngOnInit(){this.jwt=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()),this.getInventoryRequests()}openCreateRequestInventoryModal(){let t=(new Date).toJSON().slice(0,10).replace(/-/g,"");this.ivtReq=`IVT-${t}`,this.isOpenCreateRequestInventoryModal=!0}closeCreateRequestInventoryModal(){this.isOpenCreateRequestInventoryModal=!1,this.remark=null}createInventoryRequest(){this.isLoading=!0,this.sparePartSvc.saveSparePartInventoryRequest({reqNo:this.ivtReq,createdBy:this.jwt.Username,remark:this.remark,inventoryDate:this.ivtDate,inventoryCloseDate:this.ivtCloseDate}).subscribe(i=>{this.getInventoryRequests(),this.isOpenCreateRequestInventoryModal=!1,this.isLoading=!1},i=>{this.isLoading=!1})}getInventoryRequests(){this.sparePartSvc.getSparePartInventoryRequests().subscribe(t=>{this.inventoryRequests=t})}redirectDetail(t){console.log(t.data),this.router.navigate(["admin/spare-part/spare-part-inventory-request",`${t.data.id}`],{queryParams:{reqNo:t.data.reqNo}})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(I.tw),e.rXU(B.X7),e.rXU(F),e.rXU(b.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-spare-part-ivt-req"]],decls:21,vars:11,consts:[["ivtCreateTable",""],["nzTitle","Phi\u1ebfu ki\u1ec3m k\xea"],["keyExpr","id",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],["location","before"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","plus"],[3,"pageSize"],[3,"visible"],["dataField","reqNo","caption","Request No"],["dataField","inventoryDate","dataType","date","caption","Ng\xe0y ki\u1ec3m k\xea","format","yyyy-MM-dd"],["dataField","inventoryCloseDate","dataType","date","caption","Ng\xe0y ch\u1ed1t ki\u1ec3m k\xea","format","yyyy-MM-dd"],["dataField","createdBy","caption","Ng\u01b0\u1eddi t\u1ea1o"],["dataField","remark","caption","Ghi ch\xfa"],["caption","Action","cellTemplate","actionTemplate","alignment","center"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],["nzTitle","T\u1ed3n kho th\u1ef1c t\u1ebf hi\u1ec7n t\u1ea1i"],["nzTitle","T\u1ea1o phi\u1ebfu ki\u1ec3m k\xea",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],[2,"text-align","center"],[2,"color","blue",3,"click"],["id","ivtCreateTable","nzBordered","","nzFrontPagination","false",3,"nzData","nzSize"],[2,"color","red"],["nzPlaceHolder","Ch\u1ecdn ng\xe0y ki\u1ec3m k\xea",2,"width","100%",3,"ngModelChange","nzDisabledDate","ngModel"],["nzPlaceHolder","Ch\u1ecdn ng\xe0y ch\u1ed1t ki\u1ec3m k\xea",2,"width","100%",3,"ngModelChange","nzDisabledDate","ngModel"],["rows","2","nz-input","",3,"ngModelChange","ngModel"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"click","nzLoading"]],template:function(i,n){1&i&&(e.j41(0,"nz-tabset")(1,"nz-tab",1)(2,"dx-data-grid",2)(3,"dxo-toolbar")(4,"dxi-item",3)(5,"button",4),e.bIt("click",function(){return n.openCreateRequestInventoryModal()}),e.nrm(6,"span",5),e.EFF(7," T\u1ea1o phi\u1ebfu ki\u1ec3m k\xea "),e.k0s()()(),e.nrm(8,"dxo-paging",6)(9,"dxo-filter-row",7)(10,"dxi-column",8)(11,"dxi-column",9)(12,"dxi-column",10)(13,"dxi-column",11)(14,"dxi-column",12),e.j41(15,"dxi-column",13),e.DNE(16,zt,3,0,"div",14),e.k0s()()(),e.nrm(17,"nz-tab",15),e.k0s(),e.j41(18,"nz-modal",16),e.mxI("nzVisibleChange",function(u){return e.DH7(n.isOpenCreateRequestInventoryModal,u)||(n.isOpenCreateRequestInventoryModal=u),u}),e.DNE(19,yt,38,11,"ng-container",17)(20,Tt,5,1,"div",18),e.k0s()),2&i&&(e.R7$(2),e.Y8G("dataSource",n.inventoryRequests)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(6),e.Y8G("pageSize",10),e.R7$(),e.Y8G("visible",!0),e.R7$(7),e.Y8G("dxTemplateOf","actionTemplate"),e.R7$(2),e.R50("nzVisible",n.isOpenCreateRequestInventoryModal))},dependencies:[P.me,P.BC,P.vS,S.eC,f.s,s.nj_,s.CVf,s.FTx,s.PVd,s.KOr,x.aO,j.c,A.p,p.Dn,w.JZ,w.rE,m.F2,m.Oj,m.A9,C.CP,C.SO,C.aj,C.kt,g.Sy,H.SN],styles:["#ivtCreateTable[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{font-weight:700}"]})}return a})();var Re=c(82358);const It=["labelIpt"],Mt=["qtyIpt"],Ot=["importQtyIpt"],ve=()=>[""],Dt=()=>[10,25,50,100];function Ft(a,o){if(1&a){const t=e.RV6();e.j41(0,"button",34),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openScanInventoryModal())}),e.nrm(1,"span",35),e.EFF(2," Scan ki\u1ec3m k\xea "),e.k0s()}}function jt(a,o){if(1&a){const t=e.RV6();e.j41(0,"button",36),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openModalUploadExcelInventory())}),e.nrm(1,"span",37),e.EFF(2," Upload d\u1eef li\u1ec7u ki\u1ec3m k\xea "),e.k0s()}}function At(a,o){if(1&a&&(e.j41(0,"tr")(1,"td")(2,"label"),e.EFF(3),e.k0s()(),e.j41(4,"td")(5,"label"),e.EFF(6),e.k0s()(),e.j41(7,"td",48)(8,"a",49),e.EFF(9,"X\xf3a"),e.k0s()()()),2&a){const t=o.$implicit;e.R7$(3),e.JRh(t.partNumber),e.R7$(3),e.JRh(t.qty)}}function wt(a,o){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"nz-table",38)(2,"thead")(3,"tr")(4,"th",39),e.EFF(5,"Part"),e.k0s(),e.j41(6,"th",40)(7,"input",41,2),e.bIt("keydown.enter",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.scanLabel(n))})("click",function(){e.eBV(t);const n=e.sdS(8);return e.Njj(n.select())}),e.k0s()(),e.j41(9,"th",39),e.EFF(10,"Qty"),e.k0s(),e.j41(11,"th",42),e.nrm(12,"input",43,3),e.k0s(),e.j41(14,"th",39)(15,"button",44),e.nrm(16,"span",45),e.EFF(17," Add "),e.k0s()()()()(),e.j41(18,"nz-table",46,4)(20,"thead")(21,"tr")(22,"th"),e.EFF(23,"Part Number"),e.k0s(),e.j41(24,"th"),e.EFF(25,"Qty (T\u1ed3n)"),e.k0s(),e.j41(26,"th"),e.EFF(27,"Action"),e.k0s()()(),e.j41(28,"tbody"),e.DNE(29,At,10,2,"tr",47),e.k0s()(),e.bVm()}if(2&a){const t=e.sdS(19),i=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(3,ve)),e.R7$(17),e.Y8G("nzData",i.listPartsScanned),e.R7$(11),e.Y8G("ngForOf",t.data)}}function Gt(a,o){if(1&a){const t=e.RV6();e.j41(0,"div")(1,"button",50),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeScanInventoryModal())}),e.EFF(2," H\u1ee7y "),e.k0s(),e.j41(3,"button",51),e.EFF(4," L\u01b0u d\u1eef li\u1ec7u "),e.k0s()()}if(2&a){const t=e.XpG();e.R7$(3),e.Y8G("nzLoading",t.isLoadingSaveInventoryData)}}function Nt(a,o){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"nz-upload",52),e.mxI("nzFileListChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.fileList,n)||(r.fileList=n),e.Njj(n)}),e.j41(2,"button",53),e.nrm(3,"span",37),e.EFF(4," Ch\u1ecdn file upload "),e.k0s()(),e.j41(5,"button",54),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.handleUploadExcel())}),e.EFF(6),e.k0s(),e.bVm()}if(2&a){const t=e.XpG();e.R7$(),e.R50("nzFileList",t.fileList),e.Y8G("nzBeforeUpload",t.beforeUpload),e.R7$(4),e.Y8G("nzType","primary")("nzLoading",t.uploading)("disabled",0===t.fileList.length),e.R7$(),e.SpI(" ",t.uploading?"Uploading":"Start Upload"," ")}}function Bt(a,o){1&a&&(e.j41(0,"div")(1,"button",55),e.EFF(2,"\u0110\xf3ng"),e.k0s()())}let Lt=(()=>{class a{constructor(t,i,n,r,u){this.toastr=t,this.activatedRoute=i,this.sparePartSvc=n,this.jwtHelperSvc=r,this.http=u,this.baseUrl=N.c.baseUrl,this.isOpenScanInventoryModal=!1,this.isOpenModalUploadExcelInventory=!1,this.isLoadingSaveInventoryData=!1,this.uploading=!1,this.fileList=[],this.mapPartsScanned=new Map,this.listPartsScanned=new Array,this.beforeUpload=l=>(this.fileList=this.fileList.concat(l),!1)}ngOnInit(){this.requestId=Number(this.activatedRoute.snapshot.params.id),this.requestNo=this.activatedRoute.snapshot.queryParamMap.get("reqNo"),this.getInventoryRequest(this.requestId)}ngAfterViewInit(){this.getInventoryData(this.requestId)}getInventoryRequest(t){this.sparePartSvc.getInventoryRequest(t).subscribe(i=>{this.inventoryRequest=i})}openScanInventoryModal(){let t=this.requestNo.split("-")[1],n=new Date(t.replace(/(\d{4})(\d{2})(\d{2})/,"$1-$2-$3")),r=new Date;const u=Math.abs(n.getTime()-r.getTime());Math.ceil(u/864e5)>5?this.toastr.warning("\u0110\xe3 qu\xe1 th\u1eddi gian ki\u1ec3m k\xea","Warning"):(this.isOpenScanInventoryModal=!0,setTimeout(()=>{this.labelIpt.nativeElement.focus()},500))}closeScanInventoryModal(){this.isOpenScanInventoryModal=!1}getInventoryData(t){let i=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).FullName.split(" ").reverse()[0];this.ivtDataGrid?.instance.beginCustomLoading(`B\u1ea1n ${i} \u01a1i \u0111\u1ee3i t\xfd nh\xe9! \n H\u1ec7 th\u1ed1ng \u0111ang l\u1ea5y d\u1eef li\u1ec7u`),this.sparePartSvc.getInventoryData(t).subscribe(n=>{this.inventoryData=n,this.ivtDataGrid.instance.endCustomLoading()})}scanLabel(t){this.qtyIpt.nativeElement.focus()}openModalUploadExcelInventory(){this.isOpenModalUploadExcelInventory=!0,this.uploadExcelApi=`${this.baseUrl}/SparePart/Inventory/UploadExcel?requestId=${this.requestId}`}handleUploadExcel(){const t=new FormData;this.fileList.forEach(n=>{t.append("file",n)}),this.uploading=!0;const i=new M.Kd("POST",this.uploadExcelApi,t,{});this.http.request(i).pipe((0,pe.p)(n=>n instanceof M.cS)).subscribe(n=>{this.uploading=!1,console.log("RESPONSE UPLOAD: ",n),this.fileList=[],this.uploadResult=n.body},()=>{this.uploading=!1})}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(I.tw),e.rXU(b.nX),e.rXU(F),e.rXU(B.X7),e.rXU(M.Qq))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-spare-part-ivt-req-detail"]],viewQuery:function(i,n){if(1&i&&(e.GBs(f.s,5),e.GBs(It,5),e.GBs(Mt,5),e.GBs(Ot,5)),2&i){let r;e.mGM(r=e.lsd())&&(n.ivtDataGrid=r.first),e.mGM(r=e.lsd())&&(n.labelIpt=r.first),e.mGM(r=e.lsd())&&(n.qtyIpt=r.first),e.mGM(r=e.lsd())&&(n.importQtyIpt=r.first)}},decls:44,vars:23,consts:[["basicTable",""],["ivtDataGrid",""],["labelIpt",""],["qtyIpt",""],["labelTable",""],["nzFrontPagination","false","nzBordered","","nzSize","small",3,"nzData"],[2,"font-weight","bold"],[2,"font-weight","bold","color","green"],[2,"text-align","right"],["nz-button","","nzType","primary",3,"click",4,"nzSpaceItem"],["nz-button","",3,"click",4,"nzSpaceItem"],["keyExpr","id",2,"margin-top","-20px",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"pageSize"],[3,"visible"],[3,"enabled"],["location","before"],[1,"ivt-data",2,"color","blue"],["name","exportButton"],["dataField","partNumber","caption","Part No"],["dataField","galileoName","caption","Galileo Name"],["dataField","position","caption","Position"],["dataField","factoryCode","caption","Factory Code"],["dataField","unit","caption","Unit"],["dataField","qty","caption","Qty","alignment","right"],["dataField","standardPrice","caption","Standard Price"],["dataField","totalPrice","caption","Total Amount"],["dataField","currencyCode","caption","Currency Code"],["dataField","createdAt","caption","Date","dataType","date","format","yyyy-MM-dd HH:mm:ss"],["column","totalPrice","summaryType","sum","valueFormat","#,##0"],[3,"showPageSizeSelector","allowedPageSizes"],["nzTitle","D\u1eef li\u1ec7u scan ki\u1ec3m k\xea","nzWidth","750px",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[4,"nzModalFooter"],["nzTitle","Upload d\u1eef li\u1ec7u ki\u1ec3m k\xea","nzWidth","750px",3,"nzVisibleChange","nzVisible"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","qrcode"],["nz-button","",3,"click"],["nz-icon","","nzType","upload"],["nzFrontPagination","false","nzBordered","","nzSize","small",2,"margin-top","-15px",3,"nzData"],["width","10%"],["width","55%"],["id","labelIpt","nz-input","","placeholder","Part Number","autocomplete","off","autofocus","true",3,"keydown.enter","click"],["width","15%"],["type","number","nz-input","","autocomplete","off","min","0"],["nz-button","","nzType","primary",2,"background","green","border","green"],["nz-icon","","nzType","plus"],["nzSize","small","nzBordered","",2,"margin-top","-20px",3,"nzData"],[4,"ngFor","ngForOf"],["nz-popconfirm","","nzPopconfirmTitle","C\xf3 ch\u1eafc ch\u1eafn x\xf3a kh\xf4ng ?","nzPopconfirmPlacement","top","nzRight","",2,"text-align","center"],[2,"color","red","font-weight","bold"],["nz-button","","nzType","default",3,"click"],["nz-button","","nzType","primary",3,"nzLoading"],[3,"nzFileListChange","nzFileList","nzBeforeUpload"],["nz-button",""],["nz-button","",2,"margin-top","16px",3,"click","nzType","nzLoading","disabled"],["nz-button","","nzType","default"]],template:function(i,n){if(1&i){const r=e.RV6();e.j41(0,"nz-table",5,0)(2,"thead")(3,"tr")(4,"th")(5,"label",6),e.EFF(6,"M\xe3 ki\u1ec3m k\xea:"),e.k0s(),e.j41(7,"label",7),e.EFF(8),e.k0s()(),e.j41(9,"th",8)(10,"nz-space"),e.DNE(11,Ft,3,0,"button",9)(12,jt,3,0,"button",10),e.k0s()()()()(),e.j41(13,"dx-data-grid",11,1),e.nrm(15,"dxo-paging",12)(16,"dxo-filter-row",13)(17,"dxo-export",14),e.j41(18,"dxo-toolbar")(19,"dxi-item",15)(20,"span",16),e.EFF(21),e.nI1(22,"date"),e.k0s()(),e.nrm(23,"dxi-item",17),e.k0s(),e.nrm(24,"dxi-column",18)(25,"dxi-column",19)(26,"dxi-column",20)(27,"dxi-column",21)(28,"dxi-column",22)(29,"dxi-column",23)(30,"dxi-column",24)(31,"dxi-column",25)(32,"dxi-column",26)(33,"dxi-column",27),e.j41(34,"dxo-summary"),e.nrm(35,"dxi-total-item",28),e.k0s(),e.nrm(36,"dxo-paging",12)(37,"dxo-pager",29),e.k0s(),e.j41(38,"nz-modal",30),e.mxI("nzVisibleChange",function(l){return e.eBV(r),e.DH7(n.isOpenScanInventoryModal,l)||(n.isOpenScanInventoryModal=l),e.Njj(l)}),e.DNE(39,wt,30,4,"ng-container",31)(40,Gt,5,1,"div",32),e.k0s(),e.j41(41,"nz-modal",33),e.mxI("nzVisibleChange",function(l){return e.eBV(r),e.DH7(n.isOpenModalUploadExcelInventory,l)||(n.isOpenModalUploadExcelInventory=l),e.Njj(l)}),e.DNE(42,Nt,7,6,"ng-container",31)(43,Bt,3,0,"div",32),e.k0s()}2&i&&(e.Y8G("nzData",e.lJ4(21,ve)),e.R7$(8),e.SpI(" ",n.requestNo," "),e.R7$(5),e.Y8G("dataSource",n.inventoryData)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(2),e.Y8G("pageSize",10),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(4),e.SpI(" D\u1eef li\u1ec7u ki\u1ec3m k\xea : ",e.i5U(22,18,null==n.inventoryRequest?null:n.inventoryRequest.inventoryDate,"MM-yyyy"),""),e.R7$(15),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(22,Dt)),e.R7$(),e.R50("nzVisible",n.isOpenScanInventoryModal),e.R7$(3),e.R50("nzVisible",n.isOpenModalUploadExcelInventory))},dependencies:[h.Sq,f.s,s.nj_,s.CVf,s.ZJU,s.FTx,s.sVQ,s.PVd,s.XvM,s.CWS,s.KOr,x.aO,j.c,A.p,T.U5,T.Dq,p.Dn,m.F2,m.Oj,m.A9,C.CP,C.SO,C._4,C.IL,C.aj,C.kt,C.OL,g.Sy,J.PV,Re.$W,h.vh]})}return a})();var xe=c(9637);const Vt=()=>[10,25,50,100];let qt=(()=>{class a{constructor(t,i,n,r){this.toastr=t,this.sparePartSvc=i,this.jwtHelperSvc=n,this.http=r,this.date=null,this.sparePartData=[]}ngOnInit(){}onChangeMonthChart(t){this.subtitle=`${t.getFullYear()}-${t.getMonth()+1}`,this.sparePartSvc.getSparePartDataChart({date:t}).subscribe(i=>{console.log("RESPONSE: ",i.data1),this.sparePartData=i.data1})}onChangeMonthRecordByPrice(t){this.date?(this.sparePartRecordGrid?.instance.beginCustomLoading("H\u1ec7 th\u1ed1ng \u0111ang t\u1ea3i d\u1eef li\u1ec7u"),this.sparePartSvc.getSparePartRecordsByStandardPrice({date:t}).subscribe(i=>{this.sparePartRecordsByPrice=i,this.sparePartRecordGrid.instance.endCustomLoading()})):this.toastr.warning("Th\u1eddi gian ko \u0111\u01b0\u1ee3c \u0111\u1ec3 tr\u1ed1ng","Warning")}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(I.tw),e.rXU(F),e.rXU(B.X7),e.rXU(M.Qq))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-spare-part-reports"]],viewQuery:function(i,n){if(1&i&&e.GBs(f.s,5),2&i){let r;e.mGM(r=e.lsd())&&(n.sparePartRecordGrid=r.first)}},decls:36,vars:24,consts:[["sparePartRecordGrid",""],["columnChooser",""],[3,"nzSelectedIndex"],["nzTitle","Reports"],["nzMode","month",3,"ngModelChange","ngModel"],["id","chart","palette","soft",3,"dataSource"],["text","Total Amount Spare Part using by Line",3,"subtitle"],["argumentField","line","type","bar","valueField","totalAmount",3,"ignoreEmptyPoints"],["nameField","line"],["text","Total Amount (USD)"],[3,"enabled","shared"],["nzTitle","D\u1eef li\u1ec7u theo gi\xe1"],["keyExpr","id",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"visible"],[3,"enabled"],[3,"enabled","mode","title"],["location","before"],["name","exportButton","location","after"],["name","columnChooserButton","location","after"],["dataField","date","caption","Date","dataType","date","format","yyyy-MM-dd"],["dataField","partNumber","caption","Part Number"],["dataField","galileoName","caption","Galileo Name"],["dataField","type","caption","Type"],["dataField","line","caption","Line"],["dataField","machine","caption","M\xe1y"],["dataField","qty","caption","Qty","alignment","right"],["dataField","standardPrice","caption","Standard Price"],["dataField","unit","caption","Unit"],["dataField","totalPrice","caption","Total Price"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"]],template:function(i,n){if(1&i){const r=e.RV6();e.j41(0,"nz-tabset",2)(1,"nz-tab",3)(2,"nz-date-picker",4),e.mxI("ngModelChange",function(l){return e.eBV(r),e.DH7(n.date,l)||(n.date=l),e.Njj(l)}),e.bIt("ngModelChange",function(l){return e.eBV(r),e.Njj(n.onChangeMonthChart(l))}),e.k0s(),e.j41(3,"dx-chart",5),e.nrm(4,"dxo-title",6)(5,"dxo-common-series-settings",7)(6,"dxo-series-template",8),e.j41(7,"dxi-value-axis"),e.nrm(8,"dxo-title",9),e.k0s(),e.nrm(9,"dxo-tooltip",10),e.k0s(),e.nrm(10,"hr"),e.k0s(),e.j41(11,"nz-tab",11)(12,"dx-data-grid",12,0),e.nrm(14,"dxo-filter-row",13)(15,"dxo-export",14)(16,"dxo-column-chooser",15,1),e.j41(18,"dxo-toolbar")(19,"dxi-item",16)(20,"nz-space")(21,"nz-date-picker",4),e.mxI("ngModelChange",function(l){return e.eBV(r),e.DH7(n.date,l)||(n.date=l),e.Njj(l)}),e.bIt("ngModelChange",function(l){return e.eBV(r),e.Njj(n.onChangeMonthRecordByPrice(l))}),e.k0s()()(),e.nrm(22,"dxi-item",17)(23,"dxi-item",18),e.k0s(),e.nrm(24,"dxi-column",19)(25,"dxi-column",20)(26,"dxi-column",21)(27,"dxi-column",22)(28,"dxi-column",23)(29,"dxi-column",24)(30,"dxi-column",25)(31,"dxi-column",26)(32,"dxi-column",27)(33,"dxi-column",28)(34,"dxo-paging",29)(35,"dxo-pager",30),e.k0s()()()}2&i&&(e.Y8G("nzSelectedIndex",1),e.R7$(2),e.R50("ngModel",n.date),e.R7$(),e.Y8G("dataSource",n.sparePartData),e.R7$(),e.Y8G("subtitle",n.subtitle),e.R7$(),e.Y8G("ignoreEmptyPoints",!0),e.R7$(4),e.Y8G("enabled",!0)("shared",!0),e.R7$(3),e.Y8G("dataSource",n.sparePartRecordsByPrice)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(2),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("enabled",!0)("mode","select")("title","C\u1ed9t hi\u1ec3n th\u1ecb"),e.R7$(5),e.R50("ngModel",n.date),e.R7$(13),e.Y8G("pageSize",20),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(23,Vt)))},dependencies:[P.BC,P.vS,f.s,s.i2Q,s.nj_,s.CVf,s.ZJU,s.FTx,s.sVQ,s.PVd,s.KOr,T.U5,w.JZ,w.rE,H.SN,xe.i,s.tLy,s.qnO,s.mCJ,s.Qx,s.Fbs]})}return a})();var re=c(74696);const be=()=>[5,10,15],Ut=()=>[""],$t=()=>["/admin/spare-part/spare-part-in-out"],Xt=a=>({requestId:a});function Yt(a,o){if(1&a){const t=e.RV6();e.j41(0,"button",30),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.openRequestModal())}),e.nrm(1,"span",31),e.EFF(2," T\u1ea1o phi\u1ebfu request "),e.k0s()}}function Ht(a,o){if(1&a){const t=e.RV6();e.j41(0,"nz-date-picker",32),e.bIt("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.onChangeRequestDate(n))}),e.mxI("ngModelChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.requestDate,n)||(r.requestDate=n),e.Njj(n)}),e.k0s()}if(2&a){const t=e.XpG();e.Y8G("nzSize","large"),e.R50("ngModel",t.requestDate)}}function Wt(a,o){if(1&a&&(e.j41(0,"div",33)(1,"span"),e.EFF(2),e.k0s()()),2&a){const t=o.$implicit;e.R7$(2),e.Lme("",null==t.data.amountAct?0:t.data.amountAct," / ",t.data.amountReq,"")}}function Qt(a,o){if(1&a){const t=e.RV6();e.j41(0,"div",33)(1,"a",34),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.openRequestDetailModal(n))}),e.EFF(2,"Chi ti\u1ebft"),e.k0s()()}}function Kt(a,o){if(1&a){const t=e.RV6();e.j41(0,"div",33)(1,"button",58),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.addToRequest(n))}),e.EFF(2," Add "),e.nrm(3,"span",59),e.k0s()()}}function Jt(a,o){if(1&a){const t=e.RV6();e.j41(0,"div",33)(1,"a",34),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG(2);return e.Njj(r.deleteItemOrderList(n))}),e.EFF(2,"X\xf3a"),e.k0s()()}}function Zt(a,o){if(1&a){const t=e.RV6();e.qex(0),e.j41(1,"div",35)(2,"nz-collapse",36)(3,"nz-collapse-panel",37)(4,"dx-data-grid",38,2),e.nrm(6,"dxo-filter-row",6)(7,"dxi-column",39)(8,"dxi-column",40)(9,"dxi-column",41)(10,"dxi-column",42),e.DNE(11,Kt,4,0,"div",22),e.nrm(12,"dxo-paging",43)(13,"dxo-pager",44),e.k0s()()(),e.j41(14,"div",45),e.nrm(15,"span",46),e.k0s(),e.j41(16,"nz-collapse",47)(17,"nz-collapse-panel",37)(18,"dx-data-grid",48,3),e.bIt("onSaving",function(n){e.eBV(t);const r=e.XpG();return e.Njj(r.onSaving(n))}),e.j41(20,"dxo-toolbar")(21,"dxi-item",9)(22,"dx-select-box",49),e.mxI("valueChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.factorySelected,n)||(r.factorySelected=n),e.Njj(n)}),e.k0s()(),e.j41(23,"dxi-item",9)(24,"dx-select-box",50),e.mxI("valueChange",function(n){e.eBV(t);const r=e.XpG();return e.DH7(r.subsectionSelected,n)||(r.subsectionSelected=n),e.Njj(n)}),e.k0s()(),e.j41(25,"dxi-item",51)(26,"button",30),e.bIt("click",function(){e.eBV(t);const n=e.sdS(19),r=e.XpG();return e.Njj(r.onCreateRequest(n))}),e.EFF(27," T\u1ea1o request "),e.k0s()()(),e.nrm(28,"dxo-editing",52)(29,"dxo-filter-row",6)(30,"dxi-column",53),e.j41(31,"dxi-column",54),e.nrm(32,"dxi-validation-rule",55),e.k0s(),e.nrm(33,"dxi-column",56)(34,"dxi-column",57),e.DNE(35,Jt,3,0,"div",22),e.nrm(36,"dxo-paging",43)(37,"dxo-pager",44),e.k0s()()()(),e.bVm()}if(2&a){const t=e.XpG();e.R7$(),e.Y8G("nzGutter",24),e.R7$(2),e.Y8G("nzHeader","Danh m\u1ee5c")("nzActive",!0),e.R7$(),e.Y8G("dataSource",t.spareParts)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(2),e.Y8G("visible",!0),e.R7$(5),e.Y8G("dxTemplateOf","actionTemplate"),e.R7$(),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(42,be)),e.R7$(4),e.Y8G("nzHeader","Order list")("nzActive",!0),e.R7$(),e.Y8G("dataSource",t.orderListArr)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(4),e.Y8G("labelMode","static")("dataSource",t.factories),e.R50("value",t.factorySelected),e.Y8G("searchEnabled",!0),e.R7$(2),e.Y8G("labelMode","static")("dataSource",t.subsections),e.R50("value",t.subsectionSelected),e.Y8G("searchEnabled",!0),e.R7$(4),e.Y8G("allowUpdating",!0)("selectTextOnEditStart",!0),e.R7$(),e.Y8G("visible",!0),e.R7$(),e.Y8G("allowEditing",!1),e.R7$(2),e.Y8G("min",1),e.R7$(),e.Y8G("allowEditing",!1),e.R7$(2),e.Y8G("dxTemplateOf","deleteItemTemplate"),e.R7$(),e.Y8G("pageSize",10),e.R7$(),e.Y8G("showPageSizeSelector",!0)("allowedPageSizes",e.lJ4(43,be))}}function en(a,o){if(1&a){const t=e.RV6();e.j41(0,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.closeRequestModal())}),e.EFF(1," \u0110\xf3ng "),e.k0s()}}function tn(a,o){if(1&a){const t=e.RV6();e.j41(0,"button",68),e.bIt("click",function(){e.eBV(t);const n=e.XpG(2);return e.Njj(n.downloadRequestDetail(n.sparePartReqSelected))}),e.EFF(1," In phi\u1ebfu request "),e.nrm(2,"span",69),e.k0s()}}function nn(a,o){if(1&a&&(e.j41(0,"button",70)(1,"a",71),e.EFF(2,"Xu\u1ea5t kho"),e.k0s()()),2&a){const t=e.XpG(2);e.R7$(),e.Y8G("routerLink",e.lJ4(2,$t))("queryParams",e.eq3(3,Xt,t.sparePartReqSelected.data.id))}}function an(a,o){if(1&a&&(e.qex(0),e.j41(1,"nz-table",60)(2,"tbody")(3,"tr")(4,"td")(5,"label",61),e.EFF(6,"Nh\xe0 m\xe1y:"),e.k0s(),e.EFF(7),e.k0s(),e.j41(8,"td")(9,"label",61),e.EFF(10,"B\u1ed9 ph\u1eadn:"),e.k0s(),e.EFF(11),e.k0s(),e.j41(12,"td")(13,"label",61),e.EFF(14,"Nh\xe2n vi\xean:"),e.k0s(),e.EFF(15),e.k0s(),e.j41(16,"td")(17,"label",61),e.EFF(18,"Request date:"),e.k0s(),e.EFF(19),e.nI1(20,"date"),e.k0s()()()(),e.j41(21,"dx-data-grid",5,4)(23,"dxo-toolbar")(24,"dxi-item",9)(25,"nz-space"),e.DNE(26,tn,3,0,"button",62)(27,nn,3,5,"button",63),e.k0s()()(),e.nrm(28,"dxi-column",64)(29,"dxi-column",65)(30,"dxi-column",41)(31,"dxi-column",66)(32,"dxi-column",67),e.k0s(),e.bVm()),2&a){const t=e.XpG();e.R7$(),e.Y8G("nzData",e.lJ4(16,Ut)),e.R7$(6),e.SpI(" ",t.sparePartReqSelected.data.factoryName," "),e.R7$(4),e.SpI(" ",t.sparePartReqSelected.data.subsectionName," "),e.R7$(4),e.Lme(" ",t.sparePartReqSelected.data.createdByName," (",t.sparePartReqSelected.data.createdBy,") "),e.R7$(4),e.SpI(" ",e.i5U(20,13,t.sparePartReqSelected.data.date,"YYYY-MM-dd")," "),e.R7$(2),e.Y8G("dataSource",t.sparePartsReqDetail)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0)}}function rn(a,o){if(1&a){const t=e.RV6();e.j41(0,"button",72),e.bIt("nzOnConfirm",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.deleteRequest())}),e.EFF(1," X\xf3a Request "),e.k0s(),e.j41(2,"button",58),e.bIt("click",function(){e.eBV(t);const n=e.XpG();return e.Njj(n.isOpenRequestDetailModal=!1)}),e.EFF(3," \u0110\xf3ng "),e.k0s()}}let on=(()=>{class a{constructor(t,i,n,r){this.toastr=t,this.sparePartSvc=i,this.sparePartRequestSvc=n,this.jwtHelperSvc=r,this.isOpenRequestModal=!1,this.isOpenRequestDetailModal=!1,this.factories=[{code:"RE",name:"RELAY FACTORY"},{code:"EM",name:"EMC FACTORY"},{code:"PN",name:"PIH ENC FACTORY"},{code:"PR",name:"PIH RE FACTORY"},{code:"SP",name:"SPEAKER"},{code:"TN",name:"HFC FACTORY"},{code:"HO",name:"HEAD OFFICE"},{code:"PC",name:"PCB FACTORY"}],this.orderListSet=new Set,this.requestDate=new Date,this.jwt=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString())}ngOnInit(){this.getRequests(),this.getSpareParts(),this.getSubsections()}getRequests(){this.sparePartRequestSvc.getRequests({date:new Date}).subscribe(i=>{this.requests=i})}openRequestModal(){this.isOpenRequestModal=!0}getSpareParts(){this.sparePartSvc.getSpareParts().subscribe(t=>{this.spareParts=t})}getSubsections(){this.sparePartRequestSvc.getSubsections().subscribe(t=>{this.subsections=t})}onSaving(t){var i=this;return(0,ue.A)(function*(){let n=new Array;yield t.changes.forEach(r=>{n.push(r.key)}),0!=n.length?(console.log("onSaving: ",n),i.sparePartRequestSvc.createRequest(n,i.factorySelected,i.subsectionSelected).subscribe(r=>{i.getRequests()}),i.closeRequestModal()):i.toastr.warning("C\u1ea7n ch\u1ecdn part number","Warning")})()}onCreateRequest(t){t.instance.saveEditData()}closeRequestModal(){this.isOpenRequestModal=!1,this.orderListArr=new Array,this.orderListSet=new Set,this.factorySelected=null,this.subsectionSelected=null}openRequestDetailModal(t){this.sparePartReqSelected=t,console.log(this.sparePartReqSelected),this.sparePartRequestSvc.getRequestDetail(t.data.id).subscribe(i=>{this.sparePartsReqDetail=i,this.isOpenRequestDetailModal=!0})}downloadRequestDetail(t){this.sparePartRequestSvc.downloadM4M8Request(t.data.id).subscribe(i=>{const n=new Blob([i],{type:"application/vnd.openxmlformats-officedocument.spreadsheetml.sheet"}),r=window.URL.createObjectURL(n),u=document.createElement("a");u.href=r,u.download="RequestDetail.xlsx",u.dispatchEvent(new MouseEvent("click",{bubbles:!0,cancelable:!0,view:window})),setTimeout(()=>{window.URL.revokeObjectURL(r),u.remove()},100)})}addToRequest(t){if(!this.factorySelected)return void this.toastr.warning("C\u1ea7n ch\u1ecdn khu v\u1ef1c","Warning");if(!this.subsectionSelected)return void this.toastr.warning("C\u1ea7n ch\u1ecdn b\u1ed9 ph\u1eadn","Warning");let i={...t.data,qty:0,factoryCode:this.factorySelected,subsectionId:this.subsectionSelected};this.orderListSet.add(i),this.orderListArr=Array.from(this.orderListSet)}deleteItemOrderList(t){for(let i of this.orderListSet)if(i.partNumber===t.data.partNumber){this.orderListSet.delete(i);break}this.orderListArr=Array.from(this.orderListSet)}onChangeRequestDate(t){console.log("onChangeRequestDate: ",t),this.sparePartRequestSvc.getRequests({date:t}).subscribe(n=>{this.requests=n})}deleteRequest(){let i=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).Username;this.sparePartReqSelected.data.amountAct>0?this.toastr.warning("Kh\xf4ng th\u1ec3 x\xf3a request \u0111\xe3 xu\u1ea5t h\xe0ng !","Warning"):i==this.sparePartReqSelected.data.createdBy?this.sparePartRequestSvc.deleteSparePartRequest(this.sparePartReqSelected.data.id).subscribe(n=>{this.isOpenRequestDetailModal=!1,this.getRequests()},n=>{this.isOpenRequestDetailModal=!1}):this.toastr.warning("Ch\u1ec9 ng\u01b0\u1eddi t\u1ea1o m\u1edbi c\xf3 quy\u1ec1n x\xf3a !","Warning")}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(I.tw),e.rXU(F),e.rXU(me),e.rXU(B.X7))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["app-spare-part-requests"]],viewQuery:function(i,n){if(1&i&&(e.GBs(D._,5),e.GBs(f.s,5)),2&i){let r;e.mGM(r=e.lsd())&&(n.validator=r.first),e.mGM(r=e.lsd())&&(n.orderedGrid=r.first)}},decls:32,vars:18,consts:[["requestListGrid",""],["columnChooser",""],["sparePartGrid",""],["orderedGrid",""],["sparePartsReqDetailGrid",""],["keyExpr","id",3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],[3,"visible"],[3,"enabled"],[3,"enabled","mode","title"],["location","before"],["nz-button","","nzType","primary",3,"click",4,"nzSpaceItem"],["style","height: 33px","nzPlaceHolder","Ng\xe0y request",3,"nzSize","ngModel","ngModelChange",4,"nzSpaceItem"],["name","exportButton","location","after"],["name","columnChooserButton","location","after"],["dataField","requestNo","caption","Request No"],["dataField","date","caption","Ng\xe0y request","dataType","date","format","yyyy-MM-dd"],["dataField","subsectionName","caption","Subsection"],["dataField","factoryCode","caption","Factory Code"],["dataField","factoryName","caption","Factory Name"],["dataField","createdByName","caption","Ng\u01b0\u1eddi t\u1ea1o"],["dataField","createdBy","caption","M\xe3 nh\xe2n vi\xean"],["caption","Tr\u1ea1ng th\xe1i xu\u1ea5t h\xe0ng","cellTemplate","amountTemplate"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],["dataField","status","caption","Status"],["dataField","remark","caption","Ghi ch\xfa"],["caption","Action","cellTemplate","actionTemplate","fixedPosition","right",3,"fixed"],["nzTitle","Ch\u1ecdn m\xe3","nzWidth","100%",3,"nzVisibleChange","nzVisible"],[4,"nzModalContent"],[3,"nzModalFooter"],["nzWidth","100%",3,"nzVisibleChange","nzVisible","nzTitle"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","plus"],["nzPlaceHolder","Ng\xe0y request",2,"height","33px",3,"ngModelChange","nzSize","ngModel"],[2,"text-align","center"],[3,"click"],["nz-row","",3,"nzGutter"],["nz-col","","nzMd","14","nzLg","14","nzAccordion",""],[3,"nzHeader","nzActive"],[3,"dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],["dataField","partNumber","caption","PartNo"],["dataField","name","caption","Name"],["dataField","unit","caption","Unit"],["caption","Action","cellTemplate","actionTemplate"],[3,"pageSize"],[3,"showPageSizeSelector","allowedPageSizes"],["nz-col","","nzMd","1","nzLg","1",2,"display","flex","justify-content","center","align-items","center"],["nz-icon","","nzType","caret-right","nzTheme","outline",2,"font-size","3pc","color","darkslateblue"],["nz-col","","nzMd","9","nzLg","9"],[3,"onSaving","dataSource","showColumnLines","showRowLines","showBorders","allowColumnResizing","columnAutoWidth","rowAlternationEnabled"],["label","Nh\xe0 m\xe1y","labelLocation","left","showColonAfterLabel","true","displayExpr","name","valueExpr","code","placeholder","Nh\xe0 m\xe1y",3,"valueChange","labelMode","dataSource","value","searchEnabled"],["label","B\u1ed9 ph\u1eadn","labelLocation","left","showColonAfterLabel","true","displayExpr","name","valueExpr","id","placeholder","B\u1ed9 ph\u1eadn",3,"valueChange","labelMode","dataSource","value","searchEnabled"],["location","after"],["mode","batch",3,"allowUpdating","selectTextOnEditStart"],["dataField","partNumber","caption","PartNo",3,"allowEditing"],["dataField","qty","caption","Qty","dataType","number"],["type","range","message","Qty ph\u1ea3i l\u1edbn h\u01a1n 0",3,"min"],["dataField","unit","caption","Unit",3,"allowEditing"],["caption","Action","cellTemplate","deleteItemTemplate"],["nz-button","","nzType","default",3,"click"],["nz-icon","","nzType","double-right"],["nzSize","small","nzFrontPagination","false","nzBordered","",3,"nzData"],[2,"font-weight","bold"],["nz-button","","nzType","primary","style","float: left",3,"click",4,"nzSpaceItem"],["nz-button","","nzType","default","style","float: left",4,"nzSpaceItem"],["dataField","partNumber","caption","Part Number"],["dataField","partName","caption","Part Name"],["dataField","requestQty","caption","Request Qty (SL request)"],["dataField","issuedQty","caption","Issued Qty (SL xu\u1ea5t kho)"],["nz-button","","nzType","primary",2,"float","left",3,"click"],["nz-icon","","nzType","printer","nzTheme","outline"],["nz-button","","nzType","default",2,"float","left"],[3,"routerLink","queryParams"],["nz-button","","nzDanger","","nz-popconfirm","","nzPopconfirmTitle","B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn x\xf3a request n\xe0y kh\xf4ng ?","nzPopconfirmPlacement","top",2,"float","left",3,"nzOnConfirm"]],template:function(i,n){if(1&i){const r=e.RV6();e.j41(0,"dx-data-grid",5,0),e.nrm(2,"dxo-filter-row",6)(3,"dxo-export",7)(4,"dxo-column-chooser",8,1),e.j41(6,"dxo-toolbar")(7,"dxi-item",9)(8,"nz-space"),e.DNE(9,Yt,3,0,"button",10)(10,Ht,1,2,"nz-date-picker",11),e.k0s()(),e.nrm(11,"dxi-item",12)(12,"dxi-item",13),e.k0s(),e.nrm(13,"dxi-column",14)(14,"dxi-column",15)(15,"dxi-column",16)(16,"dxi-column",17)(17,"dxi-column",18)(18,"dxi-column",19)(19,"dxi-column",20)(20,"dxi-column",21),e.DNE(21,Wt,3,2,"div",22),e.nrm(22,"dxi-column",23)(23,"dxi-column",24)(24,"dxi-column",25),e.DNE(25,Qt,3,0,"div",22),e.k0s(),e.j41(26,"nz-modal",26),e.mxI("nzVisibleChange",function(l){return e.eBV(r),e.DH7(n.isOpenRequestModal,l)||(n.isOpenRequestModal=l),e.Njj(l)}),e.DNE(27,Zt,38,44,"ng-container",27)(28,en,2,0,"ng-template",28),e.k0s(),e.j41(29,"nz-modal",29),e.mxI("nzVisibleChange",function(l){return e.eBV(r),e.DH7(n.isOpenRequestDetailModal,l)||(n.isOpenRequestDetailModal=l),e.Njj(l)}),e.DNE(30,an,33,17,"ng-container",27)(31,rn,4,0,"ng-template",28),e.k0s()}2&i&&(e.Y8G("dataSource",n.requests)("showColumnLines",!0)("showRowLines",!0)("showBorders",!0)("allowColumnResizing",!0)("columnAutoWidth",!0)("rowAlternationEnabled",!0),e.R7$(2),e.Y8G("visible",!0),e.R7$(),e.Y8G("enabled",!0),e.R7$(),e.Y8G("enabled",!0)("mode","select")("title","C\u1ed9t hi\u1ec3n th\u1ecb"),e.R7$(17),e.Y8G("dxTemplateOf","amountTemplate"),e.R7$(3),e.Y8G("fixed",!0),e.R7$(),e.Y8G("dxTemplateOf","actionTemplate"),e.R7$(),e.R50("nzVisible",n.isOpenRequestModal),e.R7$(3),e.R50("nzVisible",n.isOpenRequestDetailModal),e.Y8G("nzTitle","Request: "+(null==n.sparePartReqSelected||null==n.sparePartReqSelected.data?null:n.sparePartReqSelected.data.requestNo)))},dependencies:[P.BC,P.vS,b.Wk,E.Uq,E.e,S.eC,f.s,s.i2Q,s.nj_,s.Inh,s.$Xk,s.CVf,s.ZJU,s.FTx,s.sVQ,s.PVd,s.KOr,x.aO,j.c,A.p,T.U5,T.Dq,p.Dn,m.F2,m.Oj,m.A9,C.CP,C.SO,C.aj,C.kt,J.PV,H.SN,q.l,re.Vz,re.pc,h.vh]})}return a})();function ln(a,o){if(1&a&&(e.j41(0,"div")(1,"span",24),e.EFF(2),e.k0s()()),2&a){const t=o.$implicit;e.R7$(),e.HbH(t.data.ivt_dif<0?"red-color":t.data.ivt_dif>0?"green-color":"blue-color"),e.R7$(),e.SpI(" ",t.data.ivt_dif," ")}}function cn(a,o){if(1&a){const t=e.RV6();e.j41(0,"div",10)(1,"a",11),e.bIt("click",function(){const n=e.eBV(t).$implicit,r=e.XpG();return e.Njj(r.onViewDetail(n))}),e.EFF(2,"Chi ti\u1ebft"),e.k0s()()}}function pn(a,o){if(1&a&&(e.j41(0,"div",14)(1,"a",15),e.EFF(2),e.k0s()()),2&a){const t=o.$implicit;e.R7$(2),e.JRh(t.data.ivt_no)}}const _n=[{path:"menu",component:Q},{path:"spare-parts",component:Fe,data:{roles:["super_admin","Pur WH 1","Pur WH 2"]}},{path:"spare-part-in-out",component:St,canActivate:[c(75458).K],data:{roles:["super_admin","Pur WH 1","Pur WH 2"]}},{path:"spare-part-inventory-request",component:kt},{path:"spare-part-inventory-request/:id",component:Lt},{path:"spare-part-reports",component:qt},{path:"spare-part-requests",component:on},{path:"spare-part-ivt",component:(()=>{class a{constructor(t,i,n,r,u){this.toastr=t,this.sparePartSvc=i,this.jwtHelperSvc=n,this.router=r,this.modal=u,this.dataSource=[],this.scannedcodeaf="",this.tooljig_no="",this.username="",this.userId=""}ngOnInit(){const t=new Date,i=t.getFullYear(),n=String(t.getMonth()+1).padStart(2,"0"),r=String(t.getDate()).padStart(2,"0"),u=t.getHours(),l=t.getMinutes();t.getSeconds(),this.date_time=`${i}-${n}-${r}`;let y=`${i}${n}${r}${u}${l}`;console.log(this.date_time),this.username=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).Username,this.userId=this.jwtHelperSvc.decodeToken(localStorage.getItem("accessToken")?.toString()).UserId,this.get_tooljig_no(y)}get_tooljig_no(t){this.tooljig_no="TJIVT_"+t}onEnter(t){this.scannedCode=t.target.value,console.log("Enter key pressed. Scanned code:",this.scannedCode);let i=this.dataSource.some(n=>n.name===this.scannedCode);""!=this.scannedCode?i?this.toastr.error("M\xe3 NVL: "+this.scannedCode+" \u0111\xe3 \u0111\u01b0\u1ee3c scan","error"):this.getMaterialIvt(this.scannedCode):this.toastr.warning("B\u1ea1n c\u1ea7n Scan NVL","warning")}getMaterialIvt(t){this.sparePartSvc.getSparePartsivt(this.scannedCode).subscribe(i=>{if(console.log(i),0==i.length)return this.toastr.error(t+"(M\xe3 code kh\xf4ng t\u1ed3n t\u1ea1i!)","error"),void this.resetInput();{const n={...i[0],ID:this.dataSource.length+1,date_time:this.date_time,ivt_no:this.tooljig_no,username:this.username,updated_at:this.date_time};this.dataSource.push(n),this.dataSource=[...this.dataSource],console.log(this.dataSource),this.resetInput()}})}resetInput(){this.scannedCode=""}calculateDifference(t){return t.ivt_dif=t.current-t.tonkho,t.ivt_dif}customCellRender(t,i){const n=i.value;console.log(n),t.innerHTML=`<span style="color: ${n>0?"green":n<0?"red":"black"}">${n}</span>`}getColor(t){return t>0?"green":t<0?"red":"black"}Save_data(){this.sparePartSvc.saveSparePartIvt(this.dataSource).subscribe(t=>{this.toastr.success("L\u01b0u Th\xe0nh C\xf4ng","success"),console.log("Data saved successfully",t)},t=>{console.error("Error saving data",t)}),this.reloadPage()}confirm(){this.dataSource.length>0?this.modal.confirm({nzTitle:"B\u1ea1n c\xf3 mu\u1ed1n l\u01b0u?",nzContent:"B\u1ea1n c\xf3 ch\u1eafc ch\u1eafn mu\u1ed1n l\u01b0u m\u1ee5c n\xe0y?",nzOnOk:()=>{this.Save_data()},nzOnCancel:()=>console.log("H\u1ee7y B\u1ecf!")}):this.toastr.warning("B\u1ea1n C\u1ea7n Scan NVL!","warning")}back_to_ivt(){this.router.navigate(["/admin/spare-part/spare-part-ivt-his"])}reloadPage(){setTimeout(()=>{window.location.reload()},3e3)}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(I.tw),e.rXU(F),e.rXU(B.X7),e.rXU(b.Ix),e.rXU(m.N_))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["spare-part-ivt"]],decls:30,vars:14,consts:[[1,"tooljig_title"],[1,"ivt_home"],[1,"ivt_back",2,"color","#40A9FF","font-size","16px","font-weight","500",3,"click"],[1,"ivt_inventory",2,"font-size","16px","font-weight","500"],[1,"tooljig_input"],["nz-input","","autofocus","","placeholder","Scan Material Code","type","text",1,"toojig_input_code",3,"ngModelChange","keydown.enter","ngModel"],[1,"tooljig_input_no"],[1,"ivt_code_name",2,"color","brown","font-size","15","font-weight","600"],["id","data-grid-demo"],["id","gridContainer","keyExpr","ID",3,"dataSource","showBorders"],[3,"enabled"],["mode","cell",3,"allowUpdating"],["dataField","ID","caption","ID",3,"width","allowEditing"],["dataField","code","caption","Code",3,"allowEditing"],["dataField","name","caption","Name",3,"allowEditing"],["dataField","tondau","caption","T\u1ed3n \u0110\u1ea7u K\u1ef3",3,"allowEditing"],["dataField","tonkho","caption","T\u1ed3n Cu\u1ed1i K\u1ef3",3,"allowEditing"],["dataField","current","caption","Th\u1ef1c T\u1ebf","dataType","number"],["dataField","","caption","Ch\xeanh L\u1ec7ch","dataType","number","cellTemplate","chenhlechTemplate",3,"calculateCellValue"],[4,"dxTemplate","dxTemplateOf"],["dataField","date","dataType","date","caption","Ng\xe0y"],[1,"tooljig_btn_save"],["nz-button","","nzType","primary",3,"click"],["nz-icon","","nzType","save",2,"color","white"],[2,"font-weight","bold"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.EFF(1,"B\u1ea3ng ki\u1ec3m k\xea Kho ToolJig"),e.k0s(),e.j41(2,"div",1)(3,"div",2),e.bIt("click",function(){return n.back_to_ivt()}),e.EFF(4,"Back"),e.k0s(),e.j41(5,"div",3),e.EFF(6,"/Inventory"),e.k0s()(),e.j41(7,"div",4)(8,"input",5),e.mxI("ngModelChange",function(u){return e.DH7(n.scannedCode,u)||(n.scannedCode=u),u}),e.bIt("keydown.enter",function(u){return n.onEnter(u)}),e.k0s(),e.j41(9,"div",6)(10,"div",7),e.EFF(11," Inventory Code: "),e.k0s(),e.EFF(12),e.k0s()(),e.j41(13,"div",8)(14,"dx-data-grid",9),e.nrm(15,"dxo-paging",10)(16,"dxo-editing",11)(17,"dxi-column",12)(18,"dxi-column",13)(19,"dxi-column",14)(20,"dxi-column",15)(21,"dxi-column",16)(22,"dxi-column",17)(23,"dxi-column",18),e.DNE(24,ln,3,3,"div",19),e.nrm(25,"dxi-column",20),e.k0s()(),e.j41(26,"div",21)(27,"button",22),e.bIt("click",function(){return n.confirm()}),e.nrm(28,"span",23),e.EFF(29," Save "),e.k0s()()),2&i&&(e.R7$(8),e.R50("ngModel",n.scannedCode),e.R7$(4),e.SpI(" ",n.tooljig_no," "),e.R7$(2),e.Y8G("dataSource",n.dataSource)("showBorders",!0),e.R7$(),e.Y8G("enabled",!1),e.R7$(),e.Y8G("allowUpdating",!0),e.R7$(),e.Y8G("width",70)("allowEditing",!1),e.R7$(),e.Y8G("allowEditing",!1),e.R7$(),e.Y8G("allowEditing",!1),e.R7$(),e.Y8G("allowEditing",!1),e.R7$(),e.Y8G("allowEditing",!1),e.R7$(2),e.Y8G("calculateCellValue",n.calculateDifference),e.R7$(),e.Y8G("dxTemplateOf","chenhlechTemplate"))},dependencies:[P.me,P.BC,P.vS,S.eC,f.s,s.nj_,s.$Xk,s.PVd,x.aO,j.c,A.p,p.Dn,g.Sy],styles:[".red-color[_ngcontent-%COMP%]{color:red}.green-color[_ngcontent-%COMP%]{color:green}.blue-color[_ngcontent-%COMP%]{color:#00f}.tooljig_title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#4374ff;margin-bottom:10px}.toojig_input_code[_ngcontent-%COMP%]{margin-bottom:10px;width:33%}.tooljig_btn_save[_ngcontent-%COMP%]{padding:10px}.tooljig_input[_ngcontent-%COMP%]{display:flex;justify-content:space-between;width:100%}.tooljig_input_no[_ngcontent-%COMP%]{display:flex;color:#2878d3;font-weight:500}.ivt_home[_ngcontent-%COMP%]{display:flex}.ivt_back[_ngcontent-%COMP%]:hover{cursor:pointer;color:#035493!important}"]});static#n=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},{path:"spare-part-ivt-his",component:(()=>{class a{constructor(t,i,n,r){this.toastr=t,this.sparePartSvc=i,this.jwtHelperSvc=n,this.router=r,this.columns=[{dataField:"ID",width:80},{dataField:"ivt_no"},{dataField:"username"},{dataField:"name"},{dataField:"date_time"},{dataField:"view"}]}ngOnInit(){this.sparePartSvc.getSparePartsivthis().subscribe(t=>{console.log(t),this.data=t})}onViewDetail(t){this.router.navigate(["/admin/spare-part/spare-part-ivt-detail"],{queryParams:{ivt_no:t.data.ivt_no}})}creat_ivt(){this.router.navigate(["/admin/spare-part/spare-part-ivt"])}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(I.tw),e.rXU(F),e.rXU(B.X7),e.rXU(b.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["spare-part-ivt-his"]],decls:11,vars:4,consts:[[1,"ivt_his"],["icon","plus","type","default","text","T\u1ea1o phi\u1ebfu ki\u1ec3m k\xea",1,"ivt_btn",3,"onClick"],["id","gridContainer","keyExpr","ID",3,"dataSource","showBorders","columnAutoWidth"],["dataField","ID","caption","ID"],["dataField","ivt_no","caption","IVT No"],["dataField","username","caption","User_no"],["dataField","name","caption","Name"],["dataField","date_time","caption","ng\xe0y Ki\u1ebfm k\xea"],["caption","View","cellTemplate","actionTemplate","alignment","center","fixedPosition","right"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],[2,"text-align","center"],[2,"color","blue",3,"click"]],template:function(i,n){1&i&&(e.j41(0,"p",0),e.EFF(1,"L\u1ecbch S\u1eed Ki\u1ec3m K\xea"),e.k0s(),e.j41(2,"dx-button",1),e.bIt("onClick",function(){return n.creat_ivt()}),e.k0s(),e.j41(3,"dx-data-grid",2),e.nrm(4,"dxi-column",3)(5,"dxi-column",4)(6,"dxi-column",5)(7,"dxi-column",6)(8,"dxi-column",7),e.j41(9,"dxi-column",8),e.DNE(10,cn,3,0,"div",9),e.k0s()()),2&i&&(e.R7$(3),e.Y8G("dataSource",n.data)("showBorders",!0)("columnAutoWidth",!0),e.R7$(7),e.Y8G("dxTemplateOf","actionTemplate"))},dependencies:[d.e,S.eC,f.s,s.nj_],styles:[".ivt_his[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#4374ff;margin-bottom:10px}.ivt_btn[_ngcontent-%COMP%]{margin-bottom:10px}"]});static#n=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()},{path:"spare-part-ivt-detail",component:(()=>{class a{constructor(t,i,n,r,u){this.toastr=t,this.sparePartSvc=i,this.jwtHelperSvc=n,this.route=r,this.router=u}ngOnInit(){this.route.queryParams.subscribe(t=>{this.ivtNo=t.ivt_no}),this.ivt_detail(this.ivtNo)}ivt_detail(t){console.log(t),this.sparePartSvc.getSparePartsivtDetail(t).subscribe(i=>{this.data=i,console.log("D\u1eef li\u1ec7u tr\u1ea3 v\u1ec1 t\u1eeb API:",i)},i=>{console.error("L\u1ed7i khi g\u1ecdi API:",i)})}back_to_ivthis(){this.router.navigate(["/admin/spare-part/spare-part-ivt-his"])}static#e=this.\u0275fac=function(i){return new(i||a)(e.rXU(I.tw),e.rXU(F),e.rXU(B.X7),e.rXU(b.nX),e.rXU(b.Ix))};static#t=this.\u0275cmp=e.VBU({type:a,selectors:[["spare-part-ivt-detail"]],decls:17,vars:4,consts:[[1,"tooljig_title"],[1,"ivt_home"],[1,"ivt_back",2,"color","#40A9FF","font-size","16px","font-weight","500",3,"click"],[1,"ivt_inventory",2,"font-size","16px","font-weight","500"],["id","gridContainer","keyExpr","id",3,"dataSource","showBorders","columnAutoWidth"],["caption","IVT No","cellTemplate","actionTemplate","alignment","center","fixedPosition","right"],["style","text-align: center",4,"dxTemplate","dxTemplateOf"],["dataField","username","caption","Userid"],["dataField","people_name","caption","UserName"],["dataField","code","caption","Code"],["dataField","name","caption","Name"],["dataField","qty","caption","T\u1ed3n Th\u1ef1c T\u1ebf"],["dataField","ivt_dif","caption","Ch\xeanh L\u1ec7ch"],["dataField","date_time","caption","ng\xe0y Ki\u1ebfm k\xea"],[2,"text-align","center"],[2,"color","blue"]],template:function(i,n){1&i&&(e.j41(0,"div",0),e.EFF(1,"B\u1ea3ng ki\u1ec3m k\xea Kho ToolJig"),e.k0s(),e.j41(2,"div",1)(3,"div",2),e.bIt("click",function(){return n.back_to_ivthis()}),e.EFF(4,"Back"),e.k0s(),e.j41(5,"div",3),e.EFF(6,"/Inventory Detail"),e.k0s()(),e.j41(7,"dx-data-grid",4)(8,"dxi-column",5),e.DNE(9,pn,3,1,"div",6),e.k0s(),e.nrm(10,"dxi-column",7)(11,"dxi-column",8)(12,"dxi-column",9)(13,"dxi-column",10)(14,"dxi-column",11)(15,"dxi-column",12)(16,"dxi-column",13),e.k0s()),2&i&&(e.R7$(7),e.Y8G("dataSource",n.data)("showBorders",!0)("columnAutoWidth",!0),e.R7$(2),e.Y8G("dxTemplateOf","actionTemplate"))},dependencies:[S.eC,f.s,s.nj_],styles:[".tooljig_title[_ngcontent-%COMP%]{font-size:20px;font-weight:600;color:#4374ff;margin-bottom:10px}.ivt_home[_ngcontent-%COMP%]{display:flex}.ivt_back[_ngcontent-%COMP%]:hover{cursor:pointer;color:#035493!important}"]});static#n=this.\u0275prov=e.jDH({token:a,factory:a.\u0275fac,providedIn:"root"})}return a})()}];let hn=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#n=this.\u0275inj=e.G2t({imports:[b.iI.forChild(_n),b.iI]})}return a})();var Se=c(19142),ee=c(43458),gn=c(87951),Cn=c(72463),oe=c(12101),fn=c(76946),Rn=c(64905),se=c(90125),k=c(5042),U=Number;function le(){this.setDomain(arguments[0],arguments[1]).setCodomain(arguments[2],arguments[3]).setInverted(!1)}le.prototype={constructor:le,setDomain:function(a,o){return this._domain1=U(a),this._domain2=U(o),this._domainDelta=this._domain2-this._domain1,this},setCodomain:function(a,o){return this._codomain1=U(a),this._codomain2=U(o),this._codomainDelta=this._codomain2-this._codomain1,this},setInverted(a){this.inverted=a},getDomain:function(){return[this._domain1,this._domain2]},getCodomain:function(){return[this._codomain1,this._codomain2]},getDomainStart:function(){return this._domain1},getDomainEnd:function(){return this._domain2},getCodomainStart:function(){return this._codomain1},getCodomainEnd:function(){return this._codomain2},getDomainRange:function(){return this._domainDelta},getCodomainRange:function(){return this._codomainDelta},translate:function(a){var o=(U(a)-this._domain1)/this._domainDelta;return this.inverted&&(o=1-o),0<=o&&o<=1?this._codomain1+o*this._codomainDelta:NaN},adjust:function(a){var o=(U(a)-this._domain1)/this._domainDelta,t=NaN;return o<0?t=this._domain1:o>1?t=this._domain2:0<=o&&o<=1&&(t=U(a)),t}};var Pe=c(20537),te={name:"center_template_pie_chart",init:k.lQ,dispose:function(){this._centerTemplateGroup.linkOff().dispose()},extenders:{_createHtmlStructure(){var a=(0,ee.a1)(this._themeManager._font);this._centerTemplateGroup=this._renderer.g().attr({class:"dxc-hole-template"}).linkOn(this._renderer.root,"center-template").css(a).linkAppend()},_renderExtraElements(){this._requestChange(["CENTER_TEMPLATE"])}},members:{_renderCenterTemplate(){var a=this.option("centerTemplate"),o=this._centerTemplateGroup.clear();if(a){o.attr({visibility:"hidden"});var t=this._getCenter();this._getTemplate(a).render({model:this,container:o.element,onRendered:()=>{var i=o,n=i.getBBox();i.move(t.x-(n.x+n.width/2),t.y-(n.y+n.height/2)),i.attr({visibility:"visible"})}})}}},customize(a){a.addChange({code:"CENTER_TEMPLATE",handler:function(){this._renderCenterTemplate()},option:"centerTemplate"})}},xn={pieChart:te,gauge:{name:"center_template_gauge",init:k.lQ,dispose:te.dispose,extenders:{_initCore(){this._createCenterTemplateGroup()},_renderContent(){var a=(0,ee.a1)(this._themeManager._font);this._centerTemplateGroup.css(a),this._requestChange(["CENTER_TEMPLATE"])},_updateExtraElements(){this._requestChange(["CENTER_TEMPLATE"])}},members:{_renderCenterTemplate:te.members._renderCenterTemplate,_createCenterTemplateGroup(){this._centerTemplateGroup=this._renderer.g().attr({class:"dxg-hole-template"}).linkOn(this._renderer.root,"center-template").linkAppend()}},customize:te.customize}},{states:$}=Se.A,Ee=Se.A.pieSeriesSpacing,Sn=$.normalMark,Pn=$.hoverMark,En=$.selectedMark,yn=[$.resetItem,$.applyHover,$.applySelected,$.applySelected];function ze(a){return(0,Cn.kf)(a)?a>1?a=1:a<0&&(a=0):a=void 0,a}var ye=function(){function a(i,n){return i.filter(function(r){return r!==n})}var o=[],t={};return{queue:function(i){var u,n=i.getSizeGroup();o=a(o,u=i).concat(u),clearTimeout(t[n]),t[n]=setTimeout(function(){var l,y,L,K;l=n,y=o.filter(V=>V._isVisible()&&V.getSizeGroup()===l),L=Math.min.apply(null,y.map(V=>V.getSizeGroupLayout().radius)),K=y.filter(V=>V.getSizeGroupLayout().radius===L),y.forEach(V=>V.render({force:!0,sizeGroupLayout:K.length?K[0].getSizeGroupLayout():{}}))})},remove:function(i){(o=a(o,i)).length||(t={})}}}(),W=se.c.inherit({_themeSection:"pie",_layoutManagerOptions:function(){return(0,gn.X)(!0,{},this.callBase(),{piePercentage:ze(this._themeManager.getOptions("diameter")),minPiePercentage:ze(this._themeManager.getOptions("minDiameter"))})},_optionChangesMap:{diameter:"REINIT",minDiameter:"REINIT",sizeGroup:"REINIT"},_disposeCore:function(){ye.remove(this),this.callBase()},_groupSeries:function(){var a=this.series;this._groupsData={groups:[{series:a,valueOptions:{valueType:"numeric"}}],argumentOptions:a[0]&&a[0].getOptions()}},getArgumentAxis:function(){return null},_getValueAxis:function(){var a=(new le).setCodomain(360,0);return{getTranslator:function(){return a},setBusinessRange:function(o){a.setDomain(o.min,o.max)}}},_populateBusinessRange:function(){this.series.map(function(a){var o=new fn.Q;return o.addRange(a.getRangeData().val),a.getValueAxis().setBusinessRange(o),o})},_specialProcessSeries:function(){(0,oe.__)(this.series,function(a,o){o.arrangePoints()})},_checkPaneName:function(){return!0},_processSingleSeries:function(a){this.callBase(a),a.arrangePoints()},_handleSeriesDataUpdated:function(){var a=0;this.series.forEach(function(o){a=Math.max(o.getPointsCount(),a)}),this.series.forEach(function(o){o.setMaxPointsCount(a)}),this.callBase()},_getLegendOptions:function(a){var o=this.callBase(a),t=o.legendData;return t.argument=a.argument,t.argumentIndex=a.argumentIndex,t.points=[a],o},_getLegendTargets:function(){var a=this,o={};(a.series||[]).forEach(function(i){i.getPoints().forEach(function(n){var r=n.argument.valueOf(),u=i.getPointsByArg(r).indexOf(n),l=r.valueOf().toString()+u;o[l]=o[l]||[];var R=o[l].push(n);n.index=o[l][R-2]?o[l][R-2].index:Object.keys(o).length-1,n.argumentIndex=u})});var t=[];return(0,oe.__)(o,function(i,n){n.forEach(function(r,u){if(0!==u){var l=t[t.length-1];l.legendData.points.push(r),l.visible||(l.visible=r.isVisible())}else t.push(a._getLegendOptions(r))})}),t},_getLayoutTargets:function(){return[{canvas:this._canvas}]},_getLayoutSeries:function(a,o){var t,i=this._canvas,n=!1;return t=this.layoutManager.applyPieChartSeriesLayout(i,a,!0),a.forEach(function(r){r.correctPosition(t,i),n=r.drawLabelsWOPoints()||n}),n&&(t=this.layoutManager.applyPieChartSeriesLayout(i,a,o.hideLayoutLabels)),a.forEach(function(r){r.hideLabels()}),this._sizeGroupLayout={x:t.centerX,y:t.centerY,radius:t.radiusOuter,drawOptions:o},t},_getLayoutSeriesForEqualPies:function(a,o){var t=this._canvas,i=this.layoutManager.applyEqualPieChartLayout(a,o);return a.forEach(function(n){n.correctPosition(i,t),n.drawLabelsWOPoints()}),this.layoutManager.correctPieLabelRadius(a,i,t),i},_updateSeriesDimensions:function(a){var i,n,r,o=this._getVisibleSeries(),t=o.length,u=a.sizeGroupLayout;t&&(r=u?this._getLayoutSeriesForEqualPies(o,u):this._getLayoutSeries(o,a),n=(r.radiusOuter-r.radiusInner-Ee*(t-1))/t,i=r.radiusInner,this._setGeometry(r),o.forEach(function(l){l.correctRadius({radiusInner:i,radiusOuter:i+n}),i+=n+Ee}))},_renderSeries:function(a,o,t){if(this._calculateSeriesLayout(a,o),!a.sizeGroupLayout&&this.getSizeGroup())return ye.queue(this),void this._clearCanvas();this._renderSeriesElements(a,t)},_getCenter(){return this._center},getInnerRadius(){return this._innerRadius},_getLegendCallBack:function(){var a=this,o=this._legend,t=this._getLegendTargets().map(function(i){return i.legendData});return function(i){t.forEach(function(n){var r=[],u=o.getActionCallback({index:n.id});a.series.forEach(function(l){var R=l.getPointsByKeys(n.argument,n.argumentIndex);r.push.apply(r,R)}),i&&i.argument===n.argument&&i.argumentIndex===n.argumentIndex&&r.push(i),u(function Tn(a){var o=Sn;return a.forEach(t=>{var i,n=null===(i=t.series)||void 0===i?void 0:i.getOptions(),r=t.fullState;"none"===n?.hoverMode&&(r&=~Pn),"none"===n?.selectionMode&&(r&=~En),o|=r}),yn[o]}(r))})}},_locateLabels(a){var t,i,o=0;do{i=this._adjustSeriesLabels("shift"===a),t=this._resolveLabelOverlapping(a)}while((t||i)&&++o<5)},_adjustSeriesLabels:function(a){return this.series.reduce((o,t)=>t.adjustLabels(a)||o,!1)},_applyExtraSettings:k.lQ,_resolveLabelOverlappingShift:function(){var a=this,o="anticlockwise"===a.option("segmentsDirection"),t=a.series.reduce(function(l,R){return(l[R.getOptions().label.position]||l.outside).push(R),l},{inside:[],columns:[],outside:[]}),i=!1;return t.inside.length>0&&(i=r(t.inside.reduce(function(l,R){return R.getVisiblePoints().reduce(function(y,L){return y.left.push(L),y},l)},{left:[],right:[]}),u)||i),i=t.columns.reduce((l,R)=>r(n(R),u)||l,i),t.outside.length>0&&(i=r(t.outside.reduce(function(l,R){return n(R,l)},null),function(l,R){return(0,ee.z1)(l,-R,a._center)})||i),i;function n(l,R){return l.getVisiblePoints().reduce(function(y,L){var K=(0,ee.n0)(L.middleAngle);return(K<=90||K>=270?y.right:y.left).push(L),y},R||{left:[],right:[]})}function r(l,R){var y;return o&&(l.left.reverse(),l.right.reverse()),y=se.q.resolveLabelOverlappingInOneDirection(l.left,a._canvas,!1,!1,R),se.q.resolveLabelOverlappingInOneDirection(l.right,a._canvas,!1,!1,R)||y}function u(l,R){return{x:l.x,y:l.y-R}}},_setGeometry:function(a){var{centerX:o,centerY:t,radiusInner:i}=a;this._center={x:o,y:t},this._innerRadius=i},_disposeSeries(a){this.callBase.apply(this,arguments),this._abstractSeries=null},_legendDataField:"point",_legendItemTextField:"argument",_applyPointMarkersAutoHiding:k.lQ,_renderTrackers:k.lQ,_trackerType:"PieTracker",_createScrollBar:k.lQ,_updateAxesLayout:k.lQ,_applyClipRects:k.lQ,_appendAdditionalSeriesGroups:k.lQ,_prepareToRender:k.lQ,_isLegendInside:k.lQ,_renderAxes:k.lQ,_shrinkAxes:k.lQ,_isRotated:k.lQ,_seriesPopulatedHandlerCore:k.lQ,_reinitAxes:k.lQ,_correctAxes:k.lQ,_getExtraOptions:function(){return{startAngle:this.option("startAngle"),innerRadius:this.option("innerRadius"),segmentsDirection:this.option("segmentsDirection"),type:this.option("type")}},getSizeGroup:function(){return this._themeManager.getOptions("sizeGroup")},getSizeGroupLayout:function(){return this._sizeGroupLayout||{}}});(0,oe.__)(["startAngle","innerRadius","segmentsDirection","type"],function(a,o){W.prototype._optionChangesMap[o]="REFRESH_SERIES_DATA_INIT"}),W.addPlugin(xn.pieChart),W.addPlugin(Pe.N.core),W.addPlugin(Pe.N.pieChart),(0,Rn.A)("dxPieChart",W),c(345);let Mn=(()=>{class a{}return a.\u0275fac=function(t){return new(t||a)},a.\u0275mod=e.$C({type:a}),a.\u0275inj=e.G2t({imports:[[s.uvP,s.YLo,s.DlA,s.A1g,s.r2Z,s.lPC,s.cug,s.tXi,s.XWi,s.REv,s.lWu,s.Af1,s.uE7,s.y7y,s.tML,s.Pxf,s.$jZ,s.iVO,s.uIe,s.F1M,s.Yh3,s.sVF,s.YkV,s.FXg,s.xOT,s.hU2,s.hzo,s.Vku,S.p_,S.xZ],s.uvP,s.YLo,s.DlA,s.A1g,s.r2Z,s.lPC,s.cug,s.tXi,s.XWi,s.REv,s.lWu,s.Af1,s.uE7,s.y7y,s.tML,s.Pxf,s.$jZ,s.iVO,s.uIe,s.F1M,s.Yh3,s.sVF,s.YkV,s.FXg,s.xOT,s.hU2,s.hzo,s.Vku,S.xZ]}),a})();var On=c(62047),Dn=c(33190);let Fn=(()=>{class a{static#e=this.\u0275fac=function(i){return new(i||a)};static#t=this.\u0275mod=e.$C({type:a});static#n=this.\u0275inj=e.G2t({imports:[h.MD,P.YN,hn,E.f3,d.L,f.N,z.t,x.Zw,T.pc,p.Y3,w.hM,m.U6,C.$G,_.DH,g.j,On.GP,J.g9,Dn.Sw,Re.SE,H.LE,v.f,xe.X,Mn,O.t,G.j,ie.Z,q.S,re.GB,f.N,Y.t,D.L]})}return a})()},72898:(de,X,c)=>{c.d(X,{L:()=>D,_:()=>Y});var h=c(54438),d=c(15966),f=c(27380),O=c(31837),q=c(345);let Y=(()=>{class x extends f.PF{constructor(p,z,T,b,e,Q,I,N,M){super(p,z,T,b,N,M),this._watcherHelper=b,this._idh=e,this._createEventEmitters([{subscribe:"disposing",emit:"onDisposing"},{subscribe:"initialized",emit:"onInitialized"},{subscribe:"optionChanged",emit:"onOptionChanged"},{subscribe:"validated",emit:"onValidated"},{emit:"adapterChange"},{emit:"elementAttrChange"},{emit:"heightChange"},{emit:"nameChange"},{emit:"validationGroupChange"},{emit:"validationRulesChange"},{emit:"widthChange"}]),this.parentElement=this.getParentElement(Q),this._idh.setHost(this),I.setHost(this)}get adapter(){return this._getOption("adapter")}set adapter(p){this._setOption("adapter",p)}get elementAttr(){return this._getOption("elementAttr")}set elementAttr(p){this._setOption("elementAttr",p)}get height(){return this._getOption("height")}set height(p){this._setOption("height",p)}get name(){return this._getOption("name")}set name(p){this._setOption("name",p)}get validationGroup(){return this._getOption("validationGroup")}set validationGroup(p){this._setOption("validationGroup",p)}get validationRules(){return this._getOption("validationRules")}set validationRules(p){this._setOption("validationRules",p)}get width(){return this._getOption("width")}set width(p){this._setOption("width",p)}get validationRulesChildren(){return this._getOption("validationRules")}set validationRulesChildren(p){this.setChildren("validationRules",p)}_createInstance(p,z){return new d.A(this.parentElement?this.parentElement:p,z)}getParentElement(p){if(p)return p.getHost().element.nativeElement}ngOnDestroy(){this._destroyWidget()}ngOnChanges(p){super.ngOnChanges(p),this.setupChanges("validationRules",p)}setupChanges(p,z){p in this._optionsToUpdate||this._idh.setup(p,z)}ngDoCheck(){this._idh.doCheck("validationRules"),this._watcherHelper.checkWatchers(),super.ngDoCheck(),super.clearChangedOptions()}_setOption(p,z){let T=this._idh.setupSingle(p,z),b=null!==this._idh.getChanges(p,z);(T||b)&&super._setOption(p,z)}}return x.\u0275fac=function(p){return new(p||x)(h.rXU(h.aKT),h.rXU(h.SKi),h.rXU(f.zF),h.rXU(f.jS),h.rXU(f.$M),h.rXU(f.fH,13),h.rXU(f.fH),h.rXU(q.pJ),h.rXU(h.Agw))},x.\u0275cmp=h.VBU({type:x,selectors:[["dx-validator"]],contentQueries:function(p,z,T){if(1&p&&h.wni(T,O.Inh,4),2&p){let b;h.mGM(b=h.lsd())&&(z.validationRulesChildren=b)}},inputs:{adapter:"adapter",elementAttr:"elementAttr",height:"height",name:"name",validationGroup:"validationGroup",validationRules:"validationRules",width:"width"},outputs:{onDisposing:"onDisposing",onInitialized:"onInitialized",onOptionChanged:"onOptionChanged",onValidated:"onValidated",adapterChange:"adapterChange",elementAttrChange:"elementAttrChange",heightChange:"heightChange",nameChange:"nameChange",validationGroupChange:"validationGroupChange",validationRulesChange:"validationRulesChange",widthChange:"widthChange"},features:[h.Jv_([f.zF,f.jS,f.fH,f.$M]),h.Vt3,h.OA$],decls:0,vars:0,template:function(p,z){},encapsulation:2}),x})(),D=(()=>{class x{}return x.\u0275fac=function(p){return new(p||x)},x.\u0275mod=h.$C({type:x}),x.\u0275inj=h.G2t({imports:[[O.nz1,O.$lK,f.p_,f.xZ],O.nz1,O.$lK,f.xZ]}),x})()},74696:(de,X,c)=>{c.d(X,{GB:()=>w,Vz:()=>A,pc:()=>s});var h=c(15215),d=c(54438),f=c(73586),O=c(7605),q=c(58728),Y=c(40713),D=c(16042),x=c(57806),E=c(21025),p=c(70317),z=c(72544),T=c(28203),b=c(26841);const e=["*"],Q=["collapseHeader"];function I(m,C){if(1&m&&(d.qex(0),d.nrm(1,"span",7),d.bVm()),2&m){const _=C.$implicit,g=d.XpG(2);d.R7$(),d.Y8G("nzType",_||"right")("nzRotate",g.nzActive?90:0)}}function N(m,C){if(1&m&&(d.j41(0,"div"),d.DNE(1,I,2,2,"ng-container",3),d.k0s()),2&m){const _=d.XpG();d.R7$(),d.Y8G("nzStringTemplateOutlet",_.nzExpandedIcon)}}function M(m,C){if(1&m&&(d.qex(0),d.EFF(1),d.bVm()),2&m){const _=d.XpG();d.R7$(),d.JRh(_.nzHeader)}}function F(m,C){if(1&m&&(d.qex(0),d.EFF(1),d.bVm()),2&m){const _=d.XpG(2);d.R7$(),d.JRh(_.nzExtra)}}function P(m,C){if(1&m&&(d.j41(0,"div",4),d.DNE(1,F,2,1,"ng-container",3),d.k0s()),2&m){const _=d.XpG();d.R7$(),d.Y8G("nzStringTemplateOutlet",_.nzExtra)}}const S="collapse";let s=(()=>{class m{constructor(_,g,v,G){this.nzConfigService=_,this.cdr=g,this.directionality=v,this.destroy$=G,this._nzModuleName=S,this.nzAccordion=!1,this.nzBordered=!0,this.nzGhost=!1,this.nzExpandIconPosition="left",this.dir="ltr",this.listOfNzCollapsePanelComponent=[],this.nzConfigService.getConfigChangeEventForComponent(S).pipe((0,O.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.directionality.change?.pipe((0,O.Q)(this.destroy$)).subscribe(_=>{this.dir=_,this.cdr.detectChanges()}),this.dir=this.directionality.value}addPanel(_){this.listOfNzCollapsePanelComponent.push(_)}removePanel(_){this.listOfNzCollapsePanelComponent.splice(this.listOfNzCollapsePanelComponent.indexOf(_),1)}click(_){this.nzAccordion&&!_.nzActive&&this.listOfNzCollapsePanelComponent.filter(g=>g!==_).forEach(g=>{g.nzActive&&(g.nzActive=!1,g.nzActiveChange.emit(g.nzActive),g.markForCheck())}),_.nzActive=!_.nzActive,_.nzActiveChange.emit(_.nzActive)}static#e=this.\u0275fac=function(g){return new(g||m)(d.rXU(D.yx),d.rXU(d.gRc),d.rXU(T.dS,8),d.rXU(E.y4))};static#t=this.\u0275cmp=d.VBU({type:m,selectors:[["nz-collapse"]],hostAttrs:[1,"ant-collapse"],hostVars:10,hostBindings:function(g,v){2&g&&d.AVh("ant-collapse-icon-position-start","left"===v.nzExpandIconPosition)("ant-collapse-icon-position-end","right"===v.nzExpandIconPosition)("ant-collapse-ghost",v.nzGhost)("ant-collapse-borderless",!v.nzBordered)("ant-collapse-rtl","rtl"===v.dir)},inputs:{nzAccordion:"nzAccordion",nzBordered:"nzBordered",nzGhost:"nzGhost",nzExpandIconPosition:"nzExpandIconPosition"},exportAs:["nzCollapse"],standalone:!0,features:[d.Jv_([E.y4]),d.aNF],ngContentSelectors:e,decls:1,vars:0,template:function(g,v){1&g&&(d.NAR(),d.SdG(0))},encapsulation:2,changeDetection:0})}return(0,h.Cg)([(0,D.H4)(),(0,p.H3)()],m.prototype,"nzAccordion",void 0),(0,h.Cg)([(0,D.H4)(),(0,p.H3)()],m.prototype,"nzBordered",void 0),(0,h.Cg)([(0,D.H4)(),(0,p.H3)()],m.prototype,"nzGhost",void 0),m})();const j="collapsePanel";let A=(()=>{class m{markForCheck(){this.cdr.markForCheck()}constructor(_,g,v,G,ne,ae){this.nzConfigService=_,this.ngZone=g,this.cdr=v,this.destroy$=G,this.nzCollapseComponent=ne,this.noAnimation=ae,this._nzModuleName=j,this.nzActive=!1,this.nzDisabled=!1,this.nzShowArrow=!0,this.nzActiveChange=new d.bkB,this.nzConfigService.getConfigChangeEventForComponent(j).pipe((0,O.Q)(this.destroy$)).subscribe(()=>{this.cdr.markForCheck()})}ngOnInit(){this.nzCollapseComponent.addPanel(this),this.ngZone.runOutsideAngular(()=>(0,f.R)(this.collapseHeader.nativeElement,"click").pipe((0,q.p)(()=>!this.nzDisabled),(0,O.Q)(this.destroy$)).subscribe(()=>{this.ngZone.run(()=>{this.nzCollapseComponent.click(this),this.cdr.markForCheck()})}))}ngOnDestroy(){this.nzCollapseComponent.removePanel(this)}static#e=this.\u0275fac=function(g){return new(g||m)(d.rXU(D.yx),d.rXU(d.SKi),d.rXU(d.gRc),d.rXU(E.y4),d.rXU(s,1),d.rXU(b.z,8))};static#t=this.\u0275cmp=d.VBU({type:m,selectors:[["nz-collapse-panel"]],viewQuery:function(g,v){if(1&g&&d.GBs(Q,7),2&g){let G;d.mGM(G=d.lsd())&&(v.collapseHeader=G.first)}},hostAttrs:[1,"ant-collapse-item"],hostVars:6,hostBindings:function(g,v){2&g&&d.AVh("ant-collapse-no-arrow",!v.nzShowArrow)("ant-collapse-item-active",v.nzActive)("ant-collapse-item-disabled",v.nzDisabled)},inputs:{nzActive:"nzActive",nzDisabled:"nzDisabled",nzShowArrow:"nzShowArrow",nzExtra:"nzExtra",nzHeader:"nzHeader",nzExpandedIcon:"nzExpandedIcon"},outputs:{nzActiveChange:"nzActiveChange"},exportAs:["nzCollapsePanel"],standalone:!0,features:[d.Jv_([E.y4]),d.aNF],ngContentSelectors:e,decls:9,vars:8,consts:[["collapseHeader",""],["role","button",1,"ant-collapse-header"],[1,"ant-collapse-header-text"],[4,"nzStringTemplateOutlet"],[1,"ant-collapse-extra"],[1,"ant-collapse-content"],[1,"ant-collapse-content-box"],["nz-icon","",1,"ant-collapse-arrow",3,"nzType","nzRotate"]],template:function(g,v){1&g&&(d.NAR(),d.j41(0,"div",1,0),d.DNE(2,N,2,1,"div"),d.j41(3,"span",2),d.DNE(4,M,2,1,"ng-container",3),d.k0s(),d.DNE(5,P,2,1,"div",4),d.k0s(),d.j41(6,"div",5)(7,"div",6),d.SdG(8),d.k0s()()),2&g&&(d.BMQ("aria-expanded",v.nzActive),d.R7$(2),d.vxM(2,v.nzShowArrow?2:-1),d.R7$(2),d.Y8G("nzStringTemplateOutlet",v.nzHeader),d.R7$(),d.vxM(5,v.nzExtra?5:-1),d.R7$(),d.AVh("ant-collapse-content-active",v.nzActive),d.Y8G("@.disabled",!(null==v.noAnimation||!v.noAnimation.nzNoAnimation))("@collapseMotion",v.nzActive?"expanded":"hidden"))},dependencies:[x.C,x.m,z.Y3,z.Dn],encapsulation:2,data:{animation:[Y.GE]},changeDetection:0})}return(0,h.Cg)([(0,p.H3)()],m.prototype,"nzActive",void 0),(0,h.Cg)([(0,p.H3)()],m.prototype,"nzDisabled",void 0),(0,h.Cg)([(0,D.H4)(),(0,p.H3)()],m.prototype,"nzShowArrow",void 0),m})(),w=(()=>{class m{static#e=this.\u0275fac=function(g){return new(g||m)};static#t=this.\u0275mod=d.$C({type:m});static#n=this.\u0275inj=d.G2t({imports:[A]})}return m})()}}]);