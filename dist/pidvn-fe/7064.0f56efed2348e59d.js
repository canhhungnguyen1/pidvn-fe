"use strict";(self.webpackChunkpidvn_fe=self.webpackChunkpidvn_fe||[]).push([[7064],{67064:(et,$,c)=>{c.d($,{V:()=>x,m:()=>tt});var t=c(54438),l=c(15215),u=c(60177),G=c(45286),C=c(7605),h=c(16042),P=c(57806),_=c(70317),k=c(72544),T=c(28203);const D=n=>({$implicit:n});function E(n,i){if(1&n&&t.nrm(0,"span",4),2&n){const e=t.XpG(3);t.Y8G("nzType",e.icon)}}function M(n,i){if(1&n&&(t.qex(0),t.EFF(1),t.bVm()),2&n){const e=i.$implicit,s=t.XpG(4);t.R7$(),t.SpI(" ",e(s.nzPercent)," ")}}function N(n,i){if(1&n&&t.DNE(0,M,2,1,"ng-container",5),2&n){const e=t.XpG(3);t.Y8G("nzStringTemplateOutlet",e.formatter)("nzStringTemplateOutletContext",t.eq3(2,D,e.nzPercent))}}function I(n,i){if(1&n&&(t.j41(0,"span",3),t.DNE(1,E,1,1,"span",4)(2,N,1,4),t.k0s()),2&n){const e=t.XpG(2);t.R7$(),t.vxM(1,"exception"!==e.status&&"success"!==e.status||e.nzFormat?2:1)}}function O(n,i){if(1&n&&t.DNE(0,I,3,1,"span",3),2&n){const e=t.XpG();t.vxM(0,e.nzShowInfo?0:-1)}}function W(n,i){1&n&&t.nrm(0,"div",7),2&n&&t.Y8G("ngStyle",i.$implicit)}function R(n,i){}function b(n,i){if(1&n&&(t.j41(0,"div",6),t.Z7z(1,W,1,1,"div",7,t.fX1),t.DNE(3,R,0,0,"ng-template",8),t.k0s()),2&n){const e=t.XpG(2),s=t.sdS(1);t.R7$(),t.Dyx(e.steps),t.R7$(2),t.Y8G("ngTemplateOutlet",s)}}function L(n,i){if(1&n&&t.nrm(0,"div",13),2&n){const e=t.XpG(3);t.xc7("width",e.nzSuccessPercent,"%")("border-radius","round"===e.nzStrokeLinecap?"100px":"0")("height",e.strokeWidth,"px")}}function X(n,i){}function Y(n,i){if(1&n&&(t.j41(0,"div",9)(1,"div",10),t.nrm(2,"div",11),t.DNE(3,L,1,6,"div",12),t.k0s()(),t.DNE(4,X,0,0,"ng-template",8)),2&n){const e=t.XpG(2),s=t.sdS(1);t.R7$(2),t.xc7("width",e.nzPercent,"%")("border-radius","round"===e.nzStrokeLinecap?"100px":"0")("background",e.isGradient?null:e.nzStrokeColor)("background-image",e.isGradient?e.lineGradient:null)("height",e.strokeWidth,"px"),t.R7$(),t.vxM(3,e.nzSuccessPercent||0===e.nzSuccessPercent?3:-1),t.R7$(),t.Y8G("ngTemplateOutlet",s)}}function A(n,i){if(1&n&&(t.j41(0,"div"),t.DNE(1,b,4,1,"div",6)(2,Y,5,12),t.k0s()),2&n){const e=t.XpG();t.R7$(),t.vxM(1,e.isSteps?1:2)}}function w(n,i){if(1&n&&(t.qSk(),t.nrm(0,"stop")),2&n){const e=i.$implicit;t.BMQ("offset",e.offset)("stop-color",e.color)}}function B(n,i){if(1&n&&(t.qSk(),t.j41(0,"defs")(1,"linearGradient",17),t.Z7z(2,w,1,2,":svg:stop",null,t.fX1),t.k0s()()),2&n){const e=t.XpG(2);t.R7$(),t.Y8G("id","gradient-"+e.gradientId),t.R7$(),t.Dyx(e.circleGradient)}}function U(n,i){if(1&n&&(t.qSk(),t.nrm(0,"path",16)),2&n){const e=i.$implicit,s=t.XpG(2);t.Y8G("ngStyle",e.strokePathStyle),t.BMQ("d",s.pathString)("stroke-linecap",s.nzStrokeLinecap)("stroke",e.stroke)("stroke-width",s.nzPercent?s.strokeWidth:0)}}function F(n,i){}function j(n,i){if(1&n&&(t.j41(0,"div",10),t.qSk(),t.j41(1,"svg",14),t.DNE(2,B,4,1,":svg:defs"),t.nrm(3,"path",15),t.Z7z(4,U,1,5,":svg:path",16,t.fX1),t.k0s(),t.DNE(6,F,0,0,"ng-template",8),t.k0s()),2&n){const e=t.XpG(),s=t.sdS(1);t.xc7("width",e.nzWidth,"px")("height",e.nzWidth,"px")("font-size",.15*e.nzWidth+6,"px"),t.AVh("ant-progress-circle-gradient",e.isGradient),t.R7$(2),t.vxM(2,e.isGradient?2:-1),t.R7$(),t.Y8G("ngStyle",e.trailPathStyle),t.BMQ("stroke-width",e.strokeWidth)("d",e.pathString),t.R7$(),t.Dyx(e.progressCirclePath),t.R7$(2),t.Y8G("ngTemplateOutlet",s)}}const y=n=>{let i=[];return Object.keys(n).forEach(e=>{const s=n[e],o=function K(n){return+n.replace("%","")}(e);isNaN(o)||i.push({key:o,value:s})}),i=i.sort((e,s)=>e.key-s.key),i};let V=0;const v="progress",Z=new Map([["success","check"],["exception","close"]]),J=new Map([["normal","#108ee9"],["exception","#ff5500"],["success","#87d068"]]),q=n=>`${n}%`;let x=(()=>{class n{get formatter(){return this.nzFormat||q}get status(){return this.nzStatus||this.inferredStatus}get strokeWidth(){return this.nzStrokeWidth||("line"===this.nzType&&"small"!==this.nzSize?8:6)}get isCircleStyle(){return"circle"===this.nzType||"dashboard"===this.nzType}constructor(e,s,o){this.cdr=e,this.nzConfigService=s,this.directionality=o,this._nzModuleName=v,this.nzShowInfo=!0,this.nzWidth=132,this.nzStrokeColor=void 0,this.nzSize="default",this.nzPercent=0,this.nzStrokeWidth=void 0,this.nzGapDegree=void 0,this.nzType="line",this.nzGapPosition="top",this.nzStrokeLinecap="round",this.nzSteps=0,this.steps=[],this.lineGradient=null,this.isGradient=!1,this.isSteps=!1,this.gradientId=V++,this.progressCirclePath=[],this.trailPathStyle=null,this.dir="ltr",this.cachedStatus="normal",this.inferredStatus="normal",this.destroy$=new G.B7}ngOnChanges(e){const{nzSteps:s,nzGapPosition:o,nzStrokeLinecap:a,nzStrokeColor:r,nzGapDegree:d,nzType:z,nzStatus:g,nzPercent:p,nzSuccessPercent:f,nzStrokeWidth:S}=e;g&&(this.cachedStatus=this.nzStatus||this.cachedStatus),(p||f)&&(parseInt(this.nzPercent.toString(),10)>=100?((0,_.n9)(this.nzSuccessPercent)&&this.nzSuccessPercent>=100||void 0===this.nzSuccessPercent)&&(this.inferredStatus="success"):this.inferredStatus=this.cachedStatus),(g||p||f||r)&&this.updateIcon(),r&&this.setStrokeColor(),(o||a||d||z||p||r||r)&&this.getCirclePaths(),(p||s||S)&&(this.isSteps=this.nzSteps>0,this.isSteps&&this.getSteps())}ngOnInit(){this.nzConfigService.getConfigChangeEventForComponent(v).pipe((0,C.Q)(this.destroy$)).subscribe(()=>{this.updateIcon(),this.setStrokeColor(),this.getCirclePaths()}),this.directionality.change?.pipe((0,C.Q)(this.destroy$)).subscribe(e=>{this.dir=e,this.cdr.detectChanges()}),this.dir=this.directionality.value}ngOnDestroy(){this.destroy$.next(),this.destroy$.complete()}updateIcon(){const e=Z.get(this.status);this.icon=e?e+(this.isCircleStyle?"-o":"-circle-fill"):""}getSteps(){const e=Math.floor(this.nzSteps*(this.nzPercent/100)),s="small"===this.nzSize?2:14,o=[];for(let a=0;a<this.nzSteps;a++){let r;a<=e-1&&(r=this.nzStrokeColor),o.push({backgroundColor:`${r}`,width:`${s}px`,height:`${this.strokeWidth}px`})}this.steps=o}getCirclePaths(){if(!this.isCircleStyle)return;const e=(0,_.n9)(this.nzSuccessPercent)?[this.nzSuccessPercent,this.nzPercent]:[this.nzPercent],s=50-this.strokeWidth/2,a=2*Math.PI*s,r=this.nzGapDegree||("circle"===this.nzType?0:75);let d=0,z=-s,g=0,p=-2*s;switch(this.nzGapPosition||("circle"===this.nzType?"top":"bottom")){case"left":d=-s,z=0,g=2*s,p=0;break;case"right":d=s,z=0,g=-2*s,p=0;break;case"bottom":z=s,p=2*s}this.pathString=`M 50,50 m ${d},${z}\n       a ${s},${s} 0 1 1 ${g},${-p}\n       a ${s},${s} 0 1 1 ${-g},${p}`,this.trailPathStyle={strokeDasharray:`${a-r}px ${a}px`,strokeDashoffset:`-${r/2}px`,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s"},this.progressCirclePath=e.map((f,S)=>{const m=2===e.length&&0===S;return{stroke:this.isGradient&&!m?`url(#gradient-${this.gradientId})`:null,strokePathStyle:{stroke:this.isGradient?null:m?J.get("success"):this.nzStrokeColor,transition:"stroke-dashoffset .3s ease 0s, stroke-dasharray .3s ease 0s, stroke .3s, stroke-width .06s ease .3s",strokeDasharray:`${(f||0)/100*(a-r)}px ${a}px`,strokeDashoffset:`-${r/2}px`}}}).reverse()}setStrokeColor(){const e=this.nzStrokeColor,s=this.isGradient=!!e&&"string"!=typeof e;s&&!this.isCircleStyle?this.lineGradient=(n=>{const{from:i="#1890ff",to:e="#1890ff",direction:s="to right",...o}=n;return 0!==Object.keys(o).length?`linear-gradient(${s}, ${y(o).map(({key:r,value:d})=>`${d} ${r}%`).join(", ")})`:`linear-gradient(${s}, ${i}, ${e})`})(e):s&&this.isCircleStyle?this.circleGradient=(n=>y(this.nzStrokeColor).map(({key:i,value:e})=>({offset:`${i}%`,color:e})))():(this.lineGradient=null,this.circleGradient=[])}static#t=this.\u0275fac=function(s){return new(s||n)(t.rXU(t.gRc),t.rXU(h.yx),t.rXU(T.dS,8))};static#e=this.\u0275cmp=t.VBU({type:n,selectors:[["nz-progress"]],inputs:{nzShowInfo:"nzShowInfo",nzWidth:"nzWidth",nzStrokeColor:"nzStrokeColor",nzSize:"nzSize",nzFormat:"nzFormat",nzSuccessPercent:"nzSuccessPercent",nzPercent:"nzPercent",nzStrokeWidth:"nzStrokeWidth",nzGapDegree:"nzGapDegree",nzStatus:"nzStatus",nzType:"nzType",nzGapPosition:"nzGapPosition",nzStrokeLinecap:"nzStrokeLinecap",nzSteps:"nzSteps"},exportAs:["nzProgress"],standalone:!0,features:[t.OA$,t.aNF],decls:5,vars:17,consts:[["progressInfoTemplate",""],[3,"ngClass"],[1,"ant-progress-inner",3,"width","height","fontSize","ant-progress-circle-gradient"],[1,"ant-progress-text"],["nz-icon","",3,"nzType"],[4,"nzStringTemplateOutlet","nzStringTemplateOutletContext"],[1,"ant-progress-steps-outer"],[1,"ant-progress-steps-item",3,"ngStyle"],[3,"ngTemplateOutlet"],[1,"ant-progress-outer"],[1,"ant-progress-inner"],[1,"ant-progress-bg"],[1,"ant-progress-success-bg",3,"width","border-radius","height"],[1,"ant-progress-success-bg"],["viewBox","0 0 100 100",1,"ant-progress-circle"],["stroke","#f3f3f3","fill-opacity","0",1,"ant-progress-circle-trail",3,"ngStyle"],["fill-opacity","0",1,"ant-progress-circle-path",3,"ngStyle"],["x1","100%","y1","0%","x2","0%","y2","0%",3,"id"]],template:function(s,o){1&s&&(t.DNE(0,O,1,1,"ng-template",null,0,t.C5r),t.j41(2,"div",1),t.DNE(3,A,3,1,"div")(4,j,7,13,"div",2),t.k0s()),2&s&&(t.R7$(2),t.AVh("ant-progress-line","line"===o.nzType)("ant-progress-small","small"===o.nzSize)("ant-progress-default","default"===o.nzSize)("ant-progress-show-info",o.nzShowInfo)("ant-progress-circle",o.isCircleStyle)("ant-progress-steps",o.isSteps)("ant-progress-rtl","rtl"===o.dir),t.Y8G("ngClass","ant-progress ant-progress-status-"+o.status),t.R7$(),t.vxM(3,"line"===o.nzType?3:-1),t.R7$(),t.vxM(4,o.isCircleStyle?4:-1))},dependencies:[k.Y3,k.Dn,P.C,P.m,u.YU,u.T3,u.B3],encapsulation:2,changeDetection:0})}return(0,l.Cg)([(0,h.H4)()],n.prototype,"nzShowInfo",void 0),(0,l.Cg)([(0,h.H4)()],n.prototype,"nzStrokeColor",void 0),(0,l.Cg)([(0,h.H4)()],n.prototype,"nzSize",void 0),(0,l.Cg)([(0,_.YI)()],n.prototype,"nzSuccessPercent",void 0),(0,l.Cg)([(0,_.YI)()],n.prototype,"nzPercent",void 0),(0,l.Cg)([(0,h.H4)(),(0,_.YI)()],n.prototype,"nzStrokeWidth",void 0),(0,l.Cg)([(0,h.H4)(),(0,_.YI)()],n.prototype,"nzGapDegree",void 0),(0,l.Cg)([(0,h.H4)()],n.prototype,"nzGapPosition",void 0),(0,l.Cg)([(0,h.H4)()],n.prototype,"nzStrokeLinecap",void 0),(0,l.Cg)([(0,_.YI)()],n.prototype,"nzSteps",void 0),n})(),tt=(()=>{class n{static#t=this.\u0275fac=function(s){return new(s||n)};static#e=this.\u0275mod=t.$C({type:n});static#n=this.\u0275inj=t.G2t({imports:[x]})}return n})()}}]);